function FB(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function HE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var WB={exports:{}},Iv={},_B={exports:{}},Bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up=Symbol.for("react.element"),E9=Symbol.for("react.portal"),M9=Symbol.for("react.fragment"),$9=Symbol.for("react.strict_mode"),k9=Symbol.for("react.profiler"),O9=Symbol.for("react.provider"),A9=Symbol.for("react.context"),R9=Symbol.for("react.forward_ref"),D9=Symbol.for("react.suspense"),T9=Symbol.for("react.memo"),P9=Symbol.for("react.lazy"),_k=Symbol.iterator;function I9(n){return n===null||typeof n!="object"?null:(n=_k&&n[_k]||n["@@iterator"],typeof n=="function"?n:null)}var jB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KB=Object.assign,qB={};function uh(n,e,t){this.props=n,this.context=e,this.refs=qB,this.updater=t||jB}uh.prototype.isReactComponent={};uh.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};uh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function GB(){}GB.prototype=uh.prototype;function zE(n,e,t){this.props=n,this.context=e,this.refs=qB,this.updater=t||jB}var VE=zE.prototype=new GB;VE.constructor=zE;KB(VE,uh.prototype);VE.isPureReactComponent=!0;var jk=Array.isArray,UB=Object.prototype.hasOwnProperty,FE={current:null},XB={key:!0,ref:!0,__self:!0,__source:!0};function YB(n,e,t){var i,r={},o=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)UB.call(e,i)&&!XB.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:up,type:n,key:o,ref:s,props:r,_owner:FE.current}}function N9(n,e){return{$$typeof:up,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function WE(n){return typeof n=="object"&&n!==null&&n.$$typeof===up}function B9(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Kk=/\/+/g;function cb(n,e){return typeof n=="object"&&n!==null&&n.key!=null?B9(""+n.key):e.toString(36)}function Zg(n,e,t,i,r){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case up:case E9:s=!0}}if(s)return s=n,r=r(s),n=i===""?"."+cb(s,0):i,jk(r)?(t="",n!=null&&(t=n.replace(Kk,"$&/")+"/"),Zg(r,e,t,"",function(c){return c})):r!=null&&(WE(r)&&(r=N9(r,t+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(Kk,"$&/")+"/")+n)),e.push(r)),1;if(s=0,i=i===""?".":i+":",jk(n))for(var l=0;l<n.length;l++){o=n[l];var a=i+cb(o,l);s+=Zg(o,e,t,a,r)}else if(a=I9(n),typeof a=="function")for(n=a.call(n),l=0;!(o=n.next()).done;)o=o.value,a=i+cb(o,l++),s+=Zg(o,e,t,a,r);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Vp(n,e,t){if(n==null)return n;var i=[],r=0;return Zg(n,i,"","",function(o){return e.call(t,o,r++)}),i}function L9(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Sr={current:null},em={transition:null},H9={ReactCurrentDispatcher:Sr,ReactCurrentBatchConfig:em,ReactCurrentOwner:FE};function QB(){throw Error("act(...) is not supported in production builds of React.")}Bt.Children={map:Vp,forEach:function(n,e,t){Vp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Vp(n,function(){e++}),e},toArray:function(n){return Vp(n,function(e){return e})||[]},only:function(n){if(!WE(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Bt.Component=uh;Bt.Fragment=M9;Bt.Profiler=k9;Bt.PureComponent=zE;Bt.StrictMode=$9;Bt.Suspense=D9;Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H9;Bt.act=QB;Bt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=KB({},n.props),r=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=FE.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(a in e)UB.call(e,a)&&!XB.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:up,type:n.type,key:r,ref:o,props:i,_owner:s}};Bt.createContext=function(n){return n={$$typeof:A9,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:O9,_context:n},n.Consumer=n};Bt.createElement=YB;Bt.createFactory=function(n){var e=YB.bind(null,n);return e.type=n,e};Bt.createRef=function(){return{current:null}};Bt.forwardRef=function(n){return{$$typeof:R9,render:n}};Bt.isValidElement=WE;Bt.lazy=function(n){return{$$typeof:P9,_payload:{_status:-1,_result:n},_init:L9}};Bt.memo=function(n,e){return{$$typeof:T9,type:n,compare:e===void 0?null:e}};Bt.startTransition=function(n){var e=em.transition;em.transition={};try{n()}finally{em.transition=e}};Bt.unstable_act=QB;Bt.useCallback=function(n,e){return Sr.current.useCallback(n,e)};Bt.useContext=function(n){return Sr.current.useContext(n)};Bt.useDebugValue=function(){};Bt.useDeferredValue=function(n){return Sr.current.useDeferredValue(n)};Bt.useEffect=function(n,e){return Sr.current.useEffect(n,e)};Bt.useId=function(){return Sr.current.useId()};Bt.useImperativeHandle=function(n,e,t){return Sr.current.useImperativeHandle(n,e,t)};Bt.useInsertionEffect=function(n,e){return Sr.current.useInsertionEffect(n,e)};Bt.useLayoutEffect=function(n,e){return Sr.current.useLayoutEffect(n,e)};Bt.useMemo=function(n,e){return Sr.current.useMemo(n,e)};Bt.useReducer=function(n,e,t){return Sr.current.useReducer(n,e,t)};Bt.useRef=function(n){return Sr.current.useRef(n)};Bt.useState=function(n){return Sr.current.useState(n)};Bt.useSyncExternalStore=function(n,e,t){return Sr.current.useSyncExternalStore(n,e,t)};Bt.useTransition=function(){return Sr.current.useTransition()};Bt.version="18.3.1";_B.exports=Bt;var p=_B.exports;const oe=HE(p),Nv=FB({__proto__:null,default:oe},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z9=p,V9=Symbol.for("react.element"),F9=Symbol.for("react.fragment"),W9=Object.prototype.hasOwnProperty,_9=z9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j9={key:!0,ref:!0,__self:!0,__source:!0};function JB(n,e,t){var i,r={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)W9.call(e,i)&&!j9.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:V9,type:n,key:o,ref:s,props:r,_owner:_9.current}}Iv.Fragment=F9;Iv.jsx=JB;Iv.jsxs=JB;WB.exports=Iv;var fi=WB.exports,ES={},ZB={exports:{}},so={},eL={exports:{}},tL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,B){var L=k.length;k.push(B);e:for(;0<L;){var z=L-1>>>1,F=k[z];if(0<r(F,B))k[z]=B,k[L]=F,L=z;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var B=k[0],L=k.pop();if(L!==B){k[0]=L;e:for(var z=0,F=k.length,_=F>>>1;z<_;){var G=2*(z+1)-1,Z=k[G],re=G+1,Q=k[re];if(0>r(Z,L))re<F&&0>r(Q,Z)?(k[z]=Q,k[re]=L,z=re):(k[z]=Z,k[G]=L,z=G);else if(re<F&&0>r(Q,L))k[z]=Q,k[re]=L,z=re;else break e}}return B}function r(k,B){var L=k.sortIndex-B.sortIndex;return L!==0?L:k.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var a=[],c=[],u=1,h=null,d=3,f=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(k){for(var B=t(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=k)i(c),B.sortIndex=B.expirationTime,e(a,B);else break;B=t(c)}}function w(k){if(y=!1,S(k),!g)if(t(a)!==null)g=!0,T(x);else{var B=t(c);B!==null&&R(w,B.startTime-k)}}function x(k,B){g=!1,y&&(y=!1,m($),$=-1),f=!0;var L=d;try{for(S(B),h=t(a);h!==null&&(!(h.expirationTime>B)||k&&!P());){var z=h.callback;if(typeof z=="function"){h.callback=null,d=h.priorityLevel;var F=z(h.expirationTime<=B);B=n.unstable_now(),typeof F=="function"?h.callback=F:h===t(a)&&i(a),S(B)}else i(a);h=t(a)}if(h!==null)var _=!0;else{var G=t(c);G!==null&&R(w,G.startTime-B),_=!1}return _}finally{h=null,d=L,f=!1}}var E=!1,C=null,$=-1,M=5,A=-1;function P(){return!(n.unstable_now()-A<M)}function D(){if(C!==null){var k=n.unstable_now();A=k;var B=!0;try{B=C(!0,k)}finally{B?I():(E=!1,C=null)}}else E=!1}var I;if(typeof b=="function")I=function(){b(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,H=O.port2;O.port1.onmessage=D,I=function(){H.postMessage(null)}}else I=function(){v(D,0)};function T(k){C=k,E||(E=!0,I())}function R(k,B){$=v(function(){k(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){g||f||(g=!0,T(x))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(a)},n.unstable_next=function(k){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var L=d;d=B;try{return k()}finally{d=L}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,B){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var L=d;d=k;try{return B()}finally{d=L}},n.unstable_scheduleCallback=function(k,B,L){var z=n.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?z+L:z):L=z,k){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=L+F,k={id:u++,callback:B,priorityLevel:k,startTime:L,expirationTime:F,sortIndex:-1},L>z?(k.sortIndex=L,e(c,k),t(a)===null&&k===t(c)&&(y?(m($),$=-1):y=!0,R(w,L-z))):(k.sortIndex=F,e(a,k),g||f||(g=!0,T(x))),k},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(k){var B=d;return function(){var L=d;d=B;try{return k.apply(this,arguments)}finally{d=L}}}})(tL);eL.exports=tL;var K9=eL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q9=p,oo=K9;function Ee(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nL=new Set,Ud={};function fc(n,e){Pu(n,e),Pu(n+"Capture",e)}function Pu(n,e){for(Ud[n]=e,n=0;n<e.length;n++)nL.add(e[n])}var fl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),MS=Object.prototype.hasOwnProperty,G9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qk={},Gk={};function U9(n){return MS.call(Gk,n)?!0:MS.call(qk,n)?!1:G9.test(n)?Gk[n]=!0:(qk[n]=!0,!1)}function X9(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Y9(n,e,t,i){if(e===null||typeof e>"u"||X9(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wr(n,e,t,i,r,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Yi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Yi[n]=new wr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Yi[e]=new wr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Yi[n]=new wr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Yi[n]=new wr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Yi[n]=new wr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Yi[n]=new wr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Yi[n]=new wr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Yi[n]=new wr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Yi[n]=new wr(n,5,!1,n.toLowerCase(),null,!1,!1)});var _E=/[\-:]([a-z])/g;function jE(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(_E,jE);Yi[e]=new wr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(_E,jE);Yi[e]=new wr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(_E,jE);Yi[e]=new wr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Yi[n]=new wr(n,1,!1,n.toLowerCase(),null,!1,!1)});Yi.xlinkHref=new wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Yi[n]=new wr(n,1,!1,n.toLowerCase(),null,!0,!0)});function KE(n,e,t,i){var r=Yi.hasOwnProperty(e)?Yi[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Y9(e,t,r,i)&&(t=null),i||r===null?U9(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Sl=q9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fp=Symbol.for("react.element"),Wc=Symbol.for("react.portal"),_c=Symbol.for("react.fragment"),qE=Symbol.for("react.strict_mode"),$S=Symbol.for("react.profiler"),iL=Symbol.for("react.provider"),rL=Symbol.for("react.context"),GE=Symbol.for("react.forward_ref"),kS=Symbol.for("react.suspense"),OS=Symbol.for("react.suspense_list"),UE=Symbol.for("react.memo"),Al=Symbol.for("react.lazy"),oL=Symbol.for("react.offscreen"),Uk=Symbol.iterator;function Mh(n){return n===null||typeof n!="object"?null:(n=Uk&&n[Uk]||n["@@iterator"],typeof n=="function"?n:null)}var _n=Object.assign,ub;function jh(n){if(ub===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);ub=e&&e[1]||""}return`
`+ub+n}var hb=!1;function db(n,e){if(!n||hb)return"";hb=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),o=i.stack.split(`
`),s=r.length-1,l=o.length-1;1<=s&&0<=l&&r[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(r[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||r[s]!==o[l]){var a=`
`+r[s].replace(" at new "," at ");return n.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",n.displayName)),a}while(1<=s&&0<=l);break}}}finally{hb=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?jh(n):""}function Q9(n){switch(n.tag){case 5:return jh(n.type);case 16:return jh("Lazy");case 13:return jh("Suspense");case 19:return jh("SuspenseList");case 0:case 2:case 15:return n=db(n.type,!1),n;case 11:return n=db(n.type.render,!1),n;case 1:return n=db(n.type,!0),n;default:return""}}function AS(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _c:return"Fragment";case Wc:return"Portal";case $S:return"Profiler";case qE:return"StrictMode";case kS:return"Suspense";case OS:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case rL:return(n.displayName||"Context")+".Consumer";case iL:return(n._context.displayName||"Context")+".Provider";case GE:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case UE:return e=n.displayName||null,e!==null?e:AS(n.type)||"Memo";case Al:e=n._payload,n=n._init;try{return AS(n(e))}catch{}}return null}function J9(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return AS(e);case 8:return e===qE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ua(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function sL(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Z9(n){var e=sL(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Wp(n){n._valueTracker||(n._valueTracker=Z9(n))}function lL(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=sL(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function t0(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function RS(n,e){var t=e.checked;return _n({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Xk(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=ua(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aL(n,e){e=e.checked,e!=null&&KE(n,"checked",e,!1)}function DS(n,e){aL(n,e);var t=ua(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?TS(n,e.type,t):e.hasOwnProperty("defaultValue")&&TS(n,e.type,ua(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Yk(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function TS(n,e,t){(e!=="number"||t0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Kh=Array.isArray;function uu(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+ua(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function PS(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return _n({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Qk(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ee(92));if(Kh(t)){if(1<t.length)throw Error(Ee(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ua(t)}}function cL(n,e){var t=ua(e.value),i=ua(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function Jk(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function uL(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function IS(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?uL(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var _p,hL=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(_p=_p||document.createElement("div"),_p.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_p.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Xd(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var wd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eK=["Webkit","ms","Moz","O"];Object.keys(wd).forEach(function(n){eK.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),wd[e]=wd[n]})});function dL(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||wd.hasOwnProperty(n)&&wd[n]?(""+e).trim():e+"px"}function fL(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=dL(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var tK=_n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NS(n,e){if(e){if(tK[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ee(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ee(62))}}function BS(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LS=null;function XE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var HS=null,hu=null,du=null;function Zk(n){if(n=fp(n)){if(typeof HS!="function")throw Error(Ee(280));var e=n.stateNode;e&&(e=Vv(e),HS(n.stateNode,n.type,e))}}function pL(n){hu?du?du.push(n):du=[n]:hu=n}function gL(){if(hu){var n=hu,e=du;if(du=hu=null,Zk(n),e)for(n=0;n<e.length;n++)Zk(e[n])}}function mL(n,e){return n(e)}function vL(){}var fb=!1;function yL(n,e,t){if(fb)return n(e,t);fb=!0;try{return mL(n,e,t)}finally{fb=!1,(hu!==null||du!==null)&&(vL(),gL())}}function Yd(n,e){var t=n.stateNode;if(t===null)return null;var i=Vv(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ee(231,e,typeof t));return t}var zS=!1;if(fl)try{var $h={};Object.defineProperty($h,"passive",{get:function(){zS=!0}}),window.addEventListener("test",$h,$h),window.removeEventListener("test",$h,$h)}catch{zS=!1}function nK(n,e,t,i,r,o,s,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var xd=!1,n0=null,i0=!1,VS=null,iK={onError:function(n){xd=!0,n0=n}};function rK(n,e,t,i,r,o,s,l,a){xd=!1,n0=null,nK.apply(iK,arguments)}function oK(n,e,t,i,r,o,s,l,a){if(rK.apply(this,arguments),xd){if(xd){var c=n0;xd=!1,n0=null}else throw Error(Ee(198));i0||(i0=!0,VS=c)}}function pc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function bL(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function eO(n){if(pc(n)!==n)throw Error(Ee(188))}function sK(n){var e=n.alternate;if(!e){if(e=pc(n),e===null)throw Error(Ee(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===t)return eO(r),n;if(o===i)return eO(r),e;o=o.sibling}throw Error(Ee(188))}if(t.return!==i.return)t=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===t){s=!0,t=r,i=o;break}if(l===i){s=!0,i=r,t=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===t){s=!0,t=o,i=r;break}if(l===i){s=!0,i=o,t=r;break}l=l.sibling}if(!s)throw Error(Ee(189))}}if(t.alternate!==i)throw Error(Ee(190))}if(t.tag!==3)throw Error(Ee(188));return t.stateNode.current===t?n:e}function SL(n){return n=sK(n),n!==null?wL(n):null}function wL(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=wL(n);if(e!==null)return e;n=n.sibling}return null}var xL=oo.unstable_scheduleCallback,tO=oo.unstable_cancelCallback,lK=oo.unstable_shouldYield,aK=oo.unstable_requestPaint,ni=oo.unstable_now,cK=oo.unstable_getCurrentPriorityLevel,YE=oo.unstable_ImmediatePriority,CL=oo.unstable_UserBlockingPriority,r0=oo.unstable_NormalPriority,uK=oo.unstable_LowPriority,EL=oo.unstable_IdlePriority,Bv=null,Ts=null;function hK(n){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(Bv,n,void 0,(n.current.flags&128)===128)}catch{}}var Yo=Math.clz32?Math.clz32:pK,dK=Math.log,fK=Math.LN2;function pK(n){return n>>>=0,n===0?32:31-(dK(n)/fK|0)|0}var jp=64,Kp=4194304;function qh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function o0(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,o=n.pingedLanes,s=t&268435455;if(s!==0){var l=s&~r;l!==0?i=qh(l):(o&=s,o!==0&&(i=qh(o)))}else s=t&~r,s!==0?i=qh(s):o!==0&&(i=qh(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Yo(e),r=1<<t,i|=n[t],e&=~r;return i}function gK(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mK(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-Yo(o),l=1<<s,a=r[s];a===-1?(!(l&t)||l&i)&&(r[s]=gK(l,e)):a<=e&&(n.expiredLanes|=l),o&=~l}}function FS(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ML(){var n=jp;return jp<<=1,!(jp&4194240)&&(jp=64),n}function pb(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function hp(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Yo(e),n[e]=t}function vK(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Yo(t),o=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~o}}function QE(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Yo(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var tn=0;function $L(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var kL,JE,OL,AL,RL,WS=!1,qp=[],Zl=null,ea=null,ta=null,Qd=new Map,Jd=new Map,Il=[],yK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nO(n,e){switch(n){case"focusin":case"focusout":Zl=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Qd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jd.delete(e.pointerId)}}function kh(n,e,t,i,r,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=fp(e),e!==null&&JE(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function bK(n,e,t,i,r){switch(e){case"focusin":return Zl=kh(Zl,n,e,t,i,r),!0;case"dragenter":return ea=kh(ea,n,e,t,i,r),!0;case"mouseover":return ta=kh(ta,n,e,t,i,r),!0;case"pointerover":var o=r.pointerId;return Qd.set(o,kh(Qd.get(o)||null,n,e,t,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Jd.set(o,kh(Jd.get(o)||null,n,e,t,i,r)),!0}return!1}function DL(n){var e=Ta(n.target);if(e!==null){var t=pc(e);if(t!==null){if(e=t.tag,e===13){if(e=bL(t),e!==null){n.blockedOn=e,RL(n.priority,function(){OL(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function tm(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=_S(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);LS=i,t.target.dispatchEvent(i),LS=null}else return e=fp(t),e!==null&&JE(e),n.blockedOn=t,!1;e.shift()}return!0}function iO(n,e,t){tm(n)&&t.delete(e)}function SK(){WS=!1,Zl!==null&&tm(Zl)&&(Zl=null),ea!==null&&tm(ea)&&(ea=null),ta!==null&&tm(ta)&&(ta=null),Qd.forEach(iO),Jd.forEach(iO)}function Oh(n,e){n.blockedOn===e&&(n.blockedOn=null,WS||(WS=!0,oo.unstable_scheduleCallback(oo.unstable_NormalPriority,SK)))}function Zd(n){function e(r){return Oh(r,n)}if(0<qp.length){Oh(qp[0],n);for(var t=1;t<qp.length;t++){var i=qp[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Zl!==null&&Oh(Zl,n),ea!==null&&Oh(ea,n),ta!==null&&Oh(ta,n),Qd.forEach(e),Jd.forEach(e),t=0;t<Il.length;t++)i=Il[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Il.length&&(t=Il[0],t.blockedOn===null);)DL(t),t.blockedOn===null&&Il.shift()}var fu=Sl.ReactCurrentBatchConfig,s0=!0;function wK(n,e,t,i){var r=tn,o=fu.transition;fu.transition=null;try{tn=1,ZE(n,e,t,i)}finally{tn=r,fu.transition=o}}function xK(n,e,t,i){var r=tn,o=fu.transition;fu.transition=null;try{tn=4,ZE(n,e,t,i)}finally{tn=r,fu.transition=o}}function ZE(n,e,t,i){if(s0){var r=_S(n,e,t,i);if(r===null)Eb(n,e,i,l0,t),nO(n,i);else if(bK(r,n,e,t,i))i.stopPropagation();else if(nO(n,i),e&4&&-1<yK.indexOf(n)){for(;r!==null;){var o=fp(r);if(o!==null&&kL(o),o=_S(n,e,t,i),o===null&&Eb(n,e,i,l0,t),o===r)break;r=o}r!==null&&i.stopPropagation()}else Eb(n,e,i,null,t)}}var l0=null;function _S(n,e,t,i){if(l0=null,n=XE(i),n=Ta(n),n!==null)if(e=pc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=bL(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return l0=n,null}function TL(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cK()){case YE:return 1;case CL:return 4;case r0:case uK:return 16;case EL:return 536870912;default:return 16}default:return 16}}var zl=null,eM=null,nm=null;function PL(){if(nm)return nm;var n,e=eM,t=e.length,i,r="value"in zl?zl.value:zl.textContent,o=r.length;for(n=0;n<t&&e[n]===r[n];n++);var s=t-n;for(i=1;i<=s&&e[t-i]===r[o-i];i++);return nm=r.slice(n,1<i?1-i:void 0)}function im(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Gp(){return!0}function rO(){return!1}function lo(n){function e(t,i,r,o,s){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(t=n[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Gp:rO,this.isPropagationStopped=rO,this}return _n(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Gp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Gp)},persist:function(){},isPersistent:Gp}),e}var hh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tM=lo(hh),dp=_n({},hh,{view:0,detail:0}),CK=lo(dp),gb,mb,Ah,Lv=_n({},dp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nM,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ah&&(Ah&&n.type==="mousemove"?(gb=n.screenX-Ah.screenX,mb=n.screenY-Ah.screenY):mb=gb=0,Ah=n),gb)},movementY:function(n){return"movementY"in n?n.movementY:mb}}),oO=lo(Lv),EK=_n({},Lv,{dataTransfer:0}),MK=lo(EK),$K=_n({},dp,{relatedTarget:0}),vb=lo($K),kK=_n({},hh,{animationName:0,elapsedTime:0,pseudoElement:0}),OK=lo(kK),AK=_n({},hh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),RK=lo(AK),DK=_n({},hh,{data:0}),sO=lo(DK),TK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NK(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=IK[n])?!!e[n]:!1}function nM(){return NK}var BK=_n({},dp,{key:function(n){if(n.key){var e=TK[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=im(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?PK[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nM,charCode:function(n){return n.type==="keypress"?im(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?im(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),LK=lo(BK),HK=_n({},Lv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lO=lo(HK),zK=_n({},dp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nM}),VK=lo(zK),FK=_n({},hh,{propertyName:0,elapsedTime:0,pseudoElement:0}),WK=lo(FK),_K=_n({},Lv,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),jK=lo(_K),KK=[9,13,27,32],iM=fl&&"CompositionEvent"in window,Cd=null;fl&&"documentMode"in document&&(Cd=document.documentMode);var qK=fl&&"TextEvent"in window&&!Cd,IL=fl&&(!iM||Cd&&8<Cd&&11>=Cd),aO=" ",cO=!1;function NL(n,e){switch(n){case"keyup":return KK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BL(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var jc=!1;function GK(n,e){switch(n){case"compositionend":return BL(e);case"keypress":return e.which!==32?null:(cO=!0,aO);case"textInput":return n=e.data,n===aO&&cO?null:n;default:return null}}function UK(n,e){if(jc)return n==="compositionend"||!iM&&NL(n,e)?(n=PL(),nm=eM=zl=null,jc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return IL&&e.locale!=="ko"?null:e.data;default:return null}}var XK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uO(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!XK[n.type]:e==="textarea"}function LL(n,e,t,i){pL(i),e=a0(e,"onChange"),0<e.length&&(t=new tM("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Ed=null,ef=null;function YK(n){UL(n,0)}function Hv(n){var e=Gc(n);if(lL(e))return n}function QK(n,e){if(n==="change")return e}var HL=!1;if(fl){var yb;if(fl){var bb="oninput"in document;if(!bb){var hO=document.createElement("div");hO.setAttribute("oninput","return;"),bb=typeof hO.oninput=="function"}yb=bb}else yb=!1;HL=yb&&(!document.documentMode||9<document.documentMode)}function dO(){Ed&&(Ed.detachEvent("onpropertychange",zL),ef=Ed=null)}function zL(n){if(n.propertyName==="value"&&Hv(ef)){var e=[];LL(e,ef,n,XE(n)),yL(YK,e)}}function JK(n,e,t){n==="focusin"?(dO(),Ed=e,ef=t,Ed.attachEvent("onpropertychange",zL)):n==="focusout"&&dO()}function ZK(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Hv(ef)}function e7(n,e){if(n==="click")return Hv(e)}function t7(n,e){if(n==="input"||n==="change")return Hv(e)}function n7(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var es=typeof Object.is=="function"?Object.is:n7;function tf(n,e){if(es(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!MS.call(e,r)||!es(n[r],e[r]))return!1}return!0}function fO(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function pO(n,e){var t=fO(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=fO(t)}}function VL(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?VL(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function FL(){for(var n=window,e=t0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=t0(n.document)}return e}function rM(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function i7(n){var e=FL(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&VL(t.ownerDocument.documentElement,t)){if(i!==null&&rM(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!n.extend&&o>i&&(r=i,i=o,o=r),r=pO(t,o);var s=pO(t,i);r&&s&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),o>i?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var r7=fl&&"documentMode"in document&&11>=document.documentMode,Kc=null,jS=null,Md=null,KS=!1;function gO(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;KS||Kc==null||Kc!==t0(i)||(i=Kc,"selectionStart"in i&&rM(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Md&&tf(Md,i)||(Md=i,i=a0(jS,"onSelect"),0<i.length&&(e=new tM("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Kc)))}function Up(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var qc={animationend:Up("Animation","AnimationEnd"),animationiteration:Up("Animation","AnimationIteration"),animationstart:Up("Animation","AnimationStart"),transitionend:Up("Transition","TransitionEnd")},Sb={},WL={};fl&&(WL=document.createElement("div").style,"AnimationEvent"in window||(delete qc.animationend.animation,delete qc.animationiteration.animation,delete qc.animationstart.animation),"TransitionEvent"in window||delete qc.transitionend.transition);function zv(n){if(Sb[n])return Sb[n];if(!qc[n])return n;var e=qc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in WL)return Sb[n]=e[t];return n}var _L=zv("animationend"),jL=zv("animationiteration"),KL=zv("animationstart"),qL=zv("transitionend"),GL=new Map,mO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(n,e){GL.set(n,e),fc(e,[n])}for(var wb=0;wb<mO.length;wb++){var xb=mO[wb],o7=xb.toLowerCase(),s7=xb[0].toUpperCase()+xb.slice(1);Sa(o7,"on"+s7)}Sa(_L,"onAnimationEnd");Sa(jL,"onAnimationIteration");Sa(KL,"onAnimationStart");Sa("dblclick","onDoubleClick");Sa("focusin","onFocus");Sa("focusout","onBlur");Sa(qL,"onTransitionEnd");Pu("onMouseEnter",["mouseout","mouseover"]);Pu("onMouseLeave",["mouseout","mouseover"]);Pu("onPointerEnter",["pointerout","pointerover"]);Pu("onPointerLeave",["pointerout","pointerover"]);fc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fc("onBeforeInput",["compositionend","keypress","textInput","paste"]);fc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gh));function vO(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,oK(i,e,void 0,n),n.currentTarget=null}function UL(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var l=i[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==o&&r.isPropagationStopped())break e;vO(r,l,c),o=a}else for(s=0;s<i.length;s++){if(l=i[s],a=l.instance,c=l.currentTarget,l=l.listener,a!==o&&r.isPropagationStopped())break e;vO(r,l,c),o=a}}}if(i0)throw n=VS,i0=!1,VS=null,n}function gn(n,e){var t=e[YS];t===void 0&&(t=e[YS]=new Set);var i=n+"__bubble";t.has(i)||(XL(e,n,2,!1),t.add(i))}function Cb(n,e,t){var i=0;e&&(i|=4),XL(t,n,i,e)}var Xp="_reactListening"+Math.random().toString(36).slice(2);function nf(n){if(!n[Xp]){n[Xp]=!0,nL.forEach(function(t){t!=="selectionchange"&&(l7.has(t)||Cb(t,!1,n),Cb(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Xp]||(e[Xp]=!0,Cb("selectionchange",!1,e))}}function XL(n,e,t,i){switch(TL(e)){case 1:var r=wK;break;case 4:r=xK;break;default:r=ZE}t=r.bind(null,e,t,n),r=void 0,!zS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Eb(n,e,t,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===r||a.nodeType===8&&a.parentNode===r))return;s=s.return}for(;l!==null;){if(s=Ta(l),s===null)return;if(a=s.tag,a===5||a===6){i=o=s;continue e}l=l.parentNode}}i=i.return}yL(function(){var c=o,u=XE(t),h=[];e:{var d=GL.get(n);if(d!==void 0){var f=tM,g=n;switch(n){case"keypress":if(im(t)===0)break e;case"keydown":case"keyup":f=LK;break;case"focusin":g="focus",f=vb;break;case"focusout":g="blur",f=vb;break;case"beforeblur":case"afterblur":f=vb;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=oO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=MK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=VK;break;case _L:case jL:case KL:f=OK;break;case qL:f=WK;break;case"scroll":f=CK;break;case"wheel":f=jK;break;case"copy":case"cut":case"paste":f=RK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=lO}var y=(e&4)!==0,v=!y&&n==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var b=c,S;b!==null;){S=b;var w=S.stateNode;if(S.tag===5&&w!==null&&(S=w,m!==null&&(w=Yd(b,m),w!=null&&y.push(rf(b,w,S)))),v)break;b=b.return}0<y.length&&(d=new f(d,g,null,t,u),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",d&&t!==LS&&(g=t.relatedTarget||t.fromElement)&&(Ta(g)||g[pl]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=t.relatedTarget||t.toElement,f=c,g=g?Ta(g):null,g!==null&&(v=pc(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(y=oO,w="onMouseLeave",m="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(y=lO,w="onPointerLeave",m="onPointerEnter",b="pointer"),v=f==null?d:Gc(f),S=g==null?d:Gc(g),d=new y(w,b+"leave",f,t,u),d.target=v,d.relatedTarget=S,w=null,Ta(u)===c&&(y=new y(m,b+"enter",g,t,u),y.target=S,y.relatedTarget=v,w=y),v=w,f&&g)t:{for(y=f,m=g,b=0,S=y;S;S=xc(S))b++;for(S=0,w=m;w;w=xc(w))S++;for(;0<b-S;)y=xc(y),b--;for(;0<S-b;)m=xc(m),S--;for(;b--;){if(y===m||m!==null&&y===m.alternate)break t;y=xc(y),m=xc(m)}y=null}else y=null;f!==null&&yO(h,d,f,y,!1),g!==null&&v!==null&&yO(h,v,g,y,!0)}}e:{if(d=c?Gc(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var x=QK;else if(uO(d))if(HL)x=t7;else{x=ZK;var E=JK}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=e7);if(x&&(x=x(n,c))){LL(h,x,t,u);break e}E&&E(n,d,c),n==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&TS(d,"number",d.value)}switch(E=c?Gc(c):window,n){case"focusin":(uO(E)||E.contentEditable==="true")&&(Kc=E,jS=c,Md=null);break;case"focusout":Md=jS=Kc=null;break;case"mousedown":KS=!0;break;case"contextmenu":case"mouseup":case"dragend":KS=!1,gO(h,t,u);break;case"selectionchange":if(r7)break;case"keydown":case"keyup":gO(h,t,u)}var C;if(iM)e:{switch(n){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else jc?NL(n,t)&&($="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&($="onCompositionStart");$&&(IL&&t.locale!=="ko"&&(jc||$!=="onCompositionStart"?$==="onCompositionEnd"&&jc&&(C=PL()):(zl=u,eM="value"in zl?zl.value:zl.textContent,jc=!0)),E=a0(c,$),0<E.length&&($=new sO($,n,null,t,u),h.push({event:$,listeners:E}),C?$.data=C:(C=BL(t),C!==null&&($.data=C)))),(C=qK?GK(n,t):UK(n,t))&&(c=a0(c,"onBeforeInput"),0<c.length&&(u=new sO("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=C))}UL(h,e)})}function rf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function a0(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Yd(n,t),o!=null&&i.unshift(rf(n,o,r)),o=Yd(n,e),o!=null&&i.push(rf(n,o,r))),n=n.return}return i}function xc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function yO(n,e,t,i,r){for(var o=e._reactName,s=[];t!==null&&t!==i;){var l=t,a=l.alternate,c=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&c!==null&&(l=c,r?(a=Yd(t,o),a!=null&&s.unshift(rf(t,a,l))):r||(a=Yd(t,o),a!=null&&s.push(rf(t,a,l)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var a7=/\r\n?/g,c7=/\u0000|\uFFFD/g;function bO(n){return(typeof n=="string"?n:""+n).replace(a7,`
`).replace(c7,"")}function Yp(n,e,t){if(e=bO(e),bO(n)!==e&&t)throw Error(Ee(425))}function c0(){}var qS=null,GS=null;function US(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var XS=typeof setTimeout=="function"?setTimeout:void 0,u7=typeof clearTimeout=="function"?clearTimeout:void 0,SO=typeof Promise=="function"?Promise:void 0,h7=typeof queueMicrotask=="function"?queueMicrotask:typeof SO<"u"?function(n){return SO.resolve(null).then(n).catch(d7)}:XS;function d7(n){setTimeout(function(){throw n})}function Mb(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Zd(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Zd(e)}function na(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function wO(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var dh=Math.random().toString(36).slice(2),ks="__reactFiber$"+dh,of="__reactProps$"+dh,pl="__reactContainer$"+dh,YS="__reactEvents$"+dh,f7="__reactListeners$"+dh,p7="__reactHandles$"+dh;function Ta(n){var e=n[ks];if(e)return e;for(var t=n.parentNode;t;){if(e=t[pl]||t[ks]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=wO(n);n!==null;){if(t=n[ks])return t;n=wO(n)}return e}n=t,t=n.parentNode}return null}function fp(n){return n=n[ks]||n[pl],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Gc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ee(33))}function Vv(n){return n[of]||null}var QS=[],Uc=-1;function wa(n){return{current:n}}function Cn(n){0>Uc||(n.current=QS[Uc],QS[Uc]=null,Uc--)}function un(n,e){Uc++,QS[Uc]=n.current,n.current=e}var ha={},cr=wa(ha),Nr=wa(!1),Xa=ha;function Iu(n,e){var t=n.type.contextTypes;if(!t)return ha;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in t)r[o]=e[o];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Br(n){return n=n.childContextTypes,n!=null}function u0(){Cn(Nr),Cn(cr)}function xO(n,e,t){if(cr.current!==ha)throw Error(Ee(168));un(cr,e),un(Nr,t)}function YL(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Ee(108,J9(n)||"Unknown",r));return _n({},t,i)}function h0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ha,Xa=cr.current,un(cr,n),un(Nr,Nr.current),!0}function CO(n,e,t){var i=n.stateNode;if(!i)throw Error(Ee(169));t?(n=YL(n,e,Xa),i.__reactInternalMemoizedMergedChildContext=n,Cn(Nr),Cn(cr),un(cr,n)):Cn(Nr),un(Nr,t)}var il=null,Fv=!1,$b=!1;function QL(n){il===null?il=[n]:il.push(n)}function g7(n){Fv=!0,QL(n)}function xa(){if(!$b&&il!==null){$b=!0;var n=0,e=tn;try{var t=il;for(tn=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}il=null,Fv=!1}catch(r){throw il!==null&&(il=il.slice(n+1)),xL(YE,xa),r}finally{tn=e,$b=!1}}return null}var Xc=[],Yc=0,d0=null,f0=0,po=[],go=0,Ya=null,sl=1,ll="";function ka(n,e){Xc[Yc++]=f0,Xc[Yc++]=d0,d0=n,f0=e}function JL(n,e,t){po[go++]=sl,po[go++]=ll,po[go++]=Ya,Ya=n;var i=sl;n=ll;var r=32-Yo(i)-1;i&=~(1<<r),t+=1;var o=32-Yo(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,sl=1<<32-Yo(e)+r|t<<r|i,ll=o+n}else sl=1<<o|t<<r|i,ll=n}function oM(n){n.return!==null&&(ka(n,1),JL(n,1,0))}function sM(n){for(;n===d0;)d0=Xc[--Yc],Xc[Yc]=null,f0=Xc[--Yc],Xc[Yc]=null;for(;n===Ya;)Ya=po[--go],po[go]=null,ll=po[--go],po[go]=null,sl=po[--go],po[go]=null}var ro=null,eo=null,On=!1,jo=null;function ZL(n,e){var t=yo(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function EO(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ro=n,eo=na(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ro=n,eo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ya!==null?{id:sl,overflow:ll}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=yo(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ro=n,eo=null,!0):!1;default:return!1}}function JS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ZS(n){if(On){var e=eo;if(e){var t=e;if(!EO(n,e)){if(JS(n))throw Error(Ee(418));e=na(t.nextSibling);var i=ro;e&&EO(n,e)?ZL(i,t):(n.flags=n.flags&-4097|2,On=!1,ro=n)}}else{if(JS(n))throw Error(Ee(418));n.flags=n.flags&-4097|2,On=!1,ro=n}}}function MO(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ro=n}function Qp(n){if(n!==ro)return!1;if(!On)return MO(n),On=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!US(n.type,n.memoizedProps)),e&&(e=eo)){if(JS(n))throw e3(),Error(Ee(418));for(;e;)ZL(n,e),e=na(e.nextSibling)}if(MO(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ee(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){eo=na(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}eo=null}}else eo=ro?na(n.stateNode.nextSibling):null;return!0}function e3(){for(var n=eo;n;)n=na(n.nextSibling)}function Nu(){eo=ro=null,On=!1}function lM(n){jo===null?jo=[n]:jo.push(n)}var m7=Sl.ReactCurrentBatchConfig;function Rh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ee(309));var i=t.stateNode}if(!i)throw Error(Ee(147,n));var r=i,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=r.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof n!="string")throw Error(Ee(284));if(!t._owner)throw Error(Ee(290,n))}return n}function Jp(n,e){throw n=Object.prototype.toString.call(e),Error(Ee(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function $O(n){var e=n._init;return e(n._payload)}function t3(n){function e(m,b){if(n){var S=m.deletions;S===null?(m.deletions=[b],m.flags|=16):S.push(b)}}function t(m,b){if(!n)return null;for(;b!==null;)e(m,b),b=b.sibling;return null}function i(m,b){for(m=new Map;b!==null;)b.key!==null?m.set(b.key,b):m.set(b.index,b),b=b.sibling;return m}function r(m,b){return m=sa(m,b),m.index=0,m.sibling=null,m}function o(m,b,S){return m.index=S,n?(S=m.alternate,S!==null?(S=S.index,S<b?(m.flags|=2,b):S):(m.flags|=2,b)):(m.flags|=1048576,b)}function s(m){return n&&m.alternate===null&&(m.flags|=2),m}function l(m,b,S,w){return b===null||b.tag!==6?(b=Pb(S,m.mode,w),b.return=m,b):(b=r(b,S),b.return=m,b)}function a(m,b,S,w){var x=S.type;return x===_c?u(m,b,S.props.children,w,S.key):b!==null&&(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Al&&$O(x)===b.type)?(w=r(b,S.props),w.ref=Rh(m,b,S),w.return=m,w):(w=um(S.type,S.key,S.props,null,m.mode,w),w.ref=Rh(m,b,S),w.return=m,w)}function c(m,b,S,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=Ib(S,m.mode,w),b.return=m,b):(b=r(b,S.children||[]),b.return=m,b)}function u(m,b,S,w,x){return b===null||b.tag!==7?(b=Fa(S,m.mode,w,x),b.return=m,b):(b=r(b,S),b.return=m,b)}function h(m,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Pb(""+b,m.mode,S),b.return=m,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fp:return S=um(b.type,b.key,b.props,null,m.mode,S),S.ref=Rh(m,null,b),S.return=m,S;case Wc:return b=Ib(b,m.mode,S),b.return=m,b;case Al:var w=b._init;return h(m,w(b._payload),S)}if(Kh(b)||Mh(b))return b=Fa(b,m.mode,S,null),b.return=m,b;Jp(m,b)}return null}function d(m,b,S,w){var x=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return x!==null?null:l(m,b,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Fp:return S.key===x?a(m,b,S,w):null;case Wc:return S.key===x?c(m,b,S,w):null;case Al:return x=S._init,d(m,b,x(S._payload),w)}if(Kh(S)||Mh(S))return x!==null?null:u(m,b,S,w,null);Jp(m,S)}return null}function f(m,b,S,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(S)||null,l(b,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fp:return m=m.get(w.key===null?S:w.key)||null,a(b,m,w,x);case Wc:return m=m.get(w.key===null?S:w.key)||null,c(b,m,w,x);case Al:var E=w._init;return f(m,b,S,E(w._payload),x)}if(Kh(w)||Mh(w))return m=m.get(S)||null,u(b,m,w,x,null);Jp(b,w)}return null}function g(m,b,S,w){for(var x=null,E=null,C=b,$=b=0,M=null;C!==null&&$<S.length;$++){C.index>$?(M=C,C=null):M=C.sibling;var A=d(m,C,S[$],w);if(A===null){C===null&&(C=M);break}n&&C&&A.alternate===null&&e(m,C),b=o(A,b,$),E===null?x=A:E.sibling=A,E=A,C=M}if($===S.length)return t(m,C),On&&ka(m,$),x;if(C===null){for(;$<S.length;$++)C=h(m,S[$],w),C!==null&&(b=o(C,b,$),E===null?x=C:E.sibling=C,E=C);return On&&ka(m,$),x}for(C=i(m,C);$<S.length;$++)M=f(C,m,$,S[$],w),M!==null&&(n&&M.alternate!==null&&C.delete(M.key===null?$:M.key),b=o(M,b,$),E===null?x=M:E.sibling=M,E=M);return n&&C.forEach(function(P){return e(m,P)}),On&&ka(m,$),x}function y(m,b,S,w){var x=Mh(S);if(typeof x!="function")throw Error(Ee(150));if(S=x.call(S),S==null)throw Error(Ee(151));for(var E=x=null,C=b,$=b=0,M=null,A=S.next();C!==null&&!A.done;$++,A=S.next()){C.index>$?(M=C,C=null):M=C.sibling;var P=d(m,C,A.value,w);if(P===null){C===null&&(C=M);break}n&&C&&P.alternate===null&&e(m,C),b=o(P,b,$),E===null?x=P:E.sibling=P,E=P,C=M}if(A.done)return t(m,C),On&&ka(m,$),x;if(C===null){for(;!A.done;$++,A=S.next())A=h(m,A.value,w),A!==null&&(b=o(A,b,$),E===null?x=A:E.sibling=A,E=A);return On&&ka(m,$),x}for(C=i(m,C);!A.done;$++,A=S.next())A=f(C,m,$,A.value,w),A!==null&&(n&&A.alternate!==null&&C.delete(A.key===null?$:A.key),b=o(A,b,$),E===null?x=A:E.sibling=A,E=A);return n&&C.forEach(function(D){return e(m,D)}),On&&ka(m,$),x}function v(m,b,S,w){if(typeof S=="object"&&S!==null&&S.type===_c&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Fp:e:{for(var x=S.key,E=b;E!==null;){if(E.key===x){if(x=S.type,x===_c){if(E.tag===7){t(m,E.sibling),b=r(E,S.props.children),b.return=m,m=b;break e}}else if(E.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Al&&$O(x)===E.type){t(m,E.sibling),b=r(E,S.props),b.ref=Rh(m,E,S),b.return=m,m=b;break e}t(m,E);break}else e(m,E);E=E.sibling}S.type===_c?(b=Fa(S.props.children,m.mode,w,S.key),b.return=m,m=b):(w=um(S.type,S.key,S.props,null,m.mode,w),w.ref=Rh(m,b,S),w.return=m,m=w)}return s(m);case Wc:e:{for(E=S.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){t(m,b.sibling),b=r(b,S.children||[]),b.return=m,m=b;break e}else{t(m,b);break}else e(m,b);b=b.sibling}b=Ib(S,m.mode,w),b.return=m,m=b}return s(m);case Al:return E=S._init,v(m,b,E(S._payload),w)}if(Kh(S))return g(m,b,S,w);if(Mh(S))return y(m,b,S,w);Jp(m,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(t(m,b.sibling),b=r(b,S),b.return=m,m=b):(t(m,b),b=Pb(S,m.mode,w),b.return=m,m=b),s(m)):t(m,b)}return v}var Bu=t3(!0),n3=t3(!1),p0=wa(null),g0=null,Qc=null,aM=null;function cM(){aM=Qc=g0=null}function uM(n){var e=p0.current;Cn(p0),n._currentValue=e}function ew(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function pu(n,e){g0=n,aM=Qc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Or=!0),n.firstContext=null)}function wo(n){var e=n._currentValue;if(aM!==n)if(n={context:n,memoizedValue:e,next:null},Qc===null){if(g0===null)throw Error(Ee(308));Qc=n,g0.dependencies={lanes:0,firstContext:n}}else Qc=Qc.next=n;return e}var Pa=null;function hM(n){Pa===null?Pa=[n]:Pa.push(n)}function i3(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,hM(e)):(t.next=r.next,r.next=t),e.interleaved=t,gl(n,i)}function gl(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Rl=!1;function dM(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r3(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function al(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ia(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,_t&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,gl(n,t)}return r=i.interleaved,r===null?(e.next=e,hM(i)):(e.next=r.next,r.next=e),i.interleaved=e,gl(n,t)}function rm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,QE(n,t)}}function kO(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?r=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?r=o=e:o=o.next=e}else r=o=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function m0(n,e,t,i){var r=n.updateQueue;Rl=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var a=l,c=a.next;a.next=null,s===null?o=c:s.next=c,s=a;var u=n.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==s&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(o!==null){var h=r.baseState;s=0,u=c=a=null,l=o;do{var d=l.lane,f=l.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=n,y=l;switch(d=e,f=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(f,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(f,h,d):g,d==null)break e;h=_n({},h,d);break e;case 2:Rl=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,d=r.effects,d===null?r.effects=[l]:d.push(l))}else f={eventTime:f,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=f,a=h):u=u.next=f,s|=d;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;d=l,l=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(u===null&&(a=h),r.baseState=a,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Ja|=s,n.lanes=s,n.memoizedState=h}}function OO(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Ee(191,r));r.call(i)}}}var pp={},Ps=wa(pp),sf=wa(pp),lf=wa(pp);function Ia(n){if(n===pp)throw Error(Ee(174));return n}function fM(n,e){switch(un(lf,e),un(sf,n),un(Ps,pp),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:IS(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=IS(e,n)}Cn(Ps),un(Ps,e)}function Lu(){Cn(Ps),Cn(sf),Cn(lf)}function o3(n){Ia(lf.current);var e=Ia(Ps.current),t=IS(e,n.type);e!==t&&(un(sf,n),un(Ps,t))}function pM(n){sf.current===n&&(Cn(Ps),Cn(sf))}var Vn=wa(0);function v0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kb=[];function gM(){for(var n=0;n<kb.length;n++)kb[n]._workInProgressVersionPrimary=null;kb.length=0}var om=Sl.ReactCurrentDispatcher,Ob=Sl.ReactCurrentBatchConfig,Qa=0,Wn=null,pi=null,Oi=null,y0=!1,$d=!1,af=0,v7=0;function er(){throw Error(Ee(321))}function mM(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!es(n[t],e[t]))return!1;return!0}function vM(n,e,t,i,r,o){if(Qa=o,Wn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,om.current=n===null||n.memoizedState===null?w7:x7,n=t(i,r),$d){o=0;do{if($d=!1,af=0,25<=o)throw Error(Ee(301));o+=1,Oi=pi=null,e.updateQueue=null,om.current=C7,n=t(i,r)}while($d)}if(om.current=b0,e=pi!==null&&pi.next!==null,Qa=0,Oi=pi=Wn=null,y0=!1,e)throw Error(Ee(300));return n}function yM(){var n=af!==0;return af=0,n}function Ss(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oi===null?Wn.memoizedState=Oi=n:Oi=Oi.next=n,Oi}function xo(){if(pi===null){var n=Wn.alternate;n=n!==null?n.memoizedState:null}else n=pi.next;var e=Oi===null?Wn.memoizedState:Oi.next;if(e!==null)Oi=e,pi=n;else{if(n===null)throw Error(Ee(310));pi=n,n={memoizedState:pi.memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},Oi===null?Wn.memoizedState=Oi=n:Oi=Oi.next=n}return Oi}function cf(n,e){return typeof e=="function"?e(n):e}function Ab(n){var e=xo(),t=e.queue;if(t===null)throw Error(Ee(311));t.lastRenderedReducer=n;var i=pi,r=i.baseQueue,o=t.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,t.pending=null}if(r!==null){o=r.next,i=i.baseState;var l=s=null,a=null,c=o;do{var u=c.lane;if((Qa&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,s=i):a=a.next=h,Wn.lanes|=u,Ja|=u}c=c.next}while(c!==null&&c!==o);a===null?s=i:a.next=l,es(i,e.memoizedState)||(Or=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=a,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do o=r.lane,Wn.lanes|=o,Ja|=o,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Rb(n){var e=xo(),t=e.queue;if(t===null)throw Error(Ee(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,o=e.memoizedState;if(r!==null){t.pending=null;var s=r=r.next;do o=n(o,s.action),s=s.next;while(s!==r);es(o,e.memoizedState)||(Or=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,i]}function s3(){}function l3(n,e){var t=Wn,i=xo(),r=e(),o=!es(i.memoizedState,r);if(o&&(i.memoizedState=r,Or=!0),i=i.queue,bM(u3.bind(null,t,i,n),[n]),i.getSnapshot!==e||o||Oi!==null&&Oi.memoizedState.tag&1){if(t.flags|=2048,uf(9,c3.bind(null,t,i,r,e),void 0,null),Ai===null)throw Error(Ee(349));Qa&30||a3(t,e,r)}return r}function a3(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Wn.updateQueue,e===null?(e={lastEffect:null,stores:null},Wn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function c3(n,e,t,i){e.value=t,e.getSnapshot=i,h3(e)&&d3(n)}function u3(n,e,t){return t(function(){h3(e)&&d3(n)})}function h3(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!es(n,t)}catch{return!0}}function d3(n){var e=gl(n,1);e!==null&&Qo(e,n,1,-1)}function AO(n){var e=Ss();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cf,lastRenderedState:n},e.queue=n,n=n.dispatch=S7.bind(null,Wn,n),[e.memoizedState,n]}function uf(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Wn.updateQueue,e===null?(e={lastEffect:null,stores:null},Wn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function f3(){return xo().memoizedState}function sm(n,e,t,i){var r=Ss();Wn.flags|=n,r.memoizedState=uf(1|e,t,void 0,i===void 0?null:i)}function Wv(n,e,t,i){var r=xo();i=i===void 0?null:i;var o=void 0;if(pi!==null){var s=pi.memoizedState;if(o=s.destroy,i!==null&&mM(i,s.deps)){r.memoizedState=uf(e,t,o,i);return}}Wn.flags|=n,r.memoizedState=uf(1|e,t,o,i)}function RO(n,e){return sm(8390656,8,n,e)}function bM(n,e){return Wv(2048,8,n,e)}function p3(n,e){return Wv(4,2,n,e)}function g3(n,e){return Wv(4,4,n,e)}function m3(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function v3(n,e,t){return t=t!=null?t.concat([n]):null,Wv(4,4,m3.bind(null,e,n),t)}function SM(){}function y3(n,e){var t=xo();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&mM(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function b3(n,e){var t=xo();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&mM(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function S3(n,e,t){return Qa&21?(es(t,e)||(t=ML(),Wn.lanes|=t,Ja|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Or=!0),n.memoizedState=t)}function y7(n,e){var t=tn;tn=t!==0&&4>t?t:4,n(!0);var i=Ob.transition;Ob.transition={};try{n(!1),e()}finally{tn=t,Ob.transition=i}}function w3(){return xo().memoizedState}function b7(n,e,t){var i=oa(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},x3(n))C3(e,t);else if(t=i3(n,e,t,i),t!==null){var r=yr();Qo(t,n,i,r),E3(t,e,i)}}function S7(n,e,t){var i=oa(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(x3(n))C3(e,r);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,t);if(r.hasEagerState=!0,r.eagerState=l,es(l,s)){var a=e.interleaved;a===null?(r.next=r,hM(e)):(r.next=a.next,a.next=r),e.interleaved=r;return}}catch{}finally{}t=i3(n,e,r,i),t!==null&&(r=yr(),Qo(t,n,i,r),E3(t,e,i))}}function x3(n){var e=n.alternate;return n===Wn||e!==null&&e===Wn}function C3(n,e){$d=y0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function E3(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,QE(n,t)}}var b0={readContext:wo,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},w7={readContext:wo,useCallback:function(n,e){return Ss().memoizedState=[n,e===void 0?null:e],n},useContext:wo,useEffect:RO,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,sm(4194308,4,m3.bind(null,e,n),t)},useLayoutEffect:function(n,e){return sm(4194308,4,n,e)},useInsertionEffect:function(n,e){return sm(4,2,n,e)},useMemo:function(n,e){var t=Ss();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Ss();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=b7.bind(null,Wn,n),[i.memoizedState,n]},useRef:function(n){var e=Ss();return n={current:n},e.memoizedState=n},useState:AO,useDebugValue:SM,useDeferredValue:function(n){return Ss().memoizedState=n},useTransition:function(){var n=AO(!1),e=n[0];return n=y7.bind(null,n[1]),Ss().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Wn,r=Ss();if(On){if(t===void 0)throw Error(Ee(407));t=t()}else{if(t=e(),Ai===null)throw Error(Ee(349));Qa&30||a3(i,e,t)}r.memoizedState=t;var o={value:t,getSnapshot:e};return r.queue=o,RO(u3.bind(null,i,o,n),[n]),i.flags|=2048,uf(9,c3.bind(null,i,o,t,e),void 0,null),t},useId:function(){var n=Ss(),e=Ai.identifierPrefix;if(On){var t=ll,i=sl;t=(i&~(1<<32-Yo(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=af++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=v7++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},x7={readContext:wo,useCallback:y3,useContext:wo,useEffect:bM,useImperativeHandle:v3,useInsertionEffect:p3,useLayoutEffect:g3,useMemo:b3,useReducer:Ab,useRef:f3,useState:function(){return Ab(cf)},useDebugValue:SM,useDeferredValue:function(n){var e=xo();return S3(e,pi.memoizedState,n)},useTransition:function(){var n=Ab(cf)[0],e=xo().memoizedState;return[n,e]},useMutableSource:s3,useSyncExternalStore:l3,useId:w3,unstable_isNewReconciler:!1},C7={readContext:wo,useCallback:y3,useContext:wo,useEffect:bM,useImperativeHandle:v3,useInsertionEffect:p3,useLayoutEffect:g3,useMemo:b3,useReducer:Rb,useRef:f3,useState:function(){return Rb(cf)},useDebugValue:SM,useDeferredValue:function(n){var e=xo();return pi===null?e.memoizedState=n:S3(e,pi.memoizedState,n)},useTransition:function(){var n=Rb(cf)[0],e=xo().memoizedState;return[n,e]},useMutableSource:s3,useSyncExternalStore:l3,useId:w3,unstable_isNewReconciler:!1};function Vo(n,e){if(n&&n.defaultProps){e=_n({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function tw(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:_n({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var _v={isMounted:function(n){return(n=n._reactInternals)?pc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=yr(),r=oa(n),o=al(i,r);o.payload=e,t!=null&&(o.callback=t),e=ia(n,o,r),e!==null&&(Qo(e,n,r,i),rm(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=yr(),r=oa(n),o=al(i,r);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=ia(n,o,r),e!==null&&(Qo(e,n,r,i),rm(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=yr(),i=oa(n),r=al(t,i);r.tag=2,e!=null&&(r.callback=e),e=ia(n,r,i),e!==null&&(Qo(e,n,i,t),rm(e,n,i))}};function DO(n,e,t,i,r,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!tf(t,i)||!tf(r,o):!0}function M3(n,e,t){var i=!1,r=ha,o=e.contextType;return typeof o=="object"&&o!==null?o=wo(o):(r=Br(e)?Xa:cr.current,i=e.contextTypes,o=(i=i!=null)?Iu(n,r):ha),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_v,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=o),e}function TO(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&_v.enqueueReplaceState(e,e.state,null)}function nw(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},dM(n);var o=e.contextType;typeof o=="object"&&o!==null?r.context=wo(o):(o=Br(e)?Xa:cr.current,r.context=Iu(n,o)),r.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(tw(n,e,o,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&_v.enqueueReplaceState(r,r.state,null),m0(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Hu(n,e){try{var t="",i=e;do t+=Q9(i),i=i.return;while(i);var r=t}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:r,digest:null}}function Db(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function iw(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var E7=typeof WeakMap=="function"?WeakMap:Map;function $3(n,e,t){t=al(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){w0||(w0=!0,fw=i),iw(n,e)},t}function k3(n,e,t){t=al(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){iw(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){iw(n,e),typeof i!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function PO(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new E7;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=H7.bind(null,n,e,t),e.then(n,n))}function IO(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function NO(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=al(-1,1),e.tag=2,ia(t,e,1))),t.lanes|=1),n)}var M7=Sl.ReactCurrentOwner,Or=!1;function pr(n,e,t,i){e.child=n===null?n3(e,null,t,i):Bu(e,n.child,t,i)}function BO(n,e,t,i,r){t=t.render;var o=e.ref;return pu(e,r),i=vM(n,e,t,i,o,r),t=yM(),n!==null&&!Or?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ml(n,e,r)):(On&&t&&oM(e),e.flags|=1,pr(n,e,i,r),e.child)}function LO(n,e,t,i,r){if(n===null){var o=t.type;return typeof o=="function"&&!OM(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,O3(n,e,o,i,r)):(n=um(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&r)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:tf,t(s,i)&&n.ref===e.ref)return ml(n,e,r)}return e.flags|=1,n=sa(o,i),n.ref=e.ref,n.return=e,e.child=n}function O3(n,e,t,i,r){if(n!==null){var o=n.memoizedProps;if(tf(o,i)&&n.ref===e.ref)if(Or=!1,e.pendingProps=i=o,(n.lanes&r)!==0)n.flags&131072&&(Or=!0);else return e.lanes=n.lanes,ml(n,e,r)}return rw(n,e,t,i,r)}function A3(n,e,t){var i=e.pendingProps,r=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},un(Zc,qr),qr|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,un(Zc,qr),qr|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:t,un(Zc,qr),qr|=i}else o!==null?(i=o.baseLanes|t,e.memoizedState=null):i=t,un(Zc,qr),qr|=i;return pr(n,e,r,t),e.child}function R3(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function rw(n,e,t,i,r){var o=Br(t)?Xa:cr.current;return o=Iu(e,o),pu(e,r),t=vM(n,e,t,i,o,r),i=yM(),n!==null&&!Or?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ml(n,e,r)):(On&&i&&oM(e),e.flags|=1,pr(n,e,t,r),e.child)}function HO(n,e,t,i,r){if(Br(t)){var o=!0;h0(e)}else o=!1;if(pu(e,r),e.stateNode===null)lm(n,e),M3(e,t,i),nw(e,t,i,r),i=!0;else if(n===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,c=t.contextType;typeof c=="object"&&c!==null?c=wo(c):(c=Br(t)?Xa:cr.current,c=Iu(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==i||a!==c)&&TO(e,s,i,c),Rl=!1;var d=e.memoizedState;s.state=d,m0(e,i,s,r),a=e.memoizedState,l!==i||d!==a||Nr.current||Rl?(typeof u=="function"&&(tw(e,t,u,i),a=e.memoizedState),(l=Rl||DO(e,t,l,i,d,a,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),s.props=i,s.state=a,s.context=c,i=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,r3(n,e),l=e.memoizedProps,c=e.type===e.elementType?l:Vo(e.type,l),s.props=c,h=e.pendingProps,d=s.context,a=t.contextType,typeof a=="object"&&a!==null?a=wo(a):(a=Br(t)?Xa:cr.current,a=Iu(e,a));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||d!==a)&&TO(e,s,i,a),Rl=!1,d=e.memoizedState,s.state=d,m0(e,i,s,r);var g=e.memoizedState;l!==h||d!==g||Nr.current||Rl?(typeof f=="function"&&(tw(e,t,f,i),g=e.memoizedState),(c=Rl||DO(e,t,c,i,d,g,a)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,g,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,g,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),s.props=i,s.state=g,s.context=a,i=c):(typeof s.componentDidUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),i=!1)}return ow(n,e,t,i,o,r)}function ow(n,e,t,i,r,o){R3(n,e);var s=(e.flags&128)!==0;if(!i&&!s)return r&&CO(e,t,!1),ml(n,e,o);i=e.stateNode,M7.current=e;var l=s&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&s?(e.child=Bu(e,n.child,null,o),e.child=Bu(e,null,l,o)):pr(n,e,l,o),e.memoizedState=i.state,r&&CO(e,t,!0),e.child}function D3(n){var e=n.stateNode;e.pendingContext?xO(n,e.pendingContext,e.pendingContext!==e.context):e.context&&xO(n,e.context,!1),fM(n,e.containerInfo)}function zO(n,e,t,i,r){return Nu(),lM(r),e.flags|=256,pr(n,e,t,i),e.child}var sw={dehydrated:null,treeContext:null,retryLane:0};function lw(n){return{baseLanes:n,cachePool:null,transitions:null}}function T3(n,e,t){var i=e.pendingProps,r=Vn.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=n!==null&&n.memoizedState===null?!1:(r&2)!==0),l?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),un(Vn,r&1),n===null)return ZS(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,n=i.fallback,o?(i=e.mode,o=e.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=qv(s,i,0,null),n=Fa(n,i,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=lw(t),e.memoizedState=sw,n):wM(e,s));if(r=n.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return $7(n,e,s,i,l,r,t);if(o){o=i.fallback,s=e.mode,r=n.child,l=r.sibling;var a={mode:"hidden",children:i.children};return!(s&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=sa(r,a),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?o=sa(l,o):(o=Fa(o,s,t,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,s=n.child.memoizedState,s=s===null?lw(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~t,e.memoizedState=sw,i}return o=n.child,n=o.sibling,i=sa(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function wM(n,e){return e=qv({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Zp(n,e,t,i){return i!==null&&lM(i),Bu(e,n.child,null,t),n=wM(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function $7(n,e,t,i,r,o,s){if(t)return e.flags&256?(e.flags&=-257,i=Db(Error(Ee(422))),Zp(n,e,s,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=qv({mode:"visible",children:i.children},r,0,null),o=Fa(o,r,s,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Bu(e,n.child,null,s),e.child.memoizedState=lw(s),e.memoizedState=sw,o);if(!(e.mode&1))return Zp(n,e,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,o=Error(Ee(419)),i=Db(o,i,void 0),Zp(n,e,s,i)}if(l=(s&n.childLanes)!==0,Or||l){if(i=Ai,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,gl(n,r),Qo(i,n,r,-1))}return kM(),i=Db(Error(Ee(421))),Zp(n,e,s,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=z7.bind(null,n),r._reactRetry=e,null):(n=o.treeContext,eo=na(r.nextSibling),ro=e,On=!0,jo=null,n!==null&&(po[go++]=sl,po[go++]=ll,po[go++]=Ya,sl=n.id,ll=n.overflow,Ya=e),e=wM(e,i.children),e.flags|=4096,e)}function VO(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),ew(n.return,e,t)}function Tb(n,e,t,i,r){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=t,o.tailMode=r)}function P3(n,e,t){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(pr(n,e,i.children,t),i=Vn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&VO(n,t,e);else if(n.tag===19)VO(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(un(Vn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&v0(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Tb(e,!1,r,t,o);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&v0(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Tb(e,!0,t,null,o);break;case"together":Tb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ml(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ja|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ee(153));if(e.child!==null){for(n=e.child,t=sa(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=sa(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function k7(n,e,t){switch(e.tag){case 3:D3(e),Nu();break;case 5:o3(e);break;case 1:Br(e.type)&&h0(e);break;case 4:fM(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;un(p0,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(un(Vn,Vn.current&1),e.flags|=128,null):t&e.child.childLanes?T3(n,e,t):(un(Vn,Vn.current&1),n=ml(n,e,t),n!==null?n.sibling:null);un(Vn,Vn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return P3(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),un(Vn,Vn.current),i)break;return null;case 22:case 23:return e.lanes=0,A3(n,e,t)}return ml(n,e,t)}var I3,aw,N3,B3;I3=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};aw=function(){};N3=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Ia(Ps.current);var o=null;switch(t){case"input":r=RS(n,r),i=RS(n,i),o=[];break;case"select":r=_n({},r,{value:void 0}),i=_n({},i,{value:void 0}),o=[];break;case"textarea":r=PS(n,r),i=PS(n,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=c0)}NS(t,i);var s;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var l=r[c];for(s in l)l.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ud.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var a=i[c];if(l=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(t||(t={}),t[s]=a[s])}else t||(o||(o=[]),o.push(c,t)),t=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ud.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&gn("scroll",n),o||l===a||(o=[])):(o=o||[]).push(c,a))}t&&(o=o||[]).push("style",t);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};B3=function(n,e,t,i){t!==i&&(e.flags|=4)};function Dh(n,e){if(!On)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function tr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function O7(n,e,t){var i=e.pendingProps;switch(sM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(e),null;case 1:return Br(e.type)&&u0(),tr(e),null;case 3:return i=e.stateNode,Lu(),Cn(Nr),Cn(cr),gM(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Qp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jo!==null&&(mw(jo),jo=null))),aw(n,e),tr(e),null;case 5:pM(e);var r=Ia(lf.current);if(t=e.type,n!==null&&e.stateNode!=null)N3(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Ee(166));return tr(e),null}if(n=Ia(Ps.current),Qp(e)){i=e.stateNode,t=e.type;var o=e.memoizedProps;switch(i[ks]=e,i[of]=o,n=(e.mode&1)!==0,t){case"dialog":gn("cancel",i),gn("close",i);break;case"iframe":case"object":case"embed":gn("load",i);break;case"video":case"audio":for(r=0;r<Gh.length;r++)gn(Gh[r],i);break;case"source":gn("error",i);break;case"img":case"image":case"link":gn("error",i),gn("load",i);break;case"details":gn("toggle",i);break;case"input":Xk(i,o),gn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},gn("invalid",i);break;case"textarea":Qk(i,o),gn("invalid",i)}NS(t,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?i.textContent!==l&&(o.suppressHydrationWarning!==!0&&Yp(i.textContent,l,n),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Yp(i.textContent,l,n),r=["children",""+l]):Ud.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&gn("scroll",i)}switch(t){case"input":Wp(i),Yk(i,o,!0);break;case"textarea":Wp(i),Jk(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=c0)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=uL(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=s.createElement(t,{is:i.is}):(n=s.createElement(t),t==="select"&&(s=n,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):n=s.createElementNS(n,t),n[ks]=e,n[of]=i,I3(n,e,!1,!1),e.stateNode=n;e:{switch(s=BS(t,i),t){case"dialog":gn("cancel",n),gn("close",n),r=i;break;case"iframe":case"object":case"embed":gn("load",n),r=i;break;case"video":case"audio":for(r=0;r<Gh.length;r++)gn(Gh[r],n);r=i;break;case"source":gn("error",n),r=i;break;case"img":case"image":case"link":gn("error",n),gn("load",n),r=i;break;case"details":gn("toggle",n),r=i;break;case"input":Xk(n,i),r=RS(n,i),gn("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=_n({},i,{value:void 0}),gn("invalid",n);break;case"textarea":Qk(n,i),r=PS(n,i),gn("invalid",n);break;default:r=i}NS(t,r),l=r;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?fL(n,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&hL(n,a)):o==="children"?typeof a=="string"?(t!=="textarea"||a!=="")&&Xd(n,a):typeof a=="number"&&Xd(n,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ud.hasOwnProperty(o)?a!=null&&o==="onScroll"&&gn("scroll",n):a!=null&&KE(n,o,a,s))}switch(t){case"input":Wp(n),Yk(n,i,!1);break;case"textarea":Wp(n),Jk(n);break;case"option":i.value!=null&&n.setAttribute("value",""+ua(i.value));break;case"select":n.multiple=!!i.multiple,o=i.value,o!=null?uu(n,!!i.multiple,o,!1):i.defaultValue!=null&&uu(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=c0)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tr(e),null;case 6:if(n&&e.stateNode!=null)B3(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ee(166));if(t=Ia(lf.current),Ia(Ps.current),Qp(e)){if(i=e.stateNode,t=e.memoizedProps,i[ks]=e,(o=i.nodeValue!==t)&&(n=ro,n!==null))switch(n.tag){case 3:Yp(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Yp(i.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[ks]=e,e.stateNode=i}return tr(e),null;case 13:if(Cn(Vn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(On&&eo!==null&&e.mode&1&&!(e.flags&128))e3(),Nu(),e.flags|=98560,o=!1;else if(o=Qp(e),i!==null&&i.dehydrated!==null){if(n===null){if(!o)throw Error(Ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ee(317));o[ks]=e}else Nu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tr(e),o=!1}else jo!==null&&(mw(jo),jo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Vn.current&1?gi===0&&(gi=3):kM())),e.updateQueue!==null&&(e.flags|=4),tr(e),null);case 4:return Lu(),aw(n,e),n===null&&nf(e.stateNode.containerInfo),tr(e),null;case 10:return uM(e.type._context),tr(e),null;case 17:return Br(e.type)&&u0(),tr(e),null;case 19:if(Cn(Vn),o=e.memoizedState,o===null)return tr(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)Dh(o,!1);else{if(gi!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=v0(n),s!==null){for(e.flags|=128,Dh(o,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)o=t,n=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return un(Vn,Vn.current&1|2),e.child}n=n.sibling}o.tail!==null&&ni()>zu&&(e.flags|=128,i=!0,Dh(o,!1),e.lanes=4194304)}else{if(!i)if(n=v0(s),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Dh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!On)return tr(e),null}else 2*ni()-o.renderingStartTime>zu&&t!==1073741824&&(e.flags|=128,i=!0,Dh(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ni(),e.sibling=null,t=Vn.current,un(Vn,i?t&1|2:t&1),e):(tr(e),null);case 22:case 23:return $M(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?qr&1073741824&&(tr(e),e.subtreeFlags&6&&(e.flags|=8192)):tr(e),null;case 24:return null;case 25:return null}throw Error(Ee(156,e.tag))}function A7(n,e){switch(sM(e),e.tag){case 1:return Br(e.type)&&u0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Lu(),Cn(Nr),Cn(cr),gM(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return pM(e),null;case 13:if(Cn(Vn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ee(340));Nu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Cn(Vn),null;case 4:return Lu(),null;case 10:return uM(e.type._context),null;case 22:case 23:return $M(),null;case 24:return null;default:return null}}var eg=!1,ir=!1,R7=typeof WeakSet=="function"?WeakSet:Set,je=null;function Jc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Yn(n,e,i)}else t.current=null}function cw(n,e,t){try{t()}catch(i){Yn(n,e,i)}}var FO=!1;function D7(n,e){if(qS=s0,n=FL(),rM(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,l=-1,a=-1,c=0,u=0,h=n,d=null;t:for(;;){for(var f;h!==t||r!==0&&h.nodeType!==3||(l=s+r),h!==o||i!==0&&h.nodeType!==3||(a=s+i),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===n)break t;if(d===t&&++c===r&&(l=s),d===o&&++u===i&&(a=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}t=l===-1||a===-1?null:{start:l,end:a}}else t=null}t=t||{start:0,end:0}}else t=null;for(GS={focusedElem:n,selectionRange:t},s0=!1,je=e;je!==null;)if(e=je,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,je=n;else for(;je!==null;){e=je;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,m=e.stateNode,b=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Vo(e.type,y),v);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(w){Yn(e,e.return,w)}if(n=e.sibling,n!==null){n.return=e.return,je=n;break}je=e.return}return g=FO,FO=!1,g}function kd(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var o=r.destroy;r.destroy=void 0,o!==void 0&&cw(e,t,o)}r=r.next}while(r!==i)}}function jv(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function uw(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function L3(n){var e=n.alternate;e!==null&&(n.alternate=null,L3(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ks],delete e[of],delete e[YS],delete e[f7],delete e[p7])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function H3(n){return n.tag===5||n.tag===3||n.tag===4}function WO(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||H3(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hw(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=c0));else if(i!==4&&(n=n.child,n!==null))for(hw(n,e,t),n=n.sibling;n!==null;)hw(n,e,t),n=n.sibling}function dw(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(dw(n,e,t),n=n.sibling;n!==null;)dw(n,e,t),n=n.sibling}var Vi=null,Fo=!1;function Ml(n,e,t){for(t=t.child;t!==null;)z3(n,e,t),t=t.sibling}function z3(n,e,t){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(Bv,t)}catch{}switch(t.tag){case 5:ir||Jc(t,e);case 6:var i=Vi,r=Fo;Vi=null,Ml(n,e,t),Vi=i,Fo=r,Vi!==null&&(Fo?(n=Vi,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Vi.removeChild(t.stateNode));break;case 18:Vi!==null&&(Fo?(n=Vi,t=t.stateNode,n.nodeType===8?Mb(n.parentNode,t):n.nodeType===1&&Mb(n,t),Zd(n)):Mb(Vi,t.stateNode));break;case 4:i=Vi,r=Fo,Vi=t.stateNode.containerInfo,Fo=!0,Ml(n,e,t),Vi=i,Fo=r;break;case 0:case 11:case 14:case 15:if(!ir&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&cw(t,e,s),r=r.next}while(r!==i)}Ml(n,e,t);break;case 1:if(!ir&&(Jc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(l){Yn(t,e,l)}Ml(n,e,t);break;case 21:Ml(n,e,t);break;case 22:t.mode&1?(ir=(i=ir)||t.memoizedState!==null,Ml(n,e,t),ir=i):Ml(n,e,t);break;default:Ml(n,e,t)}}function _O(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new R7),e.forEach(function(i){var r=V7.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Po(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var o=n,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Vi=l.stateNode,Fo=!1;break e;case 3:Vi=l.stateNode.containerInfo,Fo=!0;break e;case 4:Vi=l.stateNode.containerInfo,Fo=!0;break e}l=l.return}if(Vi===null)throw Error(Ee(160));z3(o,s,r),Vi=null,Fo=!1;var a=r.alternate;a!==null&&(a.return=null),r.return=null}catch(c){Yn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)V3(e,n),e=e.sibling}function V3(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Po(e,n),cs(n),i&4){try{kd(3,n,n.return),jv(3,n)}catch(y){Yn(n,n.return,y)}try{kd(5,n,n.return)}catch(y){Yn(n,n.return,y)}}break;case 1:Po(e,n),cs(n),i&512&&t!==null&&Jc(t,t.return);break;case 5:if(Po(e,n),cs(n),i&512&&t!==null&&Jc(t,t.return),n.flags&32){var r=n.stateNode;try{Xd(r,"")}catch(y){Yn(n,n.return,y)}}if(i&4&&(r=n.stateNode,r!=null)){var o=n.memoizedProps,s=t!==null?t.memoizedProps:o,l=n.type,a=n.updateQueue;if(n.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&aL(r,o),BS(l,s);var c=BS(l,o);for(s=0;s<a.length;s+=2){var u=a[s],h=a[s+1];u==="style"?fL(r,h):u==="dangerouslySetInnerHTML"?hL(r,h):u==="children"?Xd(r,h):KE(r,u,h,c)}switch(l){case"input":DS(r,o);break;case"textarea":cL(r,o);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?uu(r,!!o.multiple,f,!1):d!==!!o.multiple&&(o.defaultValue!=null?uu(r,!!o.multiple,o.defaultValue,!0):uu(r,!!o.multiple,o.multiple?[]:"",!1))}r[of]=o}catch(y){Yn(n,n.return,y)}}break;case 6:if(Po(e,n),cs(n),i&4){if(n.stateNode===null)throw Error(Ee(162));r=n.stateNode,o=n.memoizedProps;try{r.nodeValue=o}catch(y){Yn(n,n.return,y)}}break;case 3:if(Po(e,n),cs(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Zd(e.containerInfo)}catch(y){Yn(n,n.return,y)}break;case 4:Po(e,n),cs(n);break;case 13:Po(e,n),cs(n),r=n.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(EM=ni())),i&4&&_O(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(ir=(c=ir)||u,Po(e,n),ir=c):Po(e,n),cs(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(je=n,u=n.child;u!==null;){for(h=je=u;je!==null;){switch(d=je,f=d.child,d.tag){case 0:case 11:case 14:case 15:kd(4,d,d.return);break;case 1:Jc(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){i=d,t=d.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Yn(i,t,y)}}break;case 5:Jc(d,d.return);break;case 22:if(d.memoizedState!==null){KO(h);continue}}f!==null?(f.return=d,je=f):KO(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,a=h.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=dL("display",s))}catch(y){Yn(n,n.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Yn(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Po(e,n),cs(n),i&4&&_O(n);break;case 21:break;default:Po(e,n),cs(n)}}function cs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(H3(t)){var i=t;break e}t=t.return}throw Error(Ee(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Xd(r,""),i.flags&=-33);var o=WO(n);dw(n,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,l=WO(n);hw(n,l,s);break;default:throw Error(Ee(161))}}catch(a){Yn(n,n.return,a)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function T7(n,e,t){je=n,F3(n)}function F3(n,e,t){for(var i=(n.mode&1)!==0;je!==null;){var r=je,o=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||eg;if(!s){var l=r.alternate,a=l!==null&&l.memoizedState!==null||ir;l=eg;var c=ir;if(eg=s,(ir=a)&&!c)for(je=r;je!==null;)s=je,a=s.child,s.tag===22&&s.memoizedState!==null?qO(r):a!==null?(a.return=s,je=a):qO(r);for(;o!==null;)je=o,F3(o),o=o.sibling;je=r,eg=l,ir=c}jO(n)}else r.subtreeFlags&8772&&o!==null?(o.return=r,je=o):jO(n)}}function jO(n){for(;je!==null;){var e=je;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ir||jv(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ir)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Vo(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&OO(e,o,i);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}OO(e,s,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&t.focus();break;case"img":a.src&&(t.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Zd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}ir||e.flags&512&&uw(e)}catch(d){Yn(e,e.return,d)}}if(e===n){je=null;break}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}}function KO(n){for(;je!==null;){var e=je;if(e===n){je=null;break}var t=e.sibling;if(t!==null){t.return=e.return,je=t;break}je=e.return}}function qO(n){for(;je!==null;){var e=je;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{jv(4,e)}catch(a){Yn(e,t,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(a){Yn(e,r,a)}}var o=e.return;try{uw(e)}catch(a){Yn(e,o,a)}break;case 5:var s=e.return;try{uw(e)}catch(a){Yn(e,s,a)}}}catch(a){Yn(e,e.return,a)}if(e===n){je=null;break}var l=e.sibling;if(l!==null){l.return=e.return,je=l;break}je=e.return}}var P7=Math.ceil,S0=Sl.ReactCurrentDispatcher,xM=Sl.ReactCurrentOwner,So=Sl.ReactCurrentBatchConfig,_t=0,Ai=null,ai=null,Ui=0,qr=0,Zc=wa(0),gi=0,hf=null,Ja=0,Kv=0,CM=0,Od=null,Mr=null,EM=0,zu=1/0,nl=null,w0=!1,fw=null,ra=null,tg=!1,Vl=null,x0=0,Ad=0,pw=null,am=-1,cm=0;function yr(){return _t&6?ni():am!==-1?am:am=ni()}function oa(n){return n.mode&1?_t&2&&Ui!==0?Ui&-Ui:m7.transition!==null?(cm===0&&(cm=ML()),cm):(n=tn,n!==0||(n=window.event,n=n===void 0?16:TL(n.type)),n):1}function Qo(n,e,t,i){if(50<Ad)throw Ad=0,pw=null,Error(Ee(185));hp(n,t,i),(!(_t&2)||n!==Ai)&&(n===Ai&&(!(_t&2)&&(Kv|=t),gi===4&&Nl(n,Ui)),Lr(n,i),t===1&&_t===0&&!(e.mode&1)&&(zu=ni()+500,Fv&&xa()))}function Lr(n,e){var t=n.callbackNode;mK(n,e);var i=o0(n,n===Ai?Ui:0);if(i===0)t!==null&&tO(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&tO(t),e===1)n.tag===0?g7(GO.bind(null,n)):QL(GO.bind(null,n)),h7(function(){!(_t&6)&&xa()}),t=null;else{switch($L(i)){case 1:t=YE;break;case 4:t=CL;break;case 16:t=r0;break;case 536870912:t=EL;break;default:t=r0}t=X3(t,W3.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function W3(n,e){if(am=-1,cm=0,_t&6)throw Error(Ee(327));var t=n.callbackNode;if(gu()&&n.callbackNode!==t)return null;var i=o0(n,n===Ai?Ui:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=C0(n,i);else{e=i;var r=_t;_t|=2;var o=j3();(Ai!==n||Ui!==e)&&(nl=null,zu=ni()+500,Va(n,e));do try{B7();break}catch(l){_3(n,l)}while(!0);cM(),S0.current=o,_t=r,ai!==null?e=0:(Ai=null,Ui=0,e=gi)}if(e!==0){if(e===2&&(r=FS(n),r!==0&&(i=r,e=gw(n,r))),e===1)throw t=hf,Va(n,0),Nl(n,i),Lr(n,ni()),t;if(e===6)Nl(n,i);else{if(r=n.current.alternate,!(i&30)&&!I7(r)&&(e=C0(n,i),e===2&&(o=FS(n),o!==0&&(i=o,e=gw(n,o))),e===1))throw t=hf,Va(n,0),Nl(n,i),Lr(n,ni()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Ee(345));case 2:Oa(n,Mr,nl);break;case 3:if(Nl(n,i),(i&130023424)===i&&(e=EM+500-ni(),10<e)){if(o0(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){yr(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=XS(Oa.bind(null,n,Mr,nl),e);break}Oa(n,Mr,nl);break;case 4:if(Nl(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var s=31-Yo(i);o=1<<s,s=e[s],s>r&&(r=s),i&=~o}if(i=r,i=ni()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*P7(i/1960))-i,10<i){n.timeoutHandle=XS(Oa.bind(null,n,Mr,nl),i);break}Oa(n,Mr,nl);break;case 5:Oa(n,Mr,nl);break;default:throw Error(Ee(329))}}}return Lr(n,ni()),n.callbackNode===t?W3.bind(null,n):null}function gw(n,e){var t=Od;return n.current.memoizedState.isDehydrated&&(Va(n,e).flags|=256),n=C0(n,e),n!==2&&(e=Mr,Mr=t,e!==null&&mw(e)),n}function mw(n){Mr===null?Mr=n:Mr.push.apply(Mr,n)}function I7(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],o=r.getSnapshot;r=r.value;try{if(!es(o(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nl(n,e){for(e&=~CM,e&=~Kv,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Yo(e),i=1<<t;n[t]=-1,e&=~i}}function GO(n){if(_t&6)throw Error(Ee(327));gu();var e=o0(n,0);if(!(e&1))return Lr(n,ni()),null;var t=C0(n,e);if(n.tag!==0&&t===2){var i=FS(n);i!==0&&(e=i,t=gw(n,i))}if(t===1)throw t=hf,Va(n,0),Nl(n,e),Lr(n,ni()),t;if(t===6)throw Error(Ee(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Oa(n,Mr,nl),Lr(n,ni()),null}function MM(n,e){var t=_t;_t|=1;try{return n(e)}finally{_t=t,_t===0&&(zu=ni()+500,Fv&&xa())}}function Za(n){Vl!==null&&Vl.tag===0&&!(_t&6)&&gu();var e=_t;_t|=1;var t=So.transition,i=tn;try{if(So.transition=null,tn=1,n)return n()}finally{tn=i,So.transition=t,_t=e,!(_t&6)&&xa()}}function $M(){qr=Zc.current,Cn(Zc)}function Va(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,u7(t)),ai!==null)for(t=ai.return;t!==null;){var i=t;switch(sM(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&u0();break;case 3:Lu(),Cn(Nr),Cn(cr),gM();break;case 5:pM(i);break;case 4:Lu();break;case 13:Cn(Vn);break;case 19:Cn(Vn);break;case 10:uM(i.type._context);break;case 22:case 23:$M()}t=t.return}if(Ai=n,ai=n=sa(n.current,null),Ui=qr=e,gi=0,hf=null,CM=Kv=Ja=0,Mr=Od=null,Pa!==null){for(e=0;e<Pa.length;e++)if(t=Pa[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,o=t.pending;if(o!==null){var s=o.next;o.next=r,i.next=s}t.pending=i}Pa=null}return n}function _3(n,e){do{var t=ai;try{if(cM(),om.current=b0,y0){for(var i=Wn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}y0=!1}if(Qa=0,Oi=pi=Wn=null,$d=!1,af=0,xM.current=null,t===null||t.return===null){gi=1,hf=e,ai=null;break}e:{var o=n,s=t.return,l=t,a=e;if(e=Ui,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=IO(s);if(f!==null){f.flags&=-257,NO(f,s,l,o,e),f.mode&1&&PO(o,c,e),e=f,a=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(a),e.updateQueue=y}else g.add(a);break e}else{if(!(e&1)){PO(o,c,e),kM();break e}a=Error(Ee(426))}}else if(On&&l.mode&1){var v=IO(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),NO(v,s,l,o,e),lM(Hu(a,l));break e}}o=a=Hu(a,l),gi!==4&&(gi=2),Od===null?Od=[o]:Od.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=$3(o,a,e);kO(o,m);break e;case 1:l=a;var b=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ra===null||!ra.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=k3(o,l,e);kO(o,w);break e}}o=o.return}while(o!==null)}q3(t)}catch(x){e=x,ai===t&&t!==null&&(ai=t=t.return);continue}break}while(!0)}function j3(){var n=S0.current;return S0.current=b0,n===null?b0:n}function kM(){(gi===0||gi===3||gi===2)&&(gi=4),Ai===null||!(Ja&268435455)&&!(Kv&268435455)||Nl(Ai,Ui)}function C0(n,e){var t=_t;_t|=2;var i=j3();(Ai!==n||Ui!==e)&&(nl=null,Va(n,e));do try{N7();break}catch(r){_3(n,r)}while(!0);if(cM(),_t=t,S0.current=i,ai!==null)throw Error(Ee(261));return Ai=null,Ui=0,gi}function N7(){for(;ai!==null;)K3(ai)}function B7(){for(;ai!==null&&!lK();)K3(ai)}function K3(n){var e=U3(n.alternate,n,qr);n.memoizedProps=n.pendingProps,e===null?q3(n):ai=e,xM.current=null}function q3(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=A7(t,e),t!==null){t.flags&=32767,ai=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{gi=6,ai=null;return}}else if(t=O7(t,e,qr),t!==null){ai=t;return}if(e=e.sibling,e!==null){ai=e;return}ai=e=n}while(e!==null);gi===0&&(gi=5)}function Oa(n,e,t){var i=tn,r=So.transition;try{So.transition=null,tn=1,L7(n,e,t,i)}finally{So.transition=r,tn=i}return null}function L7(n,e,t,i){do gu();while(Vl!==null);if(_t&6)throw Error(Ee(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ee(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(vK(n,o),n===Ai&&(ai=Ai=null,Ui=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||tg||(tg=!0,X3(r0,function(){return gu(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=So.transition,So.transition=null;var s=tn;tn=1;var l=_t;_t|=4,xM.current=null,D7(n,t),V3(t,n),i7(GS),s0=!!qS,GS=qS=null,n.current=t,T7(t),aK(),_t=l,tn=s,So.transition=o}else n.current=t;if(tg&&(tg=!1,Vl=n,x0=r),o=n.pendingLanes,o===0&&(ra=null),hK(t.stateNode),Lr(n,ni()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(w0)throw w0=!1,n=fw,fw=null,n;return x0&1&&n.tag!==0&&gu(),o=n.pendingLanes,o&1?n===pw?Ad++:(Ad=0,pw=n):Ad=0,xa(),null}function gu(){if(Vl!==null){var n=$L(x0),e=So.transition,t=tn;try{if(So.transition=null,tn=16>n?16:n,Vl===null)var i=!1;else{if(n=Vl,Vl=null,x0=0,_t&6)throw Error(Ee(331));var r=_t;for(_t|=4,je=n.current;je!==null;){var o=je,s=o.child;if(je.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(je=c;je!==null;){var u=je;switch(u.tag){case 0:case 11:case 15:kd(8,u,o)}var h=u.child;if(h!==null)h.return=u,je=h;else for(;je!==null;){u=je;var d=u.sibling,f=u.return;if(L3(u),u===c){je=null;break}if(d!==null){d.return=f,je=d;break}je=f}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}je=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,je=s;else e:for(;je!==null;){if(o=je,o.flags&2048)switch(o.tag){case 0:case 11:case 15:kd(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,je=m;break e}je=o.return}}var b=n.current;for(je=b;je!==null;){s=je;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,je=S;else e:for(s=b;je!==null;){if(l=je,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jv(9,l)}}catch(x){Yn(l,l.return,x)}if(l===s){je=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,je=w;break e}je=l.return}}if(_t=r,xa(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(Bv,n)}catch{}i=!0}return i}finally{tn=t,So.transition=e}}return!1}function UO(n,e,t){e=Hu(t,e),e=$3(n,e,1),n=ia(n,e,1),e=yr(),n!==null&&(hp(n,1,e),Lr(n,e))}function Yn(n,e,t){if(n.tag===3)UO(n,n,t);else for(;e!==null;){if(e.tag===3){UO(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ra===null||!ra.has(i))){n=Hu(t,n),n=k3(e,n,1),e=ia(e,n,1),n=yr(),e!==null&&(hp(e,1,n),Lr(e,n));break}}e=e.return}}function H7(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=yr(),n.pingedLanes|=n.suspendedLanes&t,Ai===n&&(Ui&t)===t&&(gi===4||gi===3&&(Ui&130023424)===Ui&&500>ni()-EM?Va(n,0):CM|=t),Lr(n,e)}function G3(n,e){e===0&&(n.mode&1?(e=Kp,Kp<<=1,!(Kp&130023424)&&(Kp=4194304)):e=1);var t=yr();n=gl(n,e),n!==null&&(hp(n,e,t),Lr(n,t))}function z7(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),G3(n,t)}function V7(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Ee(314))}i!==null&&i.delete(e),G3(n,t)}var U3;U3=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Nr.current)Or=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Or=!1,k7(n,e,t);Or=!!(n.flags&131072)}else Or=!1,On&&e.flags&1048576&&JL(e,f0,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;lm(n,e),n=e.pendingProps;var r=Iu(e,cr.current);pu(e,t),r=vM(null,e,i,n,r,t);var o=yM();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Br(i)?(o=!0,h0(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,dM(e),r.updater=_v,e.stateNode=r,r._reactInternals=e,nw(e,i,n,t),e=ow(null,e,i,!0,o,t)):(e.tag=0,On&&o&&oM(e),pr(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(lm(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=W7(i),n=Vo(i,n),r){case 0:e=rw(null,e,i,n,t);break e;case 1:e=HO(null,e,i,n,t);break e;case 11:e=BO(null,e,i,n,t);break e;case 14:e=LO(null,e,i,Vo(i.type,n),t);break e}throw Error(Ee(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Vo(i,r),rw(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Vo(i,r),HO(n,e,i,r,t);case 3:e:{if(D3(e),n===null)throw Error(Ee(387));i=e.pendingProps,o=e.memoizedState,r=o.element,r3(n,e),m0(e,i,null,t);var s=e.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Hu(Error(Ee(423)),e),e=zO(n,e,i,t,r);break e}else if(i!==r){r=Hu(Error(Ee(424)),e),e=zO(n,e,i,t,r);break e}else for(eo=na(e.stateNode.containerInfo.firstChild),ro=e,On=!0,jo=null,t=n3(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Nu(),i===r){e=ml(n,e,t);break e}pr(n,e,i,t)}e=e.child}return e;case 5:return o3(e),n===null&&ZS(e),i=e.type,r=e.pendingProps,o=n!==null?n.memoizedProps:null,s=r.children,US(i,r)?s=null:o!==null&&US(i,o)&&(e.flags|=32),R3(n,e),pr(n,e,s,t),e.child;case 6:return n===null&&ZS(e),null;case 13:return T3(n,e,t);case 4:return fM(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Bu(e,null,i,t):pr(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Vo(i,r),BO(n,e,i,r,t);case 7:return pr(n,e,e.pendingProps,t),e.child;case 8:return pr(n,e,e.pendingProps.children,t),e.child;case 12:return pr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=r.value,un(p0,i._currentValue),i._currentValue=s,o!==null)if(es(o.value,s)){if(o.children===r.children&&!Nr.current){e=ml(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(o.tag===1){a=al(-1,t&-t),a.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),ew(o.return,t,e),l.lanes|=t;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ee(341));s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),ew(s,t,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}pr(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,pu(e,t),r=wo(r),i=i(r),e.flags|=1,pr(n,e,i,t),e.child;case 14:return i=e.type,r=Vo(i,e.pendingProps),r=Vo(i.type,r),LO(n,e,i,r,t);case 15:return O3(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Vo(i,r),lm(n,e),e.tag=1,Br(i)?(n=!0,h0(e)):n=!1,pu(e,t),M3(e,i,r),nw(e,i,r,t),ow(null,e,i,!0,n,t);case 19:return P3(n,e,t);case 22:return A3(n,e,t)}throw Error(Ee(156,e.tag))};function X3(n,e){return xL(n,e)}function F7(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yo(n,e,t,i){return new F7(n,e,t,i)}function OM(n){return n=n.prototype,!(!n||!n.isReactComponent)}function W7(n){if(typeof n=="function")return OM(n)?1:0;if(n!=null){if(n=n.$$typeof,n===GE)return 11;if(n===UE)return 14}return 2}function sa(n,e){var t=n.alternate;return t===null?(t=yo(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function um(n,e,t,i,r,o){var s=2;if(i=n,typeof n=="function")OM(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case _c:return Fa(t.children,r,o,e);case qE:s=8,r|=8;break;case $S:return n=yo(12,t,e,r|2),n.elementType=$S,n.lanes=o,n;case kS:return n=yo(13,t,e,r),n.elementType=kS,n.lanes=o,n;case OS:return n=yo(19,t,e,r),n.elementType=OS,n.lanes=o,n;case oL:return qv(t,r,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case iL:s=10;break e;case rL:s=9;break e;case GE:s=11;break e;case UE:s=14;break e;case Al:s=16,i=null;break e}throw Error(Ee(130,n==null?n:typeof n,""))}return e=yo(s,t,e,r),e.elementType=n,e.type=i,e.lanes=o,e}function Fa(n,e,t,i){return n=yo(7,n,i,e),n.lanes=t,n}function qv(n,e,t,i){return n=yo(22,n,i,e),n.elementType=oL,n.lanes=t,n.stateNode={isHidden:!1},n}function Pb(n,e,t){return n=yo(6,n,null,e),n.lanes=t,n}function Ib(n,e,t){return e=yo(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function _7(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pb(0),this.expirationTimes=pb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pb(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function AM(n,e,t,i,r,o,s,l,a){return n=new _7(n,e,t,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=yo(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},dM(o),n}function j7(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wc,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function Y3(n){if(!n)return ha;n=n._reactInternals;e:{if(pc(n)!==n||n.tag!==1)throw Error(Ee(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Br(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ee(171))}if(n.tag===1){var t=n.type;if(Br(t))return YL(n,t,e)}return e}function Q3(n,e,t,i,r,o,s,l,a){return n=AM(t,i,!0,n,r,o,s,l,a),n.context=Y3(null),t=n.current,i=yr(),r=oa(t),o=al(i,r),o.callback=e??null,ia(t,o,r),n.current.lanes=r,hp(n,r,i),Lr(n,i),n}function Gv(n,e,t,i){var r=e.current,o=yr(),s=oa(r);return t=Y3(t),e.context===null?e.context=t:e.pendingContext=t,e=al(o,s),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=ia(r,e,s),n!==null&&(Qo(n,r,s,o),rm(n,r,s)),s}function E0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function XO(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function RM(n,e){XO(n,e),(n=n.alternate)&&XO(n,e)}function K7(){return null}var J3=typeof reportError=="function"?reportError:function(n){console.error(n)};function DM(n){this._internalRoot=n}Uv.prototype.render=DM.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ee(409));Gv(n,e,null,null)};Uv.prototype.unmount=DM.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Za(function(){Gv(null,n,null,null)}),e[pl]=null}};function Uv(n){this._internalRoot=n}Uv.prototype.unstable_scheduleHydration=function(n){if(n){var e=AL();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Il.length&&e!==0&&e<Il[t].priority;t++);Il.splice(t,0,n),t===0&&DL(n)}};function TM(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Xv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function YO(){}function q7(n,e,t,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var c=E0(s);o.call(c)}}var s=Q3(e,i,n,0,null,!1,!1,"",YO);return n._reactRootContainer=s,n[pl]=s.current,nf(n.nodeType===8?n.parentNode:n),Za(),s}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var c=E0(a);l.call(c)}}var a=AM(n,0,!1,null,null,!1,!1,"",YO);return n._reactRootContainer=a,n[pl]=a.current,nf(n.nodeType===8?n.parentNode:n),Za(function(){Gv(e,a,t,i)}),a}function Yv(n,e,t,i,r){var o=t._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var l=r;r=function(){var a=E0(s);l.call(a)}}Gv(e,s,n,r)}else s=q7(t,e,n,r,i);return E0(s)}kL=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=qh(e.pendingLanes);t!==0&&(QE(e,t|1),Lr(e,ni()),!(_t&6)&&(zu=ni()+500,xa()))}break;case 13:Za(function(){var i=gl(n,1);if(i!==null){var r=yr();Qo(i,n,1,r)}}),RM(n,1)}};JE=function(n){if(n.tag===13){var e=gl(n,134217728);if(e!==null){var t=yr();Qo(e,n,134217728,t)}RM(n,134217728)}};OL=function(n){if(n.tag===13){var e=oa(n),t=gl(n,e);if(t!==null){var i=yr();Qo(t,n,e,i)}RM(n,e)}};AL=function(){return tn};RL=function(n,e){var t=tn;try{return tn=n,e()}finally{tn=t}};HS=function(n,e,t){switch(e){case"input":if(DS(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Vv(i);if(!r)throw Error(Ee(90));lL(i),DS(i,r)}}}break;case"textarea":cL(n,t);break;case"select":e=t.value,e!=null&&uu(n,!!t.multiple,e,!1)}};mL=MM;vL=Za;var G7={usingClientEntryPoint:!1,Events:[fp,Gc,Vv,pL,gL,MM]},Th={findFiberByHostInstance:Ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U7={bundleType:Th.bundleType,version:Th.version,rendererPackageName:Th.rendererPackageName,rendererConfig:Th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=SL(n),n===null?null:n.stateNode},findFiberByHostInstance:Th.findFiberByHostInstance||K7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ng.isDisabled&&ng.supportsFiber)try{Bv=ng.inject(U7),Ts=ng}catch{}}so.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G7;so.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TM(e))throw Error(Ee(200));return j7(n,e,null,t)};so.createRoot=function(n,e){if(!TM(n))throw Error(Ee(299));var t=!1,i="",r=J3;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=AM(n,1,!1,null,null,t,!1,i,r),n[pl]=e.current,nf(n.nodeType===8?n.parentNode:n),new DM(e)};so.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ee(188)):(n=Object.keys(n).join(","),Error(Ee(268,n)));return n=SL(e),n=n===null?null:n.stateNode,n};so.flushSync=function(n){return Za(n)};so.hydrate=function(n,e,t){if(!Xv(e))throw Error(Ee(200));return Yv(null,n,e,!0,t)};so.hydrateRoot=function(n,e,t){if(!TM(n))throw Error(Ee(405));var i=t!=null&&t.hydratedSources||null,r=!1,o="",s=J3;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=Q3(e,null,n,1,t??null,r,!1,o,s),n[pl]=e.current,nf(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Uv(e)};so.render=function(n,e,t){if(!Xv(e))throw Error(Ee(200));return Yv(null,n,e,!1,t)};so.unmountComponentAtNode=function(n){if(!Xv(n))throw Error(Ee(40));return n._reactRootContainer?(Za(function(){Yv(null,null,n,!1,function(){n._reactRootContainer=null,n[pl]=null})}),!0):!1};so.unstable_batchedUpdates=MM;so.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Xv(t))throw Error(Ee(200));if(n==null||n._reactInternals===void 0)throw Error(Ee(38));return Yv(n,e,t,!1,i)};so.version="18.3.1-next-f1338f8080-20240426";function Z3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z3)}catch(n){console.error(n)}}Z3(),ZB.exports=so;var vl=ZB.exports;const df=HE(vl),X7=FB({__proto__:null,default:df},[vl]);var QO=vl;ES.createRoot=QO.createRoot,ES.hydrateRoot=QO.hydrateRoot;var eH={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(o=r(o,i(l)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var l in o)e.call(o,l)&&o[l]&&(s=r(s,l));return s}function r(o,s){return s?o?o+" "+s:o+s:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(eH);var Y7=eH.exports;const J=HE(Y7);function Se(){return Se=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Se.apply(null,arguments)}var tH={exports:{}},nn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PM=Symbol.for("react.element"),IM=Symbol.for("react.portal"),Qv=Symbol.for("react.fragment"),Jv=Symbol.for("react.strict_mode"),Zv=Symbol.for("react.profiler"),ey=Symbol.for("react.provider"),ty=Symbol.for("react.context"),Q7=Symbol.for("react.server_context"),ny=Symbol.for("react.forward_ref"),iy=Symbol.for("react.suspense"),ry=Symbol.for("react.suspense_list"),oy=Symbol.for("react.memo"),sy=Symbol.for("react.lazy"),J7=Symbol.for("react.offscreen"),nH;nH=Symbol.for("react.module.reference");function $o(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case PM:switch(n=n.type,n){case Qv:case Zv:case Jv:case iy:case ry:return n;default:switch(n=n&&n.$$typeof,n){case Q7:case ty:case ny:case sy:case oy:case ey:return n;default:return e}}case IM:return e}}}nn.ContextConsumer=ty;nn.ContextProvider=ey;nn.Element=PM;nn.ForwardRef=ny;nn.Fragment=Qv;nn.Lazy=sy;nn.Memo=oy;nn.Portal=IM;nn.Profiler=Zv;nn.StrictMode=Jv;nn.Suspense=iy;nn.SuspenseList=ry;nn.isAsyncMode=function(){return!1};nn.isConcurrentMode=function(){return!1};nn.isContextConsumer=function(n){return $o(n)===ty};nn.isContextProvider=function(n){return $o(n)===ey};nn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===PM};nn.isForwardRef=function(n){return $o(n)===ny};nn.isFragment=function(n){return $o(n)===Qv};nn.isLazy=function(n){return $o(n)===sy};nn.isMemo=function(n){return $o(n)===oy};nn.isPortal=function(n){return $o(n)===IM};nn.isProfiler=function(n){return $o(n)===Zv};nn.isStrictMode=function(n){return $o(n)===Jv};nn.isSuspense=function(n){return $o(n)===iy};nn.isSuspenseList=function(n){return $o(n)===ry};nn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Qv||n===Zv||n===Jv||n===iy||n===ry||n===J7||typeof n=="object"&&n!==null&&(n.$$typeof===sy||n.$$typeof===oy||n.$$typeof===ey||n.$$typeof===ty||n.$$typeof===ny||n.$$typeof===nH||n.getModuleId!==void 0)};nn.typeOf=$o;tH.exports=nn;var Rd=tH.exports;function ts(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return oe.Children.forEach(n,function(i){i==null&&!e.keepEmpty||(Array.isArray(i)?t=t.concat(ts(i)):Rd.isFragment(i)&&i.props?t=t.concat(ts(i.props.children,e)):t.push(i))}),t}var vw={},Z7=function(e){};function eq(n,e){}function tq(n,e){}function nq(){vw={}}function iH(n,e,t){!e&&!vw[t]&&(n(!1,t),vw[t]=!0)}function Dn(n,e){iH(eq,n,e)}function iq(n,e){iH(tq,n,e)}Dn.preMessage=Z7;Dn.resetWarned=nq;Dn.noteOnce=iq;function et(n){"@babel/helpers - typeof";return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(n)}function rq(n,e){if(et(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(et(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rH(n){var e=rq(n,"string");return et(e)=="symbol"?e:e+""}function N(n,e,t){return(e=rH(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function V(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(t),!0).forEach(function(i){N(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ff(n){return n instanceof HTMLElement||n instanceof SVGElement}function oq(n){return n&&et(n)==="object"&&ff(n.nativeElement)?n.nativeElement:ff(n)?n:null}function Dd(n){var e=oq(n);if(e)return e;if(n instanceof oe.Component){var t;return(t=df.findDOMNode)===null||t===void 0?void 0:t.call(df,n)}return null}function gc(n,e,t){var i=p.useRef({});return(!("value"in i.current)||t(i.current.condition,e))&&(i.current.value=n(),i.current.condition=e),i.current.value}var pf=function(e,t){typeof e=="function"?e(t):et(e)==="object"&&e&&"current"in e&&(e.current=t)},ko=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.filter(Boolean);return r.length<=1?r[0]:function(o){t.forEach(function(s){pf(s,o)})}},fh=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return gc(function(){return ko.apply(void 0,t)},t,function(r,o){return r.length!==o.length||r.every(function(s,l){return s!==o[l]})})},Ws=function(e){var t,i,r=Rd.isMemo(e)?e.type.type:e.type;return!(typeof r=="function"&&!((t=r.prototype)!==null&&t!==void 0&&t.render)&&r.$$typeof!==Rd.ForwardRef||typeof e=="function"&&!((i=e.prototype)!==null&&i!==void 0&&i.render)&&e.$$typeof!==Rd.ForwardRef)};function yw(n){return p.isValidElement(n)&&!Rd.isFragment(n)}var sq=function(e){return yw(e)&&Ws(e)};Number(p.version.split(".")[0])>=19;var bw=p.createContext(null);function lq(n){var e=n.children,t=n.onBatchResize,i=p.useRef(0),r=p.useRef([]),o=p.useContext(bw),s=p.useCallback(function(l,a,c){i.current+=1;var u=i.current;r.current.push({size:l,element:a,data:c}),Promise.resolve().then(function(){u===i.current&&(t==null||t(r.current),r.current=[])}),o==null||o(l,a,c)},[t,o]);return p.createElement(bw.Provider,{value:s},e)}var oH=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(r,o){return r[0]===t?(i=o,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(t,i){var r=n(this.__entries__,t);~r?this.__entries__[r][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,r=n(i,t);~r&&i.splice(r,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var r=0,o=this.__entries__;r<o.length;r++){var s=o[r];t.call(i,s[1],s[0])}},e}()}(),Sw=typeof window<"u"&&typeof document<"u"&&window.document===document,M0=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),aq=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(M0):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),cq=2;function uq(n,e){var t=!1,i=!1,r=0;function o(){t&&(t=!1,n()),i&&l()}function s(){aq(o)}function l(){var a=Date.now();if(t){if(a-r<cq)return;i=!0}else t=!0,i=!1,setTimeout(s,e);r=a}return l}var hq=20,dq=["top","right","bottom","left","width","height","size","weight"],fq=typeof MutationObserver<"u",pq=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=uq(this.refresh.bind(this),hq)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!Sw||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),fq?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!Sw||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,r=dq.some(function(o){return!!~i.indexOf(o)});r&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),sH=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];Object.defineProperty(n,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return n},Vu=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||M0},lH=ly(0,0,0,0);function $0(n){return parseFloat(n)||0}function ZO(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,r){var o=n["border-"+r+"-width"];return i+$0(o)},0)}function gq(n){for(var e=["top","right","bottom","left"],t={},i=0,r=e;i<r.length;i++){var o=r[i],s=n["padding-"+o];t[o]=$0(s)}return t}function mq(n){var e=n.getBBox();return ly(0,0,e.width,e.height)}function vq(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return lH;var i=Vu(n).getComputedStyle(n),r=gq(i),o=r.left+r.right,s=r.top+r.bottom,l=$0(i.width),a=$0(i.height);if(i.boxSizing==="border-box"&&(Math.round(l+o)!==e&&(l-=ZO(i,"left","right")+o),Math.round(a+s)!==t&&(a-=ZO(i,"top","bottom")+s)),!bq(n)){var c=Math.round(l+o)-e,u=Math.round(a+s)-t;Math.abs(c)!==1&&(l-=c),Math.abs(u)!==1&&(a-=u)}return ly(r.left,r.top,l,a)}var yq=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Vu(n).SVGGraphicsElement}:function(n){return n instanceof Vu(n).SVGElement&&typeof n.getBBox=="function"}}();function bq(n){return n===Vu(n).document.documentElement}function Sq(n){return Sw?yq(n)?mq(n):vq(n):lH}function wq(n){var e=n.x,t=n.y,i=n.width,r=n.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return sH(s,{x:e,y:t,width:i,height:r,top:t,right:e+i,bottom:r+t,left:e}),s}function ly(n,e,t,i){return{x:n,y:e,width:t,height:i}}var xq=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ly(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=Sq(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),Cq=function(){function n(e,t){var i=wq(t);sH(this,{target:e,contentRect:i})}return n}(),Eq=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new oH,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Vu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new xq(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Vu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new Cq(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),aH=typeof WeakMap<"u"?new WeakMap:new oH,cH=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=pq.getInstance(),i=new Eq(e,t,this);aH.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){cH.prototype[n]=function(){var e;return(e=aH.get(this))[n].apply(e,arguments)}});var Mq=function(){return typeof M0.ResizeObserver<"u"?M0.ResizeObserver:cH}(),Fl=new Map;function $q(n){n.forEach(function(e){var t,i=e.target;(t=Fl.get(i))===null||t===void 0||t.forEach(function(r){return r(i)})})}var uH=new Mq($q);function kq(n,e){Fl.has(n)||(Fl.set(n,new Set),uH.observe(n)),Fl.get(n).add(e)}function Oq(n,e){Fl.has(n)&&(Fl.get(n).delete(e),Fl.get(n).size||(uH.unobserve(n),Fl.delete(n)))}function ui(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function eA(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,rH(i.key),i)}}function hi(n,e,t){return e&&eA(n.prototype,e),t&&eA(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function gf(n,e){return gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},gf(n,e)}function qs(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&gf(n,e)}function mf(n){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mf(n)}function NM(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NM=function(){return!!n})()}function ge(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Aq(n,e){if(e&&(et(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ge(n)}function Gs(n){var e=NM();return function(){var t,i=mf(n);if(e){var r=mf(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return Aq(this,t)}}var Rq=function(n){qs(t,n);var e=Gs(t);function t(){return ui(this,t),e.apply(this,arguments)}return hi(t,[{key:"render",value:function(){return this.props.children}}]),t}(p.Component);function Dq(n,e){var t=n.children,i=n.disabled,r=p.useRef(null),o=p.useRef(null),s=p.useContext(bw),l=typeof t=="function",a=l?t(r):t,c=p.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!l&&p.isValidElement(a)&&Ws(a),h=u?a.ref:null,d=fh(h,r),f=function(){var m;return Dd(r.current)||(r.current&&et(r.current)==="object"?Dd((m=r.current)===null||m===void 0?void 0:m.nativeElement):null)||Dd(o.current)};p.useImperativeHandle(e,function(){return f()});var g=p.useRef(n);g.current=n;var y=p.useCallback(function(v){var m=g.current,b=m.onResize,S=m.data,w=v.getBoundingClientRect(),x=w.width,E=w.height,C=v.offsetWidth,$=v.offsetHeight,M=Math.floor(x),A=Math.floor(E);if(c.current.width!==M||c.current.height!==A||c.current.offsetWidth!==C||c.current.offsetHeight!==$){var P={width:M,height:A,offsetWidth:C,offsetHeight:$};c.current=P;var D=C===Math.round(x)?x:C,I=$===Math.round(E)?E:$,O=V(V({},P),{},{offsetWidth:D,offsetHeight:I});s==null||s(O,v,S),b&&Promise.resolve().then(function(){b(O,v)})}},[]);return p.useEffect(function(){var v=f();return v&&!i&&kq(v,y),function(){return Oq(v,y)}},[r.current,i]),p.createElement(Rq,{ref:o},u?p.cloneElement(a,{ref:d}):a)}var Tq=p.forwardRef(Dq),Pq="rc-observer-key";function Iq(n,e){var t=n.children,i=typeof t=="function"?[t]:ts(t);return i.map(function(r,o){var s=(r==null?void 0:r.key)||"".concat(Pq,"-").concat(o);return p.createElement(Tq,Se({},n,{key:s,ref:o===0?e:void 0}),r)})}var ss=p.forwardRef(Iq);ss.Collection=lq;function zr(n,e){var t=Object.assign({},n);return Array.isArray(e)&&e.forEach(function(i){delete t[i]}),t}function ww(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function Nq(n){if(Array.isArray(n))return ww(n)}function hH(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function BM(n,e){if(n){if(typeof n=="string")return ww(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ww(n,e):void 0}}function Bq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function be(n){return Nq(n)||hH(n)||BM(n)||Bq()}var dH=function(e){return+setTimeout(e,16)},fH=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(dH=function(e){return window.requestAnimationFrame(e)},fH=function(e){return window.cancelAnimationFrame(e)});var tA=0,LM=new Map;function pH(n){LM.delete(n)}var Xt=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;tA+=1;var i=tA;function r(o){if(o===0)pH(i),e();else{var s=dH(function(){r(o-1)});LM.set(i,s)}}return r(t),i};Xt.cancel=function(n){var e=LM.get(n);return pH(n),fH(e)};function gH(n){if(Array.isArray(n))return n}function Lq(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,o,s,l=[],a=!0,c=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;a=!1}else for(;!(a=(i=o.call(t)).done)&&(l.push(i.value),l.length!==e);a=!0);}catch(u){c=!0,r=u}finally{try{if(!a&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw r}}return l}}function mH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X(n,e){return gH(n)||Lq(n,e)||BM(n,e)||mH()}function vf(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function ur(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Hq(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var nA="data-rc-order",iA="data-rc-priority",zq="rc-util-key",xw=new Map;function vH(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):zq}function ay(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function Vq(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function HM(n){return Array.from((xw.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function yH(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ur())return null;var t=e.csp,i=e.prepend,r=e.priority,o=r===void 0?0:r,s=Vq(i),l=s==="prependQueue",a=document.createElement("style");a.setAttribute(nA,s),l&&o&&a.setAttribute(iA,"".concat(o)),t!=null&&t.nonce&&(a.nonce=t==null?void 0:t.nonce),a.innerHTML=n;var c=ay(e),u=c.firstChild;if(i){if(l){var h=(e.styles||HM(c)).filter(function(d){if(!["prepend","prependQueue"].includes(d.getAttribute(nA)))return!1;var f=Number(d.getAttribute(iA)||0);return o>=f});if(h.length)return c.insertBefore(a,h[h.length-1].nextSibling),a}c.insertBefore(a,u)}else c.appendChild(a);return a}function bH(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=ay(e);return(e.styles||HM(t)).find(function(i){return i.getAttribute(vH(e))===n})}function yf(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=bH(n,e);if(t){var i=ay(e);i.removeChild(t)}}function Fq(n,e){var t=xw.get(n);if(!t||!Hq(document,t)){var i=yH("",e),r=i.parentNode;xw.set(n,r),n.removeChild(i)}}function cl(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=ay(t),r=HM(i),o=V(V({},t),{},{styles:r});Fq(i,o);var s=bH(e,o);if(s){var l,a;if((l=o.csp)!==null&&l!==void 0&&l.nonce&&s.nonce!==((a=o.csp)===null||a===void 0?void 0:a.nonce)){var c;s.nonce=(c=o.csp)===null||c===void 0?void 0:c.nonce}return s.innerHTML!==n&&(s.innerHTML=n),s}var u=yH(n,o);return u.setAttribute(vH(o),e),u}function Wq(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function bt(n,e){if(n==null)return{};var t,i,r=Wq(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)>=0||{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function _s(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=new Set;function r(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=i.has(o);if(Dn(!a,"Warning: There may be circular references"),a)return!1;if(o===s)return!0;if(t&&l>1)return!1;i.add(o);var c=l+1;if(Array.isArray(o)){if(!Array.isArray(s)||o.length!==s.length)return!1;for(var u=0;u<o.length;u++)if(!r(o[u],s[u],c))return!1;return!0}if(o&&s&&et(o)==="object"&&et(s)==="object"){var h=Object.keys(o);return h.length!==Object.keys(s).length?!1:h.every(function(d){return r(o[d],s[d],c)})}return!1}return r(n,e)}var _q="%";function Cw(n){return n.join(_q)}var jq=function(){function n(e){ui(this,n),N(this,"instanceId",void 0),N(this,"cache",new Map),this.instanceId=e}return hi(n,[{key:"get",value:function(t){return this.opGet(Cw(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,i){return this.opUpdate(Cw(t),i)}},{key:"opUpdate",value:function(t,i){var r=this.cache.get(t),o=i(r);o===null?this.cache.delete(t):this.cache.set(t,o)}}]),n}(),Fu="data-token-hash",Jo="data-css-hash",Wl="__cssinjs_instance__";function Kq(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Jo,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(r){r[Wl]=r[Wl]||n,r[Wl]===n&&document.head.insertBefore(r,t)});var i={};Array.from(document.querySelectorAll("style[".concat(Jo,"]"))).forEach(function(r){var o=r.getAttribute(Jo);if(i[o]){if(r[Wl]===n){var s;(s=r.parentNode)===null||s===void 0||s.removeChild(r)}}else i[o]=!0})}return new jq(n)}var qq=p.createContext({hashPriority:"low",cache:Kq(),defaultCache:!0});const cy=qq;var SH=hi(function n(){ui(this,n)}),wH="CALC_UNIT",Gq=new RegExp(wH,"g");function Nb(n){return typeof n=="number"?"".concat(n).concat(wH):n}var Uq=function(n){qs(t,n);var e=Gs(t);function t(i,r){var o;ui(this,t),o=e.call(this),N(ge(o),"result",""),N(ge(o),"unitlessCssVar",void 0),N(ge(o),"lowPriority",void 0);var s=et(i);return o.unitlessCssVar=r,i instanceof t?o.result="(".concat(i.result,")"):s==="number"?o.result=Nb(i):s==="string"&&(o.result=i),o}return hi(t,[{key:"add",value:function(r){return r instanceof t?this.result="".concat(this.result," + ").concat(r.getResult()):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," + ").concat(Nb(r))),this.lowPriority=!0,this}},{key:"sub",value:function(r){return r instanceof t?this.result="".concat(this.result," - ").concat(r.getResult()):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," - ").concat(Nb(r))),this.lowPriority=!0,this}},{key:"mul",value:function(r){return this.lowPriority&&(this.result="(".concat(this.result,")")),r instanceof t?this.result="".concat(this.result," * ").concat(r.getResult(!0)):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," * ").concat(r)),this.lowPriority=!1,this}},{key:"div",value:function(r){return this.lowPriority&&(this.result="(".concat(this.result,")")),r instanceof t?this.result="".concat(this.result," / ").concat(r.getResult(!0)):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," / ").concat(r)),this.lowPriority=!1,this}},{key:"getResult",value:function(r){return this.lowPriority||r?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(r){var o=this,s=r||{},l=s.unit,a=!0;return typeof l=="boolean"?a=l:Array.from(this.unitlessCssVar).some(function(c){return o.result.includes(c)})&&(a=!1),this.result=this.result.replace(Gq,a?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),t}(SH),Xq=function(n){qs(t,n);var e=Gs(t);function t(i){var r;return ui(this,t),r=e.call(this),N(ge(r),"result",0),i instanceof t?r.result=i.result:typeof i=="number"&&(r.result=i),r}return hi(t,[{key:"add",value:function(r){return r instanceof t?this.result+=r.result:typeof r=="number"&&(this.result+=r),this}},{key:"sub",value:function(r){return r instanceof t?this.result-=r.result:typeof r=="number"&&(this.result-=r),this}},{key:"mul",value:function(r){return r instanceof t?this.result*=r.result:typeof r=="number"&&(this.result*=r),this}},{key:"div",value:function(r){return r instanceof t?this.result/=r.result:typeof r=="number"&&(this.result/=r),this}},{key:"equal",value:function(){return this.result}}]),t}(SH),Yq=function(e,t){var i=e==="css"?Uq:Xq;return function(r){return new i(r,t)}};function Qq(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var zM=function(){function n(){ui(this,n),N(this,"cache",void 0),N(this,"keys",void 0),N(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return hi(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var i,r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return t.forEach(function(l){if(!s)s=void 0;else{var a;s=(a=s)===null||a===void 0||(a=a.map)===null||a===void 0?void 0:a.get(l)}}),(i=s)!==null&&i!==void 0&&i.value&&o&&(s.value[1]=this.cacheCallTimes++),(r=s)===null||r===void 0?void 0:r.value}},{key:"get",value:function(t){var i;return(i=this.internalGet(t,!0))===null||i===void 0?void 0:i[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,i){var r=this;if(!this.has(t)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(c,u){var h=X(c,2),d=h[1];return r.internalGet(u)[1]<d?[u,r.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),s=X(o,1),l=s[0];this.delete(l)}this.keys.push(t)}var a=this.cache;t.forEach(function(c,u){if(u===t.length-1)a.set(c,{value:[i,r.cacheCallTimes++]});else{var h=a.get(c);h?h.map||(h.map=new Map):a.set(c,{map:new Map}),a=a.get(c).map}})}},{key:"deleteByPath",value:function(t,i){var r=t.get(i[0]);if(i.length===1){var o;return r.map?t.set(i[0],{map:r.map}):t.delete(i[0]),(o=r.value)===null||o===void 0?void 0:o[0]}var s=this.deleteByPath(r.map,i.slice(1));return(!r.map||r.map.size===0)&&!r.value&&t.delete(i[0]),s}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(i){return!Qq(i,t)}),this.deleteByPath(this.cache,t)}}]),n}();N(zM,"MAX_CACHE_SIZE",20);N(zM,"MAX_CACHE_OFFSET",5);var rA=0,xH=function(){function n(e){ui(this,n),N(this,"derivatives",void 0),N(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=rA,e.length===0&&(e.length>0,void 0),rA+=1}return hi(n,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(i,r){return r(t,i)},void 0)}}]),n}(),Bb=new zM;function Ew(n){var e=Array.isArray(n)?n:[n];return Bb.has(e)||Bb.set(e,new xH(e)),Bb.get(e)}var Jq=new WeakMap,Lb={};function Zq(n,e){for(var t=Jq,i=0;i<e.length;i+=1){var r=e[i];t.has(r)||t.set(r,new WeakMap),t=t.get(r)}return t.has(Lb)||t.set(Lb,n()),t.get(Lb)}var oA=new WeakMap;function Td(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=oA.get(n)||"";return t||(Object.keys(n).forEach(function(i){var r=n[i];t+=i,r instanceof xH?t+=r.id:r&&et(r)==="object"?t+=Td(r,e):t+=r}),e&&(t=vf(t)),oA.set(n,t)),t}function sA(n,e){return vf("".concat(e,"_").concat(Td(n,!0)))}var Mw=ur();function U(n){return typeof n=="number"?"".concat(n,"px"):n}function k0(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r)return n;var o=V(V({},i),{},N(N({},Fu,e),Jo,t)),s=Object.keys(o).map(function(l){var a=o[l];return a?"".concat(l,'="').concat(a,'"'):null}).filter(function(l){return l}).join(" ");return"<style ".concat(s,">").concat(n,"</style>")}var hm=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},eG=function(e,t,i){return Object.keys(e).length?".".concat(t).concat(i!=null&&i.scope?".".concat(i.scope):"","{").concat(Object.entries(e).map(function(r){var o=X(r,2),s=o[0],l=o[1];return"".concat(s,":").concat(l,";")}).join(""),"}"):""},CH=function(e,t,i){var r={},o={};return Object.entries(e).forEach(function(s){var l,a,c=X(s,2),u=c[0],h=c[1];if(i!=null&&(l=i.preserve)!==null&&l!==void 0&&l[u])o[u]=h;else if((typeof h=="string"||typeof h=="number")&&!(i!=null&&(a=i.ignore)!==null&&a!==void 0&&a[u])){var d,f=hm(u,i==null?void 0:i.prefix);r[f]=typeof h=="number"&&!(i!=null&&(d=i.unitless)!==null&&d!==void 0&&d[u])?"".concat(h,"px"):String(h),o[u]="var(".concat(f,")")}}),[o,eG(r,t,{scope:i==null?void 0:i.scope})]},lA=ur()?p.useLayoutEffect:p.useEffect,Kt=function(e,t){var i=p.useRef(!0);lA(function(){return e(i.current)},t),lA(function(){return i.current=!1,function(){i.current=!0}},[])},aA=function(e,t){Kt(function(i){if(!i)return e()},t)},tG=V({},Nv),cA=tG.useInsertionEffect,nG=function(e,t,i){p.useMemo(e,i),Kt(function(){return t(!0)},i)},iG=cA?function(n,e,t){return cA(function(){return n(),e()},t)}:nG;const rG=iG;var oG=V({},Nv),sG=oG.useInsertionEffect,lG=function(e){var t=[],i=!1;function r(o){i||t.push(o)}return p.useEffect(function(){return i=!1,function(){i=!0,t.length&&t.forEach(function(o){return o()})}},e),r},aG=function(){return function(e){e()}},cG=typeof sG<"u"?lG:aG;const uG=cG;function VM(n,e,t,i,r){var o=p.useContext(cy),s=o.cache,l=[n].concat(be(e)),a=Cw(l),c=uG([a]),u=function(g){s.opUpdate(a,function(y){var v=y||[void 0,void 0],m=X(v,2),b=m[0],S=b===void 0?0:b,w=m[1],x=w,E=x||t(),C=[S,E];return g?g(C):C})};p.useMemo(function(){u()},[a]);var h=s.opGet(a),d=h[1];return rG(function(){r==null||r(d)},function(f){return u(function(g){var y=X(g,2),v=y[0],m=y[1];return f&&v===0&&(r==null||r(d)),[v+1,m]}),function(){s.opUpdate(a,function(g){var y=g||[],v=X(y,2),m=v[0],b=m===void 0?0:m,S=v[1],w=b-1;return w===0?(c(function(){(f||!s.opGet(a))&&(i==null||i(S,!1))}),null):[b-1,S]})}},[a]),d}var hG={},dG="css",Ra=new Map;function fG(n){Ra.set(n,(Ra.get(n)||0)+1)}function pG(n,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(Fu,'="').concat(n,'"]'));t.forEach(function(i){if(i[Wl]===e){var r;(r=i.parentNode)===null||r===void 0||r.removeChild(i)}})}}var gG=0;function mG(n,e){Ra.set(n,(Ra.get(n)||0)-1);var t=Array.from(Ra.keys()),i=t.filter(function(r){var o=Ra.get(r)||0;return o<=0});t.length-i.length>gG&&i.forEach(function(r){pG(r,e),Ra.delete(r)})}var vG=function(e,t,i,r){var o=i.getDerivativeToken(e),s=V(V({},o),t);return r&&(s=r(s)),s},EH="token";function yG(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=p.useContext(cy),r=i.cache.instanceId,o=i.container,s=t.salt,l=s===void 0?"":s,a=t.override,c=a===void 0?hG:a,u=t.formatToken,h=t.getComputedToken,d=t.cssVar,f=Zq(function(){return Object.assign.apply(Object,[{}].concat(be(e)))},e),g=Td(f),y=Td(c),v=d?Td(d):"",m=VM(EH,[l,n.id,g,y,v],function(){var b,S=h?h(f,c,n):vG(f,c,n,u),w=V({},S),x="";if(d){var E=CH(S,d.key,{prefix:d.prefix,ignore:d.ignore,unitless:d.unitless,preserve:d.preserve}),C=X(E,2);S=C[0],x=C[1]}var $=sA(S,l);S._tokenKey=$,w._tokenKey=sA(w,l);var M=(b=d==null?void 0:d.key)!==null&&b!==void 0?b:$;S._themeKey=M,fG(M);var A="".concat(dG,"-").concat(vf($));return S._hashId=A,[S,A,w,x,(d==null?void 0:d.key)||""]},function(b){mG(b[0]._themeKey,r)},function(b){var S=X(b,4),w=S[0],x=S[3];if(d&&x){var E=cl(x,vf("css-variables-".concat(w._themeKey)),{mark:Jo,prepend:"queue",attachTo:o,priority:-999});E[Wl]=r,E.setAttribute(Fu,w._themeKey)}});return m}var bG=function(e,t,i){var r=X(e,5),o=r[2],s=r[3],l=r[4],a=i||{},c=a.plain;if(!s)return null;var u=o._tokenKey,h=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(h)},f=k0(s,l,u,d,c);return[h,u,f]},SG={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},MH="comm",$H="rule",kH="decl",wG="@import",xG="@keyframes",CG="@layer",OH=Math.abs,FM=String.fromCharCode;function AH(n){return n.trim()}function dm(n,e,t){return n.replace(e,t)}function EG(n,e,t){return n.indexOf(e,t)}function bf(n,e){return n.charCodeAt(e)|0}function Sf(n,e,t){return n.slice(e,t)}function rl(n){return n.length}function MG(n){return n.length}function ig(n,e){return e.push(n),n}var uy=1,Wu=1,RH=0,Co=0,li=0,ph="";function WM(n,e,t,i,r,o,s,l){return{value:n,root:e,parent:t,type:i,props:r,children:o,line:uy,column:Wu,length:s,return:"",siblings:l}}function $G(){return li}function kG(){return li=Co>0?bf(ph,--Co):0,Wu--,li===10&&(Wu=1,uy--),li}function Zo(){return li=Co<RH?bf(ph,Co++):0,Wu++,li===10&&(Wu=1,uy++),li}function Wa(){return bf(ph,Co)}function fm(){return Co}function hy(n,e){return Sf(ph,n,e)}function $w(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function OG(n){return uy=Wu=1,RH=rl(ph=n),Co=0,[]}function AG(n){return ph="",n}function Hb(n){return AH(hy(Co-1,kw(n===91?n+2:n===40?n+1:n)))}function RG(n){for(;(li=Wa())&&li<33;)Zo();return $w(n)>2||$w(li)>3?"":" "}function DG(n,e){for(;--e&&Zo()&&!(li<48||li>102||li>57&&li<65||li>70&&li<97););return hy(n,fm()+(e<6&&Wa()==32&&Zo()==32))}function kw(n){for(;Zo();)switch(li){case n:return Co;case 34:case 39:n!==34&&n!==39&&kw(li);break;case 40:n===41&&kw(n);break;case 92:Zo();break}return Co}function TG(n,e){for(;Zo()&&n+li!==57;)if(n+li===84&&Wa()===47)break;return"/*"+hy(e,Co-1)+"*"+FM(n===47?n:Zo())}function PG(n){for(;!$w(Wa());)Zo();return hy(n,Co)}function IG(n){return AG(pm("",null,null,null,[""],n=OG(n),0,[0],n))}function pm(n,e,t,i,r,o,s,l,a){for(var c=0,u=0,h=s,d=0,f=0,g=0,y=1,v=1,m=1,b=0,S="",w=r,x=o,E=i,C=S;v;)switch(g=b,b=Zo()){case 40:if(g!=108&&bf(C,h-1)==58){EG(C+=dm(Hb(b),"&","&\f"),"&\f",OH(c?l[c-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:C+=Hb(b);break;case 9:case 10:case 13:case 32:C+=RG(g);break;case 92:C+=DG(fm()-1,7);continue;case 47:switch(Wa()){case 42:case 47:ig(NG(TG(Zo(),fm()),e,t,a),a);break;default:C+="/"}break;case 123*y:l[c++]=rl(C)*m;case 125*y:case 59:case 0:switch(b){case 0:case 125:v=0;case 59+u:m==-1&&(C=dm(C,/\f/g,"")),f>0&&rl(C)-h&&ig(f>32?hA(C+";",i,t,h-1,a):hA(dm(C," ","")+";",i,t,h-2,a),a);break;case 59:C+=";";default:if(ig(E=uA(C,e,t,c,u,r,l,S,w=[],x=[],h,o),o),b===123)if(u===0)pm(C,e,E,E,w,o,h,l,x);else switch(d===99&&bf(C,3)===110?100:d){case 100:case 108:case 109:case 115:pm(n,E,E,i&&ig(uA(n,E,E,0,0,r,l,S,r,w=[],h,x),x),r,x,h,l,i?w:x);break;default:pm(C,E,E,E,[""],x,0,l,x)}}c=u=f=0,y=m=1,S=C="",h=s;break;case 58:h=1+rl(C),f=g;default:if(y<1){if(b==123)--y;else if(b==125&&y++==0&&kG()==125)continue}switch(C+=FM(b),b*y){case 38:m=u>0?1:(C+="\f",-1);break;case 44:l[c++]=(rl(C)-1)*m,m=1;break;case 64:Wa()===45&&(C+=Hb(Zo())),d=Wa(),u=h=rl(S=C+=PG(fm())),b++;break;case 45:g===45&&rl(C)==2&&(y=0)}}return o}function uA(n,e,t,i,r,o,s,l,a,c,u,h){for(var d=r-1,f=r===0?o:[""],g=MG(f),y=0,v=0,m=0;y<i;++y)for(var b=0,S=Sf(n,d+1,d=OH(v=s[y])),w=n;b<g;++b)(w=AH(v>0?f[b]+" "+S:dm(S,/&\f/g,f[b])))&&(a[m++]=w);return WM(n,e,t,r===0?$H:l,a,c,u,h)}function NG(n,e,t,i){return WM(n,e,t,MH,FM($G()),Sf(n,2,-2),0,i)}function hA(n,e,t,i,r){return WM(n,e,t,kH,Sf(n,0,i),Sf(n,i+1,-1),i,r)}function Ow(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function BG(n,e,t,i){switch(n.type){case CG:if(n.children.length)break;case wG:case kH:return n.return=n.return||n.value;case MH:return"";case xG:return n.return=n.value+"{"+Ow(n.children,i)+"}";case $H:if(!rl(n.value=n.props.join(",")))return""}return rl(t=Ow(n.children,i))?n.return=n.value+"{"+t+"}":""}var dA="data-ant-cssinjs-cache-path",DH="_FILE_STYLE__",_a,TH=!0;function LG(){if(!_a&&(_a={},ur())){var n=document.createElement("div");n.className=dA,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(r){var o=r.split(":"),s=X(o,2),l=s[0],a=s[1];_a[l]=a});var t=document.querySelector("style[".concat(dA,"]"));if(t){var i;TH=!1,(i=t.parentNode)===null||i===void 0||i.removeChild(t)}document.body.removeChild(n)}}function HG(n){return LG(),!!_a[n]}function zG(n){var e=_a[n],t=null;if(e&&ur())if(TH)t=DH;else{var i=document.querySelector("style[".concat(Jo,'="').concat(_a[n],'"]'));i?t=i.innerHTML:delete _a[n]}return[t,e]}var VG="_skip_check_",PH="_multi_value_";function gm(n){var e=Ow(IG(n),BG);return e.replace(/\{%%%\:[^;];}/g,";")}function FG(n){return et(n)==="object"&&n&&(VG in n||PH in n)}function WG(n,e,t){if(!e)return n;var i=".".concat(e),r=t==="low"?":where(".concat(i,")"):i,o=n.split(",").map(function(s){var l,a=s.trim().split(/\s+/),c=a[0]||"",u=((l=c.match(/^\w+/))===null||l===void 0?void 0:l[0])||"";return c="".concat(u).concat(r).concat(c.slice(u.length)),[c].concat(be(a.slice(1))).join(" ")});return o.join(",")}var _G=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},r=i.root,o=i.injectHash,s=i.parentSelectors,l=t.hashId,a=t.layer;t.path;var c=t.hashPriority,u=t.transformers,h=u===void 0?[]:u;t.linters;var d="",f={};function g(m){var b=m.getName(l);if(!f[b]){var S=n(m.style,t,{root:!1,parentSelectors:s}),w=X(S,1),x=w[0];f[b]="@keyframes ".concat(m.getName(l)).concat(x)}}function y(m){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return m.forEach(function(S){Array.isArray(S)?y(S,b):S&&b.push(S)}),b}var v=y(Array.isArray(e)?e:[e]);return v.forEach(function(m){var b=typeof m=="string"&&!r?{}:m;if(typeof b=="string")d+="".concat(b,`
`);else if(b._keyframe)g(b);else{var S=h.reduce(function(w,x){var E;return(x==null||(E=x.visit)===null||E===void 0?void 0:E.call(x,w))||w},b);Object.keys(S).forEach(function(w){var x=S[w];if(et(x)==="object"&&x&&(w!=="animationName"||!x._keyframe)&&!FG(x)){var E=!1,C=w.trim(),$=!1;(r||o)&&l?C.startsWith("@")?E=!0:C=WG(w,l,c):r&&!l&&(C==="&"||C==="")&&(C="",$=!0);var M=n(x,t,{root:$,injectHash:E,parentSelectors:[].concat(be(s),[C])}),A=X(M,2),P=A[0],D=A[1];f=V(V({},f),D),d+="".concat(C).concat(P)}else{let H=function(T,R){var k=T.replace(/[A-Z]/g,function(L){return"-".concat(L.toLowerCase())}),B=R;!SG[T]&&typeof B=="number"&&B!==0&&(B="".concat(B,"px")),T==="animationName"&&R!==null&&R!==void 0&&R._keyframe&&(g(R),B=R.getName(l)),d+="".concat(k,":").concat(B,";")};var I,O=(I=x==null?void 0:x.value)!==null&&I!==void 0?I:x;et(x)==="object"&&x!==null&&x!==void 0&&x[PH]&&Array.isArray(O)?O.forEach(function(T){H(w,T)}):H(w,O)}})}}),r?a&&(d="@layer ".concat(a.name," {").concat(d,"}"),a.dependencies&&(f["@layer ".concat(a.name)]=a.dependencies.map(function(m){return"@layer ".concat(m,", ").concat(a.name,";")}).join(`
`))):d="{".concat(d,"}"),[d,f]};function IH(n,e){return vf("".concat(n.join("%")).concat(e))}function jG(){return null}var NH="style";function Aw(n,e){var t=n.token,i=n.path,r=n.hashId,o=n.layer,s=n.nonce,l=n.clientOnly,a=n.order,c=a===void 0?0:a,u=p.useContext(cy),h=u.autoClear;u.mock;var d=u.defaultCache,f=u.hashPriority,g=u.container,y=u.ssrInline,v=u.transformers,m=u.linters,b=u.cache,S=u.layer,w=t._tokenKey,x=[w];S&&x.push("layer"),x.push.apply(x,be(i));var E=Mw,C=VM(NH,x,function(){var D=x.join("|");if(HG(D)){var I=zG(D),O=X(I,2),H=O[0],T=O[1];if(H)return[H,w,T,{},l,c]}var R=e(),k=_G(R,{hashId:r,hashPriority:f,layer:S?o:void 0,path:i.join("-"),transformers:v,linters:m}),B=X(k,2),L=B[0],z=B[1],F=gm(L),_=IH(x,F);return[F,w,_,z,l,c]},function(D,I){var O=X(D,3),H=O[2];(I||h)&&Mw&&yf(H,{mark:Jo})},function(D){var I=X(D,4),O=I[0];I[1];var H=I[2],T=I[3];if(E&&O!==DH){var R={mark:Jo,prepend:S?!1:"queue",attachTo:g,priority:c},k=typeof s=="function"?s():s;k&&(R.csp={nonce:k});var B=[],L=[];Object.keys(T).forEach(function(F){F.startsWith("@layer")?B.push(F):L.push(F)}),B.forEach(function(F){cl(gm(T[F]),"_layer-".concat(F),V(V({},R),{},{prepend:!0}))});var z=cl(O,H,R);z[Wl]=b.instanceId,z.setAttribute(Fu,w),L.forEach(function(F){cl(gm(T[F]),"_effect-".concat(F),R)})}}),$=X(C,3),M=$[0],A=$[1],P=$[2];return function(D){var I;return!y||E||!d?I=p.createElement(jG,null):I=p.createElement("style",Se({},N(N({},Fu,A),Jo,P),{dangerouslySetInnerHTML:{__html:M}})),p.createElement(p.Fragment,null,I,D)}}var KG=function(e,t,i){var r=X(e,6),o=r[0],s=r[1],l=r[2],a=r[3],c=r[4],u=r[5],h=i||{},d=h.plain;if(c)return null;var f=o,g={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return f=k0(o,s,l,g,d),a&&Object.keys(a).forEach(function(y){if(!t[y]){t[y]=!0;var v=gm(a[y]),m=k0(v,s,"_effect-".concat(y),g,d);y.startsWith("@layer")?f=m+f:f+=m}}),[u,l,f]},BH="cssVar",qG=function(e,t){var i=e.key,r=e.prefix,o=e.unitless,s=e.ignore,l=e.token,a=e.scope,c=a===void 0?"":a,u=p.useContext(cy),h=u.cache.instanceId,d=u.container,f=l._tokenKey,g=[].concat(be(e.path),[i,c,f]),y=VM(BH,g,function(){var v=t(),m=CH(v,i,{prefix:r,unitless:o,ignore:s,scope:c}),b=X(m,2),S=b[0],w=b[1],x=IH(g,w);return[S,w,x,i]},function(v){var m=X(v,3),b=m[2];Mw&&yf(b,{mark:Jo})},function(v){var m=X(v,3),b=m[1],S=m[2];if(b){var w=cl(b,S,{mark:Jo,prepend:"queue",attachTo:d,priority:-999});w[Wl]=h,w.setAttribute(Fu,i)}});return y},GG=function(e,t,i){var r=X(e,4),o=r[1],s=r[2],l=r[3],a=i||{},c=a.plain;if(!o)return null;var u=-999,h={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},d=k0(o,l,s,h,c);return[u,s,d]};N(N(N({},NH,KG),EH,bG),BH,GG);var Yt=function(){function n(e,t){ui(this,n),N(this,"name",void 0),N(this,"style",void 0),N(this,"_keyframe",!0),this.name=e,this.style=t}return hi(n,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),n}();function Cc(n){return n.notSplit=!0,n}Cc(["borderTop","borderBottom"]),Cc(["borderTop"]),Cc(["borderBottom"]),Cc(["borderLeft","borderRight"]),Cc(["borderLeft"]),Cc(["borderRight"]);var _M=p.createContext({});function LH(n){return gH(n)||hH(n)||BM(n)||mH()}function to(n,e){for(var t=n,i=0;i<e.length;i+=1){if(t==null)return;t=t[e[i]]}return t}function HH(n,e,t,i){if(!e.length)return t;var r=LH(e),o=r[0],s=r.slice(1),l;return!n&&typeof o=="number"?l=[]:Array.isArray(n)?l=be(n):l=V({},n),i&&t===void 0&&s.length===1?delete l[o][s[0]]:l[o]=HH(l[o],s,t,i),l}function Wo(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&i&&t===void 0&&!to(n,e.slice(0,-1))?n:HH(n,e,t,i)}function UG(n){return et(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function fA(n){return Array.isArray(n)?[]:{}}var XG=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function eu(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=fA(e[0]);return e.forEach(function(r){function o(s,l){var a=new Set(l),c=to(r,s),u=Array.isArray(c);if(u||UG(c)){if(!a.has(c)){a.add(c);var h=to(i,s);u?i=Wo(i,s,[]):(!h||et(h)!=="object")&&(i=Wo(i,s,fA(c))),XG(c).forEach(function(d){o([].concat(be(s),[d]),a)})}}else i=Wo(i,s,c)}o([])}),i}function YG(){}const QG=p.createContext({}),gh=()=>{const n=()=>{};return n.deprecated=YG,n},JG=p.createContext(void 0);var zH={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},ZG={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const VH={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},pA={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},ZG),timePickerLocale:Object.assign({},VH)},_r="${label} is not a valid ${type}",ec={locale:"en",Pagination:zH,DatePicker:pA,TimePicker:VH,Calendar:pA,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:_r,method:_r,array:_r,object:_r,number:_r,date:_r,boolean:_r,integer:_r,float:_r,regexp:_r,email:_r,url:_r,hex:_r},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}};Object.assign({},ec.Modal);let mm=[];const gA=()=>mm.reduce((n,e)=>Object.assign(Object.assign({},n),e),ec.Modal);function eU(n){if(n){const e=Object.assign({},n);return mm.push(e),gA(),()=>{mm=mm.filter(t=>t!==e),gA()}}Object.assign({},ec.Modal)}const jM=p.createContext(void 0),FH=(n,e)=>{const t=p.useContext(jM),i=p.useMemo(()=>{var o;const s=e||ec[n],l=(o=t==null?void 0:t[n])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof s=="function"?s():s),l||{})},[n,e,t]),r=p.useMemo(()=>{const o=t==null?void 0:t.locale;return t!=null&&t.exist&&!o?ec.locale:o},[t]);return[i,r]},tU="internalMark",nU=n=>{const{locale:e={},children:t,_ANT_MARK__:i}=n;p.useEffect(()=>eU(e&&e.Modal),[e]);const r=p.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return p.createElement(jM.Provider,{value:r},t)};function Xi(n,e){iU(n)&&(n="100%");var t=rU(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function rg(n){return Math.min(1,Math.max(0,n))}function iU(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function rU(n){return typeof n=="string"&&n.indexOf("%")!==-1}function WH(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function og(n){return n<=1?"".concat(Number(n)*100,"%"):n}function Na(n){return n.length===1?"0"+n:String(n)}function oU(n,e,t){return{r:Xi(n,255)*255,g:Xi(e,255)*255,b:Xi(t,255)*255}}function mA(n,e,t){n=Xi(n,255),e=Xi(e,255),t=Xi(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),o=0,s=0,l=(i+r)/2;if(i===r)s=0,o=0;else{var a=i-r;switch(s=l>.5?a/(2-i-r):a/(i+r),i){case n:o=(e-t)/a+(e<t?6:0);break;case e:o=(t-n)/a+2;break;case t:o=(n-e)/a+4;break}o/=6}return{h:o,s,l}}function zb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function sU(n,e,t){var i,r,o;if(n=Xi(n,360),e=Xi(e,100),t=Xi(t,100),e===0)r=t,o=t,i=t;else{var s=t<.5?t*(1+e):t+e-t*e,l=2*t-s;i=zb(l,s,n+1/3),r=zb(l,s,n),o=zb(l,s,n-1/3)}return{r:i*255,g:r*255,b:o*255}}function Rw(n,e,t){n=Xi(n,255),e=Xi(e,255),t=Xi(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),o=0,s=i,l=i-r,a=i===0?0:l/i;if(i===r)o=0;else{switch(i){case n:o=(e-t)/l+(e<t?6:0);break;case e:o=(t-n)/l+2;break;case t:o=(n-e)/l+4;break}o/=6}return{h:o,s:a,v:s}}function lU(n,e,t){n=Xi(n,360)*6,e=Xi(e,100),t=Xi(t,100);var i=Math.floor(n),r=n-i,o=t*(1-e),s=t*(1-r*e),l=t*(1-(1-r)*e),a=i%6,c=[t,s,o,o,l,t][a],u=[l,t,t,s,o,o][a],h=[o,o,l,t,t,s][a];return{r:c*255,g:u*255,b:h*255}}function Dw(n,e,t,i){var r=[Na(Math.round(n).toString(16)),Na(Math.round(e).toString(16)),Na(Math.round(t).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function aU(n,e,t,i,r){var o=[Na(Math.round(n).toString(16)),Na(Math.round(e).toString(16)),Na(Math.round(t).toString(16)),Na(cU(i))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function cU(n){return Math.round(parseFloat(n)*255).toString(16)}function vA(n){return Kr(n)/255}function Kr(n){return parseInt(n,16)}function uU(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var Tw={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Hc(n){var e={r:0,g:0,b:0},t=1,i=null,r=null,o=null,s=!1,l=!1;return typeof n=="string"&&(n=fU(n)),typeof n=="object"&&(Zs(n.r)&&Zs(n.g)&&Zs(n.b)?(e=oU(n.r,n.g,n.b),s=!0,l=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Zs(n.h)&&Zs(n.s)&&Zs(n.v)?(i=og(n.s),r=og(n.v),e=lU(n.h,i,r),s=!0,l="hsv"):Zs(n.h)&&Zs(n.s)&&Zs(n.l)&&(i=og(n.s),o=og(n.l),e=sU(n.h,i,o),s=!0,l="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=WH(t),{ok:s,format:n.format||l,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var hU="[-\\+]?\\d+%?",dU="[-\\+]?\\d*\\.\\d+%?",_l="(?:".concat(dU,")|(?:").concat(hU,")"),Vb="[\\s|\\(]+(".concat(_l,")[,|\\s]+(").concat(_l,")[,|\\s]+(").concat(_l,")\\s*\\)?"),Fb="[\\s|\\(]+(".concat(_l,")[,|\\s]+(").concat(_l,")[,|\\s]+(").concat(_l,")[,|\\s]+(").concat(_l,")\\s*\\)?"),Io={CSS_UNIT:new RegExp(_l),rgb:new RegExp("rgb"+Vb),rgba:new RegExp("rgba"+Fb),hsl:new RegExp("hsl"+Vb),hsla:new RegExp("hsla"+Fb),hsv:new RegExp("hsv"+Vb),hsva:new RegExp("hsva"+Fb),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function fU(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(Tw[n])n=Tw[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=Io.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=Io.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Io.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=Io.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Io.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=Io.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Io.hex8.exec(n),t?{r:Kr(t[1]),g:Kr(t[2]),b:Kr(t[3]),a:vA(t[4]),format:e?"name":"hex8"}:(t=Io.hex6.exec(n),t?{r:Kr(t[1]),g:Kr(t[2]),b:Kr(t[3]),format:e?"name":"hex"}:(t=Io.hex4.exec(n),t?{r:Kr(t[1]+t[1]),g:Kr(t[2]+t[2]),b:Kr(t[3]+t[3]),a:vA(t[4]+t[4]),format:e?"name":"hex8"}:(t=Io.hex3.exec(n),t?{r:Kr(t[1]+t[1]),g:Kr(t[2]+t[2]),b:Kr(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function Zs(n){return!!Io.CSS_UNIT.exec(String(n))}var An=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var i;if(e instanceof n)return e;typeof e=="number"&&(e=uU(e)),this.originalInput=e;var r=Hc(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=t.format)!==null&&i!==void 0?i:r.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,i,r,o=e.r/255,s=e.g/255,l=e.b/255;return o<=.03928?t=o/12.92:t=Math.pow((o+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),l<=.03928?r=l/12.92:r=Math.pow((l+.055)/1.055,2.4),.2126*t+.7152*i+.0722*r},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=WH(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=Rw(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=Rw(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(i,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=mA(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=mA(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(i,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),Dw(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),aU(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(i,")"):"rgba(".concat(e,", ").concat(t,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(Xi(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(Xi(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+Dw(this.r,this.g,this.b,!1),t=0,i=Object.entries(Tw);t<i.length;t++){var r=i[t],o=r[0],s=r[1];if(e===s)return o}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var i=!1,r=this.a<1&&this.a>=0,o=!t&&r&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=rg(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=rg(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=rg(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=rg(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var i=this.toRgb(),r=new n(e).toRgb(),o=t/100,s={r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a};return new n(s)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var i=this.toHsl(),r=360/t,o=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(new n(i));return o},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),i=t.h,r=t.s,o=t.v,s=[],l=1/e;e--;)s.push(new n({h:i,s:r,v:o})),o=(o+l)%1;return s},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),i=new n(e).toRgb(),r=t.a+i.a*(1-t.a);return new n({r:(t.r*t.a+i.r*i.a*(1-t.a))/r,g:(t.g*t.a+i.g*i.a*(1-t.a))/r,b:(t.b*t.a+i.b*i.a*(1-t.a))/r,a:r})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),i=t.h,r=[this],o=360/e,s=1;s<e;s++)r.push(new n({h:(i+s*o)%360,s:t.s,l:t.l}));return r},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),sg=2,yA=.16,pU=.05,gU=.05,mU=.15,_H=5,jH=4,vU=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function bA(n){var e=n.r,t=n.g,i=n.b,r=Rw(e,t,i);return{h:r.h*360,s:r.s,v:r.v}}function lg(n){var e=n.r,t=n.g,i=n.b;return"#".concat(Dw(e,t,i,!1))}function yU(n,e,t){var i=t/100,r={r:(e.r-n.r)*i+n.r,g:(e.g-n.g)*i+n.g,b:(e.b-n.b)*i+n.b};return r}function SA(n,e,t){var i;return Math.round(n.h)>=60&&Math.round(n.h)<=240?i=t?Math.round(n.h)-sg*e:Math.round(n.h)+sg*e:i=t?Math.round(n.h)+sg*e:Math.round(n.h)-sg*e,i<0?i+=360:i>=360&&(i-=360),i}function wA(n,e,t){if(n.h===0&&n.s===0)return n.s;var i;return t?i=n.s-yA*e:e===jH?i=n.s+yA:i=n.s+pU*e,i>1&&(i=1),t&&e===_H&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function xA(n,e,t){var i;return t?i=n.v+gU*e:i=n.v-mU*e,i>1&&(i=1),Number(i.toFixed(2))}function tc(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],i=Hc(n),r=_H;r>0;r-=1){var o=bA(i),s=lg(Hc({h:SA(o,r,!0),s:wA(o,r,!0),v:xA(o,r,!0)}));t.push(s)}t.push(lg(i));for(var l=1;l<=jH;l+=1){var a=bA(i),c=lg(Hc({h:SA(a,l),s:wA(a,l),v:xA(a,l)}));t.push(c)}return e.theme==="dark"?vU.map(function(u){var h=u.index,d=u.opacity,f=lg(yU(Hc(e.backgroundColor||"#141414"),Hc(t[h]),d*100));return f}):t}var Wb={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},vm={},_b={};Object.keys(Wb).forEach(function(n){vm[n]=tc(Wb[n]),vm[n].primary=vm[n][5],_b[n]=tc(Wb[n],{theme:"dark",backgroundColor:"#141414"}),_b[n].primary=_b[n][5]});var bU=vm.blue;const KH={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},wf=Object.assign(Object.assign({},KH),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function SU(n,e){let{generateColorPalettes:t,generateNeutralColorPalettes:i}=e;const{colorSuccess:r,colorWarning:o,colorError:s,colorInfo:l,colorPrimary:a,colorBgBase:c,colorTextBase:u}=n,h=t(a),d=t(r),f=t(o),g=t(s),y=t(l),v=i(c,u),m=n.colorLink||n.colorInfo,b=t(m);return Object.assign(Object.assign({},v),{colorPrimaryBg:h[1],colorPrimaryBgHover:h[2],colorPrimaryBorder:h[3],colorPrimaryBorderHover:h[4],colorPrimaryHover:h[5],colorPrimary:h[6],colorPrimaryActive:h[7],colorPrimaryTextHover:h[8],colorPrimaryText:h[9],colorPrimaryTextActive:h[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:g[1],colorErrorBgHover:g[2],colorErrorBgActive:g[3],colorErrorBorder:g[3],colorErrorBorderHover:g[4],colorErrorHover:g[5],colorError:g[6],colorErrorActive:g[7],colorErrorTextHover:g[8],colorErrorText:g[9],colorErrorTextActive:g[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:y[1],colorInfoBgHover:y[2],colorInfoBorder:y[3],colorInfoBorderHover:y[4],colorInfoHover:y[4],colorInfo:y[6],colorInfoActive:y[7],colorInfoTextHover:y[8],colorInfoText:y[9],colorInfoTextActive:y[10],colorLinkHover:b[4],colorLink:b[6],colorLinkActive:b[7],colorBgMask:new An("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const wU=n=>{let e=n,t=n,i=n,r=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?i=1:n>=6&&(i=2),n>4&&n<8?r=4:n>=8&&(r=6),{borderRadius:n,borderRadiusXS:i,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:r}};function xU(n){const{motionUnit:e,motionBase:t,borderRadius:i,lineWidth:r}=n;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:r+1},wU(i))}const CU=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function ym(n){return(n+8)/n}function EU(n){const e=new Array(10).fill(null).map((t,i)=>{const r=i-1,o=n*Math.pow(2.71828,r/5),s=i>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return e[1]=n,e.map(t=>({size:t,lineHeight:ym(t)}))}const MU=n=>{const e=EU(n),t=e.map(u=>u.size),i=e.map(u=>u.lineHeight),r=t[1],o=t[0],s=t[2],l=i[1],a=i[0],c=i[2];return{fontSizeSM:o,fontSize:r,fontSizeLG:s,fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:l,lineHeightLG:c,lineHeightSM:a,fontHeight:Math.round(l*r),fontHeightLG:Math.round(c*s),fontHeightSM:Math.round(a*o),lineHeightHeading1:i[6],lineHeightHeading2:i[5],lineHeightHeading3:i[4],lineHeightHeading4:i[3],lineHeightHeading5:i[2]}};function $U(n){const{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const el=(n,e)=>new An(n).setAlpha(e).toRgbString(),Ph=(n,e)=>new An(n).darken(e).toHexString(),kU=n=>{const e=tc(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},OU=(n,e)=>{const t=n||"#fff",i=e||"#000";return{colorBgBase:t,colorTextBase:i,colorText:el(i,.88),colorTextSecondary:el(i,.65),colorTextTertiary:el(i,.45),colorTextQuaternary:el(i,.25),colorFill:el(i,.15),colorFillSecondary:el(i,.06),colorFillTertiary:el(i,.04),colorFillQuaternary:el(i,.02),colorBgLayout:Ph(t,4),colorBgContainer:Ph(t,0),colorBgElevated:Ph(t,0),colorBgSpotlight:el(i,.85),colorBgBlur:"transparent",colorBorder:Ph(t,15),colorBorderSecondary:Ph(t,6)}};function AU(n){const e=Object.keys(KH).map(t=>{const i=tc(n[t]);return new Array(10).fill(1).reduce((r,o,s)=>(r[`${t}-${s+1}`]=i[s],r[`${t}${s+1}`]=i[s],r),{})}).reduce((t,i)=>(t=Object.assign(Object.assign({},t),i),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),SU(n,{generateColorPalettes:kU,generateNeutralColorPalettes:OU})),MU(n.fontSize)),$U(n)),CU(n)),xU(n))}const qH=Ew(AU),Pw={token:wf,override:{override:wf},hashed:!0},GH=oe.createContext(Pw),UH="anticon",RU=(n,e)=>e||(n?`ant-${n}`:"ant"),Pt=p.createContext({getPrefixCls:RU,iconPrefixCls:UH}),DU=`-ant-${Date.now()}-${Math.random()}`;function TU(n,e){const t={},i=(s,l)=>{let a=s.clone();return a=(l==null?void 0:l(a))||a,a.toRgbString()},r=(s,l)=>{const a=new An(s),c=tc(a.toRgbString());t[`${l}-color`]=i(a),t[`${l}-color-disabled`]=c[1],t[`${l}-color-hover`]=c[4],t[`${l}-color-active`]=c[6],t[`${l}-color-outline`]=a.clone().setAlpha(.2).toRgbString(),t[`${l}-color-deprecated-bg`]=c[0],t[`${l}-color-deprecated-border`]=c[2]};if(e.primaryColor){r(e.primaryColor,"primary");const s=new An(e.primaryColor),l=tc(s.toRgbString());l.forEach((c,u)=>{t[`primary-${u+1}`]=c}),t["primary-color-deprecated-l-35"]=i(s,c=>c.lighten(35)),t["primary-color-deprecated-l-20"]=i(s,c=>c.lighten(20)),t["primary-color-deprecated-t-20"]=i(s,c=>c.tint(20)),t["primary-color-deprecated-t-50"]=i(s,c=>c.tint(50)),t["primary-color-deprecated-f-12"]=i(s,c=>c.setAlpha(c.getAlpha()*.12));const a=new An(l[0]);t["primary-color-active-deprecated-f-30"]=i(a,c=>c.setAlpha(c.getAlpha()*.3)),t["primary-color-active-deprecated-d-02"]=i(a,c=>c.darken(2))}return e.successColor&&r(e.successColor,"success"),e.warningColor&&r(e.warningColor,"warning"),e.errorColor&&r(e.errorColor,"error"),e.infoColor&&r(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(s=>`--${n}-${s}: ${t[s]};`).join(`
`)}
  }
  `.trim()}function PU(n,e){const t=TU(n,e);ur()&&cl(t,`${DU}-dynamic-theme`)}const yl=p.createContext(!1),IU=n=>{let{children:e,disabled:t}=n;const i=p.useContext(yl);return p.createElement(yl.Provider,{value:t??i},e)},_u=p.createContext(void 0),NU=n=>{let{children:e,size:t}=n;const i=p.useContext(_u);return p.createElement(_u.Provider,{value:t||i},e)};function BU(){const n=p.useContext(yl),e=p.useContext(_u);return{componentDisabled:n,componentSize:e}}const O0=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],LU="5.18.3";function jb(n){return n>=0&&n<=255}function ag(n,e){const{r:t,g:i,b:r,a:o}=new An(n).toRgb();if(o<1)return n;const{r:s,g:l,b:a}=new An(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((t-s*(1-c))/c),h=Math.round((i-l*(1-c))/c),d=Math.round((r-a*(1-c))/c);if(jb(u)&&jb(h)&&jb(d))return new An({r:u,g:h,b:d,a:Math.round(c*100)/100}).toRgbString()}return new An({r:t,g:i,b:r,a:1}).toRgbString()}var HU=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function XH(n){const{override:e}=n,t=HU(n,["override"]),i=Object.assign({},e);Object.keys(wf).forEach(d=>{delete i[d]});const r=Object.assign(Object.assign({},t),i),o=480,s=576,l=768,a=992,c=1200,u=1600;if(r.motion===!1){const d="0s";r.motionDurationFast=d,r.motionDurationMid=d,r.motionDurationSlow=d}return Object.assign(Object.assign(Object.assign({},r),{colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:ag(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:ag(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:ag(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidthFocus:r.lineWidth*4,lineWidth:r.lineWidth,controlOutlineWidth:r.lineWidth*2,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:ag(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:l-1,screenMD:l,screenMDMin:l,screenMDMax:a-1,screenLG:a,screenLGMin:a,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new An("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new An("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new An("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),i)}var CA=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const YH={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},QH={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},zU={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},JH=(n,e,t)=>{const i=t.getDerivativeToken(n),{override:r}=e,o=CA(e,["override"]);let s=Object.assign(Object.assign({},i),{override:r});return s=XH(s),o&&Object.entries(o).forEach(l=>{let[a,c]=l;const{theme:u}=c,h=CA(c,["theme"]);let d=h;u&&(d=JH(Object.assign(Object.assign({},s),h),{override:h},u)),s[a]=d}),s};function Di(){const{token:n,hashed:e,theme:t,override:i,cssVar:r}=oe.useContext(GH),o=`${LU}-${e||""}`,s=t||qH,[l,a,c]=yG(s,[wf,n],{salt:o,override:i,getComputedToken:JH,formatToken:XH,cssVar:r&&{prefix:r.prefix,key:r.key,unitless:YH,ignore:QH,preserve:zU}});return[s,c,e?a:"",l,r]}const VU=1e3*60*10;let FU=function(){function n(){ui(this,n),this.map=new Map,this.objectIDMap=new WeakMap,this.nextID=0,this.lastAccessBeat=new Map,this.accessBeat=0}return hi(n,[{key:"set",value:function(t,i){this.clear();const r=this.getCompositeKey(t);this.map.set(r,i),this.lastAccessBeat.set(r,Date.now())}},{key:"get",value:function(t){const i=this.getCompositeKey(t),r=this.map.get(i);return this.lastAccessBeat.set(i,Date.now()),this.accessBeat+=1,r}},{key:"getCompositeKey",value:function(t){return t.map(r=>r&&typeof r=="object"?`obj_${this.getObjectID(r)}`:`${typeof r}_${r}`).join("|")}},{key:"getObjectID",value:function(t){if(this.objectIDMap.has(t))return this.objectIDMap.get(t);const i=this.nextID;return this.objectIDMap.set(t,i),this.nextID+=1,i}},{key:"clear",value:function(){if(this.accessBeat>1e4){const t=Date.now();this.lastAccessBeat.forEach((i,r)=>{t-i>VU&&(this.map.delete(r),this.lastAccessBeat.delete(r))}),this.accessBeat=0}}}])}();const EA=new FU;function WU(n,e){return oe.useMemo(()=>{const t=EA.get(e);if(t)return t;const i=n();return EA.set(e,i),i},e)}function on(n){var e=p.useRef();e.current=n;var t=p.useCallback(function(){for(var i,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(i=e.current)===null||i===void 0?void 0:i.call.apply(i,[e].concat(o))},[]);return t}function xf(n){var e=p.useRef(!1),t=p.useState(n),i=X(t,2),r=i[0],o=i[1];p.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(l,a){a&&e.current||o(l)}return[r,s]}function Kb(n){return n!==void 0}function Ri(n,e){var t=e||{},i=t.defaultValue,r=t.value,o=t.onChange,s=t.postState,l=xf(function(){return Kb(r)?r:Kb(i)?typeof i=="function"?i():i:typeof n=="function"?n():n}),a=X(l,2),c=a[0],u=a[1],h=r!==void 0?r:c,d=s?s(h):h,f=on(o),g=xf([h]),y=X(g,2),v=y[0],m=y[1];aA(function(){var S=v[0];c!==S&&f(c,S)},[v]),aA(function(){Kb(r)||u(r)},[r]);var b=on(function(S,w){u(S,w),m([h],w)});return[d,b]}const _U=n=>({color:n.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"&:focus, &:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive}}),Cf={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},wi=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:e?"inherit":n.fontFamily}},dy=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),A0=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),jU=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active,\n  &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),KU=(n,e,t,i)=>{const r=`[class^="${e}"], [class*=" ${e}"]`,o=t?`.${t}`:r,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let l={};return i!==!1&&(l={fontFamily:n.fontFamily,fontSize:n.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},l),s),{[r]:s})}},da=n=>({outline:`${U(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),R0=n=>({"&:focus-visible":Object.assign({},da(n))});function qU(n){return n==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return`max(${t.map(r=>U(r)).join(",")})`},min:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return`min(${t.map(r=>U(r)).join(",")})`}}}const ZH=typeof CSSINJS_STATISTIC<"u";let Iw=!0;function sn(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!ZH)return Object.assign.apply(Object,[{}].concat(e));Iw=!1;const i={};return e.forEach(r=>{Object.keys(r).forEach(s=>{Object.defineProperty(i,s,{configurable:!0,enumerable:!0,get:()=>r[s]})})}),Iw=!0,i}const MA={};function GU(){}const UU=n=>{let e,t=n,i=GU;return ZH&&typeof Proxy<"u"&&(e=new Set,t=new Proxy(n,{get(r,o){return Iw&&e.add(o),r[o]}}),i=(r,o)=>{var s;MA[r]={global:Array.from(e),component:Object.assign(Object.assign({},(s=MA[r])===null||s===void 0?void 0:s.component),o)}}),{token:t,keys:e,flush:i}},ez=(n,e)=>{const[t,i]=Di();return Aw({theme:t,token:i,hashId:"",path:["ant-design-icons",n],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[{[`.${n}`]:Object.assign(Object.assign({},dy()),{[`.${n} .${n}-icon`]:{display:"block"}})}])},tz=(n,e,t)=>{var i;return typeof t=="function"?t(sn(e,(i=e[n])!==null&&i!==void 0?i:{})):t??{}},nz=(n,e,t,i)=>{const r=Object.assign({},e[n]);if(i!=null&&i.deprecatedTokens){const{deprecatedTokens:s}=i;s.forEach(l=>{let[a,c]=l;var u;(r!=null&&r[a]||r!=null&&r[c])&&((u=r[c])!==null&&u!==void 0||(r[c]=r==null?void 0:r[a]))})}const o=Object.assign(Object.assign({},t),r);return Object.keys(o).forEach(s=>{o[s]===e[s]&&delete o[s]}),o},$A=(n,e)=>`${[e,n.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")}`;function KM(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=Array.isArray(n)?n:[n,n],[o]=r,s=r.join("-");return function(l){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;const[c,u,h,d,f]=Di(),{getPrefixCls:g,iconPrefixCls:y,csp:v}=p.useContext(Pt),m=g(),b=f?"css":"js",S=WU(()=>{const $=new Set;return f&&Object.keys(i.unitless||{}).forEach(M=>{$.add(hm(M,f.prefix)),$.add(hm(M,$A(o,f.prefix)))}),Yq(b,$)},[b,o,f&&f.prefix]),{max:w,min:x}=qU(b),E={theme:c,token:d,hashId:h,nonce:()=>v==null?void 0:v.nonce,clientOnly:i.clientOnly,layer:{name:"antd"},order:i.order||-999};return Aw(Object.assign(Object.assign({},E),{clientOnly:!1,path:["Shared",m]}),()=>[{"&":jU(d)}]),ez(y,v),[Aw(Object.assign(Object.assign({},E),{path:[s,l,y]}),()=>{if(i.injectStyle===!1)return[];const{token:$,flush:M}=UU(d),A=tz(o,u,t),P=`.${l}`,D=nz(o,u,A,{deprecatedTokens:i.deprecatedTokens});f&&Object.keys(A).forEach(H=>{A[H]=`var(${hm(H,$A(o,f.prefix))})`});const I=sn($,{componentCls:P,prefixCls:l,iconCls:`.${y}`,antCls:`.${m}`,calc:S,max:w,min:x},f?A:D),O=e(I,{hashId:h,prefixCls:l,rootPrefixCls:m,iconPrefixCls:y});return M(o,D),[i.resetStyle===!1?null:KU(I,l,a,i.resetFont),O]}),h]}}const iz=(n,e,t,i)=>{const r=KM(n,e,t,Object.assign({resetStyle:!1,order:-998},i));return s=>{let{prefixCls:l,rootCls:a=l}=s;return r(l,a),null}},XU=(n,e,t)=>{const{unitless:i,injectStyle:r=!0,prefixToken:o}=t,s=a=>{let{rootCls:c,cssVar:u}=a;const[,h]=Di();return qG({path:[n],prefix:u.prefix,key:u==null?void 0:u.key,unitless:i,ignore:QH,token:h,scope:c},()=>{const d=tz(n,h,e),f=nz(n,h,d,{deprecatedTokens:t==null?void 0:t.deprecatedTokens});return Object.keys(d).forEach(g=>{f[o(g)]=f[g],delete f[g]}),f}),null};return a=>{const[,,,,c]=Di();return[u=>r&&c?oe.createElement(oe.Fragment,null,oe.createElement(s,{rootCls:a,cssVar:c,component:n}),u):u,c==null?void 0:c.key]}},xr=(n,e,t,i)=>{const r=Array.isArray(n)?n[0]:n;function o(h){return`${r}${h.slice(0,1).toUpperCase()}${h.slice(1)}`}const s=i&&i.unitless||{},l=Object.assign(Object.assign({},YH),{[o("zIndexPopup")]:!0});Object.keys(s).forEach(h=>{l[o(h)]=s[h]});const a=Object.assign(Object.assign({},i),{unitless:l,prefixToken:o}),c=KM(n,e,t,a),u=XU(r,t,a);return function(h){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;const[,f]=c(h,d),[g,y]=u(d);return[g,f,y]}};function YU(n,e){return O0.reduce((t,i)=>{const r=n[`${i}1`],o=n[`${i}3`],s=n[`${i}6`],l=n[`${i}7`];return Object.assign(Object.assign({},t),e(i,{lightColor:r,lightBorderColor:o,darkColor:s,textColor:l}))},{})}const QU=Object.assign({},Nv),{useId:kA}=QU,JU=()=>"",ZU=typeof kA>"u"?JU:kA;function eX(n,e,t){var i;gh();const r=n||{},o=r.inherit===!1||!e?Object.assign(Object.assign({},Pw),{hashed:(i=e==null?void 0:e.hashed)!==null&&i!==void 0?i:Pw.hashed,cssVar:e==null?void 0:e.cssVar}):e,s=ZU();return gc(()=>{var l,a;if(!n)return e;const c=Object.assign({},o.components);Object.keys(n.components||{}).forEach(d=>{c[d]=Object.assign(Object.assign({},c[d]),n.components[d])});const u=`css-var-${s.replace(/:/g,"")}`,h=((l=r.cssVar)!==null&&l!==void 0?l:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:t==null?void 0:t.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof r.cssVar=="object"?r.cssVar:{}),{key:typeof r.cssVar=="object"&&((a=r.cssVar)===null||a===void 0?void 0:a.key)||u});return Object.assign(Object.assign(Object.assign({},o),r),{token:Object.assign(Object.assign({},o.token),r.token),components:c,cssVar:h})},[r,o],(l,a)=>l.some((c,u)=>{const h=a[u];return!_s(c,h,!0)}))}var tX=["children"],rz=p.createContext({});function nX(n){var e=n.children,t=bt(n,tX);return p.createElement(rz.Provider,{value:t},e)}var iX=function(n){qs(t,n);var e=Gs(t);function t(){return ui(this,t),e.apply(this,arguments)}return hi(t,[{key:"render",value:function(){return this.props.children}}]),t}(p.Component);function rX(n){var e=p.useReducer(function(l){return l+1},0),t=X(e,2),i=t[1],r=p.useRef(n),o=on(function(){return r.current}),s=on(function(l){r.current=typeof l=="function"?l(r.current):l,i()});return[o,s]}var kl="none",cg="appear",ug="enter",hg="leave",OA="none",_o="prepare",tu="start",nu="active",qM="end",oz="prepared";function AA(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(n)]="webkit".concat(e),t["Moz".concat(n)]="moz".concat(e),t["ms".concat(n)]="MS".concat(e),t["O".concat(n)]="o".concat(e.toLowerCase()),t}function oX(n,e){var t={animationend:AA("Animation","AnimationEnd"),transitionend:AA("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var sX=oX(ur(),typeof window<"u"?window:{}),sz={};if(ur()){var lX=document.createElement("div");sz=lX.style}var dg={};function lz(n){if(dg[n])return dg[n];var e=sX[n];if(e)for(var t=Object.keys(e),i=t.length,r=0;r<i;r+=1){var o=t[r];if(Object.prototype.hasOwnProperty.call(e,o)&&o in sz)return dg[n]=e[o],dg[n]}return""}var az=lz("animationend"),cz=lz("transitionend"),uz=!!(az&&cz),RA=az||"animationend",DA=cz||"transitionend";function TA(n,e){if(!n)return null;if(et(n)==="object"){var t=e.replace(/-\w/g,function(i){return i[1].toUpperCase()});return n[t]}return"".concat(n,"-").concat(e)}const aX=function(n){var e=p.useRef();function t(r){r&&(r.removeEventListener(DA,n),r.removeEventListener(RA,n))}function i(r){e.current&&e.current!==r&&t(e.current),r&&r!==e.current&&(r.addEventListener(DA,n),r.addEventListener(RA,n),e.current=r)}return p.useEffect(function(){return function(){t(e.current)}},[]),[i,t]};var hz=ur()?p.useLayoutEffect:p.useEffect;const cX=function(){var n=p.useRef(null);function e(){Xt.cancel(n.current)}function t(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=Xt(function(){r<=1?i({isCanceled:function(){return o!==n.current}}):t(i,r-1)});n.current=o}return p.useEffect(function(){return function(){e()}},[]),[t,e]};var uX=[_o,tu,nu,qM],hX=[_o,oz],dz=!1,dX=!0;function fz(n){return n===nu||n===qM}const fX=function(n,e,t){var i=xf(OA),r=X(i,2),o=r[0],s=r[1],l=cX(),a=X(l,2),c=a[0],u=a[1];function h(){s(_o,!0)}var d=e?hX:uX;return hz(function(){if(o!==OA&&o!==qM){var f=d.indexOf(o),g=d[f+1],y=t(o);y===dz?s(g,!0):g&&c(function(v){function m(){v.isCanceled()||s(g,!0)}y===!0?m():Promise.resolve(y).then(m)})}},[n,o]),p.useEffect(function(){return function(){u()}},[]),[h,o]};function pX(n,e,t,i){var r=i.motionEnter,o=r===void 0?!0:r,s=i.motionAppear,l=s===void 0?!0:s,a=i.motionLeave,c=a===void 0?!0:a,u=i.motionDeadline,h=i.motionLeaveImmediately,d=i.onAppearPrepare,f=i.onEnterPrepare,g=i.onLeavePrepare,y=i.onAppearStart,v=i.onEnterStart,m=i.onLeaveStart,b=i.onAppearActive,S=i.onEnterActive,w=i.onLeaveActive,x=i.onAppearEnd,E=i.onEnterEnd,C=i.onLeaveEnd,$=i.onVisibleChanged,M=xf(),A=X(M,2),P=A[0],D=A[1],I=rX(kl),O=X(I,2),H=O[0],T=O[1],R=xf(null),k=X(R,2),B=k[0],L=k[1],z=H(),F=p.useRef(!1),_=p.useRef(null);function G(){return t()}var Z=p.useRef(!1);function re(){T(kl),L(null,!0)}var Q=on(function(se){var ue=H();if(ue!==kl){var xe=G();if(!(se&&!se.deadline&&se.target!==xe)){var le=Z.current,pe;ue===cg&&le?pe=x==null?void 0:x(xe,se):ue===ug&&le?pe=E==null?void 0:E(xe,se):ue===hg&&le&&(pe=C==null?void 0:C(xe,se)),le&&pe!==!1&&re()}}}),ce=aX(Q),fe=X(ce,1),te=fe[0],j=function(ue){switch(ue){case cg:return N(N(N({},_o,d),tu,y),nu,b);case ug:return N(N(N({},_o,f),tu,v),nu,S);case hg:return N(N(N({},_o,g),tu,m),nu,w);default:return{}}},q=p.useMemo(function(){return j(z)},[z]),ee=fX(z,!n,function(se){if(se===_o){var ue=q[_o];return ue?ue(G()):dz}if(he in q){var xe;L(((xe=q[he])===null||xe===void 0?void 0:xe.call(q,G(),null))||null)}return he===nu&&z!==kl&&(te(G()),u>0&&(clearTimeout(_.current),_.current=setTimeout(function(){Q({deadline:!0})},u))),he===oz&&re(),dX}),K=X(ee,2),Y=K[0],he=K[1],ne=fz(he);Z.current=ne,hz(function(){D(e);var se=F.current;F.current=!0;var ue;!se&&e&&l&&(ue=cg),se&&e&&o&&(ue=ug),(se&&!e&&c||!se&&h&&!e&&c)&&(ue=hg);var xe=j(ue);ue&&(n||xe[_o])?(T(ue),Y()):T(kl)},[e]),p.useEffect(function(){(z===cg&&!l||z===ug&&!o||z===hg&&!c)&&T(kl)},[l,o,c]),p.useEffect(function(){return function(){F.current=!1,clearTimeout(_.current)}},[]);var de=p.useRef(!1);p.useEffect(function(){P&&(de.current=!0),P!==void 0&&z===kl&&((de.current||P)&&($==null||$(P)),de.current=!0)},[P,z]);var ve=B;return q[_o]&&he===tu&&(ve=V({transition:"none"},ve)),[z,he,ve,P??e]}function gX(n){var e=n;et(n)==="object"&&(e=n.transitionSupport);function t(r,o){return!!(r.motionName&&e&&o!==!1)}var i=p.forwardRef(function(r,o){var s=r.visible,l=s===void 0?!0:s,a=r.removeOnLeave,c=a===void 0?!0:a,u=r.forceRender,h=r.children,d=r.motionName,f=r.leavedClassName,g=r.eventProps,y=p.useContext(rz),v=y.motion,m=t(r,v),b=p.useRef(),S=p.useRef();function w(){try{return b.current instanceof HTMLElement?b.current:Dd(S.current)}catch{return null}}var x=pX(m,l,w,r),E=X(x,4),C=E[0],$=E[1],M=E[2],A=E[3],P=p.useRef(A);A&&(P.current=!0);var D=p.useCallback(function(B){b.current=B,pf(o,B)},[o]),I,O=V(V({},g),{},{visible:l});if(!h)I=null;else if(C===kl)A?I=h(V({},O),D):!c&&P.current&&f?I=h(V(V({},O),{},{className:f}),D):u||!c&&!f?I=h(V(V({},O),{},{style:{display:"none"}}),D):I=null;else{var H;$===_o?H="prepare":fz($)?H="active":$===tu&&(H="start");var T=TA(d,"".concat(C,"-").concat(H));I=h(V(V({},O),{},{className:J(TA(d,C),N(N({},T,T&&H),d,typeof d=="string")),style:M}),D)}if(p.isValidElement(I)&&Ws(I)){var R=I,k=R.ref;k||(I=p.cloneElement(I,{ref:D}))}return p.createElement(iX,{ref:S},I)});return i.displayName="CSSMotion",i}const mc=gX(uz);var Nw="add",Bw="keep",Lw="remove",qb="removed";function mX(n){var e;return n&&et(n)==="object"&&"key"in n?e=n:e={key:n},V(V({},e),{},{key:String(e.key)})}function Hw(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(mX)}function vX(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],i=0,r=e.length,o=Hw(n),s=Hw(e);o.forEach(function(c){for(var u=!1,h=i;h<r;h+=1){var d=s[h];if(d.key===c.key){i<h&&(t=t.concat(s.slice(i,h).map(function(f){return V(V({},f),{},{status:Nw})})),i=h),t.push(V(V({},d),{},{status:Bw})),i+=1,u=!0;break}}u||t.push(V(V({},c),{},{status:Lw}))}),i<r&&(t=t.concat(s.slice(i).map(function(c){return V(V({},c),{},{status:Nw})})));var l={};t.forEach(function(c){var u=c.key;l[u]=(l[u]||0)+1});var a=Object.keys(l).filter(function(c){return l[c]>1});return a.forEach(function(c){t=t.filter(function(u){var h=u.key,d=u.status;return h!==c||d!==Lw}),t.forEach(function(u){u.key===c&&(u.status=Bw)})}),t}var yX=["component","children","onVisibleChanged","onAllRemoved"],bX=["status"],SX=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function wX(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mc,t=function(i){qs(o,i);var r=Gs(o);function o(){var s;ui(this,o);for(var l=arguments.length,a=new Array(l),c=0;c<l;c++)a[c]=arguments[c];return s=r.call.apply(r,[this].concat(a)),N(ge(s),"state",{keyEntities:[]}),N(ge(s),"removeKey",function(u){var h=s.state.keyEntities,d=h.map(function(f){return f.key!==u?f:V(V({},f),{},{status:qb})});return s.setState({keyEntities:d}),d.filter(function(f){var g=f.status;return g!==qb}).length}),s}return hi(o,[{key:"render",value:function(){var l=this,a=this.state.keyEntities,c=this.props,u=c.component,h=c.children,d=c.onVisibleChanged,f=c.onAllRemoved,g=bt(c,yX),y=u||p.Fragment,v={};return SX.forEach(function(m){v[m]=g[m],delete g[m]}),delete g.keys,p.createElement(y,g,a.map(function(m,b){var S=m.status,w=bt(m,bX),x=S===Nw||S===Bw;return p.createElement(e,Se({},v,{key:w.key,visible:x,eventProps:w,onVisibleChanged:function(C){if(d==null||d(C,{key:w.key}),!C){var $=l.removeKey(w.key);$===0&&f&&f()}}}),function(E,C){return h(V(V({},E),{},{index:b}),C)})}))}}],[{key:"getDerivedStateFromProps",value:function(l,a){var c=l.keys,u=a.keyEntities,h=Hw(c),d=vX(u,h);return{keyEntities:d.filter(function(f){var g=u.find(function(y){var v=y.key;return f.key===v});return!(g&&g.status===qb&&f.status===Lw)})}}}]),o}(p.Component);return N(t,"defaultProps",{component:"div"}),t}wX(uz);function xX(n){const{children:e}=n,[,t]=Di(),{motion:i}=t,r=p.useRef(!1);return r.current=r.current||i===!1,r.current?p.createElement(nX,{motion:i},e):e}const CX=()=>null;var EX=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const MX=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"],pz="ant";let gz;function $X(){return gz||pz}function kX(n){return Object.keys(n).some(e=>e.endsWith("Color"))}const OX=n=>{const{prefixCls:e,iconPrefixCls:t,theme:i,holderRender:r}=n;e!==void 0&&(gz=e),i&&kX(i)&&PU($X(),i)},AX=n=>{const{children:e,csp:t,autoInsertSpaceInButton:i,alert:r,anchor:o,form:s,locale:l,componentSize:a,direction:c,space:u,virtual:h,dropdownMatchSelectWidth:d,popupMatchSelectWidth:f,popupOverflow:g,legacyLocale:y,parentContext:v,iconPrefixCls:m,theme:b,componentDisabled:S,segmented:w,statistic:x,spin:E,calendar:C,carousel:$,cascader:M,collapse:A,typography:P,checkbox:D,descriptions:I,divider:O,drawer:H,skeleton:T,steps:R,image:k,layout:B,list:L,mentions:z,modal:F,progress:_,result:G,slider:Z,breadcrumb:re,menu:Q,pagination:ce,input:fe,textArea:te,empty:j,badge:q,radio:ee,rate:K,switch:Y,transfer:he,avatar:ne,message:de,tag:ve,table:se,card:ue,tabs:xe,timeline:le,timePicker:pe,upload:Me,notification:we,tree:st,colorPicker:Qe,datePicker:Ie,rangePicker:ae,flex:$e,wave:Ae,dropdown:Ue,warning:lt,tour:Ke,floatButtonGroup:qe}=n,at=p.useCallback((Ce,Te)=>{const{prefixCls:We}=n;if(Te)return Te;const ye=We||v.getPrefixCls("");return Ce?`${ye}-${Ce}`:ye},[v.getPrefixCls,n.prefixCls]),_e=m||v.iconPrefixCls||UH,Ot=t||v.csp;ez(_e,Ot);const xt=eX(b,v.theme,{prefixCls:at("")}),Ft={csp:Ot,autoInsertSpaceInButton:i,alert:r,anchor:o,locale:l||y,direction:c,space:u,virtual:h,popupMatchSelectWidth:f??d,popupOverflow:g,getPrefixCls:at,iconPrefixCls:_e,theme:xt,segmented:w,statistic:x,spin:E,calendar:C,carousel:$,cascader:M,collapse:A,typography:P,checkbox:D,descriptions:I,divider:O,drawer:H,skeleton:T,steps:R,image:k,input:fe,textArea:te,layout:B,list:L,mentions:z,modal:F,progress:_,result:G,slider:Z,breadcrumb:re,menu:Q,pagination:ce,empty:j,badge:q,radio:ee,rate:K,switch:Y,transfer:he,avatar:ne,message:de,tag:ve,table:se,card:ue,tabs:xe,timeline:le,timePicker:pe,upload:Me,notification:we,tree:st,colorPicker:Qe,datePicker:Ie,rangePicker:ae,flex:$e,wave:Ae,dropdown:Ue,warning:lt,tour:Ke,floatButtonGroup:qe},St=Object.assign({},v);Object.keys(Ft).forEach(Ce=>{Ft[Ce]!==void 0&&(St[Ce]=Ft[Ce])}),MX.forEach(Ce=>{const Te=n[Ce];Te&&(St[Ce]=Te)}),typeof i<"u"&&(St.button=Object.assign({autoInsertSpace:i},St.button));const Dt=gc(()=>St,St,(Ce,Te)=>{const We=Object.keys(Ce),ye=Object.keys(Te);return We.length!==ye.length||We.some(Oe=>Ce[Oe]!==Te[Oe])}),ht=p.useMemo(()=>({prefixCls:_e,csp:Ot}),[_e,Ot]);let Pe=p.createElement(p.Fragment,null,p.createElement(CX,{dropdownMatchSelectWidth:d}),e);const nt=p.useMemo(()=>{var Ce,Te,We,ye;return eu(((Ce=ec.Form)===null||Ce===void 0?void 0:Ce.defaultValidateMessages)||{},((We=(Te=Dt.locale)===null||Te===void 0?void 0:Te.Form)===null||We===void 0?void 0:We.defaultValidateMessages)||{},((ye=Dt.form)===null||ye===void 0?void 0:ye.validateMessages)||{},(s==null?void 0:s.validateMessages)||{})},[Dt,s==null?void 0:s.validateMessages]);Object.keys(nt).length>0&&(Pe=p.createElement(JG.Provider,{value:nt},Pe)),l&&(Pe=p.createElement(nU,{locale:l,_ANT_MARK__:tU},Pe)),(_e||Ot)&&(Pe=p.createElement(_M.Provider,{value:ht},Pe)),a&&(Pe=p.createElement(NU,{size:a},Pe)),Pe=p.createElement(xX,null,Pe);const Fe=p.useMemo(()=>{const Ce=xt||{},{algorithm:Te,token:We,components:ye,cssVar:Oe}=Ce,ke=EX(Ce,["algorithm","token","components","cssVar"]),Je=Te&&(!Array.isArray(Te)||Te.length>0)?Ew(Te):qH,wt={};Object.entries(ye||{}).forEach(Ht=>{let[Le,Xe]=Ht;const Re=Object.assign({},Xe);"algorithm"in Re&&(Re.algorithm===!0?Re.theme=Je:(Array.isArray(Re.algorithm)||typeof Re.algorithm=="function")&&(Re.theme=Ew(Re.algorithm)),delete Re.algorithm),wt[Le]=Re});const mt=Object.assign(Object.assign({},wf),We);return Object.assign(Object.assign({},ke),{theme:Je,token:mt,components:wt,override:Object.assign({override:mt},wt),cssVar:Oe})},[xt]);return b&&(Pe=p.createElement(GH.Provider,{value:Fe},Pe)),Dt.warning&&(Pe=p.createElement(QG.Provider,{value:Dt.warning},Pe)),S!==void 0&&(Pe=p.createElement(IU,{disabled:S},Pe)),p.createElement(Pt.Provider,{value:Dt},Pe)},mh=n=>{const e=p.useContext(Pt),t=p.useContext(jM);return p.createElement(AX,Object.assign({parentContext:e,legacyLocale:t},n))};mh.ConfigContext=Pt;mh.SizeContext=_u;mh.config=OX;mh.useConfig=BU;Object.defineProperty(mh,"SizeContext",{get:()=>_u});function mz(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function RX(n){return mz(n)instanceof ShadowRoot}function D0(n){return RX(n)?mz(n):null}function DX(n){return n.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function TX(n,e){Dn(n,"[@ant-design/icons] ".concat(e))}function PA(n){return et(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(et(n.icon)==="object"||typeof n.icon=="function")}function IA(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var i=n[t];switch(t){case"class":e.className=i,delete e.class;break;default:delete e[t],e[DX(t)]=i}return e},{})}function zw(n,e,t){return t?oe.createElement(n.tag,V(V({key:e},IA(n.attrs)),t),(n.children||[]).map(function(i,r){return zw(i,"".concat(e,"-").concat(n.tag,"-").concat(r))})):oe.createElement(n.tag,V({key:e},IA(n.attrs)),(n.children||[]).map(function(i,r){return zw(i,"".concat(e,"-").concat(n.tag,"-").concat(r))}))}function vz(n){return tc(n)[0]}function yz(n){return n?Array.isArray(n)?n:[n]:[]}var PX=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,IX=function(e){var t=p.useContext(_M),i=t.csp,r=t.prefixCls,o=PX;r&&(o=o.replace(/anticon/g,r)),p.useEffect(function(){var s=e.current,l=D0(s);cl(o,"@ant-design-icons",{prepend:!0,csp:i,attachTo:l})},[])},NX=["icon","className","onClick","style","primaryColor","secondaryColor"],Pd={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function BX(n){var e=n.primaryColor,t=n.secondaryColor;Pd.primaryColor=e,Pd.secondaryColor=t||vz(e),Pd.calculated=!!t}function LX(){return V({},Pd)}var vh=function(e){var t=e.icon,i=e.className,r=e.onClick,o=e.style,s=e.primaryColor,l=e.secondaryColor,a=bt(e,NX),c=p.useRef(),u=Pd;if(s&&(u={primaryColor:s,secondaryColor:l||vz(s)}),IX(c),TX(PA(t),"icon should be icon definiton, but got ".concat(t)),!PA(t))return null;var h=t;return h&&typeof h.icon=="function"&&(h=V(V({},h),{},{icon:h.icon(u.primaryColor,u.secondaryColor)})),zw(h.icon,"svg-".concat(h.name),V(V({className:i,onClick:r,style:o,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},a),{},{ref:c}))};vh.displayName="IconReact";vh.getTwoToneColors=LX;vh.setTwoToneColors=BX;function bz(n){var e=yz(n),t=X(e,2),i=t[0],r=t[1];return vh.setTwoToneColors({primaryColor:i,secondaryColor:r})}function HX(){var n=vh.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var zX=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];bz(bU.primary);var dn=p.forwardRef(function(n,e){var t=n.className,i=n.icon,r=n.spin,o=n.rotate,s=n.tabIndex,l=n.onClick,a=n.twoToneColor,c=bt(n,zX),u=p.useContext(_M),h=u.prefixCls,d=h===void 0?"anticon":h,f=u.rootClassName,g=J(f,d,N(N({},"".concat(d,"-").concat(i.name),!!i.name),"".concat(d,"-spin"),!!r||i.name==="loading"),t),y=s;y===void 0&&l&&(y=-1);var v=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,m=yz(a),b=X(m,2),S=b[0],w=b[1];return p.createElement("span",Se({role:"img","aria-label":i.name},c,{ref:e,tabIndex:y,onClick:l,className:g}),p.createElement(vh,{icon:i,primaryColor:S,secondaryColor:w,style:v}))});dn.displayName="AntdIcon";dn.getTwoToneColor=HX;dn.setTwoToneColor=bz;var VX={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},FX=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:VX}))},Sz=p.forwardRef(FX),WX={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},_X=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:WX}))},jX=p.forwardRef(_X),KX=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,qX=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,GX="".concat(KX," ").concat(qX).split(/[\s\n]+/),UX="aria-",XX="data-";function NA(n,e){return n.indexOf(e)===0}function ns(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t;e===!1?t={aria:!0,data:!0,attr:!0}:e===!0?t={aria:!0}:t=V({},e);var i={};return Object.keys(n).forEach(function(r){(t.aria&&(r==="role"||NA(r,UX))||t.data&&NA(r,XX)||t.attr&&GX.includes(r))&&(i[r]=n[r])}),i}function wz(n){return n&&oe.isValidElement(n)&&n.type===oe.Fragment}const YX=(n,e,t)=>oe.isValidElement(n)?oe.cloneElement(n,typeof t=="function"?t(n.props||{}):t):e;function Eo(n,e){return YX(n,n,e)}function Vw(n){return n!=null&&n===n.window}const QX=n=>{var e,t;if(typeof window>"u")return 0;let i=0;return Vw(n)?i=n.pageYOffset:n instanceof Document?i=n.documentElement.scrollTop:(n instanceof HTMLElement||n)&&(i=n.scrollTop),n&&!Vw(n)&&typeof i!="number"&&(i=(t=((e=n.ownerDocument)!==null&&e!==void 0?e:n).documentElement)===null||t===void 0?void 0:t.scrollTop),i};function JX(n,e,t,i){const r=t-e;return n/=i/2,n<1?r/2*n*n*n+e:r/2*((n-=2)*n*n+2)+e}function ZX(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:t=()=>window,callback:i,duration:r=450}=e,o=t(),s=QX(o),l=Date.now(),a=()=>{const u=Date.now()-l,h=JX(u>r?r:u,s,n,r);Vw(o)?o.scrollTo(window.pageXOffset,h):o instanceof Document||o.constructor.name==="HTMLDocument"?o.documentElement.scrollTop=h:o.scrollTop=h,u<r?Xt(a):typeof i=="function"&&i()};Xt(a)}const ls=n=>{const[,,,,e]=Di();return e?`${n}-css-var`:""};var me={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=me.F1&&t<=me.F12)return!1;switch(t){case me.ALT:case me.CAPS_LOCK:case me.CONTEXT_MENU:case me.CTRL:case me.DOWN:case me.END:case me.ESC:case me.HOME:case me.INSERT:case me.LEFT:case me.MAC_FF_META:case me.META:case me.NUMLOCK:case me.NUM_CENTER:case me.PAGE_DOWN:case me.PAGE_UP:case me.PAUSE:case me.PRINT_SCREEN:case me.RIGHT:case me.SHIFT:case me.UP:case me.WIN_KEY:case me.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=me.ZERO&&e<=me.NINE||e>=me.NUM_ZERO&&e<=me.NUM_MULTIPLY||e>=me.A&&e<=me.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case me.SPACE:case me.QUESTION_MARK:case me.NUM_PLUS:case me.NUM_MINUS:case me.NUM_PERIOD:case me.NUM_DIVISION:case me.SEMICOLON:case me.DASH:case me.EQUALS:case me.COMMA:case me.PERIOD:case me.SLASH:case me.APOSTROPHE:case me.SINGLE_QUOTE:case me.OPEN_SQUARE_BRACKET:case me.BACKSLASH:case me.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},eY={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},tY=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:eY}))},GM=p.forwardRef(tY);const UM=oe.createContext(void 0),Aa=100,nY=10,iY=Aa*nY,xz={Modal:Aa,Drawer:Aa,Popover:Aa,Popconfirm:Aa,Tooltip:Aa,Tour:Aa},rY={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function oY(n){return n in xz}function fy(n,e){const[,t]=Di(),i=oe.useContext(UM),r=oY(n);if(e!==void 0)return[e,e];let o=i??0;return r?(o+=(i?0:t.zIndexPopupBase)+xz[n],o=Math.min(o,t.zIndexPopupBase+iY)):o+=rY[n],[i===void 0?e:o,o]}function br(){br=function(){return e};var n,e={},t=Object.prototype,i=t.hasOwnProperty,r=Object.defineProperty||function(T,R,k){T[R]=k.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(T,R,k){return Object.defineProperty(T,R,{value:k,enumerable:!0,configurable:!0,writable:!0}),T[R]}try{c({},"")}catch{c=function(k,B,L){return k[B]=L}}function u(T,R,k,B){var L=R&&R.prototype instanceof m?R:m,z=Object.create(L.prototype),F=new O(B||[]);return r(z,"_invoke",{value:A(T,k,F)}),z}function h(T,R,k){try{return{type:"normal",arg:T.call(R,k)}}catch(B){return{type:"throw",arg:B}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",g="executing",y="completed",v={};function m(){}function b(){}function S(){}var w={};c(w,s,function(){return this});var x=Object.getPrototypeOf,E=x&&x(x(H([])));E&&E!==t&&i.call(E,s)&&(w=E);var C=S.prototype=m.prototype=Object.create(w);function $(T){["next","throw","return"].forEach(function(R){c(T,R,function(k){return this._invoke(R,k)})})}function M(T,R){function k(L,z,F,_){var G=h(T[L],T,z);if(G.type!=="throw"){var Z=G.arg,re=Z.value;return re&&et(re)=="object"&&i.call(re,"__await")?R.resolve(re.__await).then(function(Q){k("next",Q,F,_)},function(Q){k("throw",Q,F,_)}):R.resolve(re).then(function(Q){Z.value=Q,F(Z)},function(Q){return k("throw",Q,F,_)})}_(G.arg)}var B;r(this,"_invoke",{value:function(z,F){function _(){return new R(function(G,Z){k(z,F,G,Z)})}return B=B?B.then(_,_):_()}})}function A(T,R,k){var B=d;return function(L,z){if(B===g)throw Error("Generator is already running");if(B===y){if(L==="throw")throw z;return{value:n,done:!0}}for(k.method=L,k.arg=z;;){var F=k.delegate;if(F){var _=P(F,k);if(_){if(_===v)continue;return _}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(B===d)throw B=y,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);B=g;var G=h(T,R,k);if(G.type==="normal"){if(B=k.done?y:f,G.arg===v)continue;return{value:G.arg,done:k.done}}G.type==="throw"&&(B=y,k.method="throw",k.arg=G.arg)}}}function P(T,R){var k=R.method,B=T.iterator[k];if(B===n)return R.delegate=null,k==="throw"&&T.iterator.return&&(R.method="return",R.arg=n,P(T,R),R.method==="throw")||k!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+k+"' method")),v;var L=h(B,T.iterator,R.arg);if(L.type==="throw")return R.method="throw",R.arg=L.arg,R.delegate=null,v;var z=L.arg;return z?z.done?(R[T.resultName]=z.value,R.next=T.nextLoc,R.method!=="return"&&(R.method="next",R.arg=n),R.delegate=null,v):z:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,v)}function D(T){var R={tryLoc:T[0]};1 in T&&(R.catchLoc=T[1]),2 in T&&(R.finallyLoc=T[2],R.afterLoc=T[3]),this.tryEntries.push(R)}function I(T){var R=T.completion||{};R.type="normal",delete R.arg,T.completion=R}function O(T){this.tryEntries=[{tryLoc:"root"}],T.forEach(D,this),this.reset(!0)}function H(T){if(T||T===""){var R=T[s];if(R)return R.call(T);if(typeof T.next=="function")return T;if(!isNaN(T.length)){var k=-1,B=function L(){for(;++k<T.length;)if(i.call(T,k))return L.value=T[k],L.done=!1,L;return L.value=n,L.done=!0,L};return B.next=B}}throw new TypeError(et(T)+" is not iterable")}return b.prototype=S,r(C,"constructor",{value:S,configurable:!0}),r(S,"constructor",{value:b,configurable:!0}),b.displayName=c(S,a,"GeneratorFunction"),e.isGeneratorFunction=function(T){var R=typeof T=="function"&&T.constructor;return!!R&&(R===b||(R.displayName||R.name)==="GeneratorFunction")},e.mark=function(T){return Object.setPrototypeOf?Object.setPrototypeOf(T,S):(T.__proto__=S,c(T,a,"GeneratorFunction")),T.prototype=Object.create(C),T},e.awrap=function(T){return{__await:T}},$(M.prototype),c(M.prototype,l,function(){return this}),e.AsyncIterator=M,e.async=function(T,R,k,B,L){L===void 0&&(L=Promise);var z=new M(u(T,R,k,B),L);return e.isGeneratorFunction(R)?z:z.next().then(function(F){return F.done?F.value:z.next()})},$(C),c(C,a,"Generator"),c(C,s,function(){return this}),c(C,"toString",function(){return"[object Generator]"}),e.keys=function(T){var R=Object(T),k=[];for(var B in R)k.push(B);return k.reverse(),function L(){for(;k.length;){var z=k.pop();if(z in R)return L.value=z,L.done=!1,L}return L.done=!0,L}},e.values=H,O.prototype={constructor:O,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(I),!R)for(var k in this)k.charAt(0)==="t"&&i.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=n)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var k=this;function B(Z,re){return F.type="throw",F.arg=R,k.next=Z,re&&(k.method="next",k.arg=n),!!re}for(var L=this.tryEntries.length-1;L>=0;--L){var z=this.tryEntries[L],F=z.completion;if(z.tryLoc==="root")return B("end");if(z.tryLoc<=this.prev){var _=i.call(z,"catchLoc"),G=i.call(z,"finallyLoc");if(_&&G){if(this.prev<z.catchLoc)return B(z.catchLoc,!0);if(this.prev<z.finallyLoc)return B(z.finallyLoc)}else if(_){if(this.prev<z.catchLoc)return B(z.catchLoc,!0)}else{if(!G)throw Error("try statement without catch or finally");if(this.prev<z.finallyLoc)return B(z.finallyLoc)}}}},abrupt:function(R,k){for(var B=this.tryEntries.length-1;B>=0;--B){var L=this.tryEntries[B];if(L.tryLoc<=this.prev&&i.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var z=L;break}}z&&(R==="break"||R==="continue")&&z.tryLoc<=k&&k<=z.finallyLoc&&(z=null);var F=z?z.completion:{};return F.type=R,F.arg=k,z?(this.method="next",this.next=z.finallyLoc,v):this.complete(F)},complete:function(R,k){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&k&&(this.next=k),v},finish:function(R){for(var k=this.tryEntries.length-1;k>=0;--k){var B=this.tryEntries[k];if(B.finallyLoc===R)return this.complete(B.completion,B.afterLoc),I(B),v}},catch:function(R){for(var k=this.tryEntries.length-1;k>=0;--k){var B=this.tryEntries[k];if(B.tryLoc===R){var L=B.completion;if(L.type==="throw"){var z=L.arg;I(B)}return z}}throw Error("illegal catch attempt")},delegateYield:function(R,k,B){return this.delegate={iterator:H(R),resultName:k,nextLoc:B},this.method==="next"&&(this.arg=n),v}},e}function BA(n,e,t,i,r,o,s){try{var l=n[o](s),a=l.value}catch(c){return void t(c)}l.done?e(a):Promise.resolve(a).then(i,r)}function vc(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(a){BA(o,i,r,s,l,"next",a)}function l(a){BA(o,i,r,s,l,"throw",a)}s(void 0)})}}var gp=V({},X7),sY=gp.version,lY=gp.render,aY=gp.unmountComponentAtNode,py;try{var cY=Number((sY||"").split(".")[0]);cY>=18&&(py=gp.createRoot)}catch{}function LA(n){var e=gp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&et(e)==="object"&&(e.usingClientEntryPoint=n)}var T0="__rc_react_root__";function uY(n,e){LA(!0);var t=e[T0]||py(e);LA(!1),t.render(n),e[T0]=t}function hY(n,e){lY(n,e)}function dY(n,e){if(py){uY(n,e);return}hY(n,e)}function fY(n){return Fw.apply(this,arguments)}function Fw(){return Fw=vc(br().mark(function n(e){return br().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.resolve().then(function(){var r;(r=e[T0])===null||r===void 0||r.unmount(),delete e[T0]}));case 1:case"end":return i.stop()}},n)})),Fw.apply(this,arguments)}function pY(n){aY(n)}function gY(n){return Ww.apply(this,arguments)}function Ww(){return Ww=vc(br().mark(function n(e){return br().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(py===void 0){i.next=2;break}return i.abrupt("return",fY(e));case 2:pY(e);case 3:case"end":return i.stop()}},n)})),Ww.apply(this,arguments)}const Gb=()=>({height:0,opacity:0}),HA=n=>{const{scrollHeight:e}=n;return{height:e,opacity:1}},mY=n=>({height:n?n.offsetHeight:0}),Ub=(n,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",Cz=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant"}-motion-collapse`,onAppearStart:Gb,onEnterStart:Gb,onAppearActive:HA,onEnterActive:HA,onLeaveStart:mY,onLeaveActive:Gb,onAppearEnd:Ub,onEnterEnd:Ub,onLeaveEnd:Ub,motionDeadline:500}},Ez=(n,e,t)=>t!==void 0?t:`${n}-${e}`,gy=function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var e=n.getBBox(),t=e.width,i=e.height;if(t||i)return!0}if(n.getBoundingClientRect){var r=n.getBoundingClientRect(),o=r.width,s=r.height;if(o||s)return!0}}return!1},vY=n=>{const{componentCls:e,colorPrimary:t}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${n.motionDurationSlow} ${n.motionEaseInOut}`,`opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`].join(",")}}}}},yY=KM("Wave",n=>[vY(n)]),my=`${pz}-wave-target`;function bY(n){const e=(n||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function Xb(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&bY(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function SY(n){const{borderTopColor:e,borderColor:t,backgroundColor:i}=getComputedStyle(n);return Xb(e)?e:Xb(t)?t:Xb(i)?i:null}function Yb(n){return Number.isNaN(n)?0:n}const wY=n=>{const{className:e,target:t,component:i}=n,r=p.useRef(null),[o,s]=p.useState(null),[l,a]=p.useState([]),[c,u]=p.useState(0),[h,d]=p.useState(0),[f,g]=p.useState(0),[y,v]=p.useState(0),[m,b]=p.useState(!1),S={left:c,top:h,width:f,height:y,borderRadius:l.map(E=>`${E}px`).join(" ")};o&&(S["--wave-color"]=o);function w(){const E=getComputedStyle(t);s(SY(t));const C=E.position==="static",{borderLeftWidth:$,borderTopWidth:M}=E;u(C?t.offsetLeft:Yb(-parseFloat($))),d(C?t.offsetTop:Yb(-parseFloat(M))),g(t.offsetWidth),v(t.offsetHeight);const{borderTopLeftRadius:A,borderTopRightRadius:P,borderBottomLeftRadius:D,borderBottomRightRadius:I}=E;a([A,P,I,D].map(O=>Yb(parseFloat(O))))}if(p.useEffect(()=>{if(t){const E=Xt(()=>{w(),b(!0)});let C;return typeof ResizeObserver<"u"&&(C=new ResizeObserver(w),C.observe(t)),()=>{Xt.cancel(E),C==null||C.disconnect()}}},[]),!m)return null;const x=(i==="Checkbox"||i==="Radio")&&(t==null?void 0:t.classList.contains(my));return p.createElement(mc,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(E,C)=>{var $;if(C.deadline||C.propertyName==="opacity"){const M=($=r.current)===null||$===void 0?void 0:$.parentElement;gY(M).then(()=>{M==null||M.remove()})}return!1}},(E,C)=>{let{className:$}=E;return p.createElement("div",{ref:ko(r,C),className:J(e,$,{"wave-quick":x}),style:S})})},xY=(n,e)=>{var t;const{component:i}=e;if(i==="Checkbox"&&!(!((t=n.querySelector("input"))===null||t===void 0)&&t.checked))return;const r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",n==null||n.insertBefore(r,n==null?void 0:n.firstChild),dY(p.createElement(wY,Object.assign({},e,{target:n})),r)},CY=(n,e,t)=>{const{wave:i}=p.useContext(Pt),[,r,o]=Di(),s=on(c=>{const u=n.current;if(i!=null&&i.disabled||!u)return;const h=u.querySelector(`.${my}`)||u,{showEffect:d}=i||{};(d||xY)(h,{className:e,token:r,component:t,event:c,hashId:o})}),l=p.useRef();return c=>{Xt.cancel(l.current),l.current=Xt(()=>{s(c)})}},XM=n=>{const{children:e,disabled:t,component:i}=n,{getPrefixCls:r}=p.useContext(Pt),o=p.useRef(null),s=r("wave"),[,l]=yY(s),a=CY(o,J(s,l),i);if(oe.useEffect(()=>{const u=o.current;if(!u||u.nodeType!==1||t)return;const h=d=>{!gy(d.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||a(d)};return u.addEventListener("click",h,!0),()=>{u.removeEventListener("click",h,!0)}},[t]),!oe.isValidElement(e))return e??null;const c=Ws(e)?ko(e.ref,o):o;return Eo(e,{ref:c})},Us=n=>{const e=oe.useContext(_u);return oe.useMemo(()=>n?typeof n=="string"?n??e:n instanceof Function?n(e):e:e,[n,e])},EY=n=>{const{componentCls:e}=n;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},MY=n=>{const{componentCls:e,antCls:t}=n;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"},[`${e}-item > ${t}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},$Y=n=>{const{componentCls:e}=n;return{[e]:{"&-gap-row-small":{rowGap:n.spaceGapSmallSize},"&-gap-row-middle":{rowGap:n.spaceGapMiddleSize},"&-gap-row-large":{rowGap:n.spaceGapLargeSize},"&-gap-col-small":{columnGap:n.spaceGapSmallSize},"&-gap-col-middle":{columnGap:n.spaceGapMiddleSize},"&-gap-col-large":{columnGap:n.spaceGapLargeSize}}}},Mz=xr("Space",n=>{const e=sn(n,{spaceGapSmallSize:n.paddingXS,spaceGapMiddleSize:n.padding,spaceGapLargeSize:n.paddingLG});return[MY(e),$Y(e),EY(e)]},()=>({}),{resetStyle:!1});var $z=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const vy=p.createContext(null),mp=(n,e)=>{const t=p.useContext(vy),i=p.useMemo(()=>{if(!t)return"";const{compactDirection:r,isFirstItem:o,isLastItem:s}=t,l=r==="vertical"?"-vertical-":"-";return J(`${n}-compact${l}item`,{[`${n}-compact${l}first-item`]:o,[`${n}-compact${l}last-item`]:s,[`${n}-compact${l}item-rtl`]:e==="rtl"})},[n,e,t]);return{compactSize:t==null?void 0:t.compactSize,compactDirection:t==null?void 0:t.compactDirection,compactItemClassnames:i}},YM=n=>{let{children:e}=n;return p.createElement(vy.Provider,{value:null},e)},kY=n=>{var{children:e}=n,t=$z(n,["children"]);return p.createElement(vy.Provider,{value:t},e)},OY=n=>{const{getPrefixCls:e,direction:t}=p.useContext(Pt),{size:i,direction:r,block:o,prefixCls:s,className:l,rootClassName:a,children:c}=n,u=$z(n,["size","direction","block","prefixCls","className","rootClassName","children"]),h=Us(S=>i??S),d=e("space-compact",s),[f,g]=Mz(d),y=J(d,g,{[`${d}-rtl`]:t==="rtl",[`${d}-block`]:o,[`${d}-vertical`]:r==="vertical"},l,a),v=p.useContext(vy),m=ts(c),b=p.useMemo(()=>m.map((S,w)=>{const x=S&&S.key||`${d}-item-${w}`;return p.createElement(kY,{key:x,compactSize:h,compactDirection:r,isFirstItem:w===0&&(!v||(v==null?void 0:v.isFirstItem)),isLastItem:w===m.length-1&&(!v||(v==null?void 0:v.isLastItem))},S)}),[i,m,v]);return m.length===0?null:f(p.createElement("div",Object.assign({className:y},u),b))};var AY=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const kz=p.createContext(void 0),RY=n=>{const{getPrefixCls:e,direction:t}=p.useContext(Pt),{prefixCls:i,size:r,className:o}=n,s=AY(n,["prefixCls","size","className"]),l=e("btn-group",i),[,,a]=Di();let c="";switch(r){case"large":c="lg";break;case"small":c="sm";break}const u=J(l,{[`${l}-${c}`]:c,[`${l}-rtl`]:t==="rtl"},o,a);return p.createElement(kz.Provider,{value:r},p.createElement("div",Object.assign({},s,{className:u})))},zA=/^[\u4e00-\u9fa5]{2}$/,_w=zA.test.bind(zA);function VA(n){return typeof n=="string"}function Qb(n){return n==="text"||n==="link"}function DY(n,e){if(n==null)return;const t=e?" ":"";return typeof n!="string"&&typeof n!="number"&&VA(n.type)&&_w(n.props.children)?Eo(n,{children:n.props.children.split("").join(t)}):VA(n)?_w(n)?oe.createElement("span",null,n.split("").join(t)):oe.createElement("span",null,n):wz(n)?oe.createElement("span",null,n):n}function TY(n,e){let t=!1;const i=[];return oe.Children.forEach(n,r=>{const o=typeof r,s=o==="string"||o==="number";if(t&&s){const l=i.length-1,a=i[l];i[l]=`${a}${r}`}else i.push(r);t=s}),oe.Children.map(i,r=>DY(r,e))}const Oz=p.forwardRef((n,e)=>{const{className:t,style:i,children:r,prefixCls:o}=n,s=J(`${o}-icon`,t);return oe.createElement("span",{ref:e,className:s,style:i},r)}),FA=p.forwardRef((n,e)=>{const{prefixCls:t,className:i,style:r,iconClassName:o}=n,s=J(`${t}-loading-icon`,i);return oe.createElement(Oz,{prefixCls:t,className:s,style:r,ref:e},oe.createElement(GM,{className:o}))}),Jb=()=>({width:0,opacity:0,transform:"scale(0)"}),Zb=n=>({width:n.scrollWidth,opacity:1,transform:"scale(1)"}),PY=n=>{const{prefixCls:e,loading:t,existIcon:i,className:r,style:o}=n,s=!!t;return i?oe.createElement(FA,{prefixCls:e,className:r,style:o}):oe.createElement(mc,{visible:s,motionName:`${e}-loading-icon-motion`,motionLeave:s,removeOnLeave:!0,onAppearStart:Jb,onAppearActive:Zb,onEnterStart:Jb,onEnterActive:Zb,onLeaveStart:Zb,onLeaveActive:Jb},(l,a)=>{let{className:c,style:u}=l;return oe.createElement(FA,{prefixCls:e,className:r,style:Object.assign(Object.assign({},o),u),ref:a,iconClassName:c})})},WA=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),IY=n=>{const{componentCls:e,fontSize:t,lineWidth:i,groupBorderColor:r,colorErrorHover:o}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:n.calc(i).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:t}},WA(`${e}-primary`,r),WA(`${e}-danger`,o)]}},Az=n=>{const{paddingInline:e,onlyIconSize:t,paddingBlock:i}=n;return sn(n,{buttonPaddingHorizontal:e,buttonPaddingVertical:i,buttonIconOnlyFontSize:t})},Rz=n=>{var e,t,i,r,o,s;const l=(e=n.contentFontSize)!==null&&e!==void 0?e:n.fontSize,a=(t=n.contentFontSizeSM)!==null&&t!==void 0?t:n.fontSize,c=(i=n.contentFontSizeLG)!==null&&i!==void 0?i:n.fontSizeLG,u=(r=n.contentLineHeight)!==null&&r!==void 0?r:ym(l),h=(o=n.contentLineHeightSM)!==null&&o!==void 0?o:ym(a),d=(s=n.contentLineHeightLG)!==null&&s!==void 0?s:ym(c);return{fontWeight:400,defaultShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`,primaryShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`,dangerShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`,primaryColor:n.colorTextLightSolid,dangerColor:n.colorTextLightSolid,borderColorDisabled:n.colorBorder,defaultGhostColor:n.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:n.colorBgContainer,paddingInline:n.paddingContentHorizontal-n.lineWidth,paddingInlineLG:n.paddingContentHorizontal-n.lineWidth,paddingInlineSM:8-n.lineWidth,onlyIconSize:n.fontSizeLG,onlyIconSizeSM:n.fontSizeLG-2,onlyIconSizeLG:n.fontSizeLG+2,groupBorderColor:n.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:n.colorBgTextHover,defaultColor:n.colorText,defaultBg:n.colorBgContainer,defaultBorderColor:n.colorBorder,defaultBorderColorDisabled:n.colorBorder,defaultHoverBg:n.colorBgContainer,defaultHoverColor:n.colorPrimaryHover,defaultHoverBorderColor:n.colorPrimaryHover,defaultActiveBg:n.colorBgContainer,defaultActiveColor:n.colorPrimaryActive,defaultActiveBorderColor:n.colorPrimaryActive,contentFontSize:l,contentFontSizeSM:a,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:h,contentLineHeightLG:d,paddingBlock:Math.max((n.controlHeight-l*u)/2-n.lineWidth,0),paddingBlockSM:Math.max((n.controlHeightSM-a*h)/2-n.lineWidth,0),paddingBlockLG:Math.max((n.controlHeightLG-c*d)/2-n.lineWidth,0)}},NY=n=>{const{componentCls:e,iconCls:t,fontWeight:i}=n;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:n.marginXS,alignItems:"center",justifyContent:"center",fontWeight:i,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${U(n.lineWidth)} ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:n.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:1},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},R0(n)),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${t})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},bl=(n,e,t)=>({[`&:not(:disabled):not(${n}-disabled)`]:{"&:hover":e,"&:active":t}}),BY=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),LY=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.calc(n.controlHeight).div(2).equal(),paddingInlineEnd:n.calc(n.controlHeight).div(2).equal()}),HY=n=>({cursor:"not-allowed",borderColor:n.borderColorDisabled,color:n.colorTextDisabled,background:n.colorBgContainerDisabled,boxShadow:"none"}),Ef=(n,e,t,i,r,o,s,l)=>({[`&${n}-background-ghost`]:Object.assign(Object.assign({color:t||void 0,background:e,borderColor:i||void 0,boxShadow:"none"},bl(n,Object.assign({background:e},s),Object.assign({background:e},l))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:o||void 0}})}),QM=n=>({[`&:disabled, &${n.componentCls}-disabled`]:Object.assign({},HY(n))}),Dz=n=>Object.assign({},QM(n)),P0=n=>({[`&:disabled, &${n.componentCls}-disabled`]:{cursor:"not-allowed",color:n.colorTextDisabled}}),Tz=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Dz(n)),{background:n.defaultBg,borderColor:n.defaultBorderColor,color:n.defaultColor,boxShadow:n.defaultShadow}),bl(n.componentCls,{color:n.defaultHoverColor,borderColor:n.defaultHoverBorderColor,background:n.defaultHoverBg},{color:n.defaultActiveColor,borderColor:n.defaultActiveBorderColor,background:n.defaultActiveBg})),Ef(n.componentCls,n.ghostBg,n.defaultGhostColor,n.defaultGhostBorderColor,n.colorTextDisabled,n.colorBorder)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:n.colorError,borderColor:n.colorError},bl(n.componentCls,{color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),Ef(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder)),QM(n))}),zY=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Dz(n)),{color:n.primaryColor,background:n.colorPrimary,boxShadow:n.primaryShadow}),bl(n.componentCls,{color:n.colorTextLightSolid,background:n.colorPrimaryHover},{color:n.colorTextLightSolid,background:n.colorPrimaryActive})),Ef(n.componentCls,n.ghostBg,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({background:n.colorError,boxShadow:n.dangerShadow,color:n.dangerColor},bl(n.componentCls,{background:n.colorErrorHover},{background:n.colorErrorActive})),Ef(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),QM(n))}),VY=n=>Object.assign(Object.assign({},Tz(n)),{borderStyle:"dashed"}),FY=n=>Object.assign(Object.assign(Object.assign({color:n.colorLink},bl(n.componentCls,{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),P0(n)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign({color:n.colorError},bl(n.componentCls,{color:n.colorErrorHover},{color:n.colorErrorActive})),P0(n))}),WY=n=>Object.assign(Object.assign(Object.assign({},bl(n.componentCls,{color:n.colorText,background:n.textHoverBg},{color:n.colorText,background:n.colorBgTextActive})),P0(n)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign({color:n.colorError},P0(n)),bl(n.componentCls,{color:n.colorErrorHover,background:n.colorErrorBg},{color:n.colorErrorHover,background:n.colorErrorBgActive}))}),_Y=n=>{const{componentCls:e}=n;return{[`${e}-default`]:Tz(n),[`${e}-primary`]:zY(n),[`${e}-dashed`]:VY(n),[`${e}-link`]:FY(n),[`${e}-text`]:WY(n),[`${e}-ghost`]:Ef(n.componentCls,n.ghostBg,n.colorBgContainer,n.colorBgContainer,n.colorTextDisabled,n.colorBorder)}},JM=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:t,controlHeight:i,fontSize:r,lineHeight:o,borderRadius:s,buttonPaddingHorizontal:l,iconCls:a,buttonPaddingVertical:c}=n,u=`${t}-icon-only`;return[{[`${e}`]:{fontSize:r,lineHeight:o,height:i,padding:`${U(c)} ${U(l)}`,borderRadius:s,[`&${u}`]:{width:i,paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"},[a]:{fontSize:n.buttonIconOnlyFontSize}},[`&${t}-loading`]:{opacity:n.opacityLoading,cursor:"default"},[`${t}-loading-icon`]:{transition:`width ${n.motionDurationSlow} ${n.motionEaseInOut}, opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`}}},{[`${t}${t}-circle${e}`]:BY(n)},{[`${t}${t}-round${e}`]:LY(n)}]},jY=n=>{const e=sn(n,{fontSize:n.contentFontSize,lineHeight:n.contentLineHeight});return JM(e,n.componentCls)},KY=n=>{const e=sn(n,{controlHeight:n.controlHeightSM,fontSize:n.contentFontSizeSM,lineHeight:n.contentLineHeightSM,padding:n.paddingXS,buttonPaddingHorizontal:n.paddingInlineSM,buttonPaddingVertical:n.paddingBlockSM,borderRadius:n.borderRadiusSM,buttonIconOnlyFontSize:n.onlyIconSizeSM});return JM(e,`${n.componentCls}-sm`)},qY=n=>{const e=sn(n,{controlHeight:n.controlHeightLG,fontSize:n.contentFontSizeLG,lineHeight:n.contentLineHeightLG,buttonPaddingHorizontal:n.paddingInlineLG,buttonPaddingVertical:n.paddingBlockLG,borderRadius:n.borderRadiusLG,buttonIconOnlyFontSize:n.onlyIconSizeLG});return JM(e,`${n.componentCls}-lg`)},GY=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},UY=xr("Button",n=>{const e=Az(n);return[NY(e),jY(e),KY(e),qY(e),GY(e),_Y(e),IY(e)]},Rz,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function XY(n,e,t){const{focusElCls:i,focus:r,borderElCls:o}=t,s=o?"> *":"",l=["hover",r?"focus":null,"active"].filter(Boolean).map(a=>`&:${a} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[l]:{zIndex:2}},i?{[`&${i}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function YY(n,e,t){const{borderElCls:i}=t,r=i?`> ${i}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${r}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${r}, &${n}-sm ${r}, &${n}-lg ${r}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${r}, &${n}-sm ${r}, &${n}-lg ${r}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function ZM(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:t}=n,i=`${t}-compact`;return{[i]:Object.assign(Object.assign({},XY(n,i,e)),YY(t,i,e))}}function QY(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:n.calc(n.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function JY(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function ZY(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},QY(n,e)),JY(n.componentCls,e))}}const eQ=n=>{const{componentCls:e,calc:t}=n;return{[e]:{[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:t(n.lineWidth).mul(-1).equal(),insetInlineStart:t(n.lineWidth).mul(-1).equal(),display:"inline-block",width:n.lineWidth,height:`calc(100% + ${U(n.lineWidth)} * 2)`,backgroundColor:n.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:t(n.lineWidth).mul(-1).equal(),insetInlineStart:t(n.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${U(n.lineWidth)} * 2)`,height:n.lineWidth,backgroundColor:n.colorPrimaryHover,content:'""'}}}}}}},tQ=iz(["Button","compact"],n=>{const e=Az(n);return[ZM(e),ZY(e),eQ(e)]},Rz);var nQ=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function iQ(n){if(typeof n=="object"&&n){let e=n==null?void 0:n.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!n,delay:0}}const rQ=oe.forwardRef((n,e)=>{var t,i,r;const{loading:o=!1,prefixCls:s,type:l,danger:a=!1,shape:c="default",size:u,styles:h,disabled:d,className:f,rootClassName:g,children:y,icon:v,iconPosition:m="start",ghost:b=!1,block:S=!1,htmlType:w="button",classNames:x,style:E={},autoInsertSpace:C}=n,$=nQ(n,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace"]),M=l||"default",{getPrefixCls:A,direction:P,button:D}=p.useContext(Pt),I=(t=C??(D==null?void 0:D.autoInsertSpace))!==null&&t!==void 0?t:!0,O=A("btn",s),[H,T,R]=UY(O),k=p.useContext(yl),B=d??k,L=p.useContext(kz),z=p.useMemo(()=>iQ(o),[o]),[F,_]=p.useState(z.loading),[G,Z]=p.useState(!1),Q=ko(e,p.createRef()),ce=p.Children.count(y)===1&&!v&&!Qb(M);p.useEffect(()=>{let pe=null;z.delay>0?pe=setTimeout(()=>{pe=null,_(!0)},z.delay):_(z.loading);function Me(){pe&&(clearTimeout(pe),pe=null)}return Me},[z]),p.useEffect(()=>{if(!Q||!Q.current||!I)return;const pe=Q.current.textContent;ce&&_w(pe)?G||Z(!0):G&&Z(!1)},[Q]);const fe=pe=>{const{onClick:Me}=n;if(F||B){pe.preventDefault();return}Me==null||Me(pe)},{compactSize:te,compactItemClassnames:j}=mp(O,P),q={large:"lg",small:"sm",middle:void 0},ee=Us(pe=>{var Me,we;return(we=(Me=u??te)!==null&&Me!==void 0?Me:L)!==null&&we!==void 0?we:pe}),K=ee&&q[ee]||"",Y=F?"loading":v,he=zr($,["navigate"]),ne=J(O,T,R,{[`${O}-${c}`]:c!=="default"&&c,[`${O}-${M}`]:M,[`${O}-${K}`]:K,[`${O}-icon-only`]:!y&&y!==0&&!!Y,[`${O}-background-ghost`]:b&&!Qb(M),[`${O}-loading`]:F,[`${O}-two-chinese-chars`]:G&&I&&!F,[`${O}-block`]:S,[`${O}-dangerous`]:a,[`${O}-rtl`]:P==="rtl",[`${O}-icon-end`]:m==="end"},j,f,g,D==null?void 0:D.className),de=Object.assign(Object.assign({},D==null?void 0:D.style),E),ve=J(x==null?void 0:x.icon,(i=D==null?void 0:D.classNames)===null||i===void 0?void 0:i.icon),se=Object.assign(Object.assign({},(h==null?void 0:h.icon)||{}),((r=D==null?void 0:D.styles)===null||r===void 0?void 0:r.icon)||{}),ue=v&&!F?oe.createElement(Oz,{prefixCls:O,className:ve,style:se},v):oe.createElement(PY,{existIcon:!!v,prefixCls:O,loading:F}),xe=y||y===0?TY(y,ce&&I):null;if(he.href!==void 0)return H(oe.createElement("a",Object.assign({},he,{className:J(ne,{[`${O}-disabled`]:B}),href:B?void 0:he.href,style:de,onClick:fe,ref:Q,tabIndex:B?-1:0}),ue,xe));let le=oe.createElement("button",Object.assign({},$,{type:w,className:ne,style:de,onClick:fe,disabled:B,ref:Q}),ue,xe,!!j&&oe.createElement(tQ,{key:"compact",prefixCls:O}));return Qb(M)||(le=oe.createElement(XM,{component:"Button",disabled:F},le)),H(le)}),nc=rQ;nc.Group=RY;nc.__ANT_BUTTON=!0;var Pz=p.createContext(null),_A=[];function oQ(n,e){var t=p.useState(function(){if(!ur())return null;var g=document.createElement("div");return g}),i=X(t,1),r=i[0],o=p.useRef(!1),s=p.useContext(Pz),l=p.useState(_A),a=X(l,2),c=a[0],u=a[1],h=s||(o.current?void 0:function(g){u(function(y){var v=[g].concat(be(y));return v})});function d(){r.parentElement||document.body.appendChild(r),o.current=!0}function f(){var g;(g=r.parentElement)===null||g===void 0||g.removeChild(r),o.current=!1}return Kt(function(){return n?s?s(d):d():f(),f},[n]),Kt(function(){c.length&&(c.forEach(function(g){return g()}),u(_A))},[c]),[r,h]}var e1;function Iz(n){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),t=document.createElement("div");t.id=e;var i=t.style;i.position="absolute",i.left="0",i.top="0",i.width="100px",i.height="100px",i.overflow="scroll";var r,o;if(n){var s=getComputedStyle(n);i.scrollbarColor=s.scrollbarColor,i.scrollbarWidth=s.scrollbarWidth;var l=getComputedStyle(n,"::-webkit-scrollbar"),a=parseInt(l.width,10),c=parseInt(l.height,10);try{var u=a?"width: ".concat(l.width,";"):"",h=c?"height: ".concat(l.height,";"):"";cl(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(u,`
`).concat(h,`
}`),e)}catch(g){console.error(g),r=a,o=c}}document.body.appendChild(t);var d=n&&r&&!isNaN(r)?r:t.offsetWidth-t.clientWidth,f=n&&o&&!isNaN(o)?o:t.offsetHeight-t.clientHeight;return document.body.removeChild(t),yf(e),{width:d,height:f}}function jA(n){return typeof document>"u"?0:(e1===void 0&&(e1=Iz()),e1.width)}function jw(n){return typeof document>"u"||!n||!(n instanceof Element)?{width:0,height:0}:Iz(n)}function sQ(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var lQ="rc-util-locker-".concat(Date.now()),KA=0;function aQ(n){var e=!!n,t=p.useState(function(){return KA+=1,"".concat(lQ,"_").concat(KA)}),i=X(t,1),r=i[0];Kt(function(){if(e){var o=jw(document.body).width,s=sQ();cl(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(o,"px);"):"",`
}`),r)}else yf(r);return function(){yf(r)}},[e,r])}var cQ=!1;function uQ(n){return cQ}var qA=function(e){return e===!1?!1:!ur()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},Nz=p.forwardRef(function(n,e){var t=n.open,i=n.autoLock,r=n.getContainer;n.debug;var o=n.autoDestroy,s=o===void 0?!0:o,l=n.children,a=p.useState(t),c=X(a,2),u=c[0],h=c[1],d=u||t;p.useEffect(function(){(s||t)&&h(t)},[t,s]);var f=p.useState(function(){return qA(r)}),g=X(f,2),y=g[0],v=g[1];p.useEffect(function(){var P=qA(r);v(P??null)});var m=oQ(d&&!y),b=X(m,2),S=b[0],w=b[1],x=y??S;aQ(i&&t&&ur()&&(x===S||x===document.body));var E=null;if(l&&Ws(l)&&e){var C=l;E=C.ref}var $=fh(E,e);if(!d||!ur()||y===void 0)return null;var M=x===!1||uQ(),A=l;return e&&(A=p.cloneElement(l,{ref:$})),p.createElement(Pz.Provider,{value:w},M?A:vl.createPortal(A,x))});function hQ(){var n=V({},Nv);return n.useId}var GA=0,UA=hQ();const dQ=UA?function(e){var t=UA();return e||t}:function(e){var t=p.useState("ssr-id"),i=X(t,2),r=i[0],o=i[1];return p.useEffect(function(){var s=GA;GA+=1,o("rc_unique_".concat(s))},[]),e||r};var Bz=function(e){if(ur()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],i=window.document.documentElement;return t.some(function(r){return r in i.style})}return!1},fQ=function(e,t){if(!Bz(e))return!1;var i=document.createElement("div"),r=i.style[e];return i.style[e]=t,i.style[e]!==r};function pQ(n,e){return!Array.isArray(n)&&e!==void 0?fQ(n,e):Bz(n)}var Ba="RC_FORM_INTERNAL_HOOKS",rn=function(){Dn(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},ju=p.createContext({getFieldValue:rn,getFieldsValue:rn,getFieldError:rn,getFieldWarning:rn,getFieldsError:rn,isFieldsTouched:rn,isFieldTouched:rn,isFieldValidating:rn,isFieldsValidating:rn,resetFields:rn,setFields:rn,setFieldValue:rn,setFieldsValue:rn,validateFields:rn,submit:rn,getInternalHooks:function(){return rn(),{dispatch:rn,initEntityValue:rn,registerField:rn,useSubscribe:rn,setInitialValues:rn,destroyForm:rn,setCallbacks:rn,registerWatch:rn,getFields:rn,setValidateMessages:rn,setPreserve:rn,getInitialValue:rn}}}),I0=p.createContext(null);function Kw(n){return n==null?[]:Array.isArray(n)?n:[n]}function gQ(n){return n&&!!n._init}function qw(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Gw=qw();function mQ(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function vQ(n,e,t){if(NM())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var r=new(n.bind.apply(n,i));return t&&gf(r,t.prototype),r}function Uw(n){var e=typeof Map=="function"?new Map:void 0;return Uw=function(i){if(i===null||!mQ(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return vQ(i,arguments,mf(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),gf(r,i)},Uw(n)}var yQ=/%[sdj%]/g,bQ=function(){};function Xw(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var i=t.field;e[i]=e[i]||[],e[i].push(t)}),e}function no(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=0,o=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var s=n.replace(yQ,function(l){if(l==="%%")return"%";if(r>=o)return l;switch(l){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch{return"[Circular]"}break;default:return l}});return s}return n}function SQ(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function ki(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||SQ(e)&&typeof n=="string"&&!n)}function wQ(n,e,t){var i=[],r=0,o=n.length;function s(l){i.push.apply(i,be(l||[])),r++,r===o&&t(i)}n.forEach(function(l){e(l,s)})}function XA(n,e,t){var i=0,r=n.length;function o(s){if(s&&s.length){t(s);return}var l=i;i=i+1,l<r?e(n[l],o):t([])}o([])}function xQ(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,be(n[t]||[]))}),e}var YA=function(n){qs(t,n);var e=Gs(t);function t(i,r){var o;return ui(this,t),o=e.call(this,"Async Validation Error"),N(ge(o),"errors",void 0),N(ge(o),"fields",void 0),o.errors=i,o.fields=r,o}return hi(t)}(Uw(Error));function CQ(n,e,t,i,r){if(e.first){var o=new Promise(function(d,f){var g=function(m){return i(m),m.length?f(new YA(m,Xw(m))):d(r)},y=xQ(n);XA(y,t,g)});return o.catch(function(d){return d}),o}var s=e.firstFields===!0?Object.keys(n):e.firstFields||[],l=Object.keys(n),a=l.length,c=0,u=[],h=new Promise(function(d,f){var g=function(v){if(u.push.apply(u,v),c++,c===a)return i(u),u.length?f(new YA(u,Xw(u))):d(r)};l.length||(i(u),d(r)),l.forEach(function(y){var v=n[y];s.indexOf(y)!==-1?XA(v,t,g):wQ(v,t,g)})});return h.catch(function(d){return d}),h}function EQ(n){return!!(n&&n.message!==void 0)}function MQ(n,e){for(var t=n,i=0;i<e.length;i++){if(t==null)return t;t=t[e[i]]}return t}function QA(n,e){return function(t){var i;return n.fullFields?i=MQ(e,n.fullFields):i=e[t.field||n.fullField],EQ(t)?(t.field=t.field||n.fullField,t.fieldValue=i,t):{message:typeof t=="function"?t():t,fieldValue:i,field:t.field||n.fullField}}}function JA(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];et(i)==="object"&&et(n[t])==="object"?n[t]=V(V({},n[t]),i):n[t]=i}}return n}var Ec="enum",$Q=function(e,t,i,r,o){e[Ec]=Array.isArray(e[Ec])?e[Ec]:[],e[Ec].indexOf(t)===-1&&r.push(no(o.messages[Ec],e.fullField,e[Ec].join(", ")))},kQ=function(e,t,i,r,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(no(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(t)||r.push(no(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},OQ=function(e,t,i,r,o){var s=typeof e.len=="number",l=typeof e.min=="number",a=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=t,h=null,d=typeof t=="number",f=typeof t=="string",g=Array.isArray(t);if(d?h="number":f?h="string":g&&(h="array"),!h)return!1;g&&(u=t.length),f&&(u=t.replace(c,"_").length),s?u!==e.len&&r.push(no(o.messages[h].len,e.fullField,e.len)):l&&!a&&u<e.min?r.push(no(o.messages[h].min,e.fullField,e.min)):a&&!l&&u>e.max?r.push(no(o.messages[h].max,e.fullField,e.max)):l&&a&&(u<e.min||u>e.max)&&r.push(no(o.messages[h].range,e.fullField,e.min,e.max))},Lz=function(e,t,i,r,o,s){e.required&&(!i.hasOwnProperty(e.field)||ki(t,s||e.type))&&r.push(no(o.messages.required,e.fullField))},fg;const AQ=function(){if(fg)return fg;var n="[a-fA-F\\d:]",e=function(E){return E&&E.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(n,")|(?<=").concat(n,")(?=\\s|$))"):""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",r=["(?:".concat(i,":){7}(?:").concat(i,"|:)"),"(?:".concat(i,":){6}(?:").concat(t,"|:").concat(i,"|:)"),"(?:".concat(i,":){5}(?::").concat(t,"|(?::").concat(i,"){1,2}|:)"),"(?:".concat(i,":){4}(?:(?::").concat(i,"){0,1}:").concat(t,"|(?::").concat(i,"){1,3}|:)"),"(?:".concat(i,":){3}(?:(?::").concat(i,"){0,2}:").concat(t,"|(?::").concat(i,"){1,4}|:)"),"(?:".concat(i,":){2}(?:(?::").concat(i,"){0,3}:").concat(t,"|(?::").concat(i,"){1,5}|:)"),"(?:".concat(i,":){1}(?:(?::").concat(i,"){0,4}:").concat(t,"|(?::").concat(i,"){1,6}|:)"),"(?::(?:(?::".concat(i,"){0,5}:").concat(t,"|(?::").concat(i,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",s="(?:".concat(r.join("|"),")").concat(o),l=new RegExp("(?:^".concat(t,"$)|(?:^").concat(s,"$)")),a=new RegExp("^".concat(t,"$")),c=new RegExp("^".concat(s,"$")),u=function(E){return E&&E.exact?l:new RegExp("(?:".concat(e(E)).concat(t).concat(e(E),")|(?:").concat(e(E)).concat(s).concat(e(E),")"),"g")};u.v4=function(x){return x&&x.exact?a:new RegExp("".concat(e(x)).concat(t).concat(e(x)),"g")},u.v6=function(x){return x&&x.exact?c:new RegExp("".concat(e(x)).concat(s).concat(e(x)),"g")};var h="(?:(?:[a-z]+:)?//)",d="(?:\\S+(?::\\S*)?@)?",f=u.v4().source,g=u.v6().source,y="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",v="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",S='(?:[/?#][^\\s"]*)?',w="(?:".concat(h,"|www\\.)").concat(d,"(?:localhost|").concat(f,"|").concat(g,"|").concat(y).concat(v).concat(m,")").concat(b).concat(S);return fg=new RegExp("(?:^".concat(w,"$)"),"i"),fg};var ZA={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Uh={integer:function(e){return Uh.number(e)&&parseInt(e,10)===e},float:function(e){return Uh.number(e)&&!Uh.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return et(e)==="object"&&!Uh.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(ZA.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(AQ())},hex:function(e){return typeof e=="string"&&!!e.match(ZA.hex)}},RQ=function(e,t,i,r,o){if(e.required&&t===void 0){Lz(e,t,i,r,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],l=e.type;s.indexOf(l)>-1?Uh[l](t)||r.push(no(o.messages.types[l],e.fullField,e.type)):l&&et(t)!==e.type&&r.push(no(o.messages.types[l],e.fullField,e.type))},DQ=function(e,t,i,r,o){(/^\s+$/.test(t)||t==="")&&r.push(no(o.messages.whitespace,e.fullField))};const Lt={required:Lz,whitespace:DQ,type:RQ,range:OQ,enum:$Q,pattern:kQ};var TQ=function(e,t,i,r,o){var s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(ki(t)&&!e.required)return i();Lt.required(e,t,r,s,o)}i(s)},PQ=function(e,t,i,r,o){var s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(t==null&&!e.required)return i();Lt.required(e,t,r,s,o,"array"),t!=null&&(Lt.type(e,t,r,s,o),Lt.range(e,t,r,s,o))}i(s)},IQ=function(e,t,i,r,o){var s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(ki(t)&&!e.required)return i();Lt.required(e,t,r,s,o),t!==void 0&&Lt.type(e,t,r,s,o)}i(s)},NQ=function(e,t,i,r,o){var s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(ki(t,"date")&&!e.required)return i();if(Lt.required(e,t,r,s,o),!ki(t,"date")){var a;t instanceof Date?a=t:a=new Date(t),Lt.type(e,a,r,s,o),a&&Lt.range(e,a.getTime(),r,s,o)}}i(s)},BQ="enum",LQ=function(e,t,i,r,o){var s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(ki(t)&&!e.required)return i();Lt.required(e,t,r,s,o),t!==void 0&&Lt[BQ](e,t,r,s,o)}i(s)},HQ=function(e,t,i,r,o){var s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(ki(t)&&!e.required)return i();Lt.required(e,t,r,s,o),t!==void 0&&(Lt.type(e,t,r,s,o),Lt.range(e,t,r,s,o))}i(s)},zQ=function(e,t,i,r,o){var s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(ki(t)&&!e.required)return i();Lt.required(e,t,r,s,o),t!==void 0&&(Lt.type(e,t,r,s,o),Lt.range(e,t,r,s,o))}i(s)},VQ=function(e,t,i,r,o){var s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(ki(t)&&!e.required)return i();Lt.required(e,t,r,s,o),t!==void 0&&Lt.type(e,t,r,s,o)}i(s)},FQ=function(e,t,i,r,o){var s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(t===""&&(t=void 0),ki(t)&&!e.required)return i();Lt.required(e,t,r,s,o),t!==void 0&&(Lt.type(e,t,r,s,o),Lt.range(e,t,r,s,o))}i(s)},WQ=function(e,t,i,r,o){var s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(ki(t)&&!e.required)return i();Lt.required(e,t,r,s,o),t!==void 0&&Lt.type(e,t,r,s,o)}i(s)},_Q=function(e,t,i,r,o){var s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(ki(t,"string")&&!e.required)return i();Lt.required(e,t,r,s,o),ki(t,"string")||Lt.pattern(e,t,r,s,o)}i(s)},jQ=function(e,t,i,r,o){var s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(ki(t)&&!e.required)return i();Lt.required(e,t,r,s,o),ki(t)||Lt.type(e,t,r,s,o)}i(s)},KQ=function(e,t,i,r,o){var s=[],l=Array.isArray(t)?"array":et(t);Lt.required(e,t,r,s,o,l),i(s)},qQ=function(e,t,i,r,o){var s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(ki(t,"string")&&!e.required)return i();Lt.required(e,t,r,s,o,"string"),ki(t,"string")||(Lt.type(e,t,r,s,o),Lt.range(e,t,r,s,o),Lt.pattern(e,t,r,s,o),e.whitespace===!0&&Lt.whitespace(e,t,r,s,o))}i(s)},t1=function(e,t,i,r,o){var s=e.type,l=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(ki(t,s)&&!e.required)return i();Lt.required(e,t,r,l,o,s),ki(t,s)||Lt.type(e,t,r,l,o)}i(l)};const Id={string:qQ,method:VQ,number:FQ,boolean:IQ,regexp:jQ,integer:zQ,float:HQ,array:PQ,object:WQ,enum:LQ,pattern:_Q,date:NQ,url:t1,hex:t1,email:t1,required:KQ,any:TQ};var vp=function(){function n(e){ui(this,n),N(this,"rules",null),N(this,"_messages",Gw),this.define(e)}return hi(n,[{key:"define",value:function(t){var i=this;if(!t)throw new Error("Cannot configure a schema with no rules");if(et(t)!=="object"||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach(function(r){var o=t[r];i.rules[r]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(t){return t&&(this._messages=JA(qw(),t)),this._messages}},{key:"validate",value:function(t){var i=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},s=t,l=r,a=o;if(typeof l=="function"&&(a=l,l={}),!this.rules||Object.keys(this.rules).length===0)return a&&a(null,s),Promise.resolve(s);function c(g){var y=[],v={};function m(S){if(Array.isArray(S)){var w;y=(w=y).concat.apply(w,be(S))}else y.push(S)}for(var b=0;b<g.length;b++)m(g[b]);y.length?(v=Xw(y),a(y,v)):a(null,s)}if(l.messages){var u=this.messages();u===Gw&&(u=qw()),JA(u,l.messages),l.messages=u}else l.messages=this.messages();var h={},d=l.keys||Object.keys(this.rules);d.forEach(function(g){var y=i.rules[g],v=s[g];y.forEach(function(m){var b=m;typeof b.transform=="function"&&(s===t&&(s=V({},s)),v=s[g]=b.transform(v),v!=null&&(b.type=b.type||(Array.isArray(v)?"array":et(v)))),typeof b=="function"?b={validator:b}:b=V({},b),b.validator=i.getValidationMethod(b),b.validator&&(b.field=g,b.fullField=b.fullField||g,b.type=i.getType(b),h[g]=h[g]||[],h[g].push({rule:b,value:v,source:s,field:g}))})});var f={};return CQ(h,l,function(g,y){var v=g.rule,m=(v.type==="object"||v.type==="array")&&(et(v.fields)==="object"||et(v.defaultField)==="object");m=m&&(v.required||!v.required&&g.value),v.field=g.field;function b(C,$){return V(V({},$),{},{fullField:"".concat(v.fullField,".").concat(C),fullFields:v.fullFields?[].concat(be(v.fullFields),[C]):[C]})}function S(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=Array.isArray(C)?C:[C];!l.suppressWarning&&$.length&&n.warning("async-validator:",$),$.length&&v.message!==void 0&&($=[].concat(v.message));var M=$.map(QA(v,s));if(l.first&&M.length)return f[v.field]=1,y(M);if(!m)y(M);else{if(v.required&&!g.value)return v.message!==void 0?M=[].concat(v.message).map(QA(v,s)):l.error&&(M=[l.error(v,no(l.messages.required,v.field))]),y(M);var A={};v.defaultField&&Object.keys(g.value).map(function(I){A[I]=v.defaultField}),A=V(V({},A),g.rule.fields);var P={};Object.keys(A).forEach(function(I){var O=A[I],H=Array.isArray(O)?O:[O];P[I]=H.map(b.bind(null,I))});var D=new n(P);D.messages(l.messages),g.rule.options&&(g.rule.options.messages=l.messages,g.rule.options.error=l.error),D.validate(g.value,g.rule.options||l,function(I){var O=[];M&&M.length&&O.push.apply(O,be(M)),I&&I.length&&O.push.apply(O,be(I)),y(O.length?O:null)})}}var w;if(v.asyncValidator)w=v.asyncValidator(v,g.value,S,g.source,l);else if(v.validator){try{w=v.validator(v,g.value,S,g.source,l)}catch(C){var x,E;(x=(E=console).error)===null||x===void 0||x.call(E,C),l.suppressValidatorError||setTimeout(function(){throw C},0),S(C.message)}w===!0?S():w===!1?S(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||"".concat(v.fullField||v.field," fails")):w instanceof Array?S(w):w instanceof Error&&S(w.message)}w&&w.then&&w.then(function(){return S()},function(C){return S(C)})},function(g){c(g)},s)}},{key:"getType",value:function(t){if(t.type===void 0&&t.pattern instanceof RegExp&&(t.type="pattern"),typeof t.validator!="function"&&t.type&&!Id.hasOwnProperty(t.type))throw new Error(no("Unknown rule type %s",t.type));return t.type||"string"}},{key:"getValidationMethod",value:function(t){if(typeof t.validator=="function")return t.validator;var i=Object.keys(t),r=i.indexOf("message");return r!==-1&&i.splice(r,1),i.length===1&&i[0]==="required"?Id.required:Id[this.getType(t)]||void 0}}]),n}();N(vp,"register",function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");Id[e]=t});N(vp,"warning",bQ);N(vp,"messages",Gw);N(vp,"validators",Id);var jr="'${name}' is not a valid ${type}",Hz={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:jr,method:jr,array:jr,object:jr,number:jr,date:jr,boolean:jr,integer:jr,float:jr,regexp:jr,email:jr,url:jr,hex:jr},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},eR=vp;function GQ(n,e){return n.replace(/\$\{\w+\}/g,function(t){var i=t.slice(2,-1);return e[i]})}var tR="CODE_LOGIC_ERROR";function Yw(n,e,t,i,r){return Qw.apply(this,arguments)}function Qw(){return Qw=vc(br().mark(function n(e,t,i,r,o){var s,l,a,c,u,h,d,f,g;return br().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return s=V({},i),delete s.ruleIndex,eR.warning=function(){},s.validator&&(l=s.validator,s.validator=function(){try{return l.apply(void 0,arguments)}catch(m){return console.error(m),Promise.reject(tR)}}),a=null,s&&s.type==="array"&&s.defaultField&&(a=s.defaultField,delete s.defaultField),c=new eR(N({},e,[s])),u=eu(Hz,r.validateMessages),c.messages(u),h=[],v.prev=10,v.next=13,Promise.resolve(c.validate(N({},e,t),V({},r)));case 13:v.next=18;break;case 15:v.prev=15,v.t0=v.catch(10),v.t0.errors&&(h=v.t0.errors.map(function(m,b){var S=m.message,w=S===tR?u.default:S;return p.isValidElement(w)?p.cloneElement(w,{key:"error_".concat(b)}):w}));case 18:if(!(!h.length&&a)){v.next=23;break}return v.next=21,Promise.all(t.map(function(m,b){return Yw("".concat(e,".").concat(b),m,a,r,o)}));case 21:return d=v.sent,v.abrupt("return",d.reduce(function(m,b){return[].concat(be(m),be(b))},[]));case 23:return f=V(V({},i),{},{name:e,enum:(i.enum||[]).join(", ")},o),g=h.map(function(m){return typeof m=="string"?GQ(m,f):m}),v.abrupt("return",g);case 26:case"end":return v.stop()}},n,null,[[10,15]])})),Qw.apply(this,arguments)}function UQ(n,e,t,i,r,o){var s=n.join("."),l=t.map(function(u,h){var d=u.validator,f=V(V({},u),{},{ruleIndex:h});return d&&(f.validator=function(g,y,v){var m=!1,b=function(){for(var x=arguments.length,E=new Array(x),C=0;C<x;C++)E[C]=arguments[C];Promise.resolve().then(function(){Dn(!m,"Your validator function has already return a promise. `callback` will be ignored."),m||v.apply(void 0,E)})},S=d(g,y,b);m=S&&typeof S.then=="function"&&typeof S.catch=="function",Dn(m,"`callback` is deprecated. Please return a promise instead."),m&&S.then(function(){v()}).catch(function(w){v(w||" ")})}),f}).sort(function(u,h){var d=u.warningOnly,f=u.ruleIndex,g=h.warningOnly,y=h.ruleIndex;return!!d==!!g?f-y:d?1:-1}),a;if(r===!0)a=new Promise(function(){var u=vc(br().mark(function h(d,f){var g,y,v;return br().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:g=0;case 1:if(!(g<l.length)){b.next=12;break}return y=l[g],b.next=5,Yw(s,e,y,i,o);case 5:if(v=b.sent,!v.length){b.next=9;break}return f([{errors:v,rule:y}]),b.abrupt("return");case 9:g+=1,b.next=1;break;case 12:d([]);case 13:case"end":return b.stop()}},h)}));return function(h,d){return u.apply(this,arguments)}}());else{var c=l.map(function(u){return Yw(s,e,u,i,o).then(function(h){return{errors:h,rule:u}})});a=(r?YQ(c):XQ(c)).then(function(u){return Promise.reject(u)})}return a.catch(function(u){return u}),a}function XQ(n){return Jw.apply(this,arguments)}function Jw(){return Jw=vc(br().mark(function n(e){return br().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(e).then(function(r){var o,s=(o=[]).concat.apply(o,be(r));return s}));case 1:case"end":return i.stop()}},n)})),Jw.apply(this,arguments)}function YQ(n){return Zw.apply(this,arguments)}function Zw(){return Zw=vc(br().mark(function n(e){var t;return br().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=0,r.abrupt("return",new Promise(function(o){e.forEach(function(s){s.then(function(l){l.errors.length&&o([l]),t+=1,t===e.length&&o([])})})}));case 2:case"end":return r.stop()}},n)})),Zw.apply(this,arguments)}function ei(n){return Kw(n)}function nR(n,e){var t={};return e.forEach(function(i){var r=to(n,i);t=Wo(t,i,r)}),t}function mu(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n&&n.some(function(i){return zz(e,i,t)})}function zz(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n||!e||!t&&n.length!==e.length?!1:e.every(function(i,r){return n[r]===i})}function QQ(n,e){if(n===e)return!0;if(!n&&e||n&&!e||!n||!e||et(n)!=="object"||et(e)!=="object")return!1;var t=Object.keys(n),i=Object.keys(e),r=new Set([].concat(t,i));return be(r).every(function(o){var s=n[o],l=e[o];return typeof s=="function"&&typeof l=="function"?!0:s===l})}function JQ(n){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&et(e.target)==="object"&&n in e.target?e.target[n]:e}function iR(n,e,t){var i=n.length;if(e<0||e>=i||t<0||t>=i)return n;var r=n[e],o=e-t;return o>0?[].concat(be(n.slice(0,t)),[r],be(n.slice(t,e)),be(n.slice(e+1,i))):o<0?[].concat(be(n.slice(0,e)),be(n.slice(e+1,t+1)),[r],be(n.slice(t+1,i))):n}var ZQ=["name"],co=[];function rR(n,e,t,i,r,o){return typeof n=="function"?n(e,t,"source"in o?{source:o.source}:{}):i!==r}var e$=function(n){qs(t,n);var e=Gs(t);function t(i){var r;if(ui(this,t),r=e.call(this,i),N(ge(r),"state",{resetCount:0}),N(ge(r),"cancelRegisterFunc",null),N(ge(r),"mounted",!1),N(ge(r),"touched",!1),N(ge(r),"dirty",!1),N(ge(r),"validatePromise",void 0),N(ge(r),"prevValidating",void 0),N(ge(r),"errors",co),N(ge(r),"warnings",co),N(ge(r),"cancelRegister",function(){var a=r.props,c=a.preserve,u=a.isListField,h=a.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(u,c,ei(h)),r.cancelRegisterFunc=null}),N(ge(r),"getNamePath",function(){var a=r.props,c=a.name,u=a.fieldContext,h=u.prefixName,d=h===void 0?[]:h;return c!==void 0?[].concat(be(d),be(c)):[]}),N(ge(r),"getRules",function(){var a=r.props,c=a.rules,u=c===void 0?[]:c,h=a.fieldContext;return u.map(function(d){return typeof d=="function"?d(h):d})}),N(ge(r),"refresh",function(){r.mounted&&r.setState(function(a){var c=a.resetCount;return{resetCount:c+1}})}),N(ge(r),"metaCache",null),N(ge(r),"triggerMetaEvent",function(a){var c=r.props.onMetaChange;if(c){var u=V(V({},r.getMeta()),{},{destroy:a});_s(r.metaCache,u)||c(u),r.metaCache=u}else r.metaCache=null}),N(ge(r),"onStoreChange",function(a,c,u){var h=r.props,d=h.shouldUpdate,f=h.dependencies,g=f===void 0?[]:f,y=h.onReset,v=u.store,m=r.getNamePath(),b=r.getValue(a),S=r.getValue(v),w=c&&mu(c,m);switch(u.type==="valueUpdate"&&u.source==="external"&&!_s(b,S)&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=co,r.warnings=co,r.triggerMetaEvent()),u.type){case"reset":if(!c||w){r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=co,r.warnings=co,r.triggerMetaEvent(),y==null||y(),r.refresh();return}break;case"remove":{if(d){r.reRender();return}break}case"setField":{var x=u.data;if(w){"touched"in x&&(r.touched=x.touched),"validating"in x&&!("originRCField"in x)&&(r.validatePromise=x.validating?Promise.resolve([]):null),"errors"in x&&(r.errors=x.errors||co),"warnings"in x&&(r.warnings=x.warnings||co),r.dirty=!0,r.triggerMetaEvent(),r.reRender();return}else if("value"in x&&mu(c,m,!0)){r.reRender();return}if(d&&!m.length&&rR(d,a,v,b,S,u)){r.reRender();return}break}case"dependenciesUpdate":{var E=g.map(ei);if(E.some(function(C){return mu(u.relatedFields,C)})){r.reRender();return}break}default:if(w||(!g.length||m.length||d)&&rR(d,a,v,b,S,u)){r.reRender();return}break}d===!0&&r.reRender()}),N(ge(r),"validateRules",function(a){var c=r.getNamePath(),u=r.getValue(),h=a||{},d=h.triggerName,f=h.validateOnly,g=f===void 0?!1:f,y=Promise.resolve().then(vc(br().mark(function v(){var m,b,S,w,x,E,C;return br().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(r.mounted){M.next=2;break}return M.abrupt("return",[]);case 2:if(m=r.props,b=m.validateFirst,S=b===void 0?!1:b,w=m.messageVariables,x=m.validateDebounce,E=r.getRules(),d&&(E=E.filter(function(A){return A}).filter(function(A){var P=A.validateTrigger;if(!P)return!0;var D=Kw(P);return D.includes(d)})),!(x&&d)){M.next=10;break}return M.next=8,new Promise(function(A){setTimeout(A,x)});case 8:if(r.validatePromise===y){M.next=10;break}return M.abrupt("return",[]);case 10:return C=UQ(c,u,E,a,S,w),C.catch(function(A){return A}).then(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:co;if(r.validatePromise===y){var P;r.validatePromise=null;var D=[],I=[];(P=A.forEach)===null||P===void 0||P.call(A,function(O){var H=O.rule.warningOnly,T=O.errors,R=T===void 0?co:T;H?I.push.apply(I,be(R)):D.push.apply(D,be(R))}),r.errors=D,r.warnings=I,r.triggerMetaEvent(),r.reRender()}}),M.abrupt("return",C);case 13:case"end":return M.stop()}},v)})));return g||(r.validatePromise=y,r.dirty=!0,r.errors=co,r.warnings=co,r.triggerMetaEvent(),r.reRender()),y}),N(ge(r),"isFieldValidating",function(){return!!r.validatePromise}),N(ge(r),"isFieldTouched",function(){return r.touched}),N(ge(r),"isFieldDirty",function(){if(r.dirty||r.props.initialValue!==void 0)return!0;var a=r.props.fieldContext,c=a.getInternalHooks(Ba),u=c.getInitialValue;return u(r.getNamePath())!==void 0}),N(ge(r),"getErrors",function(){return r.errors}),N(ge(r),"getWarnings",function(){return r.warnings}),N(ge(r),"isListField",function(){return r.props.isListField}),N(ge(r),"isList",function(){return r.props.isList}),N(ge(r),"isPreserve",function(){return r.props.preserve}),N(ge(r),"getMeta",function(){r.prevValidating=r.isFieldValidating();var a={touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:r.validatePromise===null};return a}),N(ge(r),"getOnlyChild",function(a){if(typeof a=="function"){var c=r.getMeta();return V(V({},r.getOnlyChild(a(r.getControlled(),c,r.props.fieldContext))),{},{isFunction:!0})}var u=ts(a);return u.length!==1||!p.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}}),N(ge(r),"getValue",function(a){var c=r.props.fieldContext.getFieldsValue,u=r.getNamePath();return to(a||c(!0),u)}),N(ge(r),"getControlled",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=r.props,u=c.name,h=c.trigger,d=c.validateTrigger,f=c.getValueFromEvent,g=c.normalize,y=c.valuePropName,v=c.getValueProps,m=c.fieldContext,b=d!==void 0?d:m.validateTrigger,S=r.getNamePath(),w=m.getInternalHooks,x=m.getFieldsValue,E=w(Ba),C=E.dispatch,$=r.getValue(),M=v||function(O){return N({},y,O)},A=a[h],P=u!==void 0?M($):{},D=V(V({},a),P);D[h]=function(){r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var O,H=arguments.length,T=new Array(H),R=0;R<H;R++)T[R]=arguments[R];f?O=f.apply(void 0,T):O=JQ.apply(void 0,[y].concat(T)),g&&(O=g(O,$,x(!0))),C({type:"updateValue",namePath:S,value:O}),A&&A.apply(void 0,T)};var I=Kw(b||[]);return I.forEach(function(O){var H=D[O];D[O]=function(){H&&H.apply(void 0,arguments);var T=r.props.rules;T&&T.length&&C({type:"validateField",namePath:S,triggerName:O})}}),D}),i.fieldContext){var o=i.fieldContext.getInternalHooks,s=o(Ba),l=s.initEntityValue;l(ge(r))}return r}return hi(t,[{key:"componentDidMount",value:function(){var r=this.props,o=r.shouldUpdate,s=r.fieldContext;if(this.mounted=!0,s){var l=s.getInternalHooks,a=l(Ba),c=a.registerField;this.cancelRegisterFunc=c(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var r=this.state.resetCount,o=this.props.children,s=this.getOnlyChild(o),l=s.child,a=s.isFunction,c;return a?c=l:p.isValidElement(l)?c=p.cloneElement(l,this.getControlled(l.props)):(Dn(!l,"`children` of Field is not validate ReactElement."),c=l),p.createElement(p.Fragment,{key:r},c)}}]),t}(p.Component);N(e$,"contextType",ju);N(e$,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Vz(n){var e=n.name,t=bt(n,ZQ),i=p.useContext(ju),r=p.useContext(I0),o=e!==void 0?ei(e):void 0,s="keep";return t.isListField||(s="_".concat((o||[]).join("_"))),p.createElement(e$,Se({key:s,name:o,isListField:!!r},t,{fieldContext:i}))}function eJ(n){var e=n.name,t=n.initialValue,i=n.children,r=n.rules,o=n.validateTrigger,s=n.isListField,l=p.useContext(ju),a=p.useContext(I0),c=p.useRef({keys:[],id:0}),u=c.current,h=p.useMemo(function(){var y=ei(l.prefixName)||[];return[].concat(be(y),be(ei(e)))},[l.prefixName,e]),d=p.useMemo(function(){return V(V({},l),{},{prefixName:h})},[l,h]),f=p.useMemo(function(){return{getKey:function(v){var m=h.length,b=v[m];return[u.keys[b],v.slice(m+1)]}}},[h]);if(typeof i!="function")return Dn(!1,"Form.List only accepts function as children."),null;var g=function(v,m,b){var S=b.source;return S==="internal"?!1:v!==m};return p.createElement(I0.Provider,{value:f},p.createElement(ju.Provider,{value:d},p.createElement(Vz,{name:[],shouldUpdate:g,rules:r,validateTrigger:o,initialValue:t,isList:!0,isListField:s??!!a},function(y,v){var m=y.value,b=m===void 0?[]:m,S=y.onChange,w=l.getFieldValue,x=function(){var M=w(h||[]);return M||[]},E={add:function(M,A){var P=x();A>=0&&A<=P.length?(u.keys=[].concat(be(u.keys.slice(0,A)),[u.id],be(u.keys.slice(A))),S([].concat(be(P.slice(0,A)),[M],be(P.slice(A))))):(u.keys=[].concat(be(u.keys),[u.id]),S([].concat(be(P),[M]))),u.id+=1},remove:function(M){var A=x(),P=new Set(Array.isArray(M)?M:[M]);P.size<=0||(u.keys=u.keys.filter(function(D,I){return!P.has(I)}),S(A.filter(function(D,I){return!P.has(I)})))},move:function(M,A){if(M!==A){var P=x();M<0||M>=P.length||A<0||A>=P.length||(u.keys=iR(u.keys,M,A),S(iR(P,M,A)))}}},C=b||[];return Array.isArray(C)||(C=[]),i(C.map(function($,M){var A=u.keys[M];return A===void 0&&(u.keys[M]=u.id,A=u.keys[M],u.id+=1),{name:M,key:A,isListField:!0}}),E,v)})))}function tJ(n){var e=!1,t=n.length,i=[];return n.length?new Promise(function(r,o){n.forEach(function(s,l){s.catch(function(a){return e=!0,a}).then(function(a){t-=1,i[l]=a,!(t>0)&&(e&&o(i),r(i))})})}):Promise.resolve([])}var Fz="__@field_split__";function n1(n){return n.map(function(e){return"".concat(et(e),":").concat(e)}).join(Fz)}var Mc=function(){function n(){ui(this,n),N(this,"kvs",new Map)}return hi(n,[{key:"set",value:function(t,i){this.kvs.set(n1(t),i)}},{key:"get",value:function(t){return this.kvs.get(n1(t))}},{key:"update",value:function(t,i){var r=this.get(t),o=i(r);o?this.set(t,o):this.delete(t)}},{key:"delete",value:function(t){this.kvs.delete(n1(t))}},{key:"map",value:function(t){return be(this.kvs.entries()).map(function(i){var r=X(i,2),o=r[0],s=r[1],l=o.split(Fz);return t({key:l.map(function(a){var c=a.match(/^([^:]*):(.*)$/),u=X(c,3),h=u[1],d=u[2];return h==="number"?Number(d):d}),value:s})})}},{key:"toJSON",value:function(){var t={};return this.map(function(i){var r=i.key,o=i.value;return t[r.join(".")]=o,null}),t}}]),n}(),nJ=["name"],iJ=hi(function n(e){var t=this;ui(this,n),N(this,"formHooked",!1),N(this,"forceRootUpdate",void 0),N(this,"subscribable",!0),N(this,"store",{}),N(this,"fieldEntities",[]),N(this,"initialValues",{}),N(this,"callbacks",{}),N(this,"validateMessages",null),N(this,"preserve",null),N(this,"lastValidatePromise",null),N(this,"getForm",function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldWarning:t.getFieldWarning,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,_init:!0,getInternalHooks:t.getInternalHooks}}),N(this,"getInternalHooks",function(i){return i===Ba?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,destroyForm:t.destroyForm,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve,getInitialValue:t.getInitialValue,registerWatch:t.registerWatch}):(Dn(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),N(this,"useSubscribe",function(i){t.subscribable=i}),N(this,"prevWithoutPreserves",null),N(this,"setInitialValues",function(i,r){if(t.initialValues=i||{},r){var o,s=eu(i,t.store);(o=t.prevWithoutPreserves)===null||o===void 0||o.map(function(l){var a=l.key;s=Wo(s,a,to(i,a))}),t.prevWithoutPreserves=null,t.updateStore(s)}}),N(this,"destroyForm",function(i){if(i)t.updateStore({});else{var r=new Mc;t.getFieldEntities(!0).forEach(function(o){t.isMergedPreserve(o.isPreserve())||r.set(o.getNamePath(),!0)}),t.prevWithoutPreserves=r}}),N(this,"getInitialValue",function(i){var r=to(t.initialValues,i);return i.length?eu(r):r}),N(this,"setCallbacks",function(i){t.callbacks=i}),N(this,"setValidateMessages",function(i){t.validateMessages=i}),N(this,"setPreserve",function(i){t.preserve=i}),N(this,"watchList",[]),N(this,"registerWatch",function(i){return t.watchList.push(i),function(){t.watchList=t.watchList.filter(function(r){return r!==i})}}),N(this,"notifyWatch",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(t.watchList.length){var r=t.getFieldsValue(),o=t.getFieldsValue(!0);t.watchList.forEach(function(s){s(r,o,i)})}}),N(this,"timeoutId",null),N(this,"warningUnhooked",function(){}),N(this,"updateStore",function(i){t.store=i}),N(this,"getFieldEntities",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return i?t.fieldEntities.filter(function(r){return r.getNamePath().length}):t.fieldEntities}),N(this,"getFieldsMap",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=new Mc;return t.getFieldEntities(i).forEach(function(o){var s=o.getNamePath();r.set(s,o)}),r}),N(this,"getFieldEntitiesForNamePathList",function(i){if(!i)return t.getFieldEntities(!0);var r=t.getFieldsMap(!0);return i.map(function(o){var s=ei(o);return r.get(s)||{INVALIDATE_NAME_PATH:ei(o)}})}),N(this,"getFieldsValue",function(i,r){t.warningUnhooked();var o,s,l;if(i===!0||Array.isArray(i)?(o=i,s=r):i&&et(i)==="object"&&(l=i.strict,s=i.filter),o===!0&&!s)return t.store;var a=t.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),c=[];return a.forEach(function(u){var h,d,f="INVALIDATE_NAME_PATH"in u?u.INVALIDATE_NAME_PATH:u.getNamePath();if(l){var g,y;if((g=(y=u).isList)!==null&&g!==void 0&&g.call(y))return}else if(!o&&(h=(d=u).isListField)!==null&&h!==void 0&&h.call(d))return;if(!s)c.push(f);else{var v="getMeta"in u?u.getMeta():null;s(v)&&c.push(f)}}),nR(t.store,c.map(ei))}),N(this,"getFieldValue",function(i){t.warningUnhooked();var r=ei(i);return to(t.store,r)}),N(this,"getFieldsError",function(i){t.warningUnhooked();var r=t.getFieldEntitiesForNamePathList(i);return r.map(function(o,s){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:ei(i[s]),errors:[],warnings:[]}})}),N(this,"getFieldError",function(i){t.warningUnhooked();var r=ei(i),o=t.getFieldsError([r])[0];return o.errors}),N(this,"getFieldWarning",function(i){t.warningUnhooked();var r=ei(i),o=t.getFieldsError([r])[0];return o.warnings}),N(this,"isFieldsTouched",function(){t.warningUnhooked();for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var s=r[0],l=r[1],a,c=!1;r.length===0?a=null:r.length===1?Array.isArray(s)?(a=s.map(ei),c=!1):(a=null,c=s):(a=s.map(ei),c=l);var u=t.getFieldEntities(!0),h=function(v){return v.isFieldTouched()};if(!a)return c?u.every(function(y){return h(y)||y.isList()}):u.some(h);var d=new Mc;a.forEach(function(y){d.set(y,[])}),u.forEach(function(y){var v=y.getNamePath();a.forEach(function(m){m.every(function(b,S){return v[S]===b})&&d.update(m,function(b){return[].concat(be(b),[y])})})});var f=function(v){return v.some(h)},g=d.map(function(y){var v=y.value;return v});return c?g.every(f):g.some(f)}),N(this,"isFieldTouched",function(i){return t.warningUnhooked(),t.isFieldsTouched([i])}),N(this,"isFieldsValidating",function(i){t.warningUnhooked();var r=t.getFieldEntities();if(!i)return r.some(function(s){return s.isFieldValidating()});var o=i.map(ei);return r.some(function(s){var l=s.getNamePath();return mu(o,l)&&s.isFieldValidating()})}),N(this,"isFieldValidating",function(i){return t.warningUnhooked(),t.isFieldsValidating([i])}),N(this,"resetWithFieldInitialValue",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=new Mc,o=t.getFieldEntities(!0);o.forEach(function(a){var c=a.props.initialValue,u=a.getNamePath();if(c!==void 0){var h=r.get(u)||new Set;h.add({entity:a,value:c}),r.set(u,h)}});var s=function(c){c.forEach(function(u){var h=u.props.initialValue;if(h!==void 0){var d=u.getNamePath(),f=t.getInitialValue(d);if(f!==void 0)Dn(!1,"Form already set 'initialValues' with path '".concat(d.join("."),"'. Field can not overwrite it."));else{var g=r.get(d);if(g&&g.size>1)Dn(!1,"Multiple Field with path '".concat(d.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(g){var y=t.getFieldValue(d),v=u.isListField();!v&&(!i.skipExist||y===void 0)&&t.updateStore(Wo(t.store,d,be(g)[0].value))}}}})},l;i.entities?l=i.entities:i.namePathList?(l=[],i.namePathList.forEach(function(a){var c=r.get(a);if(c){var u;(u=l).push.apply(u,be(be(c).map(function(h){return h.entity})))}})):l=o,s(l)}),N(this,"resetFields",function(i){t.warningUnhooked();var r=t.store;if(!i){t.updateStore(eu(t.initialValues)),t.resetWithFieldInitialValue(),t.notifyObservers(r,null,{type:"reset"}),t.notifyWatch();return}var o=i.map(ei);o.forEach(function(s){var l=t.getInitialValue(s);t.updateStore(Wo(t.store,s,l))}),t.resetWithFieldInitialValue({namePathList:o}),t.notifyObservers(r,o,{type:"reset"}),t.notifyWatch(o)}),N(this,"setFields",function(i){t.warningUnhooked();var r=t.store,o=[];i.forEach(function(s){var l=s.name,a=bt(s,nJ),c=ei(l);o.push(c),"value"in a&&t.updateStore(Wo(t.store,c,a.value)),t.notifyObservers(r,[c],{type:"setField",data:s})}),t.notifyWatch(o)}),N(this,"getFields",function(){var i=t.getFieldEntities(!0),r=i.map(function(o){var s=o.getNamePath(),l=o.getMeta(),a=V(V({},l),{},{name:s,value:t.getFieldValue(s)});return Object.defineProperty(a,"originRCField",{value:!0}),a});return r}),N(this,"initEntityValue",function(i){var r=i.props.initialValue;if(r!==void 0){var o=i.getNamePath(),s=to(t.store,o);s===void 0&&t.updateStore(Wo(t.store,o,r))}}),N(this,"isMergedPreserve",function(i){var r=i!==void 0?i:t.preserve;return r??!0}),N(this,"registerField",function(i){t.fieldEntities.push(i);var r=i.getNamePath();if(t.notifyWatch([r]),i.props.initialValue!==void 0){var o=t.store;t.resetWithFieldInitialValue({entities:[i],skipExist:!0}),t.notifyObservers(o,[i.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,l){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.fieldEntities=t.fieldEntities.filter(function(h){return h!==i}),!t.isMergedPreserve(l)&&(!s||a.length>1)){var c=s?void 0:t.getInitialValue(r);if(r.length&&t.getFieldValue(r)!==c&&t.fieldEntities.every(function(h){return!zz(h.getNamePath(),r)})){var u=t.store;t.updateStore(Wo(u,r,c,!0)),t.notifyObservers(u,[r],{type:"remove"}),t.triggerDependenciesUpdate(u,r)}}t.notifyWatch([r])}}),N(this,"dispatch",function(i){switch(i.type){case"updateValue":{var r=i.namePath,o=i.value;t.updateValue(r,o);break}case"validateField":{var s=i.namePath,l=i.triggerName;t.validateFields([s],{triggerName:l});break}}}),N(this,"notifyObservers",function(i,r,o){if(t.subscribable){var s=V(V({},o),{},{store:t.getFieldsValue(!0)});t.getFieldEntities().forEach(function(l){var a=l.onStoreChange;a(i,r,s)})}else t.forceRootUpdate()}),N(this,"triggerDependenciesUpdate",function(i,r){var o=t.getDependencyChildrenFields(r);return o.length&&t.validateFields(o),t.notifyObservers(i,o,{type:"dependenciesUpdate",relatedFields:[r].concat(be(o))}),o}),N(this,"updateValue",function(i,r){var o=ei(i),s=t.store;t.updateStore(Wo(t.store,o,r)),t.notifyObservers(s,[o],{type:"valueUpdate",source:"internal"}),t.notifyWatch([o]);var l=t.triggerDependenciesUpdate(s,o),a=t.callbacks.onValuesChange;if(a){var c=nR(t.store,[o]);a(c,t.getFieldsValue())}t.triggerOnFieldsChange([o].concat(be(l)))}),N(this,"setFieldsValue",function(i){t.warningUnhooked();var r=t.store;if(i){var o=eu(t.store,i);t.updateStore(o)}t.notifyObservers(r,null,{type:"valueUpdate",source:"external"}),t.notifyWatch()}),N(this,"setFieldValue",function(i,r){t.setFields([{name:i,value:r}])}),N(this,"getDependencyChildrenFields",function(i){var r=new Set,o=[],s=new Mc;t.getFieldEntities().forEach(function(a){var c=a.props.dependencies;(c||[]).forEach(function(u){var h=ei(u);s.update(h,function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return d.add(a),d})})});var l=function a(c){var u=s.get(c)||new Set;u.forEach(function(h){if(!r.has(h)){r.add(h);var d=h.getNamePath();h.isFieldDirty()&&d.length&&(o.push(d),a(d))}})};return l(i),o}),N(this,"triggerOnFieldsChange",function(i,r){var o=t.callbacks.onFieldsChange;if(o){var s=t.getFields();if(r){var l=new Mc;r.forEach(function(c){var u=c.name,h=c.errors;l.set(u,h)}),s.forEach(function(c){c.errors=l.get(c.name)||c.errors})}var a=s.filter(function(c){var u=c.name;return mu(i,u)});a.length&&o(a,s)}}),N(this,"validateFields",function(i,r){t.warningUnhooked();var o,s;Array.isArray(i)||typeof i=="string"||typeof r=="string"?(o=i,s=r):s=i;var l=!!o,a=l?o.map(ei):[],c=[],u=String(Date.now()),h=new Set,d=s||{},f=d.recursive,g=d.dirty;t.getFieldEntities(!0).forEach(function(b){if(l||a.push(b.getNamePath()),!(!b.props.rules||!b.props.rules.length)&&!(g&&!b.isFieldDirty())){var S=b.getNamePath();if(h.add(S.join(u)),!l||mu(a,S,f)){var w=b.validateRules(V({validateMessages:V(V({},Hz),t.validateMessages)},s));c.push(w.then(function(){return{name:S,errors:[],warnings:[]}}).catch(function(x){var E,C=[],$=[];return(E=x.forEach)===null||E===void 0||E.call(x,function(M){var A=M.rule.warningOnly,P=M.errors;A?$.push.apply($,be(P)):C.push.apply(C,be(P))}),C.length?Promise.reject({name:S,errors:C,warnings:$}):{name:S,errors:C,warnings:$}}))}}});var y=tJ(c);t.lastValidatePromise=y,y.catch(function(b){return b}).then(function(b){var S=b.map(function(w){var x=w.name;return x});t.notifyObservers(t.store,S,{type:"validateFinish"}),t.triggerOnFieldsChange(S,b)});var v=y.then(function(){return t.lastValidatePromise===y?Promise.resolve(t.getFieldsValue(a)):Promise.reject([])}).catch(function(b){var S=b.filter(function(w){return w&&w.errors.length});return Promise.reject({values:t.getFieldsValue(a),errorFields:S,outOfDate:t.lastValidatePromise!==y})});v.catch(function(b){return b});var m=a.filter(function(b){return h.has(b.join(u))});return t.triggerOnFieldsChange(m),v}),N(this,"submit",function(){t.warningUnhooked(),t.validateFields().then(function(i){var r=t.callbacks.onFinish;if(r)try{r(i)}catch(o){console.error(o)}}).catch(function(i){var r=t.callbacks.onFinishFailed;r&&r(i)})}),this.forceRootUpdate=e});function Wz(n){var e=p.useRef(),t=p.useState({}),i=X(t,2),r=i[1];if(!e.current)if(n)e.current=n;else{var o=function(){r({})},s=new iJ(o);e.current=s.getForm()}return[e.current]}var ex=p.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),rJ=function(e){var t=e.validateMessages,i=e.onFormChange,r=e.onFormFinish,o=e.children,s=p.useContext(ex),l=p.useRef({});return p.createElement(ex.Provider,{value:V(V({},s),{},{validateMessages:V(V({},s.validateMessages),t),triggerFormChange:function(c,u){i&&i(c,{changedFields:u,forms:l.current}),s.triggerFormChange(c,u)},triggerFormFinish:function(c,u){r&&r(c,{values:u,forms:l.current}),s.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(l.current=V(V({},l.current),{},N({},c,u))),s.registerForm(c,u)},unregisterForm:function(c){var u=V({},l.current);delete u[c],l.current=u,s.unregisterForm(c)}})},o)},oJ=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],sJ=function(e,t){var i=e.name,r=e.initialValues,o=e.fields,s=e.form,l=e.preserve,a=e.children,c=e.component,u=c===void 0?"form":c,h=e.validateMessages,d=e.validateTrigger,f=d===void 0?"onChange":d,g=e.onValuesChange,y=e.onFieldsChange,v=e.onFinish,m=e.onFinishFailed,b=e.clearOnDestroy,S=bt(e,oJ),w=p.useRef(null),x=p.useContext(ex),E=Wz(s),C=X(E,1),$=C[0],M=$.getInternalHooks(Ba),A=M.useSubscribe,P=M.setInitialValues,D=M.setCallbacks,I=M.setValidateMessages,O=M.setPreserve,H=M.destroyForm;p.useImperativeHandle(t,function(){return V(V({},$),{},{nativeElement:w.current})}),p.useEffect(function(){return x.registerForm(i,$),function(){x.unregisterForm(i)}},[x,$,i]),I(V(V({},x.validateMessages),h)),D({onValuesChange:g,onFieldsChange:function(G){if(x.triggerFormChange(i,G),y){for(var Z=arguments.length,re=new Array(Z>1?Z-1:0),Q=1;Q<Z;Q++)re[Q-1]=arguments[Q];y.apply(void 0,[G].concat(re))}},onFinish:function(G){x.triggerFormFinish(i,G),v&&v(G)},onFinishFailed:m}),O(l);var T=p.useRef(null);P(r,!T.current),T.current||(T.current=!0),p.useEffect(function(){return function(){return H(b)}},[]);var R,k=typeof a=="function";if(k){var B=$.getFieldsValue(!0);R=a(B,$)}else R=a;A(!k);var L=p.useRef();p.useEffect(function(){QQ(L.current||[],o||[])||$.setFields(o||[]),L.current=o},[o,$]);var z=p.useMemo(function(){return V(V({},$),{},{validateTrigger:f})},[$,f]),F=p.createElement(I0.Provider,{value:null},p.createElement(ju.Provider,{value:z},R));return u===!1?F:p.createElement(u,Se({},S,{ref:w,onSubmit:function(G){G.preventDefault(),G.stopPropagation(),$.submit()},onReset:function(G){var Z;G.preventDefault(),$.resetFields(),(Z=S.onReset)===null||Z===void 0||Z.call(S,G)}}),F)};function oR(n){try{return JSON.stringify(n)}catch{return Math.random()}}function lJ(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=e[0],r=e[1],o=r===void 0?{}:r,s=gQ(o)?{form:o}:o,l=s.form,a=p.useState(),c=X(a,2),u=c[0],h=c[1],d=p.useMemo(function(){return oR(u)},[u]),f=p.useRef(d);f.current=d;var g=p.useContext(ju),y=l||g,v=y&&y._init,m=ei(i),b=p.useRef(m);return b.current=m,p.useEffect(function(){if(v){var S=y.getFieldsValue,w=y.getInternalHooks,x=w(Ba),E=x.registerWatch,C=function(P,D){var I=s.preserve?D:P;return typeof i=="function"?i(I):to(I,b.current)},$=E(function(A,P){var D=C(A,P),I=oR(D);f.current!==I&&(f.current=I,h(D))}),M=C(S(),S(!0));return u!==M&&h(M),$}},[v]),u}var aJ=p.forwardRef(sJ),yp=aJ;yp.FormProvider=rJ;yp.Field=Vz;yp.List=eJ;yp.useForm=Wz;yp.useWatch=lJ;const is=p.createContext({}),cJ=n=>{let{children:e,status:t,override:i}=n;const r=p.useContext(is),o=p.useMemo(()=>{const s=Object.assign({},r);return i&&delete s.isFormItemInput,t&&(delete s.status,delete s.hasFeedback,delete s.feedbackIcon),s},[t,i,r]);return p.createElement(is.Provider,{value:o},e)},uJ=p.createContext(void 0),_z=n=>({[n.componentCls]:{[`${n.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}},[`${n.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}}}),hJ=n=>({animationDuration:n,animationFillMode:"both"}),dJ=n=>({animationDuration:n,animationFillMode:"both"}),t$=function(n,e,t,i){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${n}-enter,
      ${o}${n}-appear
    `]:Object.assign(Object.assign({},hJ(i)),{animationPlayState:"paused"}),[`${o}${n}-leave`]:Object.assign(Object.assign({},dJ(i)),{animationPlayState:"paused"}),[`
      ${o}${n}-enter${n}-enter-active,
      ${o}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${n}-leave${n}-leave-active`]:{animationName:t,animationPlayState:"running",pointerEvents:"none"}}},fJ=new Yt("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),pJ=new Yt("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),gJ=new Yt("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),mJ=new Yt("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),vJ=new Yt("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),yJ=new Yt("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),bJ=new Yt("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),SJ=new Yt("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),wJ={"move-up":{inKeyframes:bJ,outKeyframes:SJ},"move-down":{inKeyframes:fJ,outKeyframes:pJ},"move-left":{inKeyframes:gJ,outKeyframes:mJ},"move-right":{inKeyframes:vJ,outKeyframes:yJ}},N0=(n,e)=>{const{antCls:t}=n,i=`${t}-${e}`,{inKeyframes:r,outKeyframes:o}=wJ[e];return[t$(i,r,o,n.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{opacity:0,animationTimingFunction:n.motionEaseOutCirc},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},n$=new Yt("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),i$=new Yt("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),r$=new Yt("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),o$=new Yt("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),xJ=new Yt("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),CJ=new Yt("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),EJ=new Yt("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),MJ=new Yt("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),$J={"slide-up":{inKeyframes:n$,outKeyframes:i$},"slide-down":{inKeyframes:r$,outKeyframes:o$},"slide-left":{inKeyframes:xJ,outKeyframes:CJ},"slide-right":{inKeyframes:EJ,outKeyframes:MJ}},Ku=(n,e)=>{const{antCls:t}=n,i=`${t}-${e}`,{inKeyframes:r,outKeyframes:o}=$J[e];return[t$(i,r,o,n.motionDurationMid),{[`
      ${i}-enter,
      ${i}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:n.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInQuint}}]},kJ=new Yt("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),OJ=new Yt("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),sR=new Yt("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),lR=new Yt("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),AJ=new Yt("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),RJ=new Yt("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),DJ=new Yt("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),TJ=new Yt("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),PJ=new Yt("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),IJ=new Yt("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),NJ=new Yt("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),BJ=new Yt("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),LJ={zoom:{inKeyframes:kJ,outKeyframes:OJ},"zoom-big":{inKeyframes:sR,outKeyframes:lR},"zoom-big-fast":{inKeyframes:sR,outKeyframes:lR},"zoom-left":{inKeyframes:DJ,outKeyframes:TJ},"zoom-right":{inKeyframes:PJ,outKeyframes:IJ},"zoom-up":{inKeyframes:AJ,outKeyframes:RJ},"zoom-down":{inKeyframes:NJ,outKeyframes:BJ}},s$=(n,e)=>{const{antCls:t}=n,i=`${t}-${e}`,{inKeyframes:r,outKeyframes:o}=LJ[e];return[t$(i,r,o,e==="zoom-big-fast"?n.motionDurationFast:n.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]};function HJ(n){return e=>p.createElement(mh,{theme:{token:{motion:!1,zIndexPopupBase:0}}},p.createElement(n,Object.assign({},e)))}const jz=(n,e,t,i)=>HJ(o=>{const{prefixCls:s,style:l}=o,a=p.useRef(null),[c,u]=p.useState(0),[h,d]=p.useState(0),[f,g]=Ri(!1,{value:o.open}),{getPrefixCls:y}=p.useContext(Pt),v=y(e||"select",s);p.useEffect(()=>{if(g(!0),typeof ResizeObserver<"u"){const S=new ResizeObserver(x=>{const E=x[0].target;u(E.offsetHeight+8),d(E.offsetWidth)}),w=setInterval(()=>{var x;const E=t?`.${t(v)}`:`.${v}-dropdown`,C=(x=a.current)===null||x===void 0?void 0:x.querySelector(E);C&&(clearInterval(w),S.observe(C))},10);return()=>{clearInterval(w),S.disconnect()}}},[]);let m=Object.assign(Object.assign({},o),{style:Object.assign(Object.assign({},l),{margin:0}),open:f,visible:f,getPopupContainer:()=>a.current});i&&(m=i(m));const b={paddingBottom:c,position:"relative",minWidth:h};return p.createElement("div",{ref:a,style:b},p.createElement(n,Object.assign({},m)))}),Kz=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substr(0,4))};var yy=function(e){var t=e.className,i=e.customizeIcon,r=e.customizeIconProps,o=e.children,s=e.onMouseDown,l=e.onClick,a=typeof i=="function"?i(r):i;return p.createElement("span",{className:t,onMouseDown:function(u){u.preventDefault(),s==null||s(u)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:l,"aria-hidden":!0},a!==void 0?a:p.createElement("span",{className:J(t.split(/\s+/).map(function(c){return"".concat(c,"-icon")}))},o))},zJ=function(e,t,i,r,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,l=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0,c=oe.useMemo(function(){if(et(r)==="object")return r.clearIcon;if(o)return o},[r,o]),u=oe.useMemo(function(){return!!(!s&&r&&(i.length||l)&&!(a==="combobox"&&l===""))},[r,s,i.length,l,a]);return{allowClear:u,clearIcon:oe.createElement(yy,{className:"".concat(e,"-clear"),onMouseDown:t,customizeIcon:c},"")}},qz=p.createContext(null);function VJ(){return p.useContext(qz)}function FJ(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=p.useState(!1),t=X(e,2),i=t[0],r=t[1],o=p.useRef(null),s=function(){window.clearTimeout(o.current)};p.useEffect(function(){return s},[]);var l=function(c,u){s(),o.current=window.setTimeout(function(){r(c),u&&u()},n)};return[i,l,s]}function Gz(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=p.useRef(null),t=p.useRef(null);p.useEffect(function(){return function(){window.clearTimeout(t.current)}},[]);function i(r){(r||e.current===null)&&(e.current=r),window.clearTimeout(t.current),t.current=window.setTimeout(function(){e.current=null},n)}return[function(){return e.current},i]}function WJ(n,e,t,i){var r=p.useRef(null);r.current={open:e,triggerOpen:t,customizedTrigger:i},p.useEffect(function(){function o(s){var l;if(!((l=r.current)!==null&&l!==void 0&&l.customizedTrigger)){var a=s.target;a.shadowRoot&&s.composed&&(a=s.composedPath()[0]||a),r.current.open&&n().filter(function(c){return c}).every(function(c){return!c.contains(a)&&c!==a})&&r.current.triggerOpen(!1)}}return window.addEventListener("mousedown",o),function(){return window.removeEventListener("mousedown",o)}},[])}function _J(n){return![me.ESC,me.SHIFT,me.BACKSPACE,me.TAB,me.WIN_KEY,me.ALT,me.META,me.WIN_KEY_RIGHT,me.CTRL,me.SEMICOLON,me.EQUALS,me.CAPS_LOCK,me.CONTEXT_MENU,me.F1,me.F2,me.F3,me.F4,me.F5,me.F6,me.F7,me.F8,me.F9,me.F10,me.F11,me.F12].includes(n)}var jJ=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],$c=void 0;function KJ(n,e){var t=n.prefixCls,i=n.invalidate,r=n.item,o=n.renderItem,s=n.responsive,l=n.responsiveDisabled,a=n.registerSize,c=n.itemKey,u=n.className,h=n.style,d=n.children,f=n.display,g=n.order,y=n.component,v=y===void 0?"div":y,m=bt(n,jJ),b=s&&!f;function S($){a(c,$)}p.useEffect(function(){return function(){S(null)}},[]);var w=o&&r!==$c?o(r):d,x;i||(x={opacity:b?0:1,height:b?0:$c,overflowY:b?"hidden":$c,order:s?g:$c,pointerEvents:b?"none":$c,position:b?"absolute":$c});var E={};b&&(E["aria-hidden"]=!0);var C=p.createElement(v,Se({className:J(!i&&t,u),style:V(V({},x),h)},E,m,{ref:e}),w);return s&&(C=p.createElement(ss,{onResize:function(M){var A=M.offsetWidth;S(A)},disabled:l},C)),C}var Nd=p.forwardRef(KJ);Nd.displayName="Item";function qJ(n){if(typeof MessageChannel>"u")Xt(n);else{var e=new MessageChannel;e.port1.onmessage=function(){return n()},e.port2.postMessage(void 0)}}function GJ(){var n=p.useRef(null),e=function(i){n.current||(n.current=[],qJ(function(){vl.unstable_batchedUpdates(function(){n.current.forEach(function(r){r()}),n.current=null})})),n.current.push(i)};return e}function Ih(n,e){var t=p.useState(e),i=X(t,2),r=i[0],o=i[1],s=on(function(l){n(function(){o(l)})});return[r,s]}var B0=oe.createContext(null),UJ=["component"],XJ=["className"],YJ=["className"],QJ=function(e,t){var i=p.useContext(B0);if(!i){var r=e.component,o=r===void 0?"div":r,s=bt(e,UJ);return p.createElement(o,Se({},s,{ref:t}))}var l=i.className,a=bt(i,XJ),c=e.className,u=bt(e,YJ);return p.createElement(B0.Provider,{value:null},p.createElement(Nd,Se({ref:t,className:J(l,c)},a,u)))},Uz=p.forwardRef(QJ);Uz.displayName="RawItem";var JJ=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Xz="responsive",Yz="invalidate";function ZJ(n){return"+ ".concat(n.length," ...")}function eZ(n,e){var t=n.prefixCls,i=t===void 0?"rc-overflow":t,r=n.data,o=r===void 0?[]:r,s=n.renderItem,l=n.renderRawItem,a=n.itemKey,c=n.itemWidth,u=c===void 0?10:c,h=n.ssr,d=n.style,f=n.className,g=n.maxCount,y=n.renderRest,v=n.renderRawRest,m=n.suffix,b=n.component,S=b===void 0?"div":b,w=n.itemComponent,x=n.onVisibleChange,E=bt(n,JJ),C=h==="full",$=GJ(),M=Ih($,null),A=X(M,2),P=A[0],D=A[1],I=P||0,O=Ih($,new Map),H=X(O,2),T=H[0],R=H[1],k=Ih($,0),B=X(k,2),L=B[0],z=B[1],F=Ih($,0),_=X(F,2),G=_[0],Z=_[1],re=Ih($,0),Q=X(re,2),ce=Q[0],fe=Q[1],te=p.useState(null),j=X(te,2),q=j[0],ee=j[1],K=p.useState(null),Y=X(K,2),he=Y[0],ne=Y[1],de=p.useMemo(function(){return he===null&&C?Number.MAX_SAFE_INTEGER:he||0},[he,P]),ve=p.useState(!1),se=X(ve,2),ue=se[0],xe=se[1],le="".concat(i,"-item"),pe=Math.max(L,G),Me=g===Xz,we=o.length&&Me,st=g===Yz,Qe=we||typeof g=="number"&&o.length>g,Ie=p.useMemo(function(){var Fe=o;return we?P===null&&C?Fe=o:Fe=o.slice(0,Math.min(o.length,I/u)):typeof g=="number"&&(Fe=o.slice(0,g)),Fe},[o,u,P,g,we]),ae=p.useMemo(function(){return we?o.slice(de+1):o.slice(Ie.length)},[o,Ie,we,de]),$e=p.useCallback(function(Fe,Ce){var Te;return typeof a=="function"?a(Fe):(Te=a&&(Fe==null?void 0:Fe[a]))!==null&&Te!==void 0?Te:Ce},[a]),Ae=p.useCallback(s||function(Fe){return Fe},[s]);function Ue(Fe,Ce,Te){he===Fe&&(Ce===void 0||Ce===q)||(ne(Fe),Te||(xe(Fe<o.length-1),x==null||x(Fe)),Ce!==void 0&&ee(Ce))}function lt(Fe,Ce){D(Ce.clientWidth)}function Ke(Fe,Ce){R(function(Te){var We=new Map(Te);return Ce===null?We.delete(Fe):We.set(Fe,Ce),We})}function qe(Fe,Ce){Z(Ce),z(G)}function at(Fe,Ce){fe(Ce)}function _e(Fe){return T.get($e(Ie[Fe],Fe))}Kt(function(){if(I&&typeof pe=="number"&&Ie){var Fe=ce,Ce=Ie.length,Te=Ce-1;if(!Ce){Ue(0,null);return}for(var We=0;We<Ce;We+=1){var ye=_e(We);if(C&&(ye=ye||0),ye===void 0){Ue(We-1,void 0,!0);break}if(Fe+=ye,Te===0&&Fe<=I||We===Te-1&&Fe+_e(Te)<=I){Ue(Te,null);break}else if(Fe+pe>I){Ue(We-1,Fe-ye-ce+G);break}}m&&_e(0)+ce>I&&ee(null)}},[I,T,G,ce,$e,Ie]);var Ot=ue&&!!ae.length,xt={};q!==null&&we&&(xt={position:"absolute",left:q,top:0});var Ft={prefixCls:le,responsive:we,component:w,invalidate:st},St=l?function(Fe,Ce){var Te=$e(Fe,Ce);return p.createElement(B0.Provider,{key:Te,value:V(V({},Ft),{},{order:Ce,item:Fe,itemKey:Te,registerSize:Ke,display:Ce<=de})},l(Fe,Ce))}:function(Fe,Ce){var Te=$e(Fe,Ce);return p.createElement(Nd,Se({},Ft,{order:Ce,key:Te,item:Fe,renderItem:Ae,itemKey:Te,registerSize:Ke,display:Ce<=de}))},Dt,ht={order:Ot?de:Number.MAX_SAFE_INTEGER,className:"".concat(le,"-rest"),registerSize:qe,display:Ot};if(v)v&&(Dt=p.createElement(B0.Provider,{value:V(V({},Ft),ht)},v(ae)));else{var Pe=y||ZJ;Dt=p.createElement(Nd,Se({},Ft,ht),typeof Pe=="function"?Pe(ae):Pe)}var nt=p.createElement(S,Se({className:J(!st&&i,f),style:d,ref:e},E),Ie.map(St),Qe?Dt:null,m&&p.createElement(Nd,Se({},Ft,{responsive:Me,responsiveDisabled:!we,order:de,className:"".concat(le,"-suffix"),registerSize:at,display:!0,style:xt}),m));return Me&&(nt=p.createElement(ss,{onResize:lt,disabled:!we},nt)),nt}var Is=p.forwardRef(eZ);Is.displayName="Overflow";Is.Item=Uz;Is.RESPONSIVE=Xz;Is.INVALIDATE=Yz;var tZ=function(e,t){var i,r=e.prefixCls,o=e.id,s=e.inputElement,l=e.disabled,a=e.tabIndex,c=e.autoFocus,u=e.autoComplete,h=e.editable,d=e.activeDescendantId,f=e.value,g=e.maxLength,y=e.onKeyDown,v=e.onMouseDown,m=e.onChange,b=e.onPaste,S=e.onCompositionStart,w=e.onCompositionEnd,x=e.open,E=e.attrs,C=s||p.createElement("input",null),$=C,M=$.ref,A=$.props,P=A.onKeyDown,D=A.onChange,I=A.onMouseDown,O=A.onCompositionStart,H=A.onCompositionEnd,T=A.style;return"maxLength"in C.props,C=p.cloneElement(C,V(V(V({type:"search"},A),{},{id:o,ref:ko(t,M),disabled:l,tabIndex:a,autoComplete:u||"off",autoFocus:c,className:J("".concat(r,"-selection-search-input"),(i=C)===null||i===void 0||(i=i.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-expanded":x||!1,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":x?d:void 0},E),{},{value:h?f:"",maxLength:g,readOnly:!h,unselectable:h?null:"on",style:V(V({},T),{},{opacity:h?null:0}),onKeyDown:function(k){y(k),P&&P(k)},onMouseDown:function(k){v(k),I&&I(k)},onChange:function(k){m(k),D&&D(k)},onCompositionStart:function(k){S(k),O&&O(k)},onCompositionEnd:function(k){w(k),H&&H(k)},onPaste:b})),C},Qz=p.forwardRef(tZ);function Jz(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}var nZ=typeof window<"u"&&window.document&&window.document.documentElement,iZ=nZ;function rZ(n){return n!=null}function oZ(n){return!n&&n!==0}function aR(n){return["string","number"].includes(et(n))}function Zz(n){var e=void 0;return n&&(aR(n.title)?e=n.title.toString():aR(n.label)&&(e=n.label.toString())),e}function sZ(n,e){iZ?p.useLayoutEffect(n,e):p.useEffect(n,e)}function lZ(n){var e;return(e=n.key)!==null&&e!==void 0?e:n.value}var cR=function(e){e.preventDefault(),e.stopPropagation()},aZ=function(e){var t=e.id,i=e.prefixCls,r=e.values,o=e.open,s=e.searchValue,l=e.autoClearSearchValue,a=e.inputRef,c=e.placeholder,u=e.disabled,h=e.mode,d=e.showSearch,f=e.autoFocus,g=e.autoComplete,y=e.activeDescendantId,v=e.tabIndex,m=e.removeIcon,b=e.maxTagCount,S=e.maxTagTextLength,w=e.maxTagPlaceholder,x=w===void 0?function(ee){return"+ ".concat(ee.length," ...")}:w,E=e.tagRender,C=e.onToggleOpen,$=e.onRemove,M=e.onInputChange,A=e.onInputPaste,P=e.onInputKeyDown,D=e.onInputMouseDown,I=e.onInputCompositionStart,O=e.onInputCompositionEnd,H=p.useRef(null),T=p.useState(0),R=X(T,2),k=R[0],B=R[1],L=p.useState(!1),z=X(L,2),F=z[0],_=z[1],G="".concat(i,"-selection"),Z=o||h==="multiple"&&l===!1||h==="tags"?s:"",re=h==="tags"||h==="multiple"&&l===!1||d&&(o||F);sZ(function(){B(H.current.scrollWidth)},[Z]);var Q=function(K,Y,he,ne,de){return p.createElement("span",{title:Zz(K),className:J("".concat(G,"-item"),N({},"".concat(G,"-item-disabled"),he))},p.createElement("span",{className:"".concat(G,"-item-content")},Y),ne&&p.createElement(yy,{className:"".concat(G,"-item-remove"),onMouseDown:cR,onClick:de,customizeIcon:m},""))},ce=function(K,Y,he,ne,de,ve){var se=function(xe){cR(xe),C(!o)};return p.createElement("span",{onMouseDown:se},E({label:Y,value:K,disabled:he,closable:ne,onClose:de,isMaxTag:!!ve}))},fe=function(K){var Y=K.disabled,he=K.label,ne=K.value,de=!u&&!Y,ve=he;if(typeof S=="number"&&(typeof he=="string"||typeof he=="number")){var se=String(ve);se.length>S&&(ve="".concat(se.slice(0,S),"..."))}var ue=function(le){le&&le.stopPropagation(),$(K)};return typeof E=="function"?ce(ne,ve,Y,de,ue):Q(K,ve,Y,de,ue)},te=function(K){var Y=typeof x=="function"?x(K):x;return typeof E=="function"?ce(void 0,Y,!1,!1,void 0,!0):Q({title:Y},Y,!1)},j=p.createElement("div",{className:"".concat(G,"-search"),style:{width:k},onFocus:function(){_(!0)},onBlur:function(){_(!1)}},p.createElement(Qz,{ref:a,open:o,prefixCls:i,id:t,inputElement:null,disabled:u,autoFocus:f,autoComplete:g,editable:re,activeDescendantId:y,value:Z,onKeyDown:P,onMouseDown:D,onChange:M,onPaste:A,onCompositionStart:I,onCompositionEnd:O,tabIndex:v,attrs:ns(e,!0)}),p.createElement("span",{ref:H,className:"".concat(G,"-search-mirror"),"aria-hidden":!0},Z,"")),q=p.createElement(Is,{prefixCls:"".concat(G,"-overflow"),data:r,renderItem:fe,renderRest:te,suffix:j,itemKey:lZ,maxCount:b});return p.createElement(p.Fragment,null,q,!r.length&&!Z&&p.createElement("span",{className:"".concat(G,"-placeholder")},c))},cZ=function(e){var t=e.inputElement,i=e.prefixCls,r=e.id,o=e.inputRef,s=e.disabled,l=e.autoFocus,a=e.autoComplete,c=e.activeDescendantId,u=e.mode,h=e.open,d=e.values,f=e.placeholder,g=e.tabIndex,y=e.showSearch,v=e.searchValue,m=e.activeValue,b=e.maxLength,S=e.onInputKeyDown,w=e.onInputMouseDown,x=e.onInputChange,E=e.onInputPaste,C=e.onInputCompositionStart,$=e.onInputCompositionEnd,M=e.title,A=p.useState(!1),P=X(A,2),D=P[0],I=P[1],O=u==="combobox",H=O||y,T=d[0],R=v||"";O&&m&&!D&&(R=m),p.useEffect(function(){O&&I(!1)},[O,m]);var k=u!=="combobox"&&!h&&!y?!1:!!R,B=M===void 0?Zz(T):M,L=p.useMemo(function(){return T?null:p.createElement("span",{className:"".concat(i,"-selection-placeholder"),style:k?{visibility:"hidden"}:void 0},f)},[T,k,f,i]);return p.createElement(p.Fragment,null,p.createElement("span",{className:"".concat(i,"-selection-search")},p.createElement(Qz,{ref:o,prefixCls:i,id:r,open:h,inputElement:t,disabled:s,autoFocus:l,autoComplete:a,editable:H,activeDescendantId:c,value:R,onKeyDown:S,onMouseDown:w,onChange:function(F){I(!0),x(F)},onPaste:E,onCompositionStart:C,onCompositionEnd:$,tabIndex:g,attrs:ns(e,!0),maxLength:O?b:void 0})),!O&&T?p.createElement("span",{className:"".concat(i,"-selection-item"),title:B,style:k?{visibility:"hidden"}:void 0},T.label):null,L)},uZ=function(e,t){var i=p.useRef(null),r=p.useRef(!1),o=e.prefixCls,s=e.open,l=e.mode,a=e.showSearch,c=e.tokenWithEnter,u=e.disabled,h=e.autoClearSearchValue,d=e.onSearch,f=e.onSearchSubmit,g=e.onToggleOpen,y=e.onInputKeyDown,v=e.domRef;p.useImperativeHandle(t,function(){return{focus:function(k){i.current.focus(k)},blur:function(){i.current.blur()}}});var m=Gz(0),b=X(m,2),S=b[0],w=b[1],x=function(k){var B=k.which;(B===me.UP||B===me.DOWN)&&k.preventDefault(),y&&y(k),B===me.ENTER&&l==="tags"&&!r.current&&!s&&(f==null||f(k.target.value)),_J(B)&&g(!0)},E=function(){w(!0)},C=p.useRef(null),$=function(k){d(k,!0,r.current)!==!1&&g(!0)},M=function(){r.current=!0},A=function(k){r.current=!1,l!=="combobox"&&$(k.target.value)},P=function(k){var B=k.target.value;if(c&&C.current&&/[\r\n]/.test(C.current)){var L=C.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");B=B.replace(L,C.current)}C.current=null,$(B)},D=function(k){var B=k.clipboardData,L=B==null?void 0:B.getData("text");C.current=L||""},I=function(k){var B=k.target;if(B!==i.current){var L=document.body.style.msTouchAction!==void 0;L?setTimeout(function(){i.current.focus()}):i.current.focus()}},O=function(k){var B=S();k.target!==i.current&&!B&&!(l==="combobox"&&u)&&k.preventDefault(),(l!=="combobox"&&(!a||!B)||!s)&&(s&&h!==!1&&d("",!0,!1),g())},H={inputRef:i,onInputKeyDown:x,onInputMouseDown:E,onInputChange:P,onInputPaste:D,onInputCompositionStart:M,onInputCompositionEnd:A},T=l==="multiple"||l==="tags"?p.createElement(aZ,Se({},e,H)):p.createElement(cZ,Se({},e,H));return p.createElement("div",{ref:v,className:"".concat(o,"-selector"),onClick:I,onMouseDown:O},T)},hZ=p.forwardRef(uZ);function dZ(n){var e=n.prefixCls,t=n.align,i=n.arrow,r=n.arrowPos,o=i||{},s=o.className,l=o.content,a=r.x,c=a===void 0?0:a,u=r.y,h=u===void 0?0:u,d=p.useRef();if(!t||!t.points)return null;var f={position:"absolute"};if(t.autoArrow!==!1){var g=t.points[0],y=t.points[1],v=g[0],m=g[1],b=y[0],S=y[1];v===b||!["t","b"].includes(v)?f.top=h:v==="t"?f.top=0:f.bottom=0,m===S||!["l","r"].includes(m)?f.left=c:m==="l"?f.left=0:f.right=0}return p.createElement("div",{ref:d,className:J("".concat(e,"-arrow"),s),style:f},l)}function fZ(n){var e=n.prefixCls,t=n.open,i=n.zIndex,r=n.mask,o=n.motion;return r?p.createElement(mc,Se({},o,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(s){var l=s.className;return p.createElement("div",{style:{zIndex:i},className:J("".concat(e,"-mask"),l)})}):null}var pZ=p.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),gZ=p.forwardRef(function(n,e){var t=n.popup,i=n.className,r=n.prefixCls,o=n.style,s=n.target,l=n.onVisibleChanged,a=n.open,c=n.keepDom,u=n.fresh,h=n.onClick,d=n.mask,f=n.arrow,g=n.arrowPos,y=n.align,v=n.motion,m=n.maskMotion,b=n.forceRender,S=n.getPopupContainer,w=n.autoDestroy,x=n.portal,E=n.zIndex,C=n.onMouseEnter,$=n.onMouseLeave,M=n.onPointerEnter,A=n.ready,P=n.offsetX,D=n.offsetY,I=n.offsetR,O=n.offsetB,H=n.onAlign,T=n.onPrepare,R=n.stretch,k=n.targetWidth,B=n.targetHeight,L=typeof t=="function"?t():t,z=a||c,F=(S==null?void 0:S.length)>0,_=p.useState(!S||!F),G=X(_,2),Z=G[0],re=G[1];if(Kt(function(){!Z&&F&&s&&re(!0)},[Z,F,s]),!Z)return null;var Q="auto",ce={left:"-1000vw",top:"-1000vh",right:Q,bottom:Q};if(A||!a){var fe,te=y.points,j=y.dynamicInset||((fe=y._experimental)===null||fe===void 0?void 0:fe.dynamicInset),q=j&&te[0][1]==="r",ee=j&&te[0][0]==="b";q?(ce.right=I,ce.left=Q):(ce.left=P,ce.right=Q),ee?(ce.bottom=O,ce.top=Q):(ce.top=D,ce.bottom=Q)}var K={};return R&&(R.includes("height")&&B?K.height=B:R.includes("minHeight")&&B&&(K.minHeight=B),R.includes("width")&&k?K.width=k:R.includes("minWidth")&&k&&(K.minWidth=k)),a||(K.pointerEvents="none"),p.createElement(x,{open:b||z,getContainer:S&&function(){return S(s)},autoDestroy:w},p.createElement(fZ,{prefixCls:r,open:a,zIndex:E,mask:d,motion:m}),p.createElement(ss,{onResize:H,disabled:!a},function(Y){return p.createElement(mc,Se({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:b,leavedClassName:"".concat(r,"-hidden")},v,{onAppearPrepare:T,onEnterPrepare:T,visible:a,onVisibleChanged:function(ne){var de;v==null||(de=v.onVisibleChanged)===null||de===void 0||de.call(v,ne),l(ne)}}),function(he,ne){var de=he.className,ve=he.style,se=J(r,de,i);return p.createElement("div",{ref:ko(Y,e,ne),className:se,style:V(V(V(V({"--arrow-x":"".concat(g.x||0,"px"),"--arrow-y":"".concat(g.y||0,"px")},ce),K),ve),{},{boxSizing:"border-box",zIndex:E},o),onMouseEnter:C,onMouseLeave:$,onPointerEnter:M,onClick:h},f&&p.createElement(dZ,{prefixCls:r,arrow:f,arrowPos:g,align:y}),p.createElement(pZ,{cache:!a&&!u},L))})}))}),mZ=p.forwardRef(function(n,e){var t=n.children,i=n.getTriggerDOMNode,r=Ws(t),o=p.useCallback(function(l){pf(e,i?i(l):l)},[i]),s=fh(o,t.ref);return r?p.cloneElement(t,{ref:s}):t}),uR=p.createContext(null);function hR(n){return n?Array.isArray(n)?n:[n]:[]}function vZ(n,e,t,i){return p.useMemo(function(){var r=hR(t??e),o=hR(i??e),s=new Set(r),l=new Set(o);return n&&(s.has("hover")&&(s.delete("hover"),s.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[s,l]},[n,e,t,i])}function yZ(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function bZ(n,e,t,i){for(var r=t.points,o=Object.keys(n),s=0;s<o.length;s+=1){var l,a=o[s];if(yZ((l=n[a])===null||l===void 0?void 0:l.points,r,i))return"".concat(e,"-placement-").concat(a)}return""}function dR(n,e,t,i){return e||(t?{motionName:"".concat(n,"-").concat(t)}:i?{motionName:i}:null)}function bp(n){return n.ownerDocument.defaultView}function tx(n){for(var e=[],t=n==null?void 0:n.parentElement,i=["hidden","scroll","clip","auto"];t;){var r=bp(t).getComputedStyle(t),o=r.overflowX,s=r.overflowY,l=r.overflow;[o,s,l].some(function(a){return i.includes(a)})&&e.push(t),t=t.parentElement}return e}function Mf(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function Nh(n){return Mf(parseFloat(n),0)}function fR(n,e){var t=V({},n);return(e||[]).forEach(function(i){if(!(i instanceof HTMLBodyElement||i instanceof HTMLHtmlElement)){var r=bp(i).getComputedStyle(i),o=r.overflow,s=r.overflowClipMargin,l=r.borderTopWidth,a=r.borderBottomWidth,c=r.borderLeftWidth,u=r.borderRightWidth,h=i.getBoundingClientRect(),d=i.offsetHeight,f=i.clientHeight,g=i.offsetWidth,y=i.clientWidth,v=Nh(l),m=Nh(a),b=Nh(c),S=Nh(u),w=Mf(Math.round(h.width/g*1e3)/1e3),x=Mf(Math.round(h.height/d*1e3)/1e3),E=(g-y-b-S)*w,C=(d-f-v-m)*x,$=v*x,M=m*x,A=b*w,P=S*w,D=0,I=0;if(o==="clip"){var O=Nh(s);D=O*w,I=O*x}var H=h.x+A-D,T=h.y+$-I,R=H+h.width+2*D-A-P-E,k=T+h.height+2*I-$-M-C;t.left=Math.max(t.left,H),t.top=Math.max(t.top,T),t.right=Math.min(t.right,R),t.bottom=Math.min(t.bottom,k)}}),t}function pR(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),i=t.match(/^(.*)\%$/);return i?n*(parseFloat(i[1])/100):parseFloat(t)}function gR(n,e){var t=e||[],i=X(t,2),r=i[0],o=i[1];return[pR(n.width,r),pR(n.height,o)]}function mR(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function kc(n,e){var t=e[0],i=e[1],r,o;return t==="t"?o=n.y:t==="b"?o=n.y+n.height:o=n.y+n.height/2,i==="l"?r=n.x:i==="r"?r=n.x+n.width:r=n.x+n.width/2,{x:r,y:o}}function $l(n,e){var t={t:"b",b:"t",l:"r",r:"l"};return n.map(function(i,r){return r===e?t[i]||"c":i}).join("")}function SZ(n,e,t,i,r,o,s){var l=p.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:r[i]||{}}),a=X(l,2),c=a[0],u=a[1],h=p.useRef(0),d=p.useMemo(function(){return e?tx(e):[]},[e]),f=p.useRef({}),g=function(){f.current={}};n||g();var y=on(function(){if(e&&t&&n){let tt=function(qn,Gn){var pn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:se,Fr=L.x+qn,Wr=L.y+Gn,To=Fr+fe,Js=Wr+ce,Ca=Math.max(Fr,pn.left),lb=Math.max(Wr,pn.top),Ye=Math.min(To,pn.right),Mt=Math.min(Js,pn.bottom);return Math.max(0,(Ye-Ca)*(Mt-lb))},Rt=function(){Le=L.y+Pe,Xe=Le+ce,Re=L.x+ht,vt=Re+fe};var Do=tt,El=Rt,b,S,w=e,x=w.ownerDocument,E=bp(w),C=E.getComputedStyle(w),$=C.width,M=C.height,A=C.position,P=w.style.left,D=w.style.top,I=w.style.right,O=w.style.bottom,H=w.style.overflow,T=V(V({},r[i]),o),R=x.createElement("div");(b=w.parentElement)===null||b===void 0||b.appendChild(R),R.style.left="".concat(w.offsetLeft,"px"),R.style.top="".concat(w.offsetTop,"px"),R.style.position=A,R.style.height="".concat(w.offsetHeight,"px"),R.style.width="".concat(w.offsetWidth,"px"),w.style.left="0",w.style.top="0",w.style.right="auto",w.style.bottom="auto",w.style.overflow="hidden";var k;if(Array.isArray(t))k={x:t[0],y:t[1],width:0,height:0};else{var B=t.getBoundingClientRect();k={x:B.x,y:B.y,width:B.width,height:B.height}}var L=w.getBoundingClientRect(),z=x.documentElement,F=z.clientWidth,_=z.clientHeight,G=z.scrollWidth,Z=z.scrollHeight,re=z.scrollTop,Q=z.scrollLeft,ce=L.height,fe=L.width,te=k.height,j=k.width,q={left:0,top:0,right:F,bottom:_},ee={left:-Q,top:-re,right:G-Q,bottom:Z-re},K=T.htmlRegion,Y="visible",he="visibleFirst";K!=="scroll"&&K!==he&&(K=Y);var ne=K===he,de=fR(ee,d),ve=fR(q,d),se=K===Y?ve:de,ue=ne?ve:se;w.style.left="auto",w.style.top="auto",w.style.right="0",w.style.bottom="0";var xe=w.getBoundingClientRect();w.style.left=P,w.style.top=D,w.style.right=I,w.style.bottom=O,w.style.overflow=H,(S=w.parentElement)===null||S===void 0||S.removeChild(R);var le=Mf(Math.round(fe/parseFloat($)*1e3)/1e3),pe=Mf(Math.round(ce/parseFloat(M)*1e3)/1e3);if(le===0||pe===0||ff(t)&&!gy(t))return;var Me=T.offset,we=T.targetOffset,st=gR(L,Me),Qe=X(st,2),Ie=Qe[0],ae=Qe[1],$e=gR(k,we),Ae=X($e,2),Ue=Ae[0],lt=Ae[1];k.x-=Ue,k.y-=lt;var Ke=T.points||[],qe=X(Ke,2),at=qe[0],_e=qe[1],Ot=mR(_e),xt=mR(at),Ft=kc(k,Ot),St=kc(L,xt),Dt=V({},T),ht=Ft.x-St.x+Ie,Pe=Ft.y-St.y+ae,nt=tt(ht,Pe),Fe=tt(ht,Pe,ve),Ce=kc(k,["t","l"]),Te=kc(L,["t","l"]),We=kc(k,["b","r"]),ye=kc(L,["b","r"]),Oe=T.overflow||{},ke=Oe.adjustX,Je=Oe.adjustY,wt=Oe.shiftX,mt=Oe.shiftY,Ht=function(Gn){return typeof Gn=="boolean"?Gn:Gn>=0},Le,Xe,Re,vt;Rt();var qt=Ht(Je),zt=xt[0]===Ot[0];if(qt&&xt[0]==="t"&&(Xe>ue.bottom||f.current.bt)){var Nt=Pe;zt?Nt-=ce-te:Nt=Ce.y-ye.y-ae;var Gt=tt(ht,Nt),ze=tt(ht,Nt,ve);Gt>nt||Gt===nt&&(!ne||ze>=Fe)?(f.current.bt=!0,Pe=Nt,ae=-ae,Dt.points=[$l(xt,0),$l(Ot,0)]):f.current.bt=!1}if(qt&&xt[0]==="b"&&(Le<ue.top||f.current.tb)){var Ne=Pe;zt?Ne+=ce-te:Ne=We.y-Te.y-ae;var Ze=tt(ht,Ne),Vt=tt(ht,Ne,ve);Ze>nt||Ze===nt&&(!ne||Vt>=Fe)?(f.current.tb=!0,Pe=Ne,ae=-ae,Dt.points=[$l(xt,0),$l(Ot,0)]):f.current.tb=!1}var an=Ht(ke),Kn=xt[1]===Ot[1];if(an&&xt[1]==="l"&&(vt>ue.right||f.current.rl)){var cn=ht;Kn?cn-=fe-j:cn=Ce.x-ye.x-Ie;var Zn=tt(cn,Pe),Zi=tt(cn,Pe,ve);Zn>nt||Zn===nt&&(!ne||Zi>=Fe)?(f.current.rl=!0,ht=cn,Ie=-Ie,Dt.points=[$l(xt,1),$l(Ot,1)]):f.current.rl=!1}if(an&&xt[1]==="r"&&(Re<ue.left||f.current.lr)){var Ge=ht;Kn?Ge+=fe-j:Ge=We.x-Te.x-Ie;var Ct=tt(Ge,Pe),Wt=tt(Ge,Pe,ve);Ct>nt||Ct===nt&&(!ne||Wt>=Fe)?(f.current.lr=!0,ht=Ge,Ie=-Ie,Dt.points=[$l(xt,1),$l(Ot,1)]):f.current.lr=!1}Rt();var Jt=wt===!0?0:wt;typeof Jt=="number"&&(Re<ve.left&&(ht-=Re-ve.left-Ie,k.x+j<ve.left+Jt&&(ht+=k.x-ve.left+j-Jt)),vt>ve.right&&(ht-=vt-ve.right-Ie,k.x>ve.right-Jt&&(ht+=k.x-ve.right+Jt)));var fn=mt===!0?0:mt;typeof fn=="number"&&(Le<ve.top&&(Pe-=Le-ve.top-ae,k.y+te<ve.top+fn&&(Pe+=k.y-ve.top+te-fn)),Xe>ve.bottom&&(Pe-=Xe-ve.bottom-ae,k.y>ve.bottom-fn&&(Pe+=k.y-ve.bottom+fn)));var Ao=L.x+ht,Ro=Ao+fe,fr=L.y+Pe,Cr=fr+ce,ao=k.x,Er=ao+j,Et=k.y,gt=Et+te,$n=Math.max(Ao,ao),kt=Math.min(Ro,Er),it=($n+kt)/2,$t=it-Ao,Ut=Math.max(fr,Et),Zt=Math.min(Cr,gt),ri=(Ut+Zt)/2,Hi=ri-fr;s==null||s(e,Dt);var oi=xe.right-L.x-(ht+L.width),zi=xe.bottom-L.y-(Pe+L.height);le===1&&(ht=Math.round(ht),oi=Math.round(oi)),pe===1&&(Pe=Math.round(Pe),zi=Math.round(zi));var as={ready:!0,offsetX:ht/le,offsetY:Pe/pe,offsetR:oi/le,offsetB:zi/pe,arrowX:$t/le,arrowY:Hi/pe,scaleX:le,scaleY:pe,align:Dt};u(as)}}),v=function(){h.current+=1;var S=h.current;Promise.resolve().then(function(){h.current===S&&y()})},m=function(){u(function(S){return V(V({},S),{},{ready:!1})})};return Kt(m,[i]),Kt(function(){n||m()},[n]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,v]}function wZ(n,e,t,i,r){Kt(function(){if(n&&e&&t){let d=function(){i(),r()};var h=d,o=e,s=t,l=tx(o),a=tx(s),c=bp(s),u=new Set([c].concat(be(l),be(a)));return u.forEach(function(f){f.addEventListener("scroll",d,{passive:!0})}),c.addEventListener("resize",d,{passive:!0}),i(),function(){u.forEach(function(f){f.removeEventListener("scroll",d),c.removeEventListener("resize",d)})}}},[n,e,t])}function xZ(n,e,t,i,r,o,s,l){var a=p.useRef(n);a.current=n,p.useEffect(function(){if(e&&i&&(!r||o)){var c=function(f){var g=f.target;a.current&&!s(g)&&l(!1)},u=bp(i);u.addEventListener("mousedown",c,!0),u.addEventListener("contextmenu",c,!0);var h=D0(t);return h&&(h.addEventListener("mousedown",c,!0),h.addEventListener("contextmenu",c,!0)),function(){u.removeEventListener("mousedown",c,!0),u.removeEventListener("contextmenu",c,!0),h&&(h.removeEventListener("mousedown",c,!0),h.removeEventListener("contextmenu",c,!0))}}},[e,t,i,r,o])}var CZ=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function EZ(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nz,e=p.forwardRef(function(t,i){var r=t.prefixCls,o=r===void 0?"rc-trigger-popup":r,s=t.children,l=t.action,a=l===void 0?"hover":l,c=t.showAction,u=t.hideAction,h=t.popupVisible,d=t.defaultPopupVisible,f=t.onPopupVisibleChange,g=t.afterPopupVisibleChange,y=t.mouseEnterDelay,v=t.mouseLeaveDelay,m=v===void 0?.1:v,b=t.focusDelay,S=t.blurDelay,w=t.mask,x=t.maskClosable,E=x===void 0?!0:x,C=t.getPopupContainer,$=t.forceRender,M=t.autoDestroy,A=t.destroyPopupOnHide,P=t.popup,D=t.popupClassName,I=t.popupStyle,O=t.popupPlacement,H=t.builtinPlacements,T=H===void 0?{}:H,R=t.popupAlign,k=t.zIndex,B=t.stretch,L=t.getPopupClassNameFromAlign,z=t.fresh,F=t.alignPoint,_=t.onPopupClick,G=t.onPopupAlign,Z=t.arrow,re=t.popupMotion,Q=t.maskMotion,ce=t.popupTransitionName,fe=t.popupAnimation,te=t.maskTransitionName,j=t.maskAnimation,q=t.className,ee=t.getTriggerDOMNode,K=bt(t,CZ),Y=M||A||!1,he=p.useState(!1),ne=X(he,2),de=ne[0],ve=ne[1];Kt(function(){ve(Kz())},[]);var se=p.useRef({}),ue=p.useContext(uR),xe=p.useMemo(function(){return{registerSubPopup:function(Mt,Un){se.current[Mt]=Un,ue==null||ue.registerSubPopup(Mt,Un)}}},[ue]),le=dQ(),pe=p.useState(null),Me=X(pe,2),we=Me[0],st=Me[1],Qe=p.useRef(null),Ie=on(function(Ye){Qe.current=Ye,ff(Ye)&&we!==Ye&&st(Ye),ue==null||ue.registerSubPopup(le,Ye)}),ae=p.useState(null),$e=X(ae,2),Ae=$e[0],Ue=$e[1],lt=p.useRef(null),Ke=on(function(Ye){ff(Ye)&&Ae!==Ye&&(Ue(Ye),lt.current=Ye)}),qe=p.Children.only(s),at=(qe==null?void 0:qe.props)||{},_e={},Ot=on(function(Ye){var Mt,Un,di=Ae;return(di==null?void 0:di.contains(Ye))||((Mt=D0(di))===null||Mt===void 0?void 0:Mt.host)===Ye||Ye===di||(we==null?void 0:we.contains(Ye))||((Un=D0(we))===null||Un===void 0?void 0:Un.host)===Ye||Ye===we||Object.values(se.current).some(function(Xn){return(Xn==null?void 0:Xn.contains(Ye))||Ye===Xn})}),xt=dR(o,re,fe,ce),Ft=dR(o,Q,j,te),St=p.useState(d||!1),Dt=X(St,2),ht=Dt[0],Pe=Dt[1],nt=h??ht,Fe=on(function(Ye){h===void 0&&Pe(Ye)});Kt(function(){Pe(h||!1)},[h]);var Ce=p.useRef(nt);Ce.current=nt;var Te=p.useRef([]);Te.current=[];var We=on(function(Ye){var Mt;Fe(Ye),((Mt=Te.current[Te.current.length-1])!==null&&Mt!==void 0?Mt:nt)!==Ye&&(Te.current.push(Ye),f==null||f(Ye))}),ye=p.useRef(),Oe=function(){clearTimeout(ye.current)},ke=function(Mt){var Un=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Oe(),Un===0?We(Mt):ye.current=setTimeout(function(){We(Mt)},Un*1e3)};p.useEffect(function(){return Oe},[]);var Je=p.useState(!1),wt=X(Je,2),mt=wt[0],Ht=wt[1];Kt(function(Ye){(!Ye||nt)&&Ht(!0)},[nt]);var Le=p.useState(null),Xe=X(Le,2),Re=Xe[0],vt=Xe[1],qt=p.useState([0,0]),zt=X(qt,2),Nt=zt[0],Gt=zt[1],ze=function(Mt){Gt([Mt.clientX,Mt.clientY])},Ne=SZ(nt,we,F?Nt:Ae,O,T,R,G),Ze=X(Ne,11),Vt=Ze[0],an=Ze[1],Kn=Ze[2],cn=Ze[3],Zn=Ze[4],Zi=Ze[5],Ge=Ze[6],Ct=Ze[7],Wt=Ze[8],Jt=Ze[9],fn=Ze[10],Ao=vZ(de,a,c,u),Ro=X(Ao,2),fr=Ro[0],Cr=Ro[1],ao=fr.has("click"),Er=Cr.has("click")||Cr.has("contextMenu"),Et=on(function(){mt||fn()}),gt=function(){Ce.current&&F&&Er&&ke(!1)};wZ(nt,Ae,we,Et,gt),Kt(function(){Et()},[Nt,O]),Kt(function(){nt&&!(T!=null&&T[O])&&Et()},[JSON.stringify(R)]);var $n=p.useMemo(function(){var Ye=bZ(T,o,Jt,F);return J(Ye,L==null?void 0:L(Jt))},[Jt,L,T,o,F]);p.useImperativeHandle(i,function(){return{nativeElement:lt.current,popupElement:Qe.current,forceAlign:Et}});var kt=p.useState(0),it=X(kt,2),$t=it[0],Ut=it[1],Zt=p.useState(0),ri=X(Zt,2),Hi=ri[0],oi=ri[1],zi=function(){if(B&&Ae){var Mt=Ae.getBoundingClientRect();Ut(Mt.width),oi(Mt.height)}},as=function(){zi(),Et()},Do=function(Mt){Ht(!1),fn(),g==null||g(Mt)},El=function(){return new Promise(function(Mt){zi(),vt(function(){return Mt})})};Kt(function(){Re&&(fn(),Re(),vt(null))},[Re]);function tt(Ye,Mt,Un,di){_e[Ye]=function(Xn){var Hp;di==null||di(Xn),ke(Mt,Un);for(var ab=arguments.length,Wk=new Array(ab>1?ab-1:0),zp=1;zp<ab;zp++)Wk[zp-1]=arguments[zp];(Hp=at[Ye])===null||Hp===void 0||Hp.call.apply(Hp,[at,Xn].concat(Wk))}}(ao||Er)&&(_e.onClick=function(Ye){var Mt;Ce.current&&Er?ke(!1):!Ce.current&&ao&&(ze(Ye),ke(!0));for(var Un=arguments.length,di=new Array(Un>1?Un-1:0),Xn=1;Xn<Un;Xn++)di[Xn-1]=arguments[Xn];(Mt=at.onClick)===null||Mt===void 0||Mt.call.apply(Mt,[at,Ye].concat(di))}),xZ(nt,Er,Ae,we,w,E,Ot,ke);var Rt=fr.has("hover"),qn=Cr.has("hover"),Gn,pn;Rt&&(tt("onMouseEnter",!0,y,function(Ye){ze(Ye)}),tt("onPointerEnter",!0,y,function(Ye){ze(Ye)}),Gn=function(Mt){(nt||mt)&&we!==null&&we!==void 0&&we.contains(Mt.target)&&ke(!0,y)},F&&(_e.onMouseMove=function(Ye){var Mt;(Mt=at.onMouseMove)===null||Mt===void 0||Mt.call(at,Ye)})),qn&&(tt("onMouseLeave",!1,m),tt("onPointerLeave",!1,m),pn=function(){ke(!1,m)}),fr.has("focus")&&tt("onFocus",!0,b),Cr.has("focus")&&tt("onBlur",!1,S),fr.has("contextMenu")&&(_e.onContextMenu=function(Ye){var Mt;Ce.current&&Cr.has("contextMenu")?ke(!1):(ze(Ye),ke(!0)),Ye.preventDefault();for(var Un=arguments.length,di=new Array(Un>1?Un-1:0),Xn=1;Xn<Un;Xn++)di[Xn-1]=arguments[Xn];(Mt=at.onContextMenu)===null||Mt===void 0||Mt.call.apply(Mt,[at,Ye].concat(di))}),q&&(_e.className=J(at.className,q));var Fr=V(V({},at),_e),Wr={},To=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];To.forEach(function(Ye){K[Ye]&&(Wr[Ye]=function(){for(var Mt,Un=arguments.length,di=new Array(Un),Xn=0;Xn<Un;Xn++)di[Xn]=arguments[Xn];(Mt=Fr[Ye])===null||Mt===void 0||Mt.call.apply(Mt,[Fr].concat(di)),K[Ye].apply(K,di)})});var Js=p.cloneElement(qe,V(V({},Fr),Wr)),Ca={x:Zi,y:Ge},lb=Z?V({},Z!==!0?Z:{}):null;return p.createElement(p.Fragment,null,p.createElement(ss,{disabled:!nt,ref:Ke,onResize:as},p.createElement(mZ,{getTriggerDOMNode:ee},Js)),p.createElement(uR.Provider,{value:xe},p.createElement(gZ,{portal:n,ref:Ie,prefixCls:o,popup:P,className:J(D,$n),style:I,target:Ae,onMouseEnter:Gn,onMouseLeave:pn,onPointerEnter:Gn,zIndex:k,open:nt,keepDom:mt,fresh:z,onClick:_,mask:w,motion:xt,maskMotion:Ft,onVisibleChanged:Do,onPrepare:El,forceRender:$,autoDestroy:Y,getPopupContainer:C,align:Jt,arrow:lb,arrowPos:Ca,ready:Vt,offsetX:an,offsetY:Kn,offsetR:cn,offsetB:Zn,onAlign:Et,stretch:B,targetWidth:$t/Ct,targetHeight:Hi/Wt})))});return e}const by=EZ(Nz);var MZ=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],$Z=function(e){var t=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}},kZ=function(e,t){var i=e.prefixCls;e.disabled;var r=e.visible,o=e.children,s=e.popupElement,l=e.animation,a=e.transitionName,c=e.dropdownStyle,u=e.dropdownClassName,h=e.direction,d=h===void 0?"ltr":h,f=e.placement,g=e.builtinPlacements,y=e.dropdownMatchSelectWidth,v=e.dropdownRender,m=e.dropdownAlign,b=e.getPopupContainer,S=e.empty,w=e.getTriggerDOMNode,x=e.onPopupVisibleChange,E=e.onPopupMouseEnter,C=bt(e,MZ),$="".concat(i,"-dropdown"),M=s;v&&(M=v(s));var A=p.useMemo(function(){return g||$Z(y)},[g,y]),P=l?"".concat($,"-").concat(l):a,D=typeof y=="number",I=p.useMemo(function(){return D?null:y===!1?"minWidth":"width"},[y,D]),O=c;D&&(O=V(V({},O),{},{width:y}));var H=p.useRef(null);return p.useImperativeHandle(t,function(){return{getPopupElement:function(){var R;return(R=H.current)===null||R===void 0?void 0:R.popupElement}}}),p.createElement(by,Se({},C,{showAction:x?["click"]:[],hideAction:x?["click"]:[],popupPlacement:f||(d==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:A,prefixCls:$,popupTransitionName:P,popup:p.createElement("div",{onMouseEnter:E},M),ref:H,stretch:I,popupAlign:m,popupVisible:r,getPopupContainer:b,popupClassName:J(u,N({},"".concat($,"-empty"),S)),popupStyle:O,getTriggerDOMNode:w,onPopupVisibleChange:x}),o)},OZ=p.forwardRef(kZ);function vR(n,e){var t=n.key,i;return"value"in n&&(i=n.value),t??(i!==void 0?i:"rc-index-key-".concat(e))}function nx(n){return typeof n<"u"&&!Number.isNaN(n)}function eV(n,e){var t=n||{},i=t.label,r=t.value,o=t.options,s=t.groupLabel,l=i||(e?"children":"label");return{label:l,value:r||"value",options:o||"options",groupLabel:s||l}}function AZ(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.fieldNames,i=e.childrenAsData,r=[],o=eV(t,!1),s=o.label,l=o.value,a=o.options,c=o.groupLabel;function u(h,d){Array.isArray(h)&&h.forEach(function(f){if(d||!(a in f)){var g=f[l];r.push({key:vR(f,r.length),groupOption:d,data:f,label:f[s],value:g})}else{var y=f[c];y===void 0&&i&&(y=f.label),r.push({key:vR(f,r.length),group:!0,data:f,label:y}),u(f[a],!0)}})}return u(n,!1),r}function ix(n){var e=V({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return Dn(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var RZ=function(e,t,i){if(!t||!t.length)return null;var r=!1,o=function l(a,c){var u=LH(c),h=u[0],d=u.slice(1);if(!h)return[a];var f=a.split(h);return r=r||f.length>1,f.reduce(function(g,y){return[].concat(be(g),be(l(y,d)))},[]).filter(Boolean)},s=o(e,t);return r?typeof i<"u"?s.slice(0,i):s:null},l$=p.createContext(null);function DZ(n){var e=n.visible,t=n.values;if(!e)return null;var i=50;return p.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(t.slice(0,i).map(function(r){var o=r.label,s=r.value;return["number","string"].includes(et(o))?o:s}).join(", ")),t.length>i?", ...":null)}var TZ=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],PZ=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],rx=function(e){return e==="tags"||e==="multiple"},IZ=p.forwardRef(function(n,e){var t,i=n.id,r=n.prefixCls,o=n.className,s=n.showSearch,l=n.tagRender,a=n.direction,c=n.omitDomProps,u=n.displayValues,h=n.onDisplayValuesChange,d=n.emptyOptions,f=n.notFoundContent,g=f===void 0?"Not Found":f,y=n.onClear,v=n.mode,m=n.disabled,b=n.loading,S=n.getInputElement,w=n.getRawInputElement,x=n.open,E=n.defaultOpen,C=n.onDropdownVisibleChange,$=n.activeValue,M=n.onActiveValueChange,A=n.activeDescendantId,P=n.searchValue,D=n.autoClearSearchValue,I=n.onSearch,O=n.onSearchSplit,H=n.tokenSeparators,T=n.allowClear,R=n.suffixIcon,k=n.clearIcon,B=n.OptionList,L=n.animation,z=n.transitionName,F=n.dropdownStyle,_=n.dropdownClassName,G=n.dropdownMatchSelectWidth,Z=n.dropdownRender,re=n.dropdownAlign,Q=n.placement,ce=n.builtinPlacements,fe=n.getPopupContainer,te=n.showAction,j=te===void 0?[]:te,q=n.onFocus,ee=n.onBlur,K=n.onKeyUp,Y=n.onKeyDown,he=n.onMouseDown,ne=bt(n,TZ),de=rx(v),ve=(s!==void 0?s:de)||v==="combobox",se=V({},ne);PZ.forEach(function(Et){delete se[Et]}),c==null||c.forEach(function(Et){delete se[Et]});var ue=p.useState(!1),xe=X(ue,2),le=xe[0],pe=xe[1];p.useEffect(function(){pe(Kz())},[]);var Me=p.useRef(null),we=p.useRef(null),st=p.useRef(null),Qe=p.useRef(null),Ie=p.useRef(null),ae=p.useRef(!1),$e=FJ(),Ae=X($e,3),Ue=Ae[0],lt=Ae[1],Ke=Ae[2];p.useImperativeHandle(e,function(){var Et,gt;return{focus:(Et=Qe.current)===null||Et===void 0?void 0:Et.focus,blur:(gt=Qe.current)===null||gt===void 0?void 0:gt.blur,scrollTo:function(kt){var it;return(it=Ie.current)===null||it===void 0?void 0:it.scrollTo(kt)},nativeElement:Me.current||we.current}});var qe=p.useMemo(function(){var Et;if(v!=="combobox")return P;var gt=(Et=u[0])===null||Et===void 0?void 0:Et.value;return typeof gt=="string"||typeof gt=="number"?String(gt):""},[P,v,u]),at=v==="combobox"&&typeof S=="function"&&S()||null,_e=typeof w=="function"&&w(),Ot=fh(we,_e==null||(t=_e.props)===null||t===void 0?void 0:t.ref),xt=p.useState(!1),Ft=X(xt,2),St=Ft[0],Dt=Ft[1];Kt(function(){Dt(!0)},[]);var ht=Ri(!1,{defaultValue:E,value:x}),Pe=X(ht,2),nt=Pe[0],Fe=Pe[1],Ce=St?nt:!1,Te=!g&&d;(m||Te&&Ce&&v==="combobox")&&(Ce=!1);var We=Te?!1:Ce,ye=p.useCallback(function(Et){var gt=Et!==void 0?Et:!Ce;m||(Fe(gt),Ce!==gt&&(C==null||C(gt)))},[m,Ce,Fe,C]),Oe=p.useMemo(function(){return(H||[]).some(function(Et){return[`
`,`\r
`].includes(Et)})},[H]),ke=p.useContext(l$)||{},Je=ke.maxCount,wt=ke.rawValues,mt=function(gt,$n,kt){if(!(de&&nx(Je)&&(wt==null?void 0:wt.size)>=Je)){var it=!0,$t=gt;M==null||M(null);var Ut=RZ(gt,H,nx(Je)?Je-wt.size:void 0),Zt=kt?null:Ut;return v!=="combobox"&&Zt&&($t="",O==null||O(Zt),ye(!1),it=!1),I&&qe!==$t&&I($t,{source:$n?"typing":"effect"}),it}},Ht=function(gt){!gt||!gt.trim()||I(gt,{source:"submit"})};p.useEffect(function(){!Ce&&!de&&v!=="combobox"&&mt("",!1,!1)},[Ce]),p.useEffect(function(){nt&&m&&Fe(!1),m&&!ae.current&&lt(!1)},[m]);var Le=Gz(),Xe=X(Le,2),Re=Xe[0],vt=Xe[1],qt=function(gt){var $n=Re(),kt=gt.which;if(kt===me.ENTER&&(v!=="combobox"&&gt.preventDefault(),Ce||ye(!0)),vt(!!qe),kt===me.BACKSPACE&&!$n&&de&&!qe&&u.length){for(var it=be(u),$t=null,Ut=it.length-1;Ut>=0;Ut-=1){var Zt=it[Ut];if(!Zt.disabled){it.splice(Ut,1),$t=Zt;break}}$t&&h(it,{type:"remove",values:[$t]})}for(var ri=arguments.length,Hi=new Array(ri>1?ri-1:0),oi=1;oi<ri;oi++)Hi[oi-1]=arguments[oi];if(Ce){var zi;(zi=Ie.current)===null||zi===void 0||zi.onKeyDown.apply(zi,[gt].concat(Hi))}Y==null||Y.apply(void 0,[gt].concat(Hi))},zt=function(gt){for(var $n=arguments.length,kt=new Array($n>1?$n-1:0),it=1;it<$n;it++)kt[it-1]=arguments[it];if(Ce){var $t;($t=Ie.current)===null||$t===void 0||$t.onKeyUp.apply($t,[gt].concat(kt))}K==null||K.apply(void 0,[gt].concat(kt))},Nt=function(gt){var $n=u.filter(function(kt){return kt!==gt});h($n,{type:"remove",values:[gt]})},Gt=p.useRef(!1),ze=function(){lt(!0),m||(q&&!Gt.current&&q.apply(void 0,arguments),j.includes("focus")&&ye(!0)),Gt.current=!0},Ne=function(){ae.current=!0,lt(!1,function(){Gt.current=!1,ae.current=!1,ye(!1)}),!m&&(qe&&(v==="tags"?I(qe,{source:"submit"}):v==="multiple"&&I("",{source:"blur"})),ee&&ee.apply(void 0,arguments))},Ze=[];p.useEffect(function(){return function(){Ze.forEach(function(Et){return clearTimeout(Et)}),Ze.splice(0,Ze.length)}},[]);var Vt=function(gt){var $n,kt=gt.target,it=($n=st.current)===null||$n===void 0?void 0:$n.getPopupElement();if(it&&it.contains(kt)){var $t=setTimeout(function(){var Hi=Ze.indexOf($t);if(Hi!==-1&&Ze.splice(Hi,1),Ke(),!le&&!it.contains(document.activeElement)){var oi;(oi=Qe.current)===null||oi===void 0||oi.focus()}});Ze.push($t)}for(var Ut=arguments.length,Zt=new Array(Ut>1?Ut-1:0),ri=1;ri<Ut;ri++)Zt[ri-1]=arguments[ri];he==null||he.apply(void 0,[gt].concat(Zt))},an=p.useState({}),Kn=X(an,2),cn=Kn[1];function Zn(){cn({})}var Zi;_e&&(Zi=function(gt){ye(gt)}),WJ(function(){var Et;return[Me.current,(Et=st.current)===null||Et===void 0?void 0:Et.getPopupElement()]},We,ye,!!_e);var Ge=p.useMemo(function(){return V(V({},n),{},{notFoundContent:g,open:Ce,triggerOpen:We,id:i,showSearch:ve,multiple:de,toggleOpen:ye})},[n,g,We,Ce,i,ve,de,ye]),Ct=!!R||b,Wt;Ct&&(Wt=p.createElement(yy,{className:J("".concat(r,"-arrow"),N({},"".concat(r,"-arrow-loading"),b)),customizeIcon:R,customizeIconProps:{loading:b,searchValue:qe,open:Ce,focused:Ue,showSearch:ve}}));var Jt=function(){var gt;y==null||y(),(gt=Qe.current)===null||gt===void 0||gt.focus(),h([],{type:"clear",values:u}),mt("",!1,!1)},fn=zJ(r,Jt,u,T,k,m,qe,v),Ao=fn.allowClear,Ro=fn.clearIcon,fr=p.createElement(B,{ref:Ie}),Cr=J(r,o,N(N(N(N(N(N(N(N(N(N({},"".concat(r,"-focused"),Ue),"".concat(r,"-multiple"),de),"".concat(r,"-single"),!de),"".concat(r,"-allow-clear"),T),"".concat(r,"-show-arrow"),Ct),"".concat(r,"-disabled"),m),"".concat(r,"-loading"),b),"".concat(r,"-open"),Ce),"".concat(r,"-customize-input"),at),"".concat(r,"-show-search"),ve)),ao=p.createElement(OZ,{ref:st,disabled:m,prefixCls:r,visible:We,popupElement:fr,animation:L,transitionName:z,dropdownStyle:F,dropdownClassName:_,direction:a,dropdownMatchSelectWidth:G,dropdownRender:Z,dropdownAlign:re,placement:Q,builtinPlacements:ce,getPopupContainer:fe,empty:d,getTriggerDOMNode:function(gt){return we.current||gt},onPopupVisibleChange:Zi,onPopupMouseEnter:Zn},_e?p.cloneElement(_e,{ref:Ot}):p.createElement(hZ,Se({},n,{domRef:we,prefixCls:r,inputElement:at,ref:Qe,id:i,showSearch:ve,autoClearSearchValue:D,mode:v,activeDescendantId:A,tagRender:l,values:u,open:Ce,onToggleOpen:ye,activeValue:$,searchValue:qe,onSearch:mt,onSearchSubmit:Ht,onRemove:Nt,tokenWithEnter:Oe}))),Er;return _e?Er=ao:Er=p.createElement("div",Se({className:Cr},se,{ref:Me,onMouseDown:Vt,onKeyDown:qt,onKeyUp:zt,onFocus:ze,onBlur:Ne}),p.createElement(DZ,{visible:Ue&&!Ce,values:u}),ao,Wt,Ao&&Ro),p.createElement(qz.Provider,{value:Ge},Er)}),a$=function(){return null};a$.isSelectOptGroup=!0;var c$=function(){return null};c$.isSelectOption=!0;var tV=p.forwardRef(function(n,e){var t=n.height,i=n.offsetY,r=n.offsetX,o=n.children,s=n.prefixCls,l=n.onInnerResize,a=n.innerProps,c=n.rtl,u=n.extra,h={},d={display:"flex",flexDirection:"column"};return i!==void 0&&(h={height:t,position:"relative",overflow:"hidden"},d=V(V({},d),{},N(N(N(N(N({transform:"translateY(".concat(i,"px)")},c?"marginRight":"marginLeft",-r),"position","absolute"),"left",0),"right",0),"top",0))),p.createElement("div",{style:h},p.createElement(ss,{onResize:function(g){var y=g.offsetHeight;y&&l&&l()}},p.createElement("div",Se({style:d,className:J(N({},"".concat(s,"-holder-inner"),s)),ref:e},a),o,u)))});tV.displayName="Filler";function NZ(n){var e=n.children,t=n.setRef,i=p.useCallback(function(r){t(r)},[]);return p.cloneElement(e,{ref:i})}function BZ(n,e,t,i,r,o,s,l){var a=l.getKey;return n.slice(e,t+1).map(function(c,u){var h=e+u,d=s(c,h,{style:{width:i},offsetX:r}),f=a(c);return p.createElement(NZ,{key:f,setRef:function(y){return o(c,y)}},d)})}function LZ(n,e,t){var i=n.length,r=e.length,o,s;if(i===0&&r===0)return null;i<r?(o=n,s=e):(o=e,s=n);var l={__EMPTY_ITEM__:!0};function a(g){return g!==void 0?t(g):l}for(var c=null,u=Math.abs(i-r)!==1,h=0;h<s.length;h+=1){var d=a(o[h]),f=a(s[h]);if(d!==f){c=h,u=u||d!==a(s[h+1]);break}}return c===null?null:{index:c,multiple:u}}function HZ(n,e,t){var i=p.useState(n),r=X(i,2),o=r[0],s=r[1],l=p.useState(null),a=X(l,2),c=a[0],u=a[1];return p.useEffect(function(){var h=LZ(o||[],n||[],e);(h==null?void 0:h.index)!==void 0&&u(n[h.index]),s(n)},[n]),[c]}var yR=(typeof navigator>"u"?"undefined":et(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const nV=function(n,e,t,i){var r=p.useRef(!1),o=p.useRef(null);function s(){clearTimeout(o.current),r.current=!0,o.current=setTimeout(function(){r.current=!1},50)}var l=p.useRef({top:n,bottom:e,left:t,right:i});return l.current.top=n,l.current.bottom=e,l.current.left=t,l.current.right=i,function(a,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=a?c<0&&l.current.left||c>0&&l.current.right:c<0&&l.current.top||c>0&&l.current.bottom;return u&&h?(clearTimeout(o.current),r.current=!1):(!h||r.current)&&s(),!r.current&&h}};function zZ(n,e,t,i,r,o,s){var l=p.useRef(0),a=p.useRef(null),c=p.useRef(null),u=p.useRef(!1),h=nV(e,t,i,r);function d(b,S){Xt.cancel(a.current),l.current+=S,c.current=S,!h(!1,S)&&(yR||b.preventDefault(),a.current=Xt(function(){var w=u.current?10:1;s(l.current*w),l.current=0}))}function f(b,S){s(S,!0),yR||b.preventDefault()}var g=p.useRef(null),y=p.useRef(null);function v(b){if(n){Xt.cancel(y.current),y.current=Xt(function(){g.current=null},2);var S=b.deltaX,w=b.deltaY,x=b.shiftKey,E=S,C=w;(g.current==="sx"||!g.current&&x&&w&&!S)&&(E=w,C=0,g.current="sx");var $=Math.abs(E),M=Math.abs(C);g.current===null&&(g.current=o&&$>M?"x":"y"),g.current==="y"?d(b,C):f(b,E)}}function m(b){n&&(u.current=b.detail===c.current)}return[v,m]}function VZ(n,e,t,i){var r=p.useMemo(function(){return[new Map,[]]},[n,t.id,i]),o=X(r,2),s=o[0],l=o[1],a=function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,d=s.get(u),f=s.get(h);if(d===void 0||f===void 0)for(var g=n.length,y=l.length;y<g;y+=1){var v,m=n[y],b=e(m);s.set(b,y);var S=(v=t.get(b))!==null&&v!==void 0?v:i;if(l[y]=(l[y-1]||0)+S,b===u&&(d=y),b===h&&(f=y),d!==void 0&&f!==void 0)break}return{top:l[d-1]||0,bottom:l[f]}};return a}var FZ=function(){function n(){ui(this,n),N(this,"maps",void 0),N(this,"id",0),this.maps=Object.create(null)}return hi(n,[{key:"set",value:function(t,i){this.maps[t]=i,this.id+=1}},{key:"get",value:function(t){return this.maps[t]}}]),n}();function WZ(n,e,t){var i=p.useState(0),r=X(i,2),o=r[0],s=r[1],l=p.useRef(new Map),a=p.useRef(new FZ),c=p.useRef();function u(){Xt.cancel(c.current)}function h(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;u();var g=function(){l.current.forEach(function(v,m){if(v&&v.offsetParent){var b=Dd(v),S=b.offsetHeight;a.current.get(m)!==S&&a.current.set(m,b.offsetHeight)}}),s(function(v){return v+1})};f?g():c.current=Xt(g)}function d(f,g){var y=n(f);l.current.get(y),g?(l.current.set(y,g),h()):l.current.delete(y)}return p.useEffect(function(){return u},[]),[d,h,a.current,o]}var bR=14/15;function _Z(n,e,t){var i=p.useRef(!1),r=p.useRef(0),o=p.useRef(0),s=p.useRef(null),l=p.useRef(null),a,c=function(f){if(i.current){var g=Math.ceil(f.touches[0].pageX),y=Math.ceil(f.touches[0].pageY),v=r.current-g,m=o.current-y,b=Math.abs(v)>Math.abs(m);b?r.current=g:o.current=y,t(b,b?v:m)&&f.preventDefault(),clearInterval(l.current),l.current=setInterval(function(){b?v*=bR:m*=bR;var S=Math.floor(b?v:m);(!t(b,S,!0)||Math.abs(S)<=.1)&&clearInterval(l.current)},16)}},u=function(){i.current=!1,a()},h=function(f){a(),f.touches.length===1&&!i.current&&(i.current=!0,r.current=Math.ceil(f.touches[0].pageX),o.current=Math.ceil(f.touches[0].pageY),s.current=f.target,s.current.addEventListener("touchmove",c,{passive:!1}),s.current.addEventListener("touchend",u,{passive:!0}))};a=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",u))},Kt(function(){return n&&e.current.addEventListener("touchstart",h,{passive:!0}),function(){var d;(d=e.current)===null||d===void 0||d.removeEventListener("touchstart",h),a(),clearInterval(l.current)}},[n])}var jZ=10;function KZ(n,e,t,i,r,o,s,l){var a=p.useRef(),c=p.useState(null),u=X(c,2),h=u[0],d=u[1];return Kt(function(){if(h&&h.times<jZ){if(!n.current){d(function(B){return V({},B)});return}o();var f=h.targetAlign,g=h.originAlign,y=h.index,v=h.offset,m=n.current.clientHeight,b=!1,S=f,w=null;if(m){for(var x=f||g,E=0,C=0,$=0,M=Math.min(e.length-1,y),A=0;A<=M;A+=1){var P=r(e[A]);C=E;var D=t.get(P);$=C+(D===void 0?i:D),E=$}for(var I=x==="top"?v:m-v,O=M;O>=0;O-=1){var H=r(e[O]),T=t.get(H);if(T===void 0){b=!0;break}if(I-=T,I<=0)break}switch(x){case"top":w=C-v;break;case"bottom":w=$-m+v;break;default:{var R=n.current.scrollTop,k=R+m;C<R?S="top":$>k&&(S="bottom")}}w!==null&&s(w),w!==h.lastTop&&(b=!0)}b&&d(V(V({},h),{},{times:h.times+1,targetAlign:S,lastTop:w}))}},[h,n.current]),function(f){if(f==null){l();return}if(Xt.cancel(a.current),typeof f=="number")s(f);else if(f&&et(f)==="object"){var g,y=f.align;"index"in f?g=f.index:g=e.findIndex(function(b){return r(b)===f.key});var v=f.offset,m=v===void 0?0:v;d({times:0,index:g,offset:m,originAlign:y})}}}function SR(n,e){var t="touches"in n?n.touches[0]:n;return t[e?"pageX":"pageY"]}var wR=p.forwardRef(function(n,e){var t=n.prefixCls,i=n.rtl,r=n.scrollOffset,o=n.scrollRange,s=n.onStartMove,l=n.onStopMove,a=n.onScroll,c=n.horizontal,u=n.spinSize,h=n.containerSize,d=n.style,f=n.thumbStyle,g=p.useState(!1),y=X(g,2),v=y[0],m=y[1],b=p.useState(null),S=X(b,2),w=S[0],x=S[1],E=p.useState(null),C=X(E,2),$=C[0],M=C[1],A=!i,P=p.useRef(),D=p.useRef(),I=p.useState(!1),O=X(I,2),H=O[0],T=O[1],R=p.useRef(),k=function(){clearTimeout(R.current),T(!0),R.current=setTimeout(function(){T(!1)},3e3)},B=o-h||0,L=h-u||0,z=p.useMemo(function(){if(r===0||B===0)return 0;var te=r/B;return te*L},[r,B,L]),F=function(j){j.stopPropagation(),j.preventDefault()},_=p.useRef({top:z,dragging:v,pageY:w,startTop:$});_.current={top:z,dragging:v,pageY:w,startTop:$};var G=function(j){m(!0),x(SR(j,c)),M(_.current.top),s(),j.stopPropagation(),j.preventDefault()};p.useEffect(function(){var te=function(K){K.preventDefault()},j=P.current,q=D.current;return j.addEventListener("touchstart",te,{passive:!1}),q.addEventListener("touchstart",G,{passive:!1}),function(){j.removeEventListener("touchstart",te),q.removeEventListener("touchstart",G)}},[]);var Z=p.useRef();Z.current=B;var re=p.useRef();re.current=L,p.useEffect(function(){if(v){var te,j=function(K){var Y=_.current,he=Y.dragging,ne=Y.pageY,de=Y.startTop;Xt.cancel(te);var ve=P.current.getBoundingClientRect(),se=h/(c?ve.width:ve.height);if(he){var ue=(SR(K,c)-ne)*se,xe=de;!A&&c?xe-=ue:xe+=ue;var le=Z.current,pe=re.current,Me=pe?xe/pe:0,we=Math.ceil(Me*le);we=Math.max(we,0),we=Math.min(we,le),te=Xt(function(){a(we,c)})}},q=function(){m(!1),l()};return window.addEventListener("mousemove",j,{passive:!0}),window.addEventListener("touchmove",j,{passive:!0}),window.addEventListener("mouseup",q,{passive:!0}),window.addEventListener("touchend",q,{passive:!0}),function(){window.removeEventListener("mousemove",j),window.removeEventListener("touchmove",j),window.removeEventListener("mouseup",q),window.removeEventListener("touchend",q),Xt.cancel(te)}}},[v]),p.useEffect(function(){return k(),function(){clearTimeout(R.current)}},[r]),p.useImperativeHandle(e,function(){return{delayHidden:k}});var Q="".concat(t,"-scrollbar"),ce={position:"absolute",visibility:H?null:"hidden"},fe={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return c?(ce.height=8,ce.left=0,ce.right=0,ce.bottom=0,fe.height="100%",fe.width=u,A?fe.left=z:fe.right=z):(ce.width=8,ce.top=0,ce.bottom=0,A?ce.right=0:ce.left=0,fe.width="100%",fe.height=u,fe.top=z),p.createElement("div",{ref:P,className:J(Q,N(N(N({},"".concat(Q,"-horizontal"),c),"".concat(Q,"-vertical"),!c),"".concat(Q,"-visible"),H)),style:V(V({},ce),d),onMouseDown:F,onMouseMove:k},p.createElement("div",{ref:D,className:J("".concat(Q,"-thumb"),N({},"".concat(Q,"-thumb-moving"),v)),style:V(V({},fe),f),onMouseDown:G}))}),qZ=20;function xR(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=n/e*n;return isNaN(t)&&(t=0),t=Math.max(t,qZ),Math.floor(t)}var GZ=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],UZ=[],XZ={overflowY:"auto",overflowAnchor:"none"};function YZ(n,e){var t=n.prefixCls,i=t===void 0?"rc-virtual-list":t,r=n.className,o=n.height,s=n.itemHeight,l=n.fullHeight,a=l===void 0?!0:l,c=n.style,u=n.data,h=n.children,d=n.itemKey,f=n.virtual,g=n.direction,y=n.scrollWidth,v=n.component,m=v===void 0?"div":v,b=n.onScroll,S=n.onVirtualScroll,w=n.onVisibleChange,x=n.innerProps,E=n.extraRender,C=n.styles,$=bt(n,GZ),M=p.useCallback(function(ze){return typeof d=="function"?d(ze):ze==null?void 0:ze[d]},[d]),A=WZ(M),P=X(A,4),D=P[0],I=P[1],O=P[2],H=P[3],T=!!(f!==!1&&o&&s),R=p.useMemo(function(){return Object.values(O.maps).reduce(function(ze,Ne){return ze+Ne},0)},[O.id,O.maps]),k=T&&u&&(Math.max(s*u.length,R)>o||!!y),B=g==="rtl",L=J(i,N({},"".concat(i,"-rtl"),B),r),z=u||UZ,F=p.useRef(),_=p.useRef(),G=p.useRef(),Z=p.useState(0),re=X(Z,2),Q=re[0],ce=re[1],fe=p.useState(0),te=X(fe,2),j=te[0],q=te[1],ee=p.useState(!1),K=X(ee,2),Y=K[0],he=K[1],ne=function(){he(!0)},de=function(){he(!1)},ve={getKey:M};function se(ze){ce(function(Ne){var Ze;typeof ze=="function"?Ze=ze(Ne):Ze=ze;var Vt=St(Ze);return F.current.scrollTop=Vt,Vt})}var ue=p.useRef({start:0,end:z.length}),xe=p.useRef(),le=HZ(z,M),pe=X(le,1),Me=pe[0];xe.current=Me;var we=p.useMemo(function(){if(!T)return{scrollHeight:void 0,start:0,end:z.length-1,offset:void 0};if(!k){var ze;return{scrollHeight:((ze=_.current)===null||ze===void 0?void 0:ze.offsetHeight)||0,start:0,end:z.length-1,offset:void 0}}for(var Ne=0,Ze,Vt,an,Kn=z.length,cn=0;cn<Kn;cn+=1){var Zn=z[cn],Zi=M(Zn),Ge=O.get(Zi),Ct=Ne+(Ge===void 0?s:Ge);Ct>=Q&&Ze===void 0&&(Ze=cn,Vt=Ne),Ct>Q+o&&an===void 0&&(an=cn),Ne=Ct}return Ze===void 0&&(Ze=0,Vt=0,an=Math.ceil(o/s)),an===void 0&&(an=z.length-1),an=Math.min(an+1,z.length-1),{scrollHeight:Ne,start:Ze,end:an,offset:Vt}},[k,T,Q,z,H,o]),st=we.scrollHeight,Qe=we.start,Ie=we.end,ae=we.offset;ue.current.start=Qe,ue.current.end=Ie;var $e=p.useState({width:0,height:o}),Ae=X($e,2),Ue=Ae[0],lt=Ae[1],Ke=function(Ne){lt({width:Ne.offsetWidth,height:Ne.offsetHeight})},qe=p.useRef(),at=p.useRef(),_e=p.useMemo(function(){return xR(Ue.width,y)},[Ue.width,y]),Ot=p.useMemo(function(){return xR(Ue.height,st)},[Ue.height,st]),xt=st-o,Ft=p.useRef(xt);Ft.current=xt;function St(ze){var Ne=ze;return Number.isNaN(Ft.current)||(Ne=Math.min(Ne,Ft.current)),Ne=Math.max(Ne,0),Ne}var Dt=Q<=0,ht=Q>=xt,Pe=j<=0,nt=j>=y,Fe=nV(Dt,ht,Pe,nt),Ce=function(){return{x:B?-j:j,y:Q}},Te=p.useRef(Ce()),We=on(function(ze){if(S){var Ne=V(V({},Ce()),ze);(Te.current.x!==Ne.x||Te.current.y!==Ne.y)&&(S(Ne),Te.current=Ne)}});function ye(ze,Ne){var Ze=ze;Ne?(vl.flushSync(function(){q(Ze)}),We()):se(Ze)}function Oe(ze){var Ne=ze.currentTarget.scrollTop;Ne!==Q&&se(Ne),b==null||b(ze),We()}var ke=function(Ne){var Ze=Ne,Vt=y?y-Ue.width:0;return Ze=Math.max(Ze,0),Ze=Math.min(Ze,Vt),Ze},Je=on(function(ze,Ne){Ne?(vl.flushSync(function(){q(function(Ze){var Vt=Ze+(B?-ze:ze);return ke(Vt)})}),We()):se(function(Ze){var Vt=Ze+ze;return Vt})}),wt=zZ(T,Dt,ht,Pe,nt,!!y,Je),mt=X(wt,2),Ht=mt[0],Le=mt[1];_Z(T,F,function(ze,Ne,Ze){return Fe(ze,Ne,Ze)?!1:(Ht({preventDefault:function(){},deltaX:ze?Ne:0,deltaY:ze?0:Ne}),!0)}),Kt(function(){function ze(Ze){T&&Ze.preventDefault()}var Ne=F.current;return Ne.addEventListener("wheel",Ht,{passive:!1}),Ne.addEventListener("DOMMouseScroll",Le,{passive:!0}),Ne.addEventListener("MozMousePixelScroll",ze,{passive:!1}),function(){Ne.removeEventListener("wheel",Ht),Ne.removeEventListener("DOMMouseScroll",Le),Ne.removeEventListener("MozMousePixelScroll",ze)}},[T]),Kt(function(){if(y){var ze=ke(j);q(ze),We({x:ze})}},[Ue.width,y]);var Xe=function(){var Ne,Ze;(Ne=qe.current)===null||Ne===void 0||Ne.delayHidden(),(Ze=at.current)===null||Ze===void 0||Ze.delayHidden()},Re=KZ(F,z,O,s,M,function(){return I(!0)},se,Xe);p.useImperativeHandle(e,function(){return{nativeElement:G.current,getScrollInfo:Ce,scrollTo:function(Ne){function Ze(Vt){return Vt&&et(Vt)==="object"&&("left"in Vt||"top"in Vt)}Ze(Ne)?(Ne.left!==void 0&&q(ke(Ne.left)),Re(Ne.top)):Re(Ne)}}}),Kt(function(){if(w){var ze=z.slice(Qe,Ie+1);w(ze,z)}},[Qe,Ie,z]);var vt=VZ(z,M,O,s),qt=E==null?void 0:E({start:Qe,end:Ie,virtual:k,offsetX:j,offsetY:ae,rtl:B,getSize:vt}),zt=BZ(z,Qe,Ie,y,j,D,h,ve),Nt=null;o&&(Nt=V(N({},a?"height":"maxHeight",o),XZ),T&&(Nt.overflowY="hidden",y&&(Nt.overflowX="hidden"),Y&&(Nt.pointerEvents="none")));var Gt={};return B&&(Gt.dir="rtl"),p.createElement("div",Se({ref:G,style:V(V({},c),{},{position:"relative"}),className:L},Gt,$),p.createElement(ss,{onResize:Ke},p.createElement(m,{className:"".concat(i,"-holder"),style:Nt,ref:F,onScroll:Oe,onMouseEnter:Xe},p.createElement(tV,{prefixCls:i,height:st,offsetX:j,offsetY:ae,scrollWidth:y,onInnerResize:I,ref:_,innerProps:x,rtl:B,extra:qt},zt))),k&&st>o&&p.createElement(wR,{ref:qe,prefixCls:i,scrollOffset:Q,scrollRange:st,rtl:B,onScroll:ye,onStartMove:ne,onStopMove:de,spinSize:Ot,containerSize:Ue.height,style:C==null?void 0:C.verticalScrollBar,thumbStyle:C==null?void 0:C.verticalScrollBarThumb}),k&&y>Ue.width&&p.createElement(wR,{ref:at,prefixCls:i,scrollOffset:j,scrollRange:y,rtl:B,onScroll:ye,onStartMove:ne,onStopMove:de,spinSize:_e,containerSize:Ue.width,horizontal:!0,style:C==null?void 0:C.horizontalScrollBar,thumbStyle:C==null?void 0:C.horizontalScrollBarThumb}))}var Sy=p.forwardRef(YZ);Sy.displayName="List";function QZ(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var JZ=["disabled","title","children","style","className"];function CR(n){return typeof n=="string"||typeof n=="number"}var ZZ=function(e,t){var i=VJ(),r=i.prefixCls,o=i.id,s=i.open,l=i.multiple,a=i.mode,c=i.searchValue,u=i.toggleOpen,h=i.notFoundContent,d=i.onPopupScroll,f=p.useContext(l$),g=f.maxCount,y=f.flattenOptions,v=f.onActiveValue,m=f.defaultActiveFirstOption,b=f.onSelect,S=f.menuItemSelectedIcon,w=f.rawValues,x=f.fieldNames,E=f.virtual,C=f.direction,$=f.listHeight,M=f.listItemHeight,A=f.optionRender,P="".concat(r,"-item"),D=gc(function(){return y},[s,y],function(te,j){return j[0]&&te[1]!==j[1]}),I=p.useRef(null),O=p.useMemo(function(){return l&&nx(g)&&(w==null?void 0:w.size)>=g},[l,g,w==null?void 0:w.size]),H=function(j){j.preventDefault()},T=function(j){var q;(q=I.current)===null||q===void 0||q.scrollTo(typeof j=="number"?{index:j}:j)},R=function(j){for(var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ee=D.length,K=0;K<ee;K+=1){var Y=(j+K*q+ee)%ee,he=D[Y]||{},ne=he.group,de=he.data;if(!ne&&!(de!=null&&de.disabled)&&!O)return Y}return-1},k=p.useState(function(){return R(0)}),B=X(k,2),L=B[0],z=B[1],F=function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;z(j);var ee={source:q?"keyboard":"mouse"},K=D[j];if(!K){v(null,-1,ee);return}v(K.value,j,ee)};p.useEffect(function(){F(m!==!1?R(0):-1)},[D.length,c]);var _=p.useCallback(function(te){return w.has(te)&&a!=="combobox"},[a,be(w).toString(),w.size]);p.useEffect(function(){var te=setTimeout(function(){if(!l&&s&&w.size===1){var q=Array.from(w)[0],ee=D.findIndex(function(K){var Y=K.data;return Y.value===q});ee!==-1&&(F(ee),T(ee))}});if(s){var j;(j=I.current)===null||j===void 0||j.scrollTo(void 0)}return function(){return clearTimeout(te)}},[s,c]);var G=function(j){j!==void 0&&b(j,{selected:!w.has(j)}),l||u(!1)};if(p.useImperativeHandle(t,function(){return{onKeyDown:function(j){var q=j.which,ee=j.ctrlKey;switch(q){case me.N:case me.P:case me.UP:case me.DOWN:{var K=0;if(q===me.UP?K=-1:q===me.DOWN?K=1:QZ()&&ee&&(q===me.N?K=1:q===me.P&&(K=-1)),K!==0){var Y=R(L+K,K);T(Y),F(Y,!0)}break}case me.ENTER:{var he,ne=D[L];ne&&!(ne!=null&&(he=ne.data)!==null&&he!==void 0&&he.disabled)&&!O?G(ne.value):G(void 0),s&&j.preventDefault();break}case me.ESC:u(!1),s&&j.stopPropagation()}},onKeyUp:function(){},scrollTo:function(j){T(j)}}}),D.length===0)return p.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(P,"-empty"),onMouseDown:H},h);var Z=Object.keys(x).map(function(te){return x[te]}),re=function(j){return j.label};function Q(te,j){var q=te.group;return{role:q?"presentation":"option",id:"".concat(o,"_list_").concat(j)}}var ce=function(j){var q=D[j];if(!q)return null;var ee=q.data||{},K=ee.value,Y=q.group,he=ns(ee,!0),ne=re(q);return q?p.createElement("div",Se({"aria-label":typeof ne=="string"&&!Y?ne:null},he,{key:j},Q(q,j),{"aria-selected":_(K)}),K):null},fe={role:"listbox",id:"".concat(o,"_list")};return p.createElement(p.Fragment,null,E&&p.createElement("div",Se({},fe,{style:{height:0,width:0,overflow:"hidden"}}),ce(L-1),ce(L),ce(L+1)),p.createElement(Sy,{itemKey:"key",ref:I,data:D,height:$,itemHeight:M,fullHeight:!1,onMouseDown:H,onScroll:d,virtual:E,direction:C,innerProps:E?null:fe},function(te,j){var q=te.group,ee=te.groupOption,K=te.data,Y=te.label,he=te.value,ne=K.key;if(q){var de,ve=(de=K.title)!==null&&de!==void 0?de:CR(Y)?Y.toString():void 0;return p.createElement("div",{className:J(P,"".concat(P,"-group"),K.className),title:ve},Y!==void 0?Y:ne)}var se=K.disabled,ue=K.title;K.children;var xe=K.style,le=K.className,pe=bt(K,JZ),Me=zr(pe,Z),we=_(he),st=se||!we&&O,Qe="".concat(P,"-option"),Ie=J(P,Qe,le,N(N(N(N({},"".concat(Qe,"-grouped"),ee),"".concat(Qe,"-active"),L===j&&!st),"".concat(Qe,"-disabled"),st),"".concat(Qe,"-selected"),we)),ae=re(te),$e=!S||typeof S=="function"||we,Ae=typeof ae=="number"?ae:ae||he,Ue=CR(Ae)?Ae.toString():void 0;return ue!==void 0&&(Ue=ue),p.createElement("div",Se({},ns(Me),E?{}:Q(te,j),{"aria-selected":we,className:Ie,title:Ue,onMouseMove:function(){L===j||st||F(j)},onClick:function(){st||G(he)},style:xe}),p.createElement("div",{className:"".concat(Qe,"-content")},typeof A=="function"?A(te,{index:j}):Ae),p.isValidElement(S)||we,$e&&p.createElement(yy,{className:"".concat(P,"-option-state"),customizeIcon:S,customizeIconProps:{value:he,disabled:st,isSelected:we}},we?"":null))}))},eee=p.forwardRef(ZZ);const tee=function(n,e){var t=p.useRef({values:new Map,options:new Map}),i=p.useMemo(function(){var o=t.current,s=o.values,l=o.options,a=n.map(function(h){if(h.label===void 0){var d;return V(V({},h),{},{label:(d=s.get(h.value))===null||d===void 0?void 0:d.label})}return h}),c=new Map,u=new Map;return a.forEach(function(h){c.set(h.value,h),u.set(h.value,e.get(h.value)||l.get(h.value))}),t.current.values=c,t.current.options=u,a},[n,e]),r=p.useCallback(function(o){return e.get(o)||t.current.options.get(o)},[e]);return[i,r]};function i1(n,e){return Jz(n).join("").toUpperCase().includes(e)}const nee=function(n,e,t,i,r){return p.useMemo(function(){if(!t||i===!1)return n;var o=e.options,s=e.label,l=e.value,a=[],c=typeof i=="function",u=t.toUpperCase(),h=c?i:function(f,g){return r?i1(g[r],u):g[o]?i1(g[s!=="children"?s:"label"],u):i1(g[l],u)},d=c?function(f){return ix(f)}:function(f){return f};return n.forEach(function(f){if(f[o]){var g=h(t,d(f));if(g)a.push(f);else{var y=f[o].filter(function(v){return h(t,d(v))});y.length&&a.push(V(V({},f),{},N({},o,y)))}return}h(t,d(f))&&a.push(f)}),a},[n,i,r,t,e])};var ER=0,iee=ur();function ree(){var n;return iee?(n=ER,ER+=1):n="TEST_OR_SSR",n}function oee(n){var e=p.useState(),t=X(e,2),i=t[0],r=t[1];return p.useEffect(function(){r("rc_select_".concat(ree()))},[]),n||i}var see=["children","value"],lee=["children"];function aee(n){var e=n,t=e.key,i=e.props,r=i.children,o=i.value,s=bt(i,see);return V({key:t,value:o!==void 0?o:t,children:r},s)}function iV(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return ts(n).map(function(t,i){if(!p.isValidElement(t)||!t.type)return null;var r=t,o=r.type.isSelectOptGroup,s=r.key,l=r.props,a=l.children,c=bt(l,lee);return e||!o?aee(t):V(V({key:"__RC_SELECT_GRP__".concat(s===null?i:s,"__"),label:s},c),{},{options:iV(a)})}).filter(function(t){return t})}var cee=function(e,t,i,r,o){return p.useMemo(function(){var s=e,l=!e;l&&(s=iV(t));var a=new Map,c=new Map,u=function(f,g,y){y&&typeof y=="string"&&f.set(g[y],g)},h=function d(f){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=0;y<f.length;y+=1){var v=f[y];!v[i.options]||g?(a.set(v[i.value],v),u(c,v,i.label),u(c,v,r),u(c,v,o)):d(v[i.options],!0)}};return h(s),{options:s,valueOptions:a,labelOptions:c}},[e,t,i,r,o])};function MR(n){var e=p.useRef();e.current=n;var t=p.useCallback(function(){return e.current.apply(e,arguments)},[]);return t}var uee=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],hee=["inputValue"];function dee(n){return!n||et(n)!=="object"}var fee=p.forwardRef(function(n,e){var t=n.id,i=n.mode,r=n.prefixCls,o=r===void 0?"rc-select":r,s=n.backfill,l=n.fieldNames,a=n.inputValue,c=n.searchValue,u=n.onSearch,h=n.autoClearSearchValue,d=h===void 0?!0:h,f=n.onSelect,g=n.onDeselect,y=n.dropdownMatchSelectWidth,v=y===void 0?!0:y,m=n.filterOption,b=n.filterSort,S=n.optionFilterProp,w=n.optionLabelProp,x=n.options,E=n.optionRender,C=n.children,$=n.defaultActiveFirstOption,M=n.menuItemSelectedIcon,A=n.virtual,P=n.direction,D=n.listHeight,I=D===void 0?200:D,O=n.listItemHeight,H=O===void 0?20:O,T=n.labelRender,R=n.value,k=n.defaultValue,B=n.labelInValue,L=n.onChange,z=n.maxCount,F=bt(n,uee),_=oee(t),G=rx(i),Z=!!(!x&&C),re=p.useMemo(function(){return m===void 0&&i==="combobox"?!1:m},[m,i]),Q=p.useMemo(function(){return eV(l,Z)},[JSON.stringify(l),Z]),ce=Ri("",{value:c!==void 0?c:a,postState:function(Oe){return Oe||""}}),fe=X(ce,2),te=fe[0],j=fe[1],q=cee(x,C,Q,S,w),ee=q.valueOptions,K=q.labelOptions,Y=q.options,he=p.useCallback(function(ye){var Oe=Jz(ye);return Oe.map(function(ke){var Je,wt,mt,Ht,Le;if(dee(ke))Je=ke;else{var Xe;mt=ke.key,wt=ke.label,Je=(Xe=ke.value)!==null&&Xe!==void 0?Xe:mt}var Re=ee.get(Je);if(Re){var vt;wt===void 0&&(wt=Re==null?void 0:Re[w||Q.label]),mt===void 0&&(mt=(vt=Re==null?void 0:Re.key)!==null&&vt!==void 0?vt:Je),Ht=Re==null?void 0:Re.disabled,Le=Re==null?void 0:Re.title}return{label:wt,value:Je,key:mt,disabled:Ht,title:Le}})},[Q,w,ee]),ne=Ri(k,{value:R}),de=X(ne,2),ve=de[0],se=de[1],ue=p.useMemo(function(){var ye,Oe=G&&ve===null?[]:ve,ke=he(Oe);return i==="combobox"&&oZ((ye=ke[0])===null||ye===void 0?void 0:ye.value)?[]:ke},[ve,he,i,G]),xe=tee(ue,ee),le=X(xe,2),pe=le[0],Me=le[1],we=p.useMemo(function(){if(!i&&pe.length===1){var ye=pe[0];if(ye.value===null&&(ye.label===null||ye.label===void 0))return[]}return pe.map(function(Oe){var ke;return V(V({},Oe),{},{label:(ke=typeof T=="function"?T(Oe):Oe.label)!==null&&ke!==void 0?ke:Oe.value})})},[i,pe,T]),st=p.useMemo(function(){return new Set(pe.map(function(ye){return ye.value}))},[pe]);p.useEffect(function(){if(i==="combobox"){var ye,Oe=(ye=pe[0])===null||ye===void 0?void 0:ye.value;j(rZ(Oe)?String(Oe):"")}},[pe]);var Qe=MR(function(ye,Oe){var ke=Oe??ye;return N(N({},Q.value,ye),Q.label,ke)}),Ie=p.useMemo(function(){if(i!=="tags")return Y;var ye=be(Y),Oe=function(Je){return ee.has(Je)};return be(pe).sort(function(ke,Je){return ke.value<Je.value?-1:1}).forEach(function(ke){var Je=ke.value;Oe(Je)||ye.push(Qe(Je,ke.label))}),ye},[Qe,Y,ee,pe,i]),ae=nee(Ie,Q,te,re,S),$e=p.useMemo(function(){return i!=="tags"||!te||ae.some(function(ye){return ye[S||"value"]===te})||ae.some(function(ye){return ye[Q.value]===te})?ae:[Qe(te)].concat(be(ae))},[Qe,S,i,ae,te,Q]),Ae=p.useMemo(function(){return b?be($e).sort(function(ye,Oe){return b(ye,Oe)}):$e},[$e,b]),Ue=p.useMemo(function(){return AZ(Ae,{fieldNames:Q,childrenAsData:Z})},[Ae,Q,Z]),lt=function(Oe){var ke=he(Oe);if(se(ke),L&&(ke.length!==pe.length||ke.some(function(mt,Ht){var Le;return((Le=pe[Ht])===null||Le===void 0?void 0:Le.value)!==(mt==null?void 0:mt.value)}))){var Je=B?ke:ke.map(function(mt){return mt.value}),wt=ke.map(function(mt){return ix(Me(mt.value))});L(G?Je:Je[0],G?wt:wt[0])}},Ke=p.useState(null),qe=X(Ke,2),at=qe[0],_e=qe[1],Ot=p.useState(0),xt=X(Ot,2),Ft=xt[0],St=xt[1],Dt=$!==void 0?$:i!=="combobox",ht=p.useCallback(function(ye,Oe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Je=ke.source,wt=Je===void 0?"keyboard":Je;St(Oe),s&&i==="combobox"&&ye!==null&&wt==="keyboard"&&_e(String(ye))},[s,i]),Pe=function(Oe,ke,Je){var wt=function(){var Gt,ze=Me(Oe);return[B?{label:ze==null?void 0:ze[Q.label],value:Oe,key:(Gt=ze==null?void 0:ze.key)!==null&&Gt!==void 0?Gt:Oe}:Oe,ix(ze)]};if(ke&&f){var mt=wt(),Ht=X(mt,2),Le=Ht[0],Xe=Ht[1];f(Le,Xe)}else if(!ke&&g&&Je!=="clear"){var Re=wt(),vt=X(Re,2),qt=vt[0],zt=vt[1];g(qt,zt)}},nt=MR(function(ye,Oe){var ke,Je=G?Oe.selected:!0;Je?ke=G?[].concat(be(pe),[ye]):[ye]:ke=pe.filter(function(wt){return wt.value!==ye}),lt(ke),Pe(ye,Je),i==="combobox"?_e(""):(!rx||d)&&(j(""),_e(""))}),Fe=function(Oe,ke){lt(Oe);var Je=ke.type,wt=ke.values;(Je==="remove"||Je==="clear")&&wt.forEach(function(mt){Pe(mt.value,!1,Je)})},Ce=function(Oe,ke){if(j(Oe),_e(null),ke.source==="submit"){var Je=(Oe||"").trim();if(Je){var wt=Array.from(new Set([].concat(be(st),[Je])));lt(wt),Pe(Je,!0),j("")}return}ke.source!=="blur"&&(i==="combobox"&&lt(Oe),u==null||u(Oe))},Te=function(Oe){var ke=Oe;i!=="tags"&&(ke=Oe.map(function(wt){var mt=K.get(wt);return mt==null?void 0:mt.value}).filter(function(wt){return wt!==void 0}));var Je=Array.from(new Set([].concat(be(st),be(ke))));lt(Je),Je.forEach(function(wt){Pe(wt,!0)})},We=p.useMemo(function(){var ye=A!==!1&&v!==!1;return V(V({},q),{},{flattenOptions:Ue,onActiveValue:ht,defaultActiveFirstOption:Dt,onSelect:nt,menuItemSelectedIcon:M,rawValues:st,fieldNames:Q,virtual:ye,direction:P,listHeight:I,listItemHeight:H,childrenAsData:Z,maxCount:z,optionRender:E})},[z,q,Ue,ht,Dt,nt,M,st,Q,A,v,P,I,H,Z,E]);return p.createElement(l$.Provider,{value:We},p.createElement(IZ,Se({},F,{id:_,prefixCls:o,ref:e,omitDomProps:hee,mode:i,displayValues:we,onDisplayValuesChange:Fe,direction:P,searchValue:te,onSearch:Ce,autoClearSearchValue:d,onSearchSplit:Te,dropdownMatchSelectWidth:v,OptionList:eee,emptyOptions:!Ue.length,activeValue:at,activeDescendantId:"".concat(_,"_list_").concat(Ft)})))}),u$=fee;u$.Option=c$;u$.OptGroup=a$;function L0(n,e,t){return J({[`${n}-status-success`]:e==="success",[`${n}-status-warning`]:e==="warning",[`${n}-status-error`]:e==="error",[`${n}-status-validating`]:e==="validating",[`${n}-has-feedback`]:t})}const wy=(n,e)=>e||n,pee=()=>{const[,n]=Di(),t=new An(n.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return p.createElement("svg",{style:t,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",{fill:"none",fillRule:"evenodd"},p.createElement("g",{transform:"translate(24 31.67)"},p.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),p.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),p.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),p.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),p.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),p.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),p.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},p.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),p.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},gee=()=>{const[,n]=Di(),{colorFill:e,colorFillTertiary:t,colorFillQuaternary:i,colorBgContainer:r}=n,{borderColor:o,shadowColor:s,contentColor:l}=p.useMemo(()=>({borderColor:new An(e).onBackground(r).toHexShortString(),shadowColor:new An(t).onBackground(r).toHexShortString(),contentColor:new An(i).onBackground(r).toHexShortString()}),[e,t,i,r]);return p.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},p.createElement("ellipse",{fill:s,cx:"32",cy:"33",rx:"32",ry:"7"}),p.createElement("g",{fillRule:"nonzero",stroke:o},p.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),p.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))},mee=n=>{const{componentCls:e,margin:t,marginXS:i,marginXL:r,fontSize:o,lineHeight:s}=n;return{[e]:{marginInline:i,fontSize:o,lineHeight:s,textAlign:"center",[`${e}-image`]:{height:n.emptyImgHeight,marginBottom:i,opacity:n.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:n.colorTextDescription},[`${e}-footer`]:{marginTop:t},"&-normal":{marginBlock:r,color:n.colorTextDescription,[`${e}-description`]:{color:n.colorTextDescription},[`${e}-image`]:{height:n.emptyImgHeightMD}},"&-small":{marginBlock:i,color:n.colorTextDescription,[`${e}-image`]:{height:n.emptyImgHeightSM}}}}},vee=xr("Empty",n=>{const{componentCls:e,controlHeightLG:t,calc:i}=n,r=sn(n,{emptyImgCls:`${e}-img`,emptyImgHeight:i(t).mul(2.5).equal(),emptyImgHeightMD:t,emptyImgHeightSM:i(t).mul(.875).equal()});return[mee(r)]});var yee=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const rV=p.createElement(pee,null),oV=p.createElement(gee,null),ol=n=>{var{className:e,rootClassName:t,prefixCls:i,image:r=rV,description:o,children:s,imageStyle:l,style:a}=n,c=yee(n,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:u,direction:h,empty:d}=p.useContext(Pt),f=u("empty",i),[g,y,v]=vee(f),[m]=FH("Empty"),b=typeof o<"u"?o:m==null?void 0:m.description,S=typeof b=="string"?b:"empty";let w=null;return typeof r=="string"?w=p.createElement("img",{alt:S,src:r}):w=r,g(p.createElement("div",Object.assign({className:J(y,v,f,d==null?void 0:d.className,{[`${f}-normal`]:r===oV,[`${f}-rtl`]:h==="rtl"},e,t),style:Object.assign(Object.assign({},d==null?void 0:d.style),a)},c),p.createElement("div",{className:`${f}-image`,style:l},w),b&&p.createElement("div",{className:`${f}-description`},b),s&&p.createElement("div",{className:`${f}-footer`},s)))};ol.PRESENTED_IMAGE_DEFAULT=rV;ol.PRESENTED_IMAGE_SIMPLE=oV;const sV=n=>{const{componentName:e}=n,{getPrefixCls:t}=p.useContext(Pt),i=t("empty");switch(e){case"Table":case"List":return oe.createElement(ol,{image:ol.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return oe.createElement(ol,{image:ol.PRESENTED_IMAGE_SIMPLE,className:`${i}-small`});default:return oe.createElement(ol,null)}},bee=["outlined","borderless","filled"],h$=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;const t=p.useContext(uJ);let i;typeof n<"u"?i=n:e===!1?i="borderless":i=t??"outlined";const r=bee.includes(i);return[i,r]},See=n=>{const t={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:n==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},t),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},t),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},t),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},t),{points:["br","tr"],offset:[0,-4]})}};function wee(n,e){return n||See(e)}const $R=n=>{const{optionHeight:e,optionFontSize:t,optionLineHeight:i,optionPadding:r}=n;return{position:"relative",display:"block",minHeight:e,padding:r,color:n.colorText,fontWeight:"normal",fontSize:t,lineHeight:i,boxSizing:"border-box"}},xee=n=>{const{antCls:e,componentCls:t}=n,i=`${t}-item`,r=`&${e}-slide-up-enter${e}-slide-up-enter-active`,o=`&${e}-slide-up-appear${e}-slide-up-appear-active`,s=`&${e}-slide-up-leave${e}-slide-up-leave-active`,l=`${t}-dropdown-placement-`;return[{[`${t}-dropdown`]:Object.assign(Object.assign({},wi(n)),{position:"absolute",top:-9999,zIndex:n.zIndexPopup,boxSizing:"border-box",padding:n.paddingXXS,overflow:"hidden",fontSize:n.fontSize,fontVariant:"initial",backgroundColor:n.colorBgElevated,borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary,[`
          ${r}${l}bottomLeft,
          ${o}${l}bottomLeft
        `]:{animationName:n$},[`
          ${r}${l}topLeft,
          ${o}${l}topLeft,
          ${r}${l}topRight,
          ${o}${l}topRight
        `]:{animationName:r$},[`${s}${l}bottomLeft`]:{animationName:i$},[`
          ${s}${l}topLeft,
          ${s}${l}topRight
        `]:{animationName:o$},"&-hidden":{display:"none"},[`${i}`]:Object.assign(Object.assign({},$R(n)),{cursor:"pointer",transition:`background ${n.motionDurationSlow} ease`,borderRadius:n.borderRadiusSM,"&-group":{color:n.colorTextDescription,fontSize:n.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Cf),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${i}-option-disabled)`]:{backgroundColor:n.optionActiveBg},[`&-selected:not(${i}-option-disabled)`]:{color:n.optionSelectedColor,fontWeight:n.optionSelectedFontWeight,backgroundColor:n.optionSelectedBg,[`${i}-option-state`]:{color:n.colorPrimary},[`&:has(+ ${i}-option-selected:not(${i}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${i}-option-selected:not(${i}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${i}-option-selected`]:{backgroundColor:n.colorBgContainerDisabled},color:n.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:n.calc(n.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},$R(n)),{color:n.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},Ku(n,"slide-up"),Ku(n,"slide-down"),N0(n,"move-up"),N0(n,"move-down")]},Cee=n=>{const{multipleSelectItemHeight:e,paddingXXS:t,lineWidth:i,INTERNAL_FIXED_ITEM_MARGIN:r}=n,o=n.max(n.calc(t).sub(i).equal(),0),s=n.max(n.calc(o).sub(r).equal(),0);return{basePadding:o,containerPadding:s,itemHeight:U(e),itemLineHeight:U(n.calc(e).sub(n.calc(n.lineWidth).mul(2)).equal())}},Eee=n=>{const{multipleSelectItemHeight:e,selectHeight:t,lineWidth:i}=n;return n.calc(t).sub(e).div(2).sub(i).equal()},Mee=n=>{const{componentCls:e,iconCls:t,borderRadiusSM:i,motionDurationSlow:r,paddingXS:o,multipleItemColorDisabled:s,multipleItemBorderColorDisabled:l,colorIcon:a,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:u}=n;return{[`${e}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${e}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:u,borderRadius:i,cursor:"default",transition:`font-size ${r}, line-height ${r}, height ${r}`,marginInlineEnd:n.calc(u).mul(2).equal(),paddingInlineStart:o,paddingInlineEnd:n.calc(o).div(2).equal(),[`${e}-disabled&`]:{color:s,borderColor:l,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:n.calc(o).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},dy()),{display:"inline-flex",alignItems:"center",color:a,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${t}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},$ee=(n,e)=>{const{componentCls:t,INTERNAL_FIXED_ITEM_MARGIN:i}=n,r=`${t}-selection-overflow`,o=n.multipleSelectItemHeight,s=Eee(n),l=e?`${t}-${e}`:"",a=Cee(n);return{[`${t}-multiple${l}`]:Object.assign(Object.assign({},Mee(n)),{[`${t}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:a.basePadding,paddingBlock:a.containerPadding,borderRadius:n.borderRadius,[`${t}-disabled&`]:{background:n.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${U(i)} 0`,lineHeight:U(o),visibility:"hidden",content:'"\\a0"'}},[`${t}-selection-item`]:{height:a.itemHeight,lineHeight:U(a.itemLineHeight)},[`${r}-item + ${r}-item`]:{[`${t}-selection-search`]:{marginInlineStart:0}},[`${r}-item-suffix`]:{height:"100%"},[`${t}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:n.calc(n.inputPaddingHorizontalBase).sub(s).equal(),"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:n.fontFamily,lineHeight:U(o),transition:`all ${n.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:n.inputPaddingHorizontalBase,insetInlineEnd:n.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${n.motionDurationSlow}`}})}};function r1(n,e){const{componentCls:t}=n,i=e?`${t}-${e}`:"",r={[`${t}-multiple${i}`]:{fontSize:n.fontSize,[`${t}-selector`]:{[`${t}-show-search&`]:{cursor:"text"}},[`
        &${t}-show-arrow ${t}-selector,
        &${t}-allow-clear ${t}-selector
      `]:{paddingInlineEnd:n.calc(n.fontSizeIcon).add(n.controlPaddingHorizontal).equal()}}};return[$ee(n,e),r]}const kee=n=>{const{componentCls:e}=n,t=sn(n,{selectHeight:n.controlHeightSM,multipleSelectItemHeight:n.multipleItemHeightSM,borderRadius:n.borderRadiusSM,borderRadiusSM:n.borderRadiusXS}),i=sn(n,{fontSize:n.fontSizeLG,selectHeight:n.controlHeightLG,multipleSelectItemHeight:n.multipleItemHeightLG,borderRadius:n.borderRadiusLG,borderRadiusSM:n.borderRadius});return[r1(n),r1(t,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:n.calc(n.controlPaddingHorizontalSM).sub(n.lineWidth).equal()},[`${e}-selection-search`]:{marginInlineStart:2}}},r1(i,"lg")]};function o1(n,e){const{componentCls:t,inputPaddingHorizontalBase:i,borderRadius:r}=n,o=n.calc(n.controlHeight).sub(n.calc(n.lineWidth).mul(2)).equal(),s=e?`${t}-${e}`:"";return{[`${t}-single${s}`]:{fontSize:n.fontSize,height:n.controlHeight,[`${t}-selector`]:Object.assign(Object.assign({},wi(n,!0)),{display:"flex",borderRadius:r,[`${t}-selection-search`]:{position:"absolute",top:0,insetInlineStart:i,insetInlineEnd:i,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${t}-selection-item,
          ${t}-selection-placeholder
        `]:{padding:0,lineHeight:U(o),transition:`all ${n.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${t}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${t}-selection-item:empty:after`,`${t}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${t}-show-arrow ${t}-selection-item,
        &${t}-show-arrow ${t}-selection-placeholder
      `]:{paddingInlineEnd:n.showArrowPaddingInlineEnd},[`&${t}-open ${t}-selection-item`]:{color:n.colorTextPlaceholder},[`&:not(${t}-customize-input)`]:{[`${t}-selector`]:{width:"100%",height:"100%",padding:`0 ${U(i)}`,[`${t}-selection-search-input`]:{height:o},"&:after":{lineHeight:U(o)}}},[`&${t}-customize-input`]:{[`${t}-selector`]:{"&:after":{display:"none"},[`${t}-selection-search`]:{position:"static",width:"100%"},[`${t}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${U(i)}`,"&:after":{display:"none"}}}}}}}function Oee(n){const{componentCls:e}=n,t=n.calc(n.controlPaddingHorizontalSM).sub(n.lineWidth).equal();return[o1(n),o1(sn(n,{controlHeight:n.controlHeightSM,borderRadius:n.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:t,insetInlineEnd:t},[`${e}-selector`]:{padding:`0 ${U(t)}`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:n.calc(t).add(n.calc(n.fontSize).mul(1.5)).equal()},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:n.calc(n.fontSize).mul(1.5).equal()}}}},o1(sn(n,{controlHeight:n.singleItemHeightLG,fontSize:n.fontSizeLG,borderRadius:n.borderRadiusLG}),"lg")]}const Aee=n=>{const{fontSize:e,lineHeight:t,lineWidth:i,controlHeight:r,controlHeightSM:o,controlHeightLG:s,paddingXXS:l,controlPaddingHorizontal:a,zIndexPopupBase:c,colorText:u,fontWeightStrong:h,controlItemBgActive:d,controlItemBgHover:f,colorBgContainer:g,colorFillSecondary:y,colorBgContainerDisabled:v,colorTextDisabled:m}=n,b=l*2,S=i*2,w=Math.min(r-b,r-S),x=Math.min(o-b,o-S),E=Math.min(s-b,s-S);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(l/2),zIndexPopup:c+50,optionSelectedColor:u,optionSelectedFontWeight:h,optionSelectedBg:d,optionActiveBg:f,optionPadding:`${(r-e*t)/2}px ${a}px`,optionFontSize:e,optionLineHeight:t,optionHeight:r,selectorBg:g,clearBg:g,singleItemHeightLG:s,multipleItemBg:y,multipleItemBorderColor:"transparent",multipleItemHeight:w,multipleItemHeightSM:x,multipleItemHeightLG:E,multipleSelectorBgDisabled:v,multipleItemColorDisabled:m,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(n.fontSize*1.25)}},lV=(n,e)=>{const{componentCls:t,antCls:i,controlOutlineWidth:r}=n;return{[`&:not(${t}-customize-input) ${t}-selector`]:{border:`${U(n.lineWidth)} ${n.lineType} ${e.borderColor}`,background:n.selectorBg},[`&:not(${t}-disabled):not(${t}-customize-input):not(${i}-pagination-size-changer)`]:{[`&:hover ${t}-selector`]:{borderColor:e.hoverBorderHover},[`${t}-focused& ${t}-selector`]:{borderColor:e.activeBorderColor,boxShadow:`0 0 0 ${U(r)} ${e.activeShadowColor}`,outline:0}}}},kR=(n,e)=>({[`&${n.componentCls}-status-${e.status}`]:Object.assign({},lV(n,e))}),Ree=n=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},lV(n,{borderColor:n.colorBorder,hoverBorderHover:n.colorPrimaryHover,activeBorderColor:n.colorPrimary,activeShadowColor:n.controlOutline})),kR(n,{status:"error",borderColor:n.colorError,hoverBorderHover:n.colorErrorHover,activeBorderColor:n.colorError,activeShadowColor:n.colorErrorOutline})),kR(n,{status:"warning",borderColor:n.colorWarning,hoverBorderHover:n.colorWarningHover,activeBorderColor:n.colorWarning,activeShadowColor:n.colorWarningOutline})),{[`&${n.componentCls}-disabled`]:{[`&:not(${n.componentCls}-customize-input) ${n.componentCls}-selector`]:{background:n.colorBgContainerDisabled,color:n.colorTextDisabled}},[`&${n.componentCls}-multiple ${n.componentCls}-selection-item`]:{background:n.multipleItemBg,border:`${U(n.lineWidth)} ${n.lineType} ${n.multipleItemBorderColor}`}})}),aV=(n,e)=>{const{componentCls:t,antCls:i}=n;return{[`&:not(${t}-customize-input) ${t}-selector`]:{background:e.bg,border:`${U(n.lineWidth)} ${n.lineType} transparent`,color:e.color},[`&:not(${t}-disabled):not(${t}-customize-input):not(${i}-pagination-size-changer)`]:{[`&:hover ${t}-selector`]:{background:e.hoverBg},[`${t}-focused& ${t}-selector`]:{background:n.selectorBg,borderColor:e.activeBorderColor,outline:0}}}},OR=(n,e)=>({[`&${n.componentCls}-status-${e.status}`]:Object.assign({},aV(n,e))}),Dee=n=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},aV(n,{bg:n.colorFillTertiary,hoverBg:n.colorFillSecondary,activeBorderColor:n.colorPrimary,color:n.colorText})),OR(n,{status:"error",bg:n.colorErrorBg,hoverBg:n.colorErrorBgHover,activeBorderColor:n.colorError,color:n.colorError})),OR(n,{status:"warning",bg:n.colorWarningBg,hoverBg:n.colorWarningBgHover,activeBorderColor:n.colorWarning,color:n.colorWarning})),{[`&${n.componentCls}-disabled`]:{[`&:not(${n.componentCls}-customize-input) ${n.componentCls}-selector`]:{borderColor:n.colorBorder,background:n.colorBgContainerDisabled,color:n.colorTextDisabled}},[`&${n.componentCls}-multiple ${n.componentCls}-selection-item`]:{background:n.colorBgContainer,border:`${U(n.lineWidth)} ${n.lineType} ${n.colorSplit}`}})}),Tee=n=>({"&-borderless":{[`${n.componentCls}-selector`]:{background:"transparent",borderColor:"transparent"},[`&${n.componentCls}-disabled`]:{[`&:not(${n.componentCls}-customize-input) ${n.componentCls}-selector`]:{color:n.colorTextDisabled}},[`&${n.componentCls}-multiple ${n.componentCls}-selection-item`]:{background:n.multipleItemBg,border:`${U(n.lineWidth)} ${n.lineType} ${n.multipleItemBorderColor}`}}}),Pee=n=>({[n.componentCls]:Object.assign(Object.assign(Object.assign({},Ree(n)),Dee(n)),Tee(n))}),Iee=n=>{const{componentCls:e}=n;return{position:"relative",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},Nee=n=>{const{componentCls:e}=n;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},Bee=n=>{const{antCls:e,componentCls:t,inputPaddingHorizontalBase:i,iconCls:r}=n;return{[t]:Object.assign(Object.assign({},wi(n)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${t}-customize-input) ${t}-selector`]:Object.assign(Object.assign({},Iee(n)),Nee(n)),[`${t}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Cf),{[`> ${e}-typography`]:{display:"inline"}}),[`${t}-selection-placeholder`]:Object.assign(Object.assign({},Cf),{flex:1,color:n.colorTextPlaceholder,pointerEvents:"none"}),[`${t}-arrow`]:Object.assign(Object.assign({},dy()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,height:n.fontSizeIcon,marginTop:n.calc(n.fontSizeIcon).mul(-1).div(2).equal(),color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${n.motionDurationSlow} ease`,[r]:{verticalAlign:"top",transition:`transform ${n.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${t}-suffix)`]:{pointerEvents:"auto"}},[`${t}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${t}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,zIndex:1,display:"inline-block",width:n.fontSizeIcon,height:n.fontSizeIcon,marginTop:n.calc(n.fontSizeIcon).mul(-1).div(2).equal(),color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${n.motionDurationMid} ease, opacity ${n.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:n.colorTextTertiary}},"&:hover":{[`${t}-clear`]:{opacity:1},[`${t}-arrow:not(:last-child)`]:{opacity:0}}}),[`${t}-has-feedback`]:{[`${t}-clear`]:{insetInlineEnd:n.calc(i).add(n.fontSize).add(n.paddingXS).equal()}}}},Lee=n=>{const{componentCls:e}=n;return[{[e]:{[`&${e}-in-form-item`]:{width:"100%"}}},Bee(n),Oee(n),kee(n),xee(n),{[`${e}-rtl`]:{direction:"rtl"}},ZM(n,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},Hee=xr("Select",(n,e)=>{let{rootPrefixCls:t}=e;const i=sn(n,{rootPrefixCls:t,inputPaddingHorizontalBase:n.calc(n.paddingSM).sub(1).equal(),multipleSelectItemHeight:n.multipleItemHeight,selectHeight:n.controlHeight});return[Lee(i),Pee(i)]},Aee,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var zee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},Vee=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:zee}))},Fee=p.forwardRef(Vee),Wee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},_ee=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:Wee}))},cV=p.forwardRef(_ee),jee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Kee=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:jee}))},d$=p.forwardRef(Kee);function qee(n){let{suffixIcon:e,clearIcon:t,menuItemSelectedIcon:i,removeIcon:r,loading:o,multiple:s,hasFeedback:l,prefixCls:a,showSuffixIcon:c,feedbackIcon:u,showArrow:h,componentName:d}=n;const f=t??p.createElement(Sz,null),g=b=>e===null&&!l&&!h?null:p.createElement(p.Fragment,null,c!==!1&&b,l&&u);let y=null;if(e!==void 0)y=g(e);else if(o)y=g(p.createElement(GM,{spin:!0}));else{const b=`${a}-suffix`;y=S=>{let{open:w,showSearch:x}=S;return g(w&&x?p.createElement(d$,{className:b}):p.createElement(cV,{className:b}))}}let v=null;i!==void 0?v=i:s?v=p.createElement(Fee,null):v=null;let m=null;return r!==void 0?m=r:m=p.createElement(jX,null),{clearIcon:f,suffixIcon:y,itemIcon:v,removeIcon:m}}function Gee(n,e){return e!==void 0?e:n!==null}var Uee=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const uV="SECRET_COMBOBOX_MODE_DO_NOT_USE",Xee=(n,e)=>{var t;const{prefixCls:i,bordered:r,className:o,rootClassName:s,getPopupContainer:l,popupClassName:a,dropdownClassName:c,listHeight:u=256,placement:h,listItemHeight:d,size:f,disabled:g,notFoundContent:y,status:v,builtinPlacements:m,dropdownMatchSelectWidth:b,popupMatchSelectWidth:S,direction:w,style:x,allowClear:E,variant:C,dropdownStyle:$,transitionName:M,tagRender:A,maxCount:P}=n,D=Uee(n,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:I,getPrefixCls:O,renderEmpty:H,direction:T,virtual:R,popupMatchSelectWidth:k,popupOverflow:B,select:L}=p.useContext(Pt),[,z]=Di(),F=d??(z==null?void 0:z.controlHeight),_=O("select",i),G=O(),Z=w??T,{compactSize:re,compactItemClassnames:Q}=mp(_,Z),[ce,fe]=h$(C,r),te=ls(_),[j,q,ee]=Hee(_,te),K=p.useMemo(()=>{const{mode:at}=n;if(at!=="combobox")return at===uV?"combobox":at},[n.mode]),Y=K==="multiple"||K==="tags",he=Gee(n.suffixIcon,n.showArrow),ne=(t=S??b)!==null&&t!==void 0?t:k,{status:de,hasFeedback:ve,isFormItemInput:se,feedbackIcon:ue}=p.useContext(is),xe=wy(de,v);let le;y!==void 0?le=y:K==="combobox"?le=null:le=(H==null?void 0:H("Select"))||p.createElement(sV,{componentName:"Select"});const{suffixIcon:pe,itemIcon:Me,removeIcon:we,clearIcon:st}=qee(Object.assign(Object.assign({},D),{multiple:Y,hasFeedback:ve,feedbackIcon:ue,showSuffixIcon:he,prefixCls:_,componentName:"Select"})),Qe=E===!0?{clearIcon:st}:E,Ie=zr(D,["suffixIcon","itemIcon"]),ae=J(a||c,{[`${_}-dropdown-${Z}`]:Z==="rtl"},s,ee,te,q),$e=Us(at=>{var _e;return(_e=f??re)!==null&&_e!==void 0?_e:at}),Ae=p.useContext(yl),Ue=g??Ae,lt=J({[`${_}-lg`]:$e==="large",[`${_}-sm`]:$e==="small",[`${_}-rtl`]:Z==="rtl",[`${_}-${ce}`]:fe,[`${_}-in-form-item`]:se},L0(_,xe,ve),Q,L==null?void 0:L.className,o,s,ee,te,q),Ke=p.useMemo(()=>h!==void 0?h:Z==="rtl"?"bottomRight":"bottomLeft",[h,Z]),[qe]=fy("SelectLike",$==null?void 0:$.zIndex);return j(p.createElement(u$,Object.assign({ref:e,virtual:R,showSearch:L==null?void 0:L.showSearch},Ie,{style:Object.assign(Object.assign({},L==null?void 0:L.style),x),dropdownMatchSelectWidth:ne,transitionName:Ez(G,"slide-up",M),builtinPlacements:wee(m,B),listHeight:u,listItemHeight:F,mode:K,prefixCls:_,placement:Ke,direction:Z,suffixIcon:pe,menuItemSelectedIcon:Me,removeIcon:we,allowClear:Qe,notFoundContent:le,className:lt,getPopupContainer:l||I,dropdownClassName:ae,disabled:Ue,dropdownStyle:Object.assign(Object.assign({},$),{zIndex:qe}),maxCount:Y?P:void 0,tagRender:Y?A:void 0})))},rs=p.forwardRef(Xee),Yee=jz(rs);rs.SECRET_COMBOBOX_MODE_DO_NOT_USE=uV;rs.Option=c$;rs.OptGroup=a$;rs._InternalPanelDoNotUseOrYouWillBeFired=Yee;const Qee=["xxl","xl","lg","md","sm","xs"],Jee=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),Zee=n=>{const e=n,t=[].concat(Qee).reverse();return t.forEach((i,r)=>{const o=i.toUpperCase(),s=`screen${o}Min`,l=`screen${o}`;if(!(e[s]<=e[l]))throw new Error(`${s}<=${l} fails : !(${e[s]}<=${e[l]})`);if(r<t.length-1){const a=`screen${o}Max`;if(!(e[l]<=e[a]))throw new Error(`${l}<=${a} fails : !(${e[l]}<=${e[a]})`);const u=`screen${t[r+1].toUpperCase()}Min`;if(!(e[a]<=e[u]))throw new Error(`${a}<=${u} fails : !(${e[a]}<=${e[u]})`)}}),n};function ete(){const[,n]=Di(),e=Jee(Zee(n));return oe.useMemo(()=>{const t=new Map;let i=-1,r={};return{matchHandlers:{},dispatch(o){return r=o,t.forEach(s=>s(r)),t.size>=1},subscribe(o){return t.size||this.register(),i+=1,t.set(i,o),o(r),i},unsubscribe(o){t.delete(o),t.size||this.unregister()},unregister(){Object.keys(e).forEach(o=>{const s=e[o],l=this.matchHandlers[s];l==null||l.mql.removeListener(l==null?void 0:l.listener)}),t.clear()},register(){Object.keys(e).forEach(o=>{const s=e[o],l=c=>{let{matches:u}=c;this.dispatch(Object.assign(Object.assign({},r),{[o]:u}))},a=window.matchMedia(s);a.addListener(l),this.matchHandlers[s]={mql:a,listener:l},l(a)})},responsiveMap:e}},[n])}function hV(){const[,n]=p.useReducer(e=>e+1,0);return n}function dV(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const e=p.useRef({}),t=hV(),i=ete();return Kt(()=>{const r=i.subscribe(o=>{e.current=o,n&&t()});return()=>i.unsubscribe(r)},[]),e.current}function fV(n){var e=n.children,t=n.prefixCls,i=n.id,r=n.overlayInnerStyle,o=n.className,s=n.style;return p.createElement("div",{className:J("".concat(t,"-content"),o),style:s},p.createElement("div",{className:"".concat(t,"-inner"),id:i,role:"tooltip",style:r},typeof e=="function"?e():e))}var Oc={shiftX:64,adjustY:1},Ac={adjustX:1,shiftY:!0},uo=[0,0],tte={left:{points:["cr","cl"],overflow:Ac,offset:[-4,0],targetOffset:uo},right:{points:["cl","cr"],overflow:Ac,offset:[4,0],targetOffset:uo},top:{points:["bc","tc"],overflow:Oc,offset:[0,-4],targetOffset:uo},bottom:{points:["tc","bc"],overflow:Oc,offset:[0,4],targetOffset:uo},topLeft:{points:["bl","tl"],overflow:Oc,offset:[0,-4],targetOffset:uo},leftTop:{points:["tr","tl"],overflow:Ac,offset:[-4,0],targetOffset:uo},topRight:{points:["br","tr"],overflow:Oc,offset:[0,-4],targetOffset:uo},rightTop:{points:["tl","tr"],overflow:Ac,offset:[4,0],targetOffset:uo},bottomRight:{points:["tr","br"],overflow:Oc,offset:[0,4],targetOffset:uo},rightBottom:{points:["bl","br"],overflow:Ac,offset:[4,0],targetOffset:uo},bottomLeft:{points:["tl","bl"],overflow:Oc,offset:[0,4],targetOffset:uo},leftBottom:{points:["br","bl"],overflow:Ac,offset:[-4,0],targetOffset:uo}},nte=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],ite=function(e,t){var i=e.overlayClassName,r=e.trigger,o=r===void 0?["hover"]:r,s=e.mouseEnterDelay,l=s===void 0?0:s,a=e.mouseLeaveDelay,c=a===void 0?.1:a,u=e.overlayStyle,h=e.prefixCls,d=h===void 0?"rc-tooltip":h,f=e.children,g=e.onVisibleChange,y=e.afterVisibleChange,v=e.transitionName,m=e.animation,b=e.motion,S=e.placement,w=S===void 0?"right":S,x=e.align,E=x===void 0?{}:x,C=e.destroyTooltipOnHide,$=C===void 0?!1:C,M=e.defaultVisible,A=e.getTooltipContainer,P=e.overlayInnerStyle;e.arrowContent;var D=e.overlay,I=e.id,O=e.showArrow,H=O===void 0?!0:O,T=bt(e,nte),R=p.useRef(null);p.useImperativeHandle(t,function(){return R.current});var k=V({},T);"visible"in e&&(k.popupVisible=e.visible);var B=function(){return p.createElement(fV,{key:"content",prefixCls:d,id:I,overlayInnerStyle:P},D)};return p.createElement(by,Se({popupClassName:i,prefixCls:d,popup:B,action:o,builtinPlacements:tte,popupPlacement:w,ref:R,popupAlign:E,getPopupContainer:A,onPopupVisibleChange:g,afterPopupVisibleChange:y,popupTransitionName:v,popupAnimation:m,popupMotion:b,defaultPopupVisible:M,autoDestroy:$,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:l,arrow:H},k),f)};const rte=p.forwardRef(ite);function pV(n){const{sizePopupArrow:e,borderRadiusXS:t,borderRadiusOuter:i}=n,r=e/2,o=0,s=r,l=i*1/Math.sqrt(2),a=r-i*(1-1/Math.sqrt(2)),c=r-t*(1/Math.sqrt(2)),u=i*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),h=2*r-c,d=u,f=2*r-l,g=a,y=2*r-o,v=s,m=r*Math.sqrt(2)+i*(Math.sqrt(2)-2),b=i*(Math.sqrt(2)-1),S=`polygon(${b}px 100%, 50% ${b}px, ${2*r-b}px 100%, ${b}px 100%)`,w=`path('M ${o} ${s} A ${i} ${i} 0 0 0 ${l} ${a} L ${c} ${u} A ${t} ${t} 0 0 1 ${h} ${d} L ${f} ${g} A ${i} ${i} 0 0 0 ${y} ${v} Z')`;return{arrowShadowWidth:m,arrowPath:w,arrowPolygon:S}}const ote=(n,e,t)=>{const{sizePopupArrow:i,arrowPolygon:r,arrowPath:o,arrowShadowWidth:s,borderRadiusXS:l,calc:a}=n;return{pointerEvents:"none",width:i,height:i,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:i,height:a(i).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[r,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${U(l)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:t,zIndex:0,background:"transparent"}}},gV=8;function f$(n){const{contentRadius:e,limitVerticalRadius:t}=n,i=e>12?e+2:12;return{arrowOffsetHorizontal:i,arrowOffsetVertical:t?gV:i}}function pg(n,e){return n?e:{}}function mV(n,e,t){const{componentCls:i,boxShadowPopoverArrow:r,arrowOffsetVertical:o,arrowOffsetHorizontal:s}=n,{arrowDistance:l=0,arrowPlacement:a={left:!0,right:!0,top:!0,bottom:!0}}=t||{};return{[i]:Object.assign(Object.assign(Object.assign(Object.assign({[`${i}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},ote(n,e,r)),{"&:before":{background:e}})]},pg(!!a.top,{[[`&-placement-top > ${i}-arrow`,`&-placement-topLeft > ${i}-arrow`,`&-placement-topRight > ${i}-arrow`].join(",")]:{bottom:l,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${i}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${i}-arrow`]:{left:{_skip_check_:!0,value:s}},[`&-placement-topRight > ${i}-arrow`]:{right:{_skip_check_:!0,value:s}}})),pg(!!a.bottom,{[[`&-placement-bottom > ${i}-arrow`,`&-placement-bottomLeft > ${i}-arrow`,`&-placement-bottomRight > ${i}-arrow`].join(",")]:{top:l,transform:"translateY(-100%)"},[`&-placement-bottom > ${i}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft > ${i}-arrow`]:{left:{_skip_check_:!0,value:s}},[`&-placement-bottomRight > ${i}-arrow`]:{right:{_skip_check_:!0,value:s}}})),pg(!!a.left,{[[`&-placement-left > ${i}-arrow`,`&-placement-leftTop > ${i}-arrow`,`&-placement-leftBottom > ${i}-arrow`].join(",")]:{right:{_skip_check_:!0,value:l},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${i}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${i}-arrow`]:{top:o},[`&-placement-leftBottom > ${i}-arrow`]:{bottom:o}})),pg(!!a.right,{[[`&-placement-right > ${i}-arrow`,`&-placement-rightTop > ${i}-arrow`,`&-placement-rightBottom > ${i}-arrow`].join(",")]:{left:{_skip_check_:!0,value:l},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${i}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${i}-arrow`]:{top:o},[`&-placement-rightBottom > ${i}-arrow`]:{bottom:o}}))}}function ste(n,e,t,i){if(i===!1)return{adjustX:!1,adjustY:!1};const r=i&&typeof i=="object"?i:{},o={};switch(n){case"top":case"bottom":o.shiftX=e.arrowOffsetHorizontal*2+t,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=e.arrowOffsetVertical*2+t,o.shiftX=!0,o.adjustX=!0;break}const s=Object.assign(Object.assign({},o),r);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}const AR={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},lte={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},ate=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function vV(n){const{arrowWidth:e,autoAdjustOverflow:t,arrowPointAtCenter:i,offset:r,borderRadius:o,visibleFirst:s}=n,l=e/2,a={};return Object.keys(AR).forEach(c=>{const u=i&&lte[c]||AR[c],h=Object.assign(Object.assign({},u),{offset:[0,0],dynamicInset:!0});switch(a[c]=h,ate.has(c)&&(h.autoArrow=!1),c){case"top":case"topLeft":case"topRight":h.offset[1]=-l-r;break;case"bottom":case"bottomLeft":case"bottomRight":h.offset[1]=l+r;break;case"left":case"leftTop":case"leftBottom":h.offset[0]=-l-r;break;case"right":case"rightTop":case"rightBottom":h.offset[0]=l+r;break}const d=f$({contentRadius:o,limitVerticalRadius:!0});if(i)switch(c){case"topLeft":case"bottomLeft":h.offset[0]=-d.arrowOffsetHorizontal-l;break;case"topRight":case"bottomRight":h.offset[0]=d.arrowOffsetHorizontal+l;break;case"leftTop":case"rightTop":h.offset[1]=-d.arrowOffsetHorizontal-l;break;case"leftBottom":case"rightBottom":h.offset[1]=d.arrowOffsetHorizontal+l;break}h.overflow=ste(c,d,e,t),s&&(h.htmlRegion="visibleFirst")}),a}const cte=n=>{const{componentCls:e,tooltipMaxWidth:t,tooltipColor:i,tooltipBg:r,tooltipBorderRadius:o,zIndexPopup:s,controlHeight:l,boxShadowSecondary:a,paddingSM:c,paddingXS:u}=n;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},wi(n)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:t,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":r,[`${e}-inner`]:{minWidth:"1em",minHeight:l,padding:`${U(n.calc(c).div(2).equal())} ${U(u)}`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:r,borderRadius:o,boxShadow:a,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:n.min(o,gV)}},[`${e}-content`]:{position:"relative"}}),YU(n,(h,d)=>{let{darkColor:f}=d;return{[`&${e}-${h}`]:{[`${e}-inner`]:{backgroundColor:f},[`${e}-arrow`]:{"--antd-arrow-background-color":f}}}})),{"&-rtl":{direction:"rtl"}})},mV(n,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow}}]},ute=n=>Object.assign(Object.assign({zIndexPopup:n.zIndexPopupBase+70},f$({contentRadius:n.borderRadius,limitVerticalRadius:!0})),pV(sn(n,{borderRadiusOuter:Math.min(n.borderRadiusOuter,4)}))),yV=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return xr("Tooltip",i=>{const{borderRadius:r,colorTextLightSolid:o,colorBgSpotlight:s}=i,l=sn(i,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:r,tooltipBg:s});return[cte(l),s$(i,"zoom-big-fast")]},ute,{resetStyle:!1,injectStyle:e})(n)},hte=O0.map(n=>`${n}-inverse`);function dte(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(be(hte),be(O0)).includes(n):O0.includes(n)}function bV(n,e){const t=dte(e),i=J({[`${n}-${e}`]:e&&t}),r={},o={};return e&&!t&&(r.background=e,o["--antd-arrow-background-color"]=e),{className:i,overlayStyle:r,arrowStyle:o}}const fte=n=>{const{prefixCls:e,className:t,placement:i="top",title:r,color:o,overlayInnerStyle:s}=n,{getPrefixCls:l}=p.useContext(Pt),a=l("tooltip",e),[c,u,h]=yV(a),d=bV(a,o),f=d.arrowStyle,g=Object.assign(Object.assign({},s),d.overlayStyle),y=J(u,h,a,`${a}-pure`,`${a}-placement-${i}`,t,d.className);return c(p.createElement("div",{className:y,style:f},p.createElement("div",{className:`${a}-arrow`}),p.createElement(fV,Object.assign({},n,{className:u,prefixCls:a,overlayInnerStyle:g}),r)))};var pte=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const gte=p.forwardRef((n,e)=>{var t,i;const{prefixCls:r,openClassName:o,getTooltipContainer:s,overlayClassName:l,color:a,overlayInnerStyle:c,children:u,afterOpenChange:h,afterVisibleChange:d,destroyTooltipOnHide:f,arrow:g=!0,title:y,overlay:v,builtinPlacements:m,arrowPointAtCenter:b=!1,autoAdjustOverflow:S=!0}=n,w=!!g,[,x]=Di(),{getPopupContainer:E,getPrefixCls:C,direction:$}=p.useContext(Pt),M=gh(),A=p.useRef(null),P=()=>{var le;(le=A.current)===null||le===void 0||le.forceAlign()};p.useImperativeHandle(e,()=>{var le;return{forceAlign:P,forcePopupAlign:()=>{M.deprecated(!1,"forcePopupAlign","forceAlign"),P()},nativeElement:(le=A.current)===null||le===void 0?void 0:le.nativeElement}});const[D,I]=Ri(!1,{value:(t=n.open)!==null&&t!==void 0?t:n.visible,defaultValue:(i=n.defaultOpen)!==null&&i!==void 0?i:n.defaultVisible}),O=!y&&!v&&y!==0,H=le=>{var pe,Me;I(O?!1:le),O||((pe=n.onOpenChange)===null||pe===void 0||pe.call(n,le),(Me=n.onVisibleChange)===null||Me===void 0||Me.call(n,le))},T=p.useMemo(()=>{var le,pe;let Me=b;return typeof g=="object"&&(Me=(pe=(le=g.pointAtCenter)!==null&&le!==void 0?le:g.arrowPointAtCenter)!==null&&pe!==void 0?pe:b),m||vV({arrowPointAtCenter:Me,autoAdjustOverflow:S,arrowWidth:w?x.sizePopupArrow:0,borderRadius:x.borderRadius,offset:x.marginXXS,visibleFirst:!0})},[b,g,m,x]),R=p.useMemo(()=>y===0?y:v||y||"",[v,y]),k=p.createElement(YM,null,typeof R=="function"?R():R),{getPopupContainer:B,placement:L="top",mouseEnterDelay:z=.1,mouseLeaveDelay:F=.1,overlayStyle:_,rootClassName:G}=n,Z=pte(n,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),re=C("tooltip",r),Q=C(),ce=n["data-popover-inject"];let fe=D;!("open"in n)&&!("visible"in n)&&O&&(fe=!1);const te=p.isValidElement(u)&&!wz(u)?u:p.createElement("span",null,u),j=te.props,q=!j.className||typeof j.className=="string"?J(j.className,o||`${re}-open`):j.className,[ee,K,Y]=yV(re,!ce),he=bV(re,a),ne=he.arrowStyle,de=Object.assign(Object.assign({},c),he.overlayStyle),ve=J(l,{[`${re}-rtl`]:$==="rtl"},he.className,G,K,Y),[se,ue]=fy("Tooltip",Z.zIndex),xe=p.createElement(rte,Object.assign({},Z,{zIndex:se,showArrow:w,placement:L,mouseEnterDelay:z,mouseLeaveDelay:F,prefixCls:re,overlayClassName:ve,overlayStyle:Object.assign(Object.assign({},ne),_),getTooltipContainer:B||s||E,ref:A,builtinPlacements:T,overlay:k,visible:fe,onVisibleChange:H,afterVisibleChange:h??d,overlayInnerStyle:de,arrowContent:p.createElement("span",{className:`${re}-arrow-content`}),motion:{motionName:Ez(Q,"zoom-big-fast",n.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!f}),fe?Eo(te,{className:q}):te);return ee(p.createElement(UM.Provider,{value:ue},xe))}),H0=gte;H0._InternalPanelDoNotUseOrYouWillBeFired=fte;var mte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},vte=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:mte}))},ox=p.forwardRef(vte),yte=me.ESC,bte=me.TAB;function Ste(n){var e=n.visible,t=n.triggerRef,i=n.onVisibleChange,r=n.autoFocus,o=n.overlayRef,s=p.useRef(!1),l=function(){if(e){var h,d;(h=t.current)===null||h===void 0||(d=h.focus)===null||d===void 0||d.call(h),i==null||i(!1)}},a=function(){var h;return(h=o.current)!==null&&h!==void 0&&h.focus?(o.current.focus(),s.current=!0,!0):!1},c=function(h){switch(h.keyCode){case yte:l();break;case bte:{var d=!1;s.current||(d=a()),d?h.preventDefault():l();break}}};p.useEffect(function(){return e?(window.addEventListener("keydown",c),r&&Xt(a,3),function(){window.removeEventListener("keydown",c),s.current=!1}):function(){s.current=!1}},[e])}var wte=p.forwardRef(function(n,e){var t=n.overlay,i=n.arrow,r=n.prefixCls,o=p.useMemo(function(){var l;return typeof t=="function"?l=t():l=t,l},[t]),s=ko(e,o==null?void 0:o.ref);return oe.createElement(oe.Fragment,null,i&&oe.createElement("div",{className:"".concat(r,"-arrow")}),oe.cloneElement(o,{ref:Ws(o)?s:void 0}))}),Rc={adjustX:1,adjustY:1},Dc=[0,0],xte={topLeft:{points:["bl","tl"],overflow:Rc,offset:[0,-4],targetOffset:Dc},top:{points:["bc","tc"],overflow:Rc,offset:[0,-4],targetOffset:Dc},topRight:{points:["br","tr"],overflow:Rc,offset:[0,-4],targetOffset:Dc},bottomLeft:{points:["tl","bl"],overflow:Rc,offset:[0,4],targetOffset:Dc},bottom:{points:["tc","bc"],overflow:Rc,offset:[0,4],targetOffset:Dc},bottomRight:{points:["tr","br"],overflow:Rc,offset:[0,4],targetOffset:Dc}},Cte=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function Ete(n,e){var t,i=n.arrow,r=i===void 0?!1:i,o=n.prefixCls,s=o===void 0?"rc-dropdown":o,l=n.transitionName,a=n.animation,c=n.align,u=n.placement,h=u===void 0?"bottomLeft":u,d=n.placements,f=d===void 0?xte:d,g=n.getPopupContainer,y=n.showAction,v=n.hideAction,m=n.overlayClassName,b=n.overlayStyle,S=n.visible,w=n.trigger,x=w===void 0?["hover"]:w,E=n.autoFocus,C=n.overlay,$=n.children,M=n.onVisibleChange,A=bt(n,Cte),P=oe.useState(),D=X(P,2),I=D[0],O=D[1],H="visible"in n?S:I,T=oe.useRef(null),R=oe.useRef(null),k=oe.useRef(null);oe.useImperativeHandle(e,function(){return T.current});var B=function(ce){O(ce),M==null||M(ce)};Ste({visible:H,triggerRef:k,onVisibleChange:B,autoFocus:E,overlayRef:R});var L=function(ce){var fe=n.onOverlayClick;O(!1),fe&&fe(ce)},z=function(){return oe.createElement(wte,{ref:R,overlay:C,prefixCls:s,arrow:r})},F=function(){return typeof C=="function"?z:z()},_=function(){var ce=n.minOverlayWidthMatchTrigger,fe=n.alignPoint;return"minOverlayWidthMatchTrigger"in n?ce:!fe},G=function(){var ce=n.openClassName;return ce!==void 0?ce:"".concat(s,"-open")},Z=oe.cloneElement($,{className:J((t=$.props)===null||t===void 0?void 0:t.className,H&&G()),ref:Ws($)?ko(k,$.ref):void 0}),re=v;return!re&&x.indexOf("contextMenu")!==-1&&(re=["click"]),oe.createElement(by,Se({builtinPlacements:f},A,{prefixCls:s,ref:T,popupClassName:J(m,N({},"".concat(s,"-show-arrow"),r)),popupStyle:b,action:x,showAction:y,hideAction:re,popupPlacement:h,popupAlign:c,popupTransitionName:l,popupAnimation:a,popupVisible:H,stretch:_()?"minWidth":"",popup:F(),onPopupVisibleChange:B,onPopupClick:L,getPopupContainer:g}),Z)}const Mte=oe.forwardRef(Ete);var SV=p.createContext(null);function wV(n,e){return n===void 0?null:"".concat(n,"-").concat(e)}function xV(n){var e=p.useContext(SV);return wV(e,n)}var $te=["children","locked"],os=p.createContext(null);function kte(n,e){var t=V({},n);return Object.keys(e).forEach(function(i){var r=e[i];r!==void 0&&(t[i]=r)}),t}function $f(n){var e=n.children,t=n.locked,i=bt(n,$te),r=p.useContext(os),o=gc(function(){return kte(r,i)},[r,i],function(s,l){return!t&&(s[0]!==l[0]||!_s(s[1],l[1],!0))});return p.createElement(os.Provider,{value:o},e)}var Ote=[],CV=p.createContext(null);function xy(){return p.useContext(CV)}var EV=p.createContext(Ote);function yh(n){var e=p.useContext(EV);return p.useMemo(function(){return n!==void 0?[].concat(be(e),[n]):e},[e,n])}var MV=p.createContext(null),p$=p.createContext({});function RR(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(gy(n)){var t=n.nodeName.toLowerCase(),i=["input","select","textarea","button"].includes(t)||n.isContentEditable||t==="a"&&!!n.getAttribute("href"),r=n.getAttribute("tabindex"),o=Number(r),s=null;return r&&!Number.isNaN(o)?s=o:i&&s===null&&(s=0),i&&n.disabled&&(s=null),s!==null&&(s>=0||e&&s<0)}return!1}function Ate(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=be(n.querySelectorAll("*")).filter(function(i){return RR(i,e)});return RR(n,e)&&t.unshift(n),t}var sx=me.LEFT,lx=me.RIGHT,ax=me.UP,bm=me.DOWN,Sm=me.ENTER,$V=me.ESC,Bh=me.HOME,Lh=me.END,DR=[ax,bm,sx,lx];function Rte(n,e,t,i){var r,o,s,l,a="prev",c="next",u="children",h="parent";if(n==="inline"&&i===Sm)return{inlineTrigger:!0};var d=(r={},N(r,ax,a),N(r,bm,c),r),f=(o={},N(o,sx,t?c:a),N(o,lx,t?a:c),N(o,bm,u),N(o,Sm,u),o),g=(s={},N(s,ax,a),N(s,bm,c),N(s,Sm,u),N(s,$V,h),N(s,sx,t?u:h),N(s,lx,t?h:u),s),y={inline:d,horizontal:f,vertical:g,inlineSub:d,horizontalSub:g,verticalSub:g},v=(l=y["".concat(n).concat(e?"":"Sub")])===null||l===void 0?void 0:l[i];switch(v){case a:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case h:return{offset:-1,sibling:!1};case u:return{offset:1,sibling:!1};default:return null}}function Dte(n){for(var e=n;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function Tte(n,e){for(var t=n||document.activeElement;t;){if(e.has(t))return t;t=t.parentElement}return null}function g$(n,e){var t=Ate(n,!0);return t.filter(function(i){return e.has(i)})}function TR(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!n)return null;var r=g$(n,e),o=r.length,s=r.findIndex(function(l){return t===l});return i<0?s===-1?s=o-1:s-=1:i>0&&(s+=1),s=(s+o)%o,r[s]}var cx=function(e,t){var i=new Set,r=new Map,o=new Map;return e.forEach(function(s){var l=document.querySelector("[data-menu-id='".concat(wV(t,s),"']"));l&&(i.add(l),o.set(l,s),r.set(s,l))}),{elements:i,key2element:r,element2key:o}};function Pte(n,e,t,i,r,o,s,l,a,c){var u=p.useRef(),h=p.useRef();h.current=e;var d=function(){Xt.cancel(u.current)};return p.useEffect(function(){return function(){d()}},[]),function(f){var g=f.which;if([].concat(DR,[Sm,$V,Bh,Lh]).includes(g)){var y=o(),v=cx(y,i),m=v,b=m.elements,S=m.key2element,w=m.element2key,x=S.get(e),E=Tte(x,b),C=w.get(E),$=Rte(n,s(C,!0).length===1,t,g);if(!$&&g!==Bh&&g!==Lh)return;(DR.includes(g)||[Bh,Lh].includes(g))&&f.preventDefault();var M=function(R){if(R){var k=R,B=R.querySelector("a");B!=null&&B.getAttribute("href")&&(k=B);var L=w.get(R);l(L),d(),u.current=Xt(function(){h.current===L&&k.focus()})}};if([Bh,Lh].includes(g)||$.sibling||!E){var A;!E||n==="inline"?A=r.current:A=Dte(E);var P,D=g$(A,b);g===Bh?P=D[0]:g===Lh?P=D[D.length-1]:P=TR(A,b,E,$.offset),M(P)}else if($.inlineTrigger)a(C);else if($.offset>0)a(C,!0),d(),u.current=Xt(function(){v=cx(y,i);var T=E.getAttribute("aria-controls"),R=document.getElementById(T),k=TR(R,v.elements);M(k)},5);else if($.offset<0){var I=s(C,!0),O=I[I.length-2],H=S.get(O);a(O,!1),M(H)}}c==null||c(f)}}function Ite(n){Promise.resolve().then(n)}var m$="__RC_UTIL_PATH_SPLIT__",PR=function(e){return e.join(m$)},Nte=function(e){return e.split(m$)},ux="rc-menu-more";function Bte(){var n=p.useState({}),e=X(n,2),t=e[1],i=p.useRef(new Map),r=p.useRef(new Map),o=p.useState([]),s=X(o,2),l=s[0],a=s[1],c=p.useRef(0),u=p.useRef(!1),h=function(){u.current||t({})},d=p.useCallback(function(S,w){var x=PR(w);r.current.set(x,S),i.current.set(S,x),c.current+=1;var E=c.current;Ite(function(){E===c.current&&h()})},[]),f=p.useCallback(function(S,w){var x=PR(w);r.current.delete(x),i.current.delete(S)},[]),g=p.useCallback(function(S){a(S)},[]),y=p.useCallback(function(S,w){var x=i.current.get(S)||"",E=Nte(x);return w&&l.includes(E[0])&&E.unshift(ux),E},[l]),v=p.useCallback(function(S,w){return S.filter(function(x){return x!==void 0}).some(function(x){var E=y(x,!0);return E.includes(w)})},[y]),m=function(){var w=be(i.current.keys());return l.length&&w.push(ux),w},b=p.useCallback(function(S){var w="".concat(i.current.get(S)).concat(m$),x=new Set;return be(r.current.keys()).forEach(function(E){E.startsWith(w)&&x.add(r.current.get(E))}),x},[]);return p.useEffect(function(){return function(){u.current=!0}},[]),{registerPath:d,unregisterPath:f,refreshOverflowKeys:g,isSubPathKey:v,getKeyPath:y,getKeys:m,getSubPathKeys:b}}function Xh(n){var e=p.useRef(n);e.current=n;var t=p.useCallback(function(){for(var i,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(i=e.current)===null||i===void 0?void 0:i.call.apply(i,[e].concat(o))},[]);return n?t:void 0}var Lte=Math.random().toFixed(5).toString().slice(2),IR=0;function Hte(n){var e=Ri(n,{value:n}),t=X(e,2),i=t[0],r=t[1];return p.useEffect(function(){IR+=1;var o="".concat(Lte,"-").concat(IR);r("rc-menu-uuid-".concat(o))},[]),i}function kV(n,e,t,i){var r=p.useContext(os),o=r.activeKey,s=r.onActive,l=r.onInactive,a={active:o===n};return e||(a.onMouseEnter=function(c){t==null||t({key:n,domEvent:c}),s(n)},a.onMouseLeave=function(c){i==null||i({key:n,domEvent:c}),l(n)}),a}function OV(n){var e=p.useContext(os),t=e.mode,i=e.rtl,r=e.inlineIndent;if(t!=="inline")return null;var o=n;return i?{paddingRight:o*r}:{paddingLeft:o*r}}function AV(n){var e=n.icon,t=n.props,i=n.children,r;return e===null||e===!1?null:(typeof e=="function"?r=p.createElement(e,V({},t)):typeof e!="boolean"&&(r=e),r||i||null)}var zte=["item"];function z0(n){var e=n.item,t=bt(n,zte);return Object.defineProperty(t,"item",{get:function(){return Dn(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),t}var Vte=["title","attribute","elementRef"],Fte=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Wte=["active"],_te=function(n){qs(t,n);var e=Gs(t);function t(){return ui(this,t),e.apply(this,arguments)}return hi(t,[{key:"render",value:function(){var r=this.props,o=r.title,s=r.attribute,l=r.elementRef,a=bt(r,Vte),c=zr(a,["eventKey","popupClassName","popupOffset","onTitleClick"]);return Dn(!s,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),p.createElement(Is.Item,Se({},s,{title:typeof o=="string"?o:void 0},c,{ref:l}))}}]),t}(p.Component),jte=p.forwardRef(function(n,e){var t,i=n.style,r=n.className,o=n.eventKey;n.warnKey;var s=n.disabled,l=n.itemIcon,a=n.children,c=n.role,u=n.onMouseEnter,h=n.onMouseLeave,d=n.onClick,f=n.onKeyDown,g=n.onFocus,y=bt(n,Fte),v=xV(o),m=p.useContext(os),b=m.prefixCls,S=m.onItemClick,w=m.disabled,x=m.overflowDisabled,E=m.itemIcon,C=m.selectedKeys,$=m.onActive,M=p.useContext(p$),A=M._internalRenderMenuItem,P="".concat(b,"-item"),D=p.useRef(),I=p.useRef(),O=w||s,H=fh(e,I),T=yh(o),R=function(te){return{key:o,keyPath:be(T).reverse(),item:D.current,domEvent:te}},k=l||E,B=kV(o,O,u,h),L=B.active,z=bt(B,Wte),F=C.includes(o),_=OV(T.length),G=function(te){if(!O){var j=R(te);d==null||d(z0(j)),S(j)}},Z=function(te){if(f==null||f(te),te.which===me.ENTER){var j=R(te);d==null||d(z0(j)),S(j)}},re=function(te){$(o),g==null||g(te)},Q={};n.role==="option"&&(Q["aria-selected"]=F);var ce=p.createElement(_te,Se({ref:D,elementRef:H,role:c===null?"none":c||"menuitem",tabIndex:s?null:-1,"data-menu-id":x&&v?null:v},y,z,Q,{component:"li","aria-disabled":s,style:V(V({},_),i),className:J(P,(t={},N(t,"".concat(P,"-active"),L),N(t,"".concat(P,"-selected"),F),N(t,"".concat(P,"-disabled"),O),t),r),onClick:G,onKeyDown:Z,onFocus:re}),a,p.createElement(AV,{props:V(V({},n),{},{isSelected:F}),icon:k}));return A&&(ce=A(ce,n,{selected:F})),ce});function Kte(n,e){var t=n.eventKey,i=xy(),r=yh(t);return p.useEffect(function(){if(i)return i.registerPath(t,r),function(){i.unregisterPath(t,r)}},[r]),i?null:p.createElement(jte,Se({},n,{ref:e}))}const Cy=p.forwardRef(Kte);var qte=["className","children"],Gte=function(e,t){var i=e.className,r=e.children,o=bt(e,qte),s=p.useContext(os),l=s.prefixCls,a=s.mode,c=s.rtl;return p.createElement("ul",Se({className:J(l,c&&"".concat(l,"-rtl"),"".concat(l,"-sub"),"".concat(l,"-").concat(a==="inline"?"inline":"vertical"),i),role:"menu"},o,{"data-menu-list":!0,ref:t}),r)},v$=p.forwardRef(Gte);v$.displayName="SubMenuList";function y$(n,e){return ts(n).map(function(t,i){if(p.isValidElement(t)){var r,o,s=t.key,l=(r=(o=t.props)===null||o===void 0?void 0:o.eventKey)!==null&&r!==void 0?r:s,a=l==null;a&&(l="tmp_key-".concat([].concat(be(e),[i]).join("-")));var c={key:l,eventKey:l};return p.cloneElement(t,c)}return t})}var nr={adjustX:1,adjustY:1},Ute={topLeft:{points:["bl","tl"],overflow:nr},topRight:{points:["br","tr"],overflow:nr},bottomLeft:{points:["tl","bl"],overflow:nr},bottomRight:{points:["tr","br"],overflow:nr},leftTop:{points:["tr","tl"],overflow:nr},leftBottom:{points:["br","bl"],overflow:nr},rightTop:{points:["tl","tr"],overflow:nr},rightBottom:{points:["bl","br"],overflow:nr}},Xte={topLeft:{points:["bl","tl"],overflow:nr},topRight:{points:["br","tr"],overflow:nr},bottomLeft:{points:["tl","bl"],overflow:nr},bottomRight:{points:["tr","br"],overflow:nr},rightTop:{points:["tr","tl"],overflow:nr},rightBottom:{points:["br","bl"],overflow:nr},leftTop:{points:["tl","tr"],overflow:nr},leftBottom:{points:["bl","br"],overflow:nr}};function RV(n,e,t){if(e)return e;if(t)return t[n]||t.other}var Yte={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Qte(n){var e=n.prefixCls,t=n.visible,i=n.children,r=n.popup,o=n.popupStyle,s=n.popupClassName,l=n.popupOffset,a=n.disabled,c=n.mode,u=n.onVisibleChange,h=p.useContext(os),d=h.getPopupContainer,f=h.rtl,g=h.subMenuOpenDelay,y=h.subMenuCloseDelay,v=h.builtinPlacements,m=h.triggerSubMenuAction,b=h.forceSubMenuRender,S=h.rootClassName,w=h.motion,x=h.defaultMotions,E=p.useState(!1),C=X(E,2),$=C[0],M=C[1],A=V(f?V({},Xte):V({},Ute),v),P=Yte[c],D=RV(c,w,x),I=p.useRef(D);c!=="inline"&&(I.current=D);var O=V(V({},I.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),H=p.useRef();return p.useEffect(function(){return H.current=Xt(function(){M(t)}),function(){Xt.cancel(H.current)}},[t]),p.createElement(by,{prefixCls:e,popupClassName:J("".concat(e,"-popup"),N({},"".concat(e,"-rtl"),f),s,S),stretch:c==="horizontal"?"minWidth":null,getPopupContainer:d,builtinPlacements:A,popupPlacement:P,popupVisible:$,popup:r,popupStyle:o,popupAlign:l&&{offset:l},action:a?[]:[m],mouseEnterDelay:g,mouseLeaveDelay:y,onPopupVisibleChange:u,forceRender:b,popupMotion:O,fresh:!0},i)}function Jte(n){var e=n.id,t=n.open,i=n.keyPath,r=n.children,o="inline",s=p.useContext(os),l=s.prefixCls,a=s.forceSubMenuRender,c=s.motion,u=s.defaultMotions,h=s.mode,d=p.useRef(!1);d.current=h===o;var f=p.useState(!d.current),g=X(f,2),y=g[0],v=g[1],m=d.current?t:!1;p.useEffect(function(){d.current&&v(!1)},[h]);var b=V({},RV(o,c,u));i.length>1&&(b.motionAppear=!1);var S=b.onVisibleChanged;return b.onVisibleChanged=function(w){return!d.current&&!w&&v(!0),S==null?void 0:S(w)},y?null:p.createElement($f,{mode:o,locked:!d.current},p.createElement(mc,Se({visible:m},b,{forceRender:a,removeOnLeave:!1,leavedClassName:"".concat(l,"-hidden")}),function(w){var x=w.className,E=w.style;return p.createElement(v$,{id:e,className:x,style:E},r)}))}var Zte=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],ene=["active"],tne=p.forwardRef(function(n,e){var t,i=n.style,r=n.className,o=n.title,s=n.eventKey;n.warnKey;var l=n.disabled,a=n.internalPopupClose,c=n.children,u=n.itemIcon,h=n.expandIcon,d=n.popupClassName,f=n.popupOffset,g=n.popupStyle,y=n.onClick,v=n.onMouseEnter,m=n.onMouseLeave,b=n.onTitleClick,S=n.onTitleMouseEnter,w=n.onTitleMouseLeave,x=bt(n,Zte),E=xV(s),C=p.useContext(os),$=C.prefixCls,M=C.mode,A=C.openKeys,P=C.disabled,D=C.overflowDisabled,I=C.activeKey,O=C.selectedKeys,H=C.itemIcon,T=C.expandIcon,R=C.onItemClick,k=C.onOpenChange,B=C.onActive,L=p.useContext(p$),z=L._internalRenderSubMenuItem,F=p.useContext(MV),_=F.isSubPathKey,G=yh(),Z="".concat($,"-submenu"),re=P||l,Q=p.useRef(),ce=p.useRef(),fe=u??H,te=h??T,j=A.includes(s),q=!D&&j,ee=_(O,s),K=kV(s,re,S,w),Y=K.active,he=bt(K,ene),ne=p.useState(!1),de=X(ne,2),ve=de[0],se=de[1],ue=function(qe){re||se(qe)},xe=function(qe){ue(!0),v==null||v({key:s,domEvent:qe})},le=function(qe){ue(!1),m==null||m({key:s,domEvent:qe})},pe=p.useMemo(function(){return Y||(M!=="inline"?ve||_([I],s):!1)},[M,Y,I,ve,s,_]),Me=OV(G.length),we=function(qe){re||(b==null||b({key:s,domEvent:qe}),M==="inline"&&k(s,!j))},st=Xh(function(Ke){y==null||y(z0(Ke)),R(Ke)}),Qe=function(qe){M!=="inline"&&k(s,qe)},Ie=function(){B(s)},ae=E&&"".concat(E,"-popup"),$e=p.createElement("div",Se({role:"menuitem",style:Me,className:"".concat(Z,"-title"),tabIndex:re?null:-1,ref:Q,title:typeof o=="string"?o:null,"data-menu-id":D&&E?null:E,"aria-expanded":q,"aria-haspopup":!0,"aria-controls":ae,"aria-disabled":re,onClick:we,onFocus:Ie},he),o,p.createElement(AV,{icon:M!=="horizontal"?te:void 0,props:V(V({},n),{},{isOpen:q,isSubMenu:!0})},p.createElement("i",{className:"".concat(Z,"-arrow")}))),Ae=p.useRef(M);if(M!=="inline"&&G.length>1?Ae.current="vertical":Ae.current=M,!D){var Ue=Ae.current;$e=p.createElement(Qte,{mode:Ue,prefixCls:Z,visible:!a&&q&&M!=="inline",popupClassName:d,popupOffset:f,popupStyle:g,popup:p.createElement($f,{mode:Ue==="horizontal"?"vertical":Ue},p.createElement(v$,{id:ae,ref:ce},c)),disabled:re,onVisibleChange:Qe},$e)}var lt=p.createElement(Is.Item,Se({ref:e,role:"none"},x,{component:"li",style:i,className:J(Z,"".concat(Z,"-").concat(M),r,(t={},N(t,"".concat(Z,"-open"),q),N(t,"".concat(Z,"-active"),pe),N(t,"".concat(Z,"-selected"),ee),N(t,"".concat(Z,"-disabled"),re),t)),onMouseEnter:xe,onMouseLeave:le}),$e,!D&&p.createElement(Jte,{id:ae,open:q,keyPath:G},c));return z&&(lt=z(lt,n,{selected:ee,active:pe,open:q,disabled:re})),p.createElement($f,{onItemClick:st,mode:M==="horizontal"?"vertical":M,itemIcon:fe,expandIcon:te},lt)}),Ey=p.forwardRef(function(n,e){var t=n.eventKey,i=n.children,r=yh(t),o=y$(i,r),s=xy();p.useEffect(function(){if(s)return s.registerPath(t,r),function(){s.unregisterPath(t,r)}},[r]);var l;return s?l=o:l=p.createElement(tne,Se({ref:e},n),o),p.createElement(EV.Provider,{value:r},l)});function b$(n){var e=n.className,t=n.style,i=p.useContext(os),r=i.prefixCls,o=xy();return o?null:p.createElement("li",{role:"separator",className:J("".concat(r,"-item-divider"),e),style:t})}var nne=["className","title","eventKey","children"],ine=p.forwardRef(function(n,e){var t=n.className,i=n.title;n.eventKey;var r=n.children,o=bt(n,nne),s=p.useContext(os),l=s.prefixCls,a="".concat(l,"-item-group");return p.createElement("li",Se({ref:e,role:"presentation"},o,{onClick:function(u){return u.stopPropagation()},className:J(a,t)}),p.createElement("div",{role:"presentation",className:"".concat(a,"-title"),title:typeof i=="string"?i:void 0},i),p.createElement("ul",{role:"group",className:"".concat(a,"-list")},r))}),S$=p.forwardRef(function(n,e){var t=n.eventKey,i=n.children,r=yh(t),o=y$(i,r),s=xy();return s?o:p.createElement(ine,Se({ref:e},zr(n,["warnKey"])),o)}),rne=["label","children","key","type"];function hx(n,e){var t=e.item,i=e.group,r=e.submenu,o=e.divider;return(n||[]).map(function(s,l){if(s&&et(s)==="object"){var a=s,c=a.label,u=a.children,h=a.key,d=a.type,f=bt(a,rne),g=h??"tmp-".concat(l);return u||d==="group"?d==="group"?p.createElement(i,Se({key:g},f,{title:c}),hx(u,e)):p.createElement(r,Se({key:g},f,{title:c}),hx(u,e)):d==="divider"?p.createElement(o,Se({key:g},f)):p.createElement(t,Se({key:g},f),c)}return null}).filter(function(s){return s})}function NR(n,e,t,i){var r=n,o=V({divider:b$,item:Cy,group:S$,submenu:Ey},i);return e&&(r=hx(e,o)),y$(r,t)}var one=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],Ea=[],sne=p.forwardRef(function(n,e){var t,i,r=n,o=r.prefixCls,s=o===void 0?"rc-menu":o,l=r.rootClassName,a=r.style,c=r.className,u=r.tabIndex,h=u===void 0?0:u,d=r.items,f=r.children,g=r.direction,y=r.id,v=r.mode,m=v===void 0?"vertical":v,b=r.inlineCollapsed,S=r.disabled,w=r.disabledOverflow,x=r.subMenuOpenDelay,E=x===void 0?.1:x,C=r.subMenuCloseDelay,$=C===void 0?.1:C,M=r.forceSubMenuRender,A=r.defaultOpenKeys,P=r.openKeys,D=r.activeKey,I=r.defaultActiveFirst,O=r.selectable,H=O===void 0?!0:O,T=r.multiple,R=T===void 0?!1:T,k=r.defaultSelectedKeys,B=r.selectedKeys,L=r.onSelect,z=r.onDeselect,F=r.inlineIndent,_=F===void 0?24:F,G=r.motion,Z=r.defaultMotions,re=r.triggerSubMenuAction,Q=re===void 0?"hover":re,ce=r.builtinPlacements,fe=r.itemIcon,te=r.expandIcon,j=r.overflowedIndicator,q=j===void 0?"...":j,ee=r.overflowedIndicatorPopupClassName,K=r.getPopupContainer,Y=r.onClick,he=r.onOpenChange,ne=r.onKeyDown;r.openAnimation,r.openTransitionName;var de=r._internalRenderMenuItem,ve=r._internalRenderSubMenuItem,se=r._internalComponents,ue=bt(r,one),xe=p.useMemo(function(){return[NR(f,d,Ea,se),NR(f,d,Ea,{})]},[f,d,se]),le=X(xe,2),pe=le[0],Me=le[1],we=p.useState(!1),st=X(we,2),Qe=st[0],Ie=st[1],ae=p.useRef(),$e=Hte(y),Ae=g==="rtl",Ue=Ri(A,{value:P,postState:function(it){return it||Ea}}),lt=X(Ue,2),Ke=lt[0],qe=lt[1],at=function(it){var $t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Ut(){qe(it),he==null||he(it)}$t?vl.flushSync(Ut):Ut()},_e=p.useState(Ke),Ot=X(_e,2),xt=Ot[0],Ft=Ot[1],St=p.useRef(!1),Dt=p.useMemo(function(){return(m==="inline"||m==="vertical")&&b?["vertical",b]:[m,!1]},[m,b]),ht=X(Dt,2),Pe=ht[0],nt=ht[1],Fe=Pe==="inline",Ce=p.useState(Pe),Te=X(Ce,2),We=Te[0],ye=Te[1],Oe=p.useState(nt),ke=X(Oe,2),Je=ke[0],wt=ke[1];p.useEffect(function(){ye(Pe),wt(nt),St.current&&(Fe?qe(xt):at(Ea))},[Pe,nt]);var mt=p.useState(0),Ht=X(mt,2),Le=Ht[0],Xe=Ht[1],Re=Le>=pe.length-1||We!=="horizontal"||w;p.useEffect(function(){Fe&&Ft(Ke)},[Ke]),p.useEffect(function(){return St.current=!0,function(){St.current=!1}},[]);var vt=Bte(),qt=vt.registerPath,zt=vt.unregisterPath,Nt=vt.refreshOverflowKeys,Gt=vt.isSubPathKey,ze=vt.getKeyPath,Ne=vt.getKeys,Ze=vt.getSubPathKeys,Vt=p.useMemo(function(){return{registerPath:qt,unregisterPath:zt}},[qt,zt]),an=p.useMemo(function(){return{isSubPathKey:Gt}},[Gt]);p.useEffect(function(){Nt(Re?Ea:pe.slice(Le+1).map(function(kt){return kt.key}))},[Le,Re]);var Kn=Ri(D||I&&((t=pe[0])===null||t===void 0?void 0:t.key),{value:D}),cn=X(Kn,2),Zn=cn[0],Zi=cn[1],Ge=Xh(function(kt){Zi(kt)}),Ct=Xh(function(){Zi(void 0)});p.useImperativeHandle(e,function(){return{list:ae.current,focus:function(it){var $t,Ut=Ne(),Zt=cx(Ut,$e),ri=Zt.elements,Hi=Zt.key2element,oi=Zt.element2key,zi=g$(ae.current,ri),as=Zn??(zi[0]?oi.get(zi[0]):($t=pe.find(function(tt){return!tt.props.disabled}))===null||$t===void 0?void 0:$t.key),Do=Hi.get(as);if(as&&Do){var El;Do==null||(El=Do.focus)===null||El===void 0||El.call(Do,it)}}}});var Wt=Ri(k||[],{value:B,postState:function(it){return Array.isArray(it)?it:it==null?Ea:[it]}}),Jt=X(Wt,2),fn=Jt[0],Ao=Jt[1],Ro=function(it){if(H){var $t=it.key,Ut=fn.includes($t),Zt;R?Ut?Zt=fn.filter(function(Hi){return Hi!==$t}):Zt=[].concat(be(fn),[$t]):Zt=[$t],Ao(Zt);var ri=V(V({},it),{},{selectedKeys:Zt});Ut?z==null||z(ri):L==null||L(ri)}!R&&Ke.length&&We!=="inline"&&at(Ea)},fr=Xh(function(kt){Y==null||Y(z0(kt)),Ro(kt)}),Cr=Xh(function(kt,it){var $t=Ke.filter(function(Zt){return Zt!==kt});if(it)$t.push(kt);else if(We!=="inline"){var Ut=Ze(kt);$t=$t.filter(function(Zt){return!Ut.has(Zt)})}_s(Ke,$t,!0)||at($t,!0)}),ao=function(it,$t){var Ut=$t??!Ke.includes(it);Cr(it,Ut)},Er=Pte(We,Zn,Ae,$e,ae,Ne,ze,Zi,ao,ne);p.useEffect(function(){Ie(!0)},[]);var Et=p.useMemo(function(){return{_internalRenderMenuItem:de,_internalRenderSubMenuItem:ve}},[de,ve]),gt=We!=="horizontal"||w?pe:pe.map(function(kt,it){return p.createElement($f,{key:kt.key,overflowDisabled:it>Le},kt)}),$n=p.createElement(Is,Se({id:y,ref:ae,prefixCls:"".concat(s,"-overflow"),component:"ul",itemComponent:Cy,className:J(s,"".concat(s,"-root"),"".concat(s,"-").concat(We),c,(i={},N(i,"".concat(s,"-inline-collapsed"),Je),N(i,"".concat(s,"-rtl"),Ae),i),l),dir:g,style:a,role:"menu",tabIndex:h,data:gt,renderRawItem:function(it){return it},renderRawRest:function(it){var $t=it.length,Ut=$t?pe.slice(-$t):null;return p.createElement(Ey,{eventKey:ux,title:q,disabled:Re,internalPopupClose:$t===0,popupClassName:ee},Ut)},maxCount:We!=="horizontal"||w?Is.INVALIDATE:Is.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(it){Xe(it)},onKeyDown:Er},ue));return p.createElement(p$.Provider,{value:Et},p.createElement(SV.Provider,{value:$e},p.createElement($f,{prefixCls:s,rootClassName:l,mode:We,openKeys:Ke,rtl:Ae,disabled:S,motion:Qe?G:null,defaultMotions:Qe?Z:null,activeKey:Zn,onActive:Ge,onInactive:Ct,selectedKeys:fn,inlineIndent:_,subMenuOpenDelay:E,subMenuCloseDelay:$,forceSubMenuRender:M,builtinPlacements:ce,triggerSubMenuAction:Q,getPopupContainer:K,itemIcon:fe,expandIcon:te,onItemClick:fr,onOpenChange:Cr},p.createElement(MV.Provider,{value:an},$n),p.createElement("div",{style:{display:"none"},"aria-hidden":!0},p.createElement(CV.Provider,{value:Vt},Me)))))}),Sp=sne;Sp.Item=Cy;Sp.SubMenu=Ey;Sp.ItemGroup=S$;Sp.Divider=b$;var lne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},ane=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:lne}))},BR=p.forwardRef(ane);const DV=p.createContext({});var cne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},une=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:cne}))},TV=p.forwardRef(une),hne=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const PV=n=>{const{prefixCls:e,className:t,dashed:i}=n,r=hne(n,["prefixCls","className","dashed"]),{getPrefixCls:o}=p.useContext(Pt),s=o("menu",e),l=J({[`${s}-item-divider-dashed`]:!!i},t);return p.createElement(b$,Object.assign({className:l},r))},V0=p.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),IV=n=>{var e;const{className:t,children:i,icon:r,title:o,danger:s}=n,{prefixCls:l,firstLevel:a,direction:c,disableMenuItemTitleTooltip:u,inlineCollapsed:h}=p.useContext(V0),d=b=>{const S=p.createElement("span",{className:`${l}-title-content`},i);return(!r||p.isValidElement(i)&&i.type==="span")&&i&&b&&a&&typeof i=="string"?p.createElement("div",{className:`${l}-inline-collapsed-noicon`},i.charAt(0)):S},{siderCollapsed:f}=p.useContext(DV);let g=o;typeof o>"u"?g=a?i:"":o===!1&&(g="");const y={title:g};!f&&!h&&(y.title=null,y.open=!1);const v=ts(i).length;let m=p.createElement(Cy,Object.assign({},zr(n,["title","icon","danger"]),{className:J({[`${l}-item-danger`]:s,[`${l}-item-only-child`]:(r?v+1:v)===1},t),title:typeof o=="string"?o:void 0}),Eo(r,{className:J(p.isValidElement(r)?(e=r.props)===null||e===void 0?void 0:e.className:"",`${l}-item-icon`)}),d(h));return u||(m=p.createElement(H0,Object.assign({},y,{placement:c==="rtl"?"left":"right",overlayClassName:`${l}-inline-collapsed-tooltip`}),m)),m};var dne=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const F0=p.createContext(null),NV=p.forwardRef((n,e)=>{const{children:t}=n,i=dne(n,["children"]),r=p.useContext(F0),o=p.useMemo(()=>Object.assign(Object.assign({},r),i),[r,i.prefixCls,i.mode,i.selectable,i.rootClassName]),s=sq(t),l=fh(e,s?t.ref:null);return p.createElement(F0.Provider,{value:o},p.createElement(YM,null,s?p.cloneElement(t,{ref:l}):t))}),fne=n=>{const{componentCls:e,motionDurationSlow:t,horizontalLineHeight:i,colorSplit:r,lineWidth:o,lineType:s,itemPaddingInline:l}=n;return{[`${e}-horizontal`]:{lineHeight:i,border:0,borderBottom:`${U(o)} ${s} ${r}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:l},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${t}`,`background ${t}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},pne=n=>{let{componentCls:e,menuArrowOffset:t,calc:i}=n;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${U(i(t).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${U(t)})`}}}}},LR=n=>Object.assign({},da(n)),HR=(n,e)=>{const{componentCls:t,itemColor:i,itemSelectedColor:r,groupTitleColor:o,itemBg:s,subMenuItemBg:l,itemSelectedBg:a,activeBarHeight:c,activeBarWidth:u,activeBarBorderWidth:h,motionDurationSlow:d,motionEaseInOut:f,motionEaseOut:g,itemPaddingInline:y,motionDurationMid:v,itemHoverColor:m,lineType:b,colorSplit:S,itemDisabledColor:w,dangerItemColor:x,dangerItemHoverColor:E,dangerItemSelectedColor:C,dangerItemActiveBg:$,dangerItemSelectedBg:M,popupBg:A,itemHoverBg:P,itemActiveBg:D,menuSubMenuBg:I,horizontalItemSelectedColor:O,horizontalItemSelectedBg:H,horizontalItemBorderRadius:T,horizontalItemHoverBg:R}=n;return{[`${t}-${e}, ${t}-${e} > ${t}`]:{color:i,background:s,[`&${t}-root:focus-visible`]:Object.assign({},LR(n)),[`${t}-item-group-title`]:{color:o},[`${t}-submenu-selected`]:{[`> ${t}-submenu-title`]:{color:r}},[`${t}-item, ${t}-submenu-title`]:{color:i,[`&:not(${t}-item-disabled):focus-visible`]:Object.assign({},LR(n))},[`${t}-item-disabled, ${t}-submenu-disabled`]:{color:`${w} !important`},[`${t}-item:not(${t}-item-selected):not(${t}-submenu-selected)`]:{[`&:hover, > ${t}-submenu-title:hover`]:{color:m}},[`&:not(${t}-horizontal)`]:{[`${t}-item:not(${t}-item-selected)`]:{"&:hover":{backgroundColor:P},"&:active":{backgroundColor:D}},[`${t}-submenu-title`]:{"&:hover":{backgroundColor:P},"&:active":{backgroundColor:D}}},[`${t}-item-danger`]:{color:x,[`&${t}-item:hover`]:{[`&:not(${t}-item-selected):not(${t}-submenu-selected)`]:{color:E}},[`&${t}-item:active`]:{background:$}},[`${t}-item a`]:{"&, &:hover":{color:"inherit"}},[`${t}-item-selected`]:{color:r,[`&${t}-item-danger`]:{color:C},"a, a:hover":{color:"inherit"}},[`& ${t}-item-selected`]:{backgroundColor:a,[`&${t}-item-danger`]:{backgroundColor:M}},[`&${t}-submenu > ${t}`]:{backgroundColor:I},[`&${t}-popup > ${t}`]:{backgroundColor:A},[`&${t}-submenu-popup > ${t}`]:{backgroundColor:A},[`&${t}-horizontal`]:Object.assign(Object.assign({},e==="dark"?{borderBottom:0}:{}),{[`> ${t}-item, > ${t}-submenu`]:{top:h,marginTop:n.calc(h).mul(-1).equal(),marginBottom:0,borderRadius:T,"&::after":{position:"absolute",insetInline:y,bottom:0,borderBottom:`${U(c)} solid transparent`,transition:`border-color ${d} ${f}`,content:'""'},"&:hover, &-active, &-open":{background:R,"&::after":{borderBottomWidth:c,borderBottomColor:O}},"&-selected":{color:O,backgroundColor:H,"&:hover":{backgroundColor:H},"&::after":{borderBottomWidth:c,borderBottomColor:O}}}}),[`&${t}-root`]:{[`&${t}-inline, &${t}-vertical`]:{borderInlineEnd:`${U(h)} ${b} ${S}`}},[`&${t}-inline`]:{[`${t}-sub${t}-inline`]:{background:l},[`${t}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${U(u)} solid ${r}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${v} ${g}`,`opacity ${v} ${g}`].join(","),content:'""'},[`&${t}-item-danger`]:{"&::after":{borderInlineEndColor:C}}},[`${t}-selected, ${t}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${v} ${f}`,`opacity ${v} ${f}`].join(",")}}}}}},zR=n=>{const{componentCls:e,itemHeight:t,itemMarginInline:i,padding:r,menuArrowSize:o,marginXS:s,itemMarginBlock:l,itemWidth:a}=n,c=n.calc(o).add(r).add(s).equal();return{[`${e}-item`]:{position:"relative",overflow:"hidden"},[`${e}-item, ${e}-submenu-title`]:{height:t,lineHeight:U(t),paddingInline:r,overflow:"hidden",textOverflow:"ellipsis",marginInline:i,marginBlock:l,width:a},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:t,lineHeight:U(t)},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:c}}},gne=n=>{const{componentCls:e,iconCls:t,itemHeight:i,colorTextLightSolid:r,dropdownWidth:o,controlHeightLG:s,motionDurationMid:l,motionEaseOut:a,paddingXL:c,itemMarginInline:u,fontSizeLG:h,motionDurationSlow:d,paddingXS:f,boxShadowSecondary:g,collapsedWidth:y,collapsedIconSize:v}=n,m={height:i,lineHeight:U(i),listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":Object.assign({[`&${e}-root`]:{boxShadow:"none"}},zR(n))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:Object.assign(Object.assign({},zR(n)),{boxShadow:g})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${U(n.calc(s).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${d}`,`background ${d}`,`padding ${l} ${a}`,`padding-inline calc(50% - ${U(n.calc(h).div(2).equal())} - ${U(u)})`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:m,[`& ${e}-item-group-title`]:{paddingInlineStart:c}},[`${e}-item`]:m}},{[`${e}-inline-collapsed`]:{width:y,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:h,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${U(n.calc(h).div(2).equal())} - ${U(u)})`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${t}`]:{margin:0,fontSize:v,lineHeight:U(i),"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${t}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${t}`]:{display:"none"},"a, a:hover":{color:r}},[`${e}-item-group-title`]:Object.assign(Object.assign({},Cf),{paddingInline:f})}}]},VR=n=>{const{componentCls:e,motionDurationSlow:t,motionDurationMid:i,motionEaseInOut:r,motionEaseOut:o,iconCls:s,iconSize:l,iconMarginInlineEnd:a}=n;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${t}`,`background ${t}`,`padding ${t} ${r}`].join(","),[`${e}-item-icon, ${s}`]:{minWidth:l,fontSize:l,transition:[`font-size ${i} ${o}`,`margin ${t} ${r}`,`color ${t}`].join(","),"+ span":{marginInlineStart:a,opacity:1,transition:[`opacity ${t} ${r}`,`margin ${t}`,`color ${t}`].join(",")}},[`${e}-item-icon`]:Object.assign({},dy()),[`&${e}-item-only-child`]:{[`> ${s}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},FR=n=>{const{componentCls:e,motionDurationSlow:t,motionEaseInOut:i,borderRadius:r,menuArrowSize:o,menuArrowOffset:s}=n;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:n.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${t} ${i}, opacity ${t}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:n.calc(o).mul(.6).equal(),height:n.calc(o).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:r,transition:[`background ${t} ${i}`,`transform ${t} ${i}`,`top ${t} ${i}`,`color ${t} ${i}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${U(n.calc(s).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${U(s)})`}}}}},mne=n=>{const{antCls:e,componentCls:t,fontSize:i,motionDurationSlow:r,motionDurationMid:o,motionEaseInOut:s,paddingXS:l,padding:a,colorSplit:c,lineWidth:u,zIndexPopup:h,borderRadiusLG:d,subMenuItemBorderRadius:f,menuArrowSize:g,menuArrowOffset:y,lineType:v,groupTitleLineHeight:m,groupTitleFontSize:b}=n;return[{"":{[`${t}`]:Object.assign(Object.assign({},A0()),{"&-hidden":{display:"none"}})},[`${t}-submenu-hidden`]:{display:"none"}},{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},wi(n)),A0()),{marginBottom:0,paddingInlineStart:0,fontSize:i,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${r} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${t}-item`]:{flex:"none"}},[`${t}-item, ${t}-submenu, ${t}-submenu-title`]:{borderRadius:n.itemBorderRadius},[`${t}-item-group-title`]:{padding:`${U(l)} ${U(a)}`,fontSize:b,lineHeight:m,transition:`all ${r}`},[`&-horizontal ${t}-submenu`]:{transition:[`border-color ${r} ${s}`,`background ${r} ${s}`].join(",")},[`${t}-submenu, ${t}-submenu-inline`]:{transition:[`border-color ${r} ${s}`,`background ${r} ${s}`,`padding ${o} ${s}`].join(",")},[`${t}-submenu ${t}-sub`]:{cursor:"initial",transition:[`background ${r} ${s}`,`padding ${r} ${s}`].join(",")},[`${t}-title-content`]:{transition:`color ${r}`,[`> ${e}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"}},[`${t}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${t}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:v,borderWidth:0,borderTopWidth:u,marginBlock:u,padding:0,"&-dashed":{borderStyle:"dashed"}}}),VR(n)),{[`${t}-item-group`]:{[`${t}-item-group-list`]:{margin:0,padding:0,[`${t}-item, ${t}-submenu-title`]:{paddingInline:`${U(n.calc(i).mul(2).equal())} ${U(a)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:h,borderRadius:d,boxShadow:"none",transformOrigin:"0 0",[`&${t}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${t}`]:Object.assign(Object.assign(Object.assign({borderRadius:d},VR(n)),FR(n)),{[`${t}-item, ${t}-submenu > ${t}-submenu-title`]:{borderRadius:f},[`${t}-submenu-title::after`]:{transition:`transform ${r} ${s}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:n.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:n.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:n.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:n.paddingXS}}}),FR(n)),{[`&-inline-collapsed ${t}-submenu-arrow,
        &-inline ${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${U(y)})`},"&::after":{transform:`rotate(45deg) translateX(${U(n.calc(y).mul(-1).equal())})`}},[`${t}-submenu-open${t}-submenu-inline > ${t}-submenu-title > ${t}-submenu-arrow`]:{transform:`translateY(${U(n.calc(g).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${U(n.calc(y).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${U(y)})`}}})},{[`${e}-layout-header`]:{[t]:{lineHeight:"inherit"}}}]},vne=n=>{var e,t,i;const{colorPrimary:r,colorError:o,colorTextDisabled:s,colorErrorBg:l,colorText:a,colorTextDescription:c,colorBgContainer:u,colorFillAlter:h,colorFillContent:d,lineWidth:f,lineWidthBold:g,controlItemBgActive:y,colorBgTextHover:v,controlHeightLG:m,lineHeight:b,colorBgElevated:S,marginXXS:w,padding:x,fontSize:E,controlHeightSM:C,fontSizeLG:$,colorTextLightSolid:M,colorErrorHover:A}=n,P=(e=n.activeBarWidth)!==null&&e!==void 0?e:0,D=(t=n.activeBarBorderWidth)!==null&&t!==void 0?t:f,I=(i=n.itemMarginInline)!==null&&i!==void 0?i:n.marginXXS,O=new An(M).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:n.zIndexPopupBase+50,radiusItem:n.borderRadiusLG,itemBorderRadius:n.borderRadiusLG,radiusSubMenuItem:n.borderRadiusSM,subMenuItemBorderRadius:n.borderRadiusSM,colorItemText:a,itemColor:a,colorItemTextHover:a,itemHoverColor:a,colorItemTextHoverHorizontal:r,horizontalItemHoverColor:r,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:r,itemSelectedColor:r,colorItemTextSelectedHorizontal:r,horizontalItemSelectedColor:r,colorItemBg:u,itemBg:u,colorItemBgHover:v,itemHoverBg:v,colorItemBgActive:d,itemActiveBg:y,colorSubItemBg:h,subMenuItemBg:h,colorItemBgSelected:y,itemSelectedBg:y,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:P,colorActiveBarHeight:g,activeBarHeight:g,colorActiveBarBorderSize:f,activeBarBorderWidth:D,colorItemTextDisabled:s,itemDisabledColor:s,colorDangerItemText:o,dangerItemColor:o,colorDangerItemTextHover:o,dangerItemHoverColor:o,colorDangerItemTextSelected:o,dangerItemSelectedColor:o,colorDangerItemBgActive:l,dangerItemActiveBg:l,colorDangerItemBgSelected:l,dangerItemSelectedBg:l,itemMarginInline:I,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:m,groupTitleLineHeight:b,collapsedWidth:m*2,popupBg:S,itemMarginBlock:w,itemPaddingInline:x,horizontalLineHeight:`${m*1.15}px`,iconSize:E,iconMarginInlineEnd:C-E,collapsedIconSize:$,groupTitleFontSize:E,darkItemDisabledColor:new An(M).setAlpha(.25).toRgbString(),darkItemColor:O,darkDangerItemColor:o,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:M,darkItemSelectedBg:r,darkDangerItemSelectedBg:o,darkItemHoverBg:"transparent",darkGroupTitleColor:O,darkItemHoverColor:M,darkDangerItemHoverColor:A,darkDangerItemSelectedColor:M,darkDangerItemActiveBg:o,itemWidth:P?`calc(100% + ${D}px)`:`calc(100% - ${I*2}px)`}},yne=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return xr("Menu",r=>{const{colorBgElevated:o,controlHeightLG:s,fontSize:l,darkItemColor:a,darkDangerItemColor:c,darkItemBg:u,darkSubMenuItemBg:h,darkItemSelectedColor:d,darkItemSelectedBg:f,darkDangerItemSelectedBg:g,darkItemHoverBg:y,darkGroupTitleColor:v,darkItemHoverColor:m,darkItemDisabledColor:b,darkDangerItemHoverColor:S,darkDangerItemSelectedColor:w,darkDangerItemActiveBg:x,popupBg:E,darkPopupBg:C}=r,$=r.calc(l).div(7).mul(5).equal(),M=sn(r,{menuArrowSize:$,menuHorizontalHeight:r.calc(s).mul(1.15).equal(),menuArrowOffset:r.calc($).mul(.25).equal(),menuSubMenuBg:o,calc:r.calc,popupBg:E}),A=sn(M,{itemColor:a,itemHoverColor:m,groupTitleColor:v,itemSelectedColor:d,itemBg:u,popupBg:C,subMenuItemBg:h,itemActiveBg:"transparent",itemSelectedBg:f,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:y,itemDisabledColor:b,dangerItemColor:c,dangerItemHoverColor:S,dangerItemSelectedColor:w,dangerItemActiveBg:x,dangerItemSelectedBg:g,menuSubMenuBg:h,horizontalItemSelectedColor:d,horizontalItemSelectedBg:f});return[mne(M),fne(M),gne(M),HR(M,"light"),HR(A,"dark"),pne(M),_z(M),Ku(M,"slide-up"),Ku(M,"slide-down"),s$(M,"zoom-big")]},vne,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:t,unitless:{groupTitleLineHeight:!0}})(n,e)},BV=n=>{var e;const{popupClassName:t,icon:i,title:r,theme:o}=n,s=p.useContext(V0),{prefixCls:l,inlineCollapsed:a,theme:c}=s,u=yh();let h;if(!i)h=a&&!u.length&&r&&typeof r=="string"?p.createElement("div",{className:`${l}-inline-collapsed-noicon`},r.charAt(0)):p.createElement("span",{className:`${l}-title-content`},r);else{const g=p.isValidElement(r)&&r.type==="span";h=p.createElement(p.Fragment,null,Eo(i,{className:J(p.isValidElement(i)?(e=i.props)===null||e===void 0?void 0:e.className:"",`${l}-item-icon`)}),g?r:p.createElement("span",{className:`${l}-title-content`},r))}const d=p.useMemo(()=>Object.assign(Object.assign({},s),{firstLevel:!1}),[s]),[f]=fy("Menu");return p.createElement(V0.Provider,{value:d},p.createElement(Ey,Object.assign({},zr(n,["icon"]),{title:h,popupClassName:J(l,t,`${l}-${o||c}`),popupStyle:{zIndex:f}})))};var bne=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function s1(n){return n===null||n===!1}const Sne={item:IV,submenu:BV,divider:PV},wne=p.forwardRef((n,e)=>{var t;const i=p.useContext(F0),r=i||{},{getPrefixCls:o,getPopupContainer:s,direction:l,menu:a}=p.useContext(Pt),c=o(),{prefixCls:u,className:h,style:d,theme:f="light",expandIcon:g,_internalDisableMenuItemTitleTooltip:y,inlineCollapsed:v,siderCollapsed:m,rootClassName:b,mode:S,selectable:w,onClick:x,overflowedIndicatorPopupClassName:E}=n,C=bne(n,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),$=zr(C,["collapsedWidth"]);(t=r.validator)===null||t===void 0||t.call(r,{mode:S});const M=on(function(){var F;x==null||x.apply(void 0,arguments),(F=r.onClick)===null||F===void 0||F.call(r)}),A=r.mode||S,P=w??r.selectable,D=p.useMemo(()=>m!==void 0?m:v,[v,m]),I={horizontal:{motionName:`${c}-slide-up`},inline:Cz(c),other:{motionName:`${c}-zoom-big`}},O=o("menu",u||r.prefixCls),H=ls(O),[T,R,k]=yne(O,H,!i),B=J(`${O}-${f}`,a==null?void 0:a.className,h),L=p.useMemo(()=>{var F,_;if(typeof g=="function"||s1(g))return g||null;if(typeof r.expandIcon=="function"||s1(r.expandIcon))return r.expandIcon||null;if(typeof(a==null?void 0:a.expandIcon)=="function"||s1(a==null?void 0:a.expandIcon))return(a==null?void 0:a.expandIcon)||null;const G=(F=g??(r==null?void 0:r.expandIcon))!==null&&F!==void 0?F:a==null?void 0:a.expandIcon;return Eo(G,{className:J(`${O}-submenu-expand-icon`,p.isValidElement(G)?(_=G.props)===null||_===void 0?void 0:_.className:void 0)})},[g,r==null?void 0:r.expandIcon,a==null?void 0:a.expandIcon,O]),z=p.useMemo(()=>({prefixCls:O,inlineCollapsed:D||!1,direction:l,firstLevel:!0,theme:f,mode:A,disableMenuItemTitleTooltip:y}),[O,D,l,y,f]);return T(p.createElement(F0.Provider,{value:null},p.createElement(V0.Provider,{value:z},p.createElement(Sp,Object.assign({getPopupContainer:s,overflowedIndicator:p.createElement(TV,null),overflowedIndicatorPopupClassName:J(O,`${O}-${f}`,E),mode:A,selectable:P,onClick:M},$,{inlineCollapsed:D,style:Object.assign(Object.assign({},a==null?void 0:a.style),d),className:B,prefixCls:O,direction:l,defaultMotions:I,expandIcon:L,ref:e,rootClassName:J(b,R,r.rootClassName,k,H),_internalComponents:Sne})))))}),bh=p.forwardRef((n,e)=>{const t=p.useRef(null),i=p.useContext(DV);return p.useImperativeHandle(e,()=>({menu:t.current,focus:r=>{var o;(o=t.current)===null||o===void 0||o.focus(r)}})),p.createElement(wne,Object.assign({ref:t},n,i))});bh.Item=IV;bh.SubMenu=BV;bh.Divider=PV;bh.ItemGroup=S$;const xne=n=>{const{componentCls:e,menuCls:t,colorError:i,colorTextLightSolid:r}=n,o=`${t}-item`;return{[`${e}, ${e}-menu-submenu`]:{[`${t} ${o}`]:{[`&${o}-danger:not(${o}-disabled)`]:{color:i,"&:hover":{color:r,backgroundColor:i}}}}}},Cne=n=>{const{componentCls:e,menuCls:t,zIndexPopup:i,dropdownArrowDistance:r,sizePopupArrow:o,antCls:s,iconCls:l,motionDurationMid:a,paddingBlock:c,fontSize:u,dropdownEdgeChildPadding:h,colorTextDisabled:d,fontSizeIcon:f,controlPaddingHorizontal:g,colorBgElevated:y}=n;return[{[e]:Object.assign(Object.assign({},wi(n)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:i,display:"block","&::before":{position:"absolute",insetBlock:n.calc(o).div(2).sub(r).equal(),zIndex:-9999,opacity:1e-4,content:'""'},[`&-trigger${s}-btn`]:{[`& > ${l}-down, & > ${s}-btn-icon > ${l}-down`]:{fontSize:f}},[`${e}-wrap`]:{position:"relative",[`${s}-btn > ${l}-down`]:{fontSize:f},[`${l}-down::before`]:{transition:`transform ${a}`}},[`${e}-wrap-open`]:{[`${l}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottomLeft,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottomLeft,
          &${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottom,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottom,
          &${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottomRight,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottomRight`]:{animationName:n$},[`&${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-topLeft,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-topLeft,
          &${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-top,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-top,
          &${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-topRight,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-topRight`]:{animationName:r$},[`&${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottomLeft,
          &${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottom,
          &${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottomRight`]:{animationName:i$},[`&${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-topLeft,
          &${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-top,
          &${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-topRight`]:{animationName:o$}})},mV(n,y,{arrowPlacement:{top:!0,bottom:!0}}),{[`${e} ${t}`]:{position:"relative",margin:0},[`${t}-submenu-popup`]:{position:"absolute",zIndex:i,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${e}, ${e}-menu-submenu`]:{[t]:Object.assign(Object.assign({padding:h,listStyleType:"none",backgroundColor:y,backgroundClip:"padding-box",borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary},R0(n)),{"&:empty":{padding:0,boxShadow:"none"},[`${t}-item-group-title`]:{padding:`${U(c)} ${U(g)}`,color:n.colorTextDescription,transition:`all ${a}`},[`${t}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${t}-item-icon`]:{minWidth:u,marginInlineEnd:n.marginXS,fontSize:n.fontSizeSM},[`${t}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${a}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${t}-item, ${t}-submenu-title`]:Object.assign(Object.assign({clear:"both",margin:0,padding:`${U(c)} ${U(g)}`,color:n.colorText,fontWeight:"normal",fontSize:u,lineHeight:n.lineHeight,cursor:"pointer",transition:`all ${a}`,borderRadius:n.borderRadiusSM,"&:hover, &-active":{backgroundColor:n.controlItemBgHover}},R0(n)),{"&-selected":{color:n.colorPrimary,backgroundColor:n.controlItemBgActive,"&:hover, &-active":{backgroundColor:n.controlItemBgActiveHover}},"&-disabled":{color:d,cursor:"not-allowed","&:hover":{color:d,backgroundColor:y,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${U(n.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:n.colorSplit},[`${e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:n.paddingXS,[`${e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:n.colorTextDescription,fontSize:f,fontStyle:"normal"}}}),[`${t}-item-group-list`]:{margin:`0 ${U(n.marginXS)}`,padding:0,listStyle:"none"},[`${t}-submenu-title`]:{paddingInlineEnd:n.calc(g).add(n.fontSizeSM).equal()},[`${t}-submenu-vertical`]:{position:"relative"},[`${t}-submenu${t}-submenu-disabled ${e}-menu-submenu-title`]:{[`&, ${e}-menu-submenu-arrow-icon`]:{color:d,backgroundColor:y,cursor:"not-allowed"}},[`${t}-submenu-selected ${e}-menu-submenu-title`]:{color:n.colorPrimary}})}},[Ku(n,"slide-up"),Ku(n,"slide-down"),N0(n,"move-up"),N0(n,"move-down"),s$(n,"zoom-big")]]},Ene=n=>Object.assign(Object.assign({zIndexPopup:n.zIndexPopupBase+50,paddingBlock:(n.controlHeight-n.fontSize*n.lineHeight)/2},f$({contentRadius:n.borderRadiusLG,limitVerticalRadius:!0})),pV(n)),Mne=xr("Dropdown",n=>{const{marginXXS:e,sizePopupArrow:t,paddingXXS:i,componentCls:r}=n,o=sn(n,{menuCls:`${r}-menu`,dropdownArrowDistance:n.calc(t).div(2).add(e).equal(),dropdownEdgeChildPadding:i});return[Cne(o),xne(o)]},Ene,{resetStyle:!1}),My=n=>{const{menu:e,arrow:t,prefixCls:i,children:r,trigger:o,disabled:s,dropdownRender:l,getPopupContainer:a,overlayClassName:c,rootClassName:u,overlayStyle:h,open:d,onOpenChange:f,visible:g,onVisibleChange:y,mouseEnterDelay:v=.15,mouseLeaveDelay:m=.1,autoAdjustOverflow:b=!0,placement:S="",overlay:w,transitionName:x}=n,{getPopupContainer:E,getPrefixCls:C,direction:$,dropdown:M}=p.useContext(Pt);gh();const A=p.useMemo(()=>{const q=C();return x!==void 0?x:S.includes("top")?`${q}-slide-down`:`${q}-slide-up`},[C,S,x]),P=p.useMemo(()=>S?S.includes("Center")?S.slice(0,S.indexOf("Center")):S:$==="rtl"?"bottomRight":"bottomLeft",[S,$]),D=C("dropdown",i),I=ls(D),[O,H,T]=Mne(D,I),[,R]=Di(),k=p.Children.only(r),B=Eo(k,{className:J(`${D}-trigger`,{[`${D}-rtl`]:$==="rtl"},k.props.className),disabled:s}),L=s?[]:o;let z;L&&L.includes("contextMenu")&&(z=!0);const[F,_]=Ri(!1,{value:d??g}),G=on(q=>{f==null||f(q,{source:"trigger"}),y==null||y(q),_(q)}),Z=J(c,u,H,T,I,M==null?void 0:M.className,{[`${D}-rtl`]:$==="rtl"}),re=vV({arrowPointAtCenter:typeof t=="object"&&t.pointAtCenter,autoAdjustOverflow:b,offset:R.marginXXS,arrowWidth:t?R.sizePopupArrow:0,borderRadius:R.borderRadius}),Q=p.useCallback(()=>{e!=null&&e.selectable&&(e!=null&&e.multiple)||(f==null||f(!1,{source:"menu"}),_(!1))},[e==null?void 0:e.selectable,e==null?void 0:e.multiple]),ce=()=>{let q;return e!=null&&e.items?q=p.createElement(bh,Object.assign({},e)):typeof w=="function"?q=w():q=w,l&&(q=l(q)),q=p.Children.only(typeof q=="string"?p.createElement("span",null,q):q),p.createElement(NV,{prefixCls:`${D}-menu`,rootClassName:J(T,I),expandIcon:p.createElement("span",{className:`${D}-menu-submenu-arrow`},p.createElement(ox,{className:`${D}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Q,validator:ee=>{}},q)},[fe,te]=fy("Dropdown",h==null?void 0:h.zIndex);let j=p.createElement(Mte,Object.assign({alignPoint:z},zr(n,["rootClassName"]),{mouseEnterDelay:v,mouseLeaveDelay:m,visible:F,builtinPlacements:re,arrow:!!t,overlayClassName:Z,prefixCls:D,getPopupContainer:a||E,transitionName:A,trigger:L,overlay:ce,placement:P,onVisibleChange:G,overlayStyle:Object.assign(Object.assign(Object.assign({},M==null?void 0:M.style),h),{zIndex:fe})}),B);return fe&&(j=p.createElement(UM.Provider,{value:te},j)),O(j)};function $ne(n){return Object.assign(Object.assign({},n),{align:{overflow:{adjustX:!1,adjustY:!1}}})}const kne=jz(My,"dropdown",n=>n,$ne),One=n=>p.createElement(kne,Object.assign({},n),p.createElement("span",null));My._InternalPanelDoNotUseOrYouWillBeFired=One;const LV=p.createContext(null),Ane=LV.Provider,HV=p.createContext(null),Rne=HV.Provider;var Dne=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],zV=p.forwardRef(function(n,e){var t=n.prefixCls,i=t===void 0?"rc-checkbox":t,r=n.className,o=n.style,s=n.checked,l=n.disabled,a=n.defaultChecked,c=a===void 0?!1:a,u=n.type,h=u===void 0?"checkbox":u,d=n.title,f=n.onChange,g=bt(n,Dne),y=p.useRef(null),v=p.useRef(null),m=Ri(c,{value:s}),b=X(m,2),S=b[0],w=b[1];p.useImperativeHandle(e,function(){return{focus:function($){var M;(M=y.current)===null||M===void 0||M.focus($)},blur:function(){var $;($=y.current)===null||$===void 0||$.blur()},input:y.current,nativeElement:v.current}});var x=J(i,r,N(N({},"".concat(i,"-checked"),S),"".concat(i,"-disabled"),l)),E=function($){l||("checked"in n||w($.target.checked),f==null||f({target:V(V({},n),{},{type:h,checked:$.target.checked}),stopPropagation:function(){$.stopPropagation()},preventDefault:function(){$.preventDefault()},nativeEvent:$.nativeEvent}))};return p.createElement("span",{className:x,title:d,style:o,ref:v},p.createElement("input",Se({},g,{className:"".concat(i,"-input"),ref:y,onChange:E,disabled:l,checked:!!S,type:h})),p.createElement("span",{className:"".concat(i,"-inner")}))});const Tne=n=>{const{componentCls:e,antCls:t}=n,i=`${e}-group`;return{[i]:Object.assign(Object.assign({},wi(n)),{display:"inline-block",fontSize:0,[`&${i}-rtl`]:{direction:"rtl"},[`${t}-badge ${t}-badge-count`]:{zIndex:1},[`> ${t}-badge:not(:first-child) > ${t}-button-wrapper`]:{borderInlineStart:"none"}})}},Pne=n=>{const{componentCls:e,wrapperMarginInlineEnd:t,colorPrimary:i,radioSize:r,motionDurationSlow:o,motionDurationMid:s,motionEaseInOutCirc:l,colorBgContainer:a,colorBorder:c,lineWidth:u,colorBgContainerDisabled:h,colorTextDisabled:d,paddingXS:f,dotColorDisabled:g,lineType:y,radioColor:v,radioBgColor:m,calc:b}=n,S=`${e}-inner`,x=b(r).sub(b(4).mul(2)),E=b(1).mul(r).equal({unit:!0});return{[`${e}-wrapper`]:Object.assign(Object.assign({},wi(n)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:t,cursor:"pointer",[`&${e}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:n.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${e}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${U(u)} ${y} ${i}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[e]:Object.assign(Object.assign({},wi(n)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${e}-wrapper:hover &,
        &:hover ${S}`]:{borderColor:i},[`${e}-input:focus-visible + ${S}`]:Object.assign({},da(n)),[`${e}:hover::after, ${e}-wrapper:hover &::after`]:{visibility:"visible"},[`${e}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:E,height:E,marginBlockStart:b(1).mul(r).div(-2).equal({unit:!0}),marginInlineStart:b(1).mul(r).div(-2).equal({unit:!0}),backgroundColor:v,borderBlockStart:0,borderInlineStart:0,borderRadius:E,transform:"scale(0)",opacity:0,transition:`all ${o} ${l}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:E,height:E,backgroundColor:a,borderColor:c,borderStyle:"solid",borderWidth:u,borderRadius:"50%",transition:`all ${s}`},[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${e}-checked`]:{[S]:{borderColor:i,backgroundColor:m,"&::after":{transform:`scale(${n.calc(n.dotSize).div(r).equal()})`,opacity:1,transition:`all ${o} ${l}`}}},[`${e}-disabled`]:{cursor:"not-allowed",[S]:{backgroundColor:h,borderColor:c,cursor:"not-allowed","&::after":{backgroundColor:g}},[`${e}-input`]:{cursor:"not-allowed"},[`${e}-disabled + span`]:{color:d,cursor:"not-allowed"},[`&${e}-checked`]:{[S]:{"&::after":{transform:`scale(${b(x).div(r).equal()})`}}}},[`span${e} + *`]:{paddingInlineStart:f,paddingInlineEnd:f}})}},Ine=n=>{const{buttonColor:e,controlHeight:t,componentCls:i,lineWidth:r,lineType:o,colorBorder:s,motionDurationSlow:l,motionDurationMid:a,buttonPaddingInline:c,fontSize:u,buttonBg:h,fontSizeLG:d,controlHeightLG:f,controlHeightSM:g,paddingXS:y,borderRadius:v,borderRadiusSM:m,borderRadiusLG:b,buttonCheckedBg:S,buttonSolidCheckedColor:w,colorTextDisabled:x,colorBgContainerDisabled:E,buttonCheckedBgDisabled:C,buttonCheckedColorDisabled:$,colorPrimary:M,colorPrimaryHover:A,colorPrimaryActive:P,buttonSolidCheckedBg:D,buttonSolidCheckedHoverBg:I,buttonSolidCheckedActiveBg:O,calc:H}=n;return{[`${i}-button-wrapper`]:{position:"relative",display:"inline-block",height:t,margin:0,paddingInline:c,paddingBlock:0,color:e,fontSize:u,lineHeight:U(H(t).sub(H(r).mul(2)).equal()),background:h,border:`${U(r)} ${o} ${s}`,borderBlockStartWidth:H(r).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:r,cursor:"pointer",transition:[`color ${a}`,`background ${a}`,`box-shadow ${a}`].join(","),a:{color:e},[`> ${i}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:H(r).mul(-1).equal(),insetInlineStart:H(r).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:r,paddingInline:0,backgroundColor:s,transition:`background-color ${l}`,content:'""'}},"&:first-child":{borderInlineStart:`${U(r)} ${o} ${s}`,borderStartStartRadius:v,borderEndStartRadius:v},"&:last-child":{borderStartEndRadius:v,borderEndEndRadius:v},"&:first-child:last-child":{borderRadius:v},[`${i}-group-large &`]:{height:f,fontSize:d,lineHeight:U(H(f).sub(H(r).mul(2)).equal()),"&:first-child":{borderStartStartRadius:b,borderEndStartRadius:b},"&:last-child":{borderStartEndRadius:b,borderEndEndRadius:b}},[`${i}-group-small &`]:{height:g,paddingInline:H(y).sub(r).equal(),paddingBlock:0,lineHeight:U(H(g).sub(H(r).mul(2)).equal()),"&:first-child":{borderStartStartRadius:m,borderEndStartRadius:m},"&:last-child":{borderStartEndRadius:m,borderEndEndRadius:m}},"&:hover":{position:"relative",color:M},"&:has(:focus-visible)":Object.assign({},da(n)),[`${i}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${i}-button-wrapper-disabled)`]:{zIndex:1,color:M,background:S,borderColor:M,"&::before":{backgroundColor:M},"&:first-child":{borderColor:M},"&:hover":{color:A,borderColor:A,"&::before":{backgroundColor:A}},"&:active":{color:P,borderColor:P,"&::before":{backgroundColor:P}}},[`${i}-group-solid &-checked:not(${i}-button-wrapper-disabled)`]:{color:w,background:D,borderColor:D,"&:hover":{color:w,background:I,borderColor:I},"&:active":{color:w,background:O,borderColor:O}},"&-disabled":{color:x,backgroundColor:E,borderColor:s,cursor:"not-allowed","&:first-child, &:hover":{color:x,backgroundColor:E,borderColor:s}},[`&-disabled${i}-button-wrapper-checked`]:{color:$,backgroundColor:C,borderColor:s,boxShadow:"none"}}}},Nne=n=>{const{wireframe:e,padding:t,marginXS:i,lineWidth:r,fontSizeLG:o,colorText:s,colorBgContainer:l,colorTextDisabled:a,controlItemBgActiveDisabled:c,colorTextLightSolid:u,colorPrimary:h,colorPrimaryHover:d,colorPrimaryActive:f,colorWhite:g}=n,y=4,v=o,m=e?v-y*2:v-(y+r)*2;return{radioSize:v,dotSize:m,dotColorDisabled:a,buttonSolidCheckedColor:u,buttonSolidCheckedBg:h,buttonSolidCheckedHoverBg:d,buttonSolidCheckedActiveBg:f,buttonBg:l,buttonCheckedBg:l,buttonColor:s,buttonCheckedBgDisabled:c,buttonCheckedColorDisabled:a,buttonPaddingInline:t-r,wrapperMarginInlineEnd:i,radioColor:e?h:g,radioBgColor:e?l:h}},VV=xr("Radio",n=>{const{controlOutline:e,controlOutlineWidth:t}=n,i=`0 0 0 ${U(t)} ${e}`,o=sn(n,{radioFocusShadow:i,radioButtonFocusShadow:i});return[Tne(o),Pne(o),Ine(o)]},Nne,{unitless:{radioSize:!0,dotSize:!0}});var Bne=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Lne=(n,e)=>{var t,i;const r=p.useContext(LV),o=p.useContext(HV),{getPrefixCls:s,direction:l,radio:a}=p.useContext(Pt),c=p.useRef(null),u=ko(e,c),{isFormItemInput:h}=p.useContext(is),d=O=>{var H,T;(H=n.onChange)===null||H===void 0||H.call(n,O),(T=r==null?void 0:r.onChange)===null||T===void 0||T.call(r,O)},{prefixCls:f,className:g,rootClassName:y,children:v,style:m,title:b}=n,S=Bne(n,["prefixCls","className","rootClassName","children","style","title"]),w=s("radio",f),x=((r==null?void 0:r.optionType)||o)==="button",E=x?`${w}-button`:w,C=ls(w),[$,M,A]=VV(w,C),P=Object.assign({},S),D=p.useContext(yl);r&&(P.name=r.name,P.onChange=d,P.checked=n.value===r.value,P.disabled=(t=P.disabled)!==null&&t!==void 0?t:r.disabled),P.disabled=(i=P.disabled)!==null&&i!==void 0?i:D;const I=J(`${E}-wrapper`,{[`${E}-wrapper-checked`]:P.checked,[`${E}-wrapper-disabled`]:P.disabled,[`${E}-wrapper-rtl`]:l==="rtl",[`${E}-wrapper-in-form-item`]:h},a==null?void 0:a.className,g,y,M,A,C);return $(p.createElement(XM,{component:"Radio",disabled:P.disabled},p.createElement("label",{className:I,style:Object.assign(Object.assign({},a==null?void 0:a.style),m),onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,title:b},p.createElement(zV,Object.assign({},P,{className:J(P.className,{[my]:!x}),type:"radio",prefixCls:E,ref:u})),v!==void 0?p.createElement("span",null,v):null)))},W0=p.forwardRef(Lne),Hne=p.forwardRef((n,e)=>{const{getPrefixCls:t,direction:i}=p.useContext(Pt),[r,o]=Ri(n.defaultValue,{value:n.value}),s=O=>{const H=r,T=O.target.value;"value"in n||o(T);const{onChange:R}=n;R&&T!==H&&R(O)},{prefixCls:l,className:a,rootClassName:c,options:u,buttonStyle:h="outline",disabled:d,children:f,size:g,style:y,id:v,onMouseEnter:m,onMouseLeave:b,onFocus:S,onBlur:w}=n,x=t("radio",l),E=`${x}-group`,C=ls(x),[$,M,A]=VV(x,C);let P=f;u&&u.length>0&&(P=u.map(O=>typeof O=="string"||typeof O=="number"?p.createElement(W0,{key:O.toString(),prefixCls:x,disabled:d,value:O,checked:r===O},O):p.createElement(W0,{key:`radio-group-value-options-${O.value}`,prefixCls:x,disabled:O.disabled||d,value:O.value,checked:r===O.value,title:O.title,style:O.style,id:O.id,required:O.required},O.label)));const D=Us(g),I=J(E,`${E}-${h}`,{[`${E}-${D}`]:D,[`${E}-rtl`]:i==="rtl"},a,c,M,A,C);return $(p.createElement("div",Object.assign({},ns(n,{aria:!0,data:!0}),{className:I,style:y,onMouseEnter:m,onMouseLeave:b,onFocus:S,onBlur:w,id:v,ref:e}),p.createElement(Ane,{value:{onChange:s,value:r,disabled:n.disabled,name:n.name,optionType:n.optionType}},P)))}),zne=p.memo(Hne);var Vne=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Fne=(n,e)=>{const{getPrefixCls:t}=p.useContext(Pt),{prefixCls:i}=n,r=Vne(n,["prefixCls"]),o=t("radio",i);return p.createElement(Rne,{value:"button"},p.createElement(W0,Object.assign({prefixCls:o},r,{type:"radio",ref:e})))},Wne=p.forwardRef(Fne),wp=W0;wp.Button=Wne;wp.Group=zne;wp.__ANT_RADIO=!0;function w$(n){return sn(n,{inputAffixPadding:n.paddingXXS})}const x$=n=>{const{controlHeight:e,fontSize:t,lineHeight:i,lineWidth:r,controlHeightSM:o,controlHeightLG:s,fontSizeLG:l,lineHeightLG:a,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:h,colorFillAlter:d,colorPrimaryHover:f,colorPrimary:g,controlOutlineWidth:y,controlOutline:v,colorErrorOutline:m,colorWarningOutline:b,colorBgContainer:S}=n;return{paddingBlock:Math.max(Math.round((e-t*i)/2*10)/10-r,0),paddingBlockSM:Math.max(Math.round((o-t*i)/2*10)/10-r,0),paddingBlockLG:Math.ceil((s-l*a)/2*10)/10-r,paddingInline:c-r,paddingInlineSM:u-r,paddingInlineLG:h-r,addonBg:d,activeBorderColor:g,hoverBorderColor:f,activeShadow:`0 0 0 ${y}px ${v}`,errorActiveShadow:`0 0 0 ${y}px ${m}`,warningActiveShadow:`0 0 0 ${y}px ${b}`,hoverBg:S,activeBg:S,inputFontSize:t,inputFontSizeLG:l,inputFontSizeSM:t}},_ne=n=>({borderColor:n.hoverBorderColor,backgroundColor:n.hoverBg}),$y=n=>({color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},_ne(sn(n,{hoverBorderColor:n.colorBorder,hoverBg:n.colorBgContainerDisabled})))}),C$=(n,e)=>({background:n.colorBgContainer,borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:n.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:n.activeBg}}),WR=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},C$(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}}),[`&${n.componentCls}-status-${e.status}${n.componentCls}-disabled`]:{borderColor:e.borderColor}}),jne=(n,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},C$(n,{borderColor:n.colorBorder,hoverBorderColor:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeShadow:n.activeShadow})),{[`&${n.componentCls}-disabled, &[disabled]`]:Object.assign({},$y(n))}),WR(n,{status:"error",borderColor:n.colorError,hoverBorderColor:n.colorErrorBorderHover,activeBorderColor:n.colorError,activeShadow:n.errorActiveShadow,affixColor:n.colorError})),WR(n,{status:"warning",borderColor:n.colorWarning,hoverBorderColor:n.colorWarningBorderHover,activeBorderColor:n.colorWarning,activeShadow:n.warningActiveShadow,affixColor:n.colorWarning})),e)}),_R=(n,e)=>({[`&${n.componentCls}-group-wrapper-status-${e.status}`]:{[`${n.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),Kne=n=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${n.componentCls}-group`]:{"&-addon":{background:n.addonBg,border:`${U(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},_R(n,{status:"error",addonBorderColor:n.colorError,addonColor:n.colorErrorText})),_R(n,{status:"warning",addonBorderColor:n.colorWarning,addonColor:n.colorWarningText})),{[`&${n.componentCls}-group-wrapper-disabled`]:{[`${n.componentCls}-group-addon`]:Object.assign({},$y(n))}})}),qne=(n,e)=>({"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n.componentCls}-disabled, &[disabled]`]:{color:n.colorTextDisabled}},e)}),FV=(n,e)=>({background:e.bg,borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:e==null?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:n.activeBg}}),jR=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},FV(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}})}),Gne=(n,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},FV(n,{bg:n.colorFillTertiary,hoverBg:n.colorFillSecondary,activeBorderColor:n.colorPrimary})),{[`&${n.componentCls}-disabled, &[disabled]`]:Object.assign({},$y(n))}),jR(n,{status:"error",bg:n.colorErrorBg,hoverBg:n.colorErrorBgHover,activeBorderColor:n.colorError,inputColor:n.colorErrorText,affixColor:n.colorError})),jR(n,{status:"warning",bg:n.colorWarningBg,hoverBg:n.colorWarningBgHover,activeBorderColor:n.colorWarning,inputColor:n.colorWarningText,affixColor:n.colorWarning})),e)}),KR=(n,e)=>({[`&${n.componentCls}-group-wrapper-status-${e.status}`]:{[`${n.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),Une=n=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${n.componentCls}-group`]:{"&-addon":{background:n.colorFillTertiary},[`${n.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${U(n.lineWidth)} ${n.lineType} ${n.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${U(n.lineWidth)} ${n.lineType} ${n.colorSplit}`}}}},KR(n,{status:"error",addonBg:n.colorErrorBg,addonColor:n.colorErrorText})),KR(n,{status:"warning",addonBg:n.colorWarningBg,addonColor:n.colorWarningText})),{[`&${n.componentCls}-group-wrapper-disabled`]:{[`${n.componentCls}-group`]:{"&-addon":{background:n.colorFillTertiary,color:n.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${U(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderTop:`${U(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderBottom:`${U(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${U(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderTop:`${U(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderBottom:`${U(n.lineWidth)} ${n.lineType} ${n.colorBorder}`}}}})}),Xne=n=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:n,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),WV=n=>{const{paddingBlockLG:e,lineHeightLG:t,borderRadiusLG:i,paddingInlineLG:r}=n;return{padding:`${U(e)} ${U(r)}`,fontSize:n.inputFontSizeLG,lineHeight:t,borderRadius:i}},E$=n=>({padding:`${U(n.paddingBlockSM)} ${U(n.paddingInlineSM)}`,fontSize:n.inputFontSizeSM,borderRadius:n.borderRadiusSM}),M$=n=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${U(n.paddingBlock)} ${U(n.paddingInline)}`,color:n.colorText,fontSize:n.inputFontSize,lineHeight:n.lineHeight,borderRadius:n.borderRadius,transition:`all ${n.motionDurationMid}`},Xne(n.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:n.controlHeight,lineHeight:n.lineHeight,verticalAlign:"bottom",transition:`all ${n.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},WV(n)),"&-sm":Object.assign({},E$(n)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),Yne=n=>{const{componentCls:e,antCls:t}=n;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:n.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},WV(n)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},E$(n)),[`&-lg ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightLG},[`&-sm ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${U(n.paddingInline)}`,color:n.colorText,fontWeight:"normal",fontSize:n.inputFontSize,textAlign:"center",borderRadius:n.borderRadius,transition:`all ${n.motionDurationSlow}`,lineHeight:1,[`${t}-select`]:{margin:`${U(n.calc(n.paddingBlock).add(1).mul(-1).equal())} ${U(n.calc(n.paddingInline).mul(-1).equal())}`,[`&${t}-select-single:not(${t}-select-customize-input):not(${t}-pagination-size-changer)`]:{[`${t}-select-selector`]:{backgroundColor:"inherit",border:`${U(n.lineWidth)} ${n.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${t}-select-selector`]:{color:n.colorPrimary}}},[`${t}-cascader-picker`]:{margin:`-9px ${U(n.calc(n.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${t}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[`${e}`]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},A0()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:n.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${t}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal(),borderInlineEndWidth:n.lineWidth},[`${e}`]:{float:"none"},[`& > ${t}-select > ${t}-select-selector,
      & > ${t}-select-auto-complete ${e},
      & > ${t}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:n.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${t}-select-focused`]:{zIndex:1},[`& > ${t}-select > ${t}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${t}-select:first-child > ${t}-select-selector,
      & > ${t}-select-auto-complete:first-child ${e},
      & > ${t}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius},[`& > *:last-child,
      & > ${t}-select:last-child > ${t}-select-selector,
      & > ${t}-cascader-picker:last-child ${e},
      & > ${t}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:n.lineWidth,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius},[`& > ${t}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:n.calc(n.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:n.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:n.borderRadius}}}})}},Qne=n=>{const{componentCls:e,controlHeightSM:t,lineWidth:i,calc:r}=n,s=r(t).sub(r(i).mul(2)).sub(16).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},wi(n)),M$(n)),jne(n)),Gne(n)),qne(n)),{'&[type="color"]':{height:n.controlHeight,[`&${e}-lg`]:{height:n.controlHeightLG},[`&${e}-sm`]:{height:t,paddingTop:s,paddingBottom:s}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},Jne=n=>{const{componentCls:e}=n;return{[`${e}-clear-icon`]:{margin:0,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"&:hover":{color:n.colorTextTertiary},"&:active":{color:n.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${U(n.inputAffixPadding)}`}}}},Zne=n=>{const{componentCls:e,inputAffixPadding:t,colorTextDescription:i,motionDurationSlow:r,colorIcon:o,colorIconHover:s,iconCls:l}=n;return{[`${e}-affix-wrapper`]:Object.assign(Object.assign(Object.assign(Object.assign({},M$(n)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${e}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:n.paddingXS}},"&-show-count-suffix":{color:i},"&-show-count-has-suffix":{marginInlineEnd:n.paddingXXS},"&-prefix":{marginInlineEnd:t},"&-suffix":{marginInlineStart:t}}}),Jne(n)),{[`${l}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${r}`,"&:hover":{color:s}}})}},eie=n=>{const{componentCls:e,borderRadiusLG:t,borderRadiusSM:i}=n;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},wi(n)),Yne(n)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:t,fontSize:n.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:i}}},Kne(n)),Une(n)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},tie=n=>{const{componentCls:e,antCls:t}=n,i=`${e}-search`;return{[i]:{[`${e}`]:{"&:hover, &:focus":{borderColor:n.colorPrimaryHover,[`+ ${e}-group-addon ${i}-button:not(${t}-btn-primary)`]:{borderInlineStartColor:n.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{borderRadius:0},[`${e}-lg`]:{lineHeight:n.calc(n.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${i}-button`]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius,borderEndStartRadius:0,boxShadow:"none"},[`${i}-button:not(${t}-btn-primary)`]:{color:n.colorTextDescription,"&:hover":{color:n.colorPrimaryHover},"&:active":{color:n.colorPrimaryActive},[`&${t}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${i}-button`]:{height:n.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${i}-button`]:{height:n.controlHeightLG},[`&-small ${i}-button`]:{height:n.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},nie=n=>{const{componentCls:e,paddingLG:t}=n,i=`${e}-textarea`;return{[i]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:n.calc(n.fontSize).mul(n.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:n.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${i}-has-feedback ${e}
      `]:{paddingInlineEnd:t},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:n.paddingXS,insetBlockStart:n.paddingXS},[`${i}-suffix`]:{position:"absolute",top:0,insetInlineEnd:n.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}},iie=n=>{const{componentCls:e}=n;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:n.colorError}}}},$$=xr("Input",n=>{const e=sn(n,w$(n));return[Qne(e),nie(e),Zne(e),eie(e),tie(e),iie(e),ZM(e)]},x$,{resetFont:!1});function rie(n,e,t){var i=t||{},r=i.noTrailing,o=r===void 0?!1:r,s=i.noLeading,l=s===void 0?!1:s,a=i.debounceMode,c=a===void 0?void 0:a,u,h=!1,d=0;function f(){u&&clearTimeout(u)}function g(v){var m=v||{},b=m.upcomingOnly,S=b===void 0?!1:b;f(),h=!S}function y(){for(var v=arguments.length,m=new Array(v),b=0;b<v;b++)m[b]=arguments[b];var S=this,w=Date.now()-d;if(h)return;function x(){d=Date.now(),e.apply(S,m)}function E(){u=void 0}!l&&c&&!u&&x(),f(),c===void 0&&w>n?l?(d=Date.now(),o||(u=setTimeout(c?E:x,n))):x():o!==!0&&(u=setTimeout(c?E:x,c===void 0?n-w:n))}return y.cancel=g,y}function oie(n,e,t){var i={},r=i.atBegin,o=r===void 0?!1:r;return rie(n,e,{debounceMode:o!==!1})}function $r(n,e){return n[e]}var sie=["children"];function _V(n,e){return"".concat(n,"-").concat(e)}function lie(n){return n&&n.type&&n.type.isTreeNode}function xp(n,e){return n??e}function qu(n){var e=n||{},t=e.title,i=e._title,r=e.key,o=e.children,s=t||"title";return{title:s,_title:i||[s],key:r||"key",children:o||"children"}}function jV(n){function e(t){var i=ts(t);return i.map(function(r){if(!lie(r))return Dn(!r,"Tree/TreeNode can only accept TreeNode as children."),null;var o=r.key,s=r.props,l=s.children,a=bt(s,sie),c=V({key:o},a),u=e(l);return u.length&&(c.children=u),c}).filter(function(r){return r})}return e(n)}function l1(n,e,t){var i=qu(t),r=i._title,o=i.key,s=i.children,l=new Set(e===!0?[]:e),a=[];function c(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return u.map(function(d,f){for(var g=_V(h?h.pos:"0",f),y=xp(d[o],g),v,m=0;m<r.length;m+=1){var b=r[m];if(d[b]!==void 0){v=d[b];break}}var S=Object.assign(zr(d,[].concat(be(r),[o,s])),{title:v,key:y,parent:h,pos:g,children:null,data:d,isStart:[].concat(be(h?h.isStart:[]),[f===0]),isEnd:[].concat(be(h?h.isEnd:[]),[f===u.length-1])});return a.push(S),e===!0||l.has(y)?S.children=c(d[s]||[],S):S.children=[],S})}return c(n),a}function aie(n,e,t){var i={};et(t)==="object"?i=t:i={externalGetKey:t},i=i||{};var r=i,o=r.childrenPropName,s=r.externalGetKey,l=r.fieldNames,a=qu(l),c=a.key,u=a.children,h=o||u,d;s?typeof s=="string"?d=function(y){return y[s]}:typeof s=="function"&&(d=function(y){return s(y)}):d=function(y,v){return xp(y[c],v)};function f(g,y,v,m){var b=g?g[h]:n,S=g?_V(v.pos,y):"0",w=g?[].concat(be(m),[g]):[];if(g){var x=d(g,S),E={node:g,index:y,pos:S,key:x,parentPos:v.node?v.pos:null,level:v.level+1,nodes:w};e(E)}b&&b.forEach(function(C,$){f(C,$,{node:g,pos:S,level:v?v.level+1:-1},w)})}f(null)}function k$(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.initWrapper,i=e.processEntity,r=e.onProcessFinished,o=e.externalGetKey,s=e.childrenPropName,l=e.fieldNames,a=arguments.length>2?arguments[2]:void 0,c=o||a,u={},h={},d={posEntities:u,keyEntities:h};return t&&(d=t(d)||d),aie(n,function(f){var g=f.node,y=f.index,v=f.pos,m=f.key,b=f.parentPos,S=f.level,w=f.nodes,x={node:g,nodes:w,index:y,key:m,pos:v,level:S},E=xp(m,v);u[v]=x,h[E]=x,x.parent=u[b],x.parent&&(x.parent.children=x.parent.children||[],x.parent.children.push(x)),i&&i(x,d)},{externalGetKey:c,childrenPropName:s,fieldNames:l}),r&&r(d),d}function Bd(n,e){var t=e.expandedKeys,i=e.selectedKeys,r=e.loadedKeys,o=e.loadingKeys,s=e.checkedKeys,l=e.halfCheckedKeys,a=e.dragOverNodeKey,c=e.dropPosition,u=e.keyEntities,h=$r(u,n),d={eventKey:n,expanded:t.indexOf(n)!==-1,selected:i.indexOf(n)!==-1,loaded:r.indexOf(n)!==-1,loading:o.indexOf(n)!==-1,checked:s.indexOf(n)!==-1,halfChecked:l.indexOf(n)!==-1,pos:String(h?h.pos:""),dragOver:a===n&&c===0,dragOverGapTop:a===n&&c===-1,dragOverGapBottom:a===n&&c===1};return d}function si(n){var e=n.data,t=n.expanded,i=n.selected,r=n.checked,o=n.loaded,s=n.loading,l=n.halfChecked,a=n.dragOver,c=n.dragOverGapTop,u=n.dragOverGapBottom,h=n.pos,d=n.active,f=n.eventKey,g=V(V({},e),{},{expanded:t,selected:i,checked:r,loaded:o,loading:s,halfChecked:l,dragOver:a,dragOverGapTop:c,dragOverGapBottom:u,pos:h,active:d,key:f});return"props"in g||Object.defineProperty(g,"props",{get:function(){return Dn(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),g}function KV(n,e){var t=new Set;return n.forEach(function(i){e.has(i)||t.add(i)}),t}function cie(n){var e=n||{},t=e.disabled,i=e.disableCheckbox,r=e.checkable;return!!(t||i)||r===!1}function uie(n,e,t,i){for(var r=new Set(n),o=new Set,s=0;s<=t;s+=1){var l=e.get(s)||new Set;l.forEach(function(h){var d=h.key,f=h.node,g=h.children,y=g===void 0?[]:g;r.has(d)&&!i(f)&&y.filter(function(v){return!i(v.node)}).forEach(function(v){r.add(v.key)})})}for(var a=new Set,c=t;c>=0;c-=1){var u=e.get(c)||new Set;u.forEach(function(h){var d=h.parent,f=h.node;if(!(i(f)||!h.parent||a.has(h.parent.key))){if(i(h.parent.node)){a.add(d.key);return}var g=!0,y=!1;(d.children||[]).filter(function(v){return!i(v.node)}).forEach(function(v){var m=v.key,b=r.has(m);g&&!b&&(g=!1),!y&&(b||o.has(m))&&(y=!0)}),g&&r.add(d.key),y&&o.add(d.key),a.add(d.key)}})}return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(KV(o,r))}}function hie(n,e,t,i,r){for(var o=new Set(n),s=new Set(e),l=0;l<=i;l+=1){var a=t.get(l)||new Set;a.forEach(function(d){var f=d.key,g=d.node,y=d.children,v=y===void 0?[]:y;!o.has(f)&&!s.has(f)&&!r(g)&&v.filter(function(m){return!r(m.node)}).forEach(function(m){o.delete(m.key)})})}s=new Set;for(var c=new Set,u=i;u>=0;u-=1){var h=t.get(u)||new Set;h.forEach(function(d){var f=d.parent,g=d.node;if(!(r(g)||!d.parent||c.has(d.parent.key))){if(r(d.parent.node)){c.add(f.key);return}var y=!0,v=!1;(f.children||[]).filter(function(m){return!r(m.node)}).forEach(function(m){var b=m.key,S=o.has(b);y&&!S&&(y=!1),!v&&(S||s.has(b))&&(v=!0)}),y||o.delete(f.key),v&&s.add(f.key),c.add(f.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(KV(s,o))}}function vu(n,e,t,i){var r=[],o;i?o=i:o=cie;var s=new Set(n.filter(function(u){var h=!!$r(t,u);return h||r.push(u),h})),l=new Map,a=0;Object.keys(t).forEach(function(u){var h=t[u],d=h.level,f=l.get(d);f||(f=new Set,l.set(d,f)),f.add(h),a=Math.max(a,d)}),Dn(!r.length,"Tree missing follow keys: ".concat(r.slice(0,100).map(function(u){return"'".concat(u,"'")}).join(", ")));var c;return e===!0?c=uie(s,l,a,o):c=hie(s,e.halfCheckedKeys,l,a,o),c}const die=n=>{const{checkboxCls:e}=n,t=`${e}-wrapper`;return[{[`${e}-group`]:Object.assign(Object.assign({},wi(n)),{display:"inline-flex",flexWrap:"wrap",columnGap:n.marginXS,[`> ${n.antCls}-row`]:{flex:1}}),[t]:Object.assign(Object.assign({},wi(n)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${t}`]:{marginInlineStart:0},[`&${t}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[e]:Object.assign(Object.assign({},wi(n)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:n.borderRadiusSM,alignSelf:"center",[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${e}-inner`]:Object.assign({},da(n))},[`${e}-inner`]:{boxSizing:"border-box",display:"block",width:n.checkboxSize,height:n.checkboxSize,direction:"ltr",backgroundColor:n.colorBgContainer,border:`${U(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,borderCollapse:"separate",transition:`all ${n.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:n.calc(n.checkboxSize).div(14).mul(5).equal(),height:n.calc(n.checkboxSize).div(14).mul(8).equal(),border:`${U(n.lineWidthBold)} solid ${n.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${n.motionDurationFast} ${n.motionEaseInBack}, opacity ${n.motionDurationFast}`}},"& + span":{paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS}})},{[`
        ${t}:not(${t}-disabled),
        ${e}:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{borderColor:n.colorPrimary}},[`${t}:not(${t}-disabled)`]:{[`&:hover ${e}-checked:not(${e}-disabled) ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}-checked:not(${e}-disabled):after`]:{borderColor:n.colorPrimaryHover}}},{[`${e}-checked`]:{[`${e}-inner`]:{backgroundColor:n.colorPrimary,borderColor:n.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${n.motionDurationMid} ${n.motionEaseOutBack} ${n.motionDurationFast}`}}},[`
        ${t}-checked:not(${t}-disabled),
        ${e}-checked:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"}}},{[e]:{"&-indeterminate":{[`${e}-inner`]:{backgroundColor:n.colorBgContainer,borderColor:n.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:n.calc(n.fontSizeLG).div(2).equal(),height:n.calc(n.fontSizeLG).div(2).equal(),backgroundColor:n.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${t}-disabled`]:{cursor:"not-allowed"},[`${e}-disabled`]:{[`&, ${e}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${e}-inner`]:{background:n.colorBgContainerDisabled,borderColor:n.colorBorder,"&:after":{borderColor:n.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:n.colorTextDisabled},[`&${e}-indeterminate ${e}-inner::after`]:{background:n.colorTextDisabled}}}]};function qV(n,e){const t=sn(e,{checkboxCls:`.${n}`,checkboxSize:e.controlInteractiveSize});return[die(t)]}const GV=xr("Checkbox",(n,e)=>{let{prefixCls:t}=e;return[qV(t,n)]}),UV=oe.createContext(null);var fie=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const pie=(n,e)=>{var t;const{prefixCls:i,className:r,rootClassName:o,children:s,indeterminate:l=!1,style:a,onMouseEnter:c,onMouseLeave:u,skipGroup:h=!1,disabled:d}=n,f=fie(n,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:g,direction:y,checkbox:v}=p.useContext(Pt),m=p.useContext(UV),{isFormItemInput:b}=p.useContext(is),S=p.useContext(yl),w=(t=(m==null?void 0:m.disabled)||d)!==null&&t!==void 0?t:S,x=p.useRef(f.value);p.useEffect(()=>{m==null||m.registerValue(f.value)},[]),p.useEffect(()=>{if(!h)return f.value!==x.current&&(m==null||m.cancelValue(x.current),m==null||m.registerValue(f.value),x.current=f.value),()=>m==null?void 0:m.cancelValue(f.value)},[f.value]);const E=g("checkbox",i),C=ls(E),[$,M,A]=GV(E,C),P=Object.assign({},f);m&&!h&&(P.onChange=function(){f.onChange&&f.onChange.apply(f,arguments),m.toggleOption&&m.toggleOption({label:s,value:f.value})},P.name=m.name,P.checked=m.value.includes(f.value));const D=J(`${E}-wrapper`,{[`${E}-rtl`]:y==="rtl",[`${E}-wrapper-checked`]:P.checked,[`${E}-wrapper-disabled`]:w,[`${E}-wrapper-in-form-item`]:b},v==null?void 0:v.className,r,o,A,C,M),I=J({[`${E}-indeterminate`]:l},my,M),O=l?"mixed":void 0;return $(p.createElement(XM,{component:"Checkbox",disabled:w},p.createElement("label",{className:D,style:Object.assign(Object.assign({},v==null?void 0:v.style),a),onMouseEnter:c,onMouseLeave:u},p.createElement(zV,Object.assign({"aria-checked":O},P,{prefixCls:E,className:I,disabled:w,ref:e})),s!==void 0&&p.createElement("span",null,s))))},XV=p.forwardRef(pie);var gie=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const mie=p.forwardRef((n,e)=>{const{defaultValue:t,children:i,options:r=[],prefixCls:o,className:s,rootClassName:l,style:a,onChange:c}=n,u=gie(n,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:h,direction:d}=p.useContext(Pt),[f,g]=p.useState(u.value||t||[]),[y,v]=p.useState([]);p.useEffect(()=>{"value"in u&&g(u.value||[])},[u.value]);const m=p.useMemo(()=>r.map(H=>typeof H=="string"||typeof H=="number"?{label:H,value:H}:H),[r]),b=H=>{v(T=>T.filter(R=>R!==H))},S=H=>{v(T=>[].concat(be(T),[H]))},w=H=>{const T=f.indexOf(H.value),R=be(f);T===-1?R.push(H.value):R.splice(T,1),"value"in u||g(R),c==null||c(R.filter(k=>y.includes(k)).sort((k,B)=>{const L=m.findIndex(F=>F.value===k),z=m.findIndex(F=>F.value===B);return L-z}))},x=h("checkbox",o),E=`${x}-group`,C=ls(x),[$,M,A]=GV(x,C),P=zr(u,["value","disabled"]),D=r.length?m.map(H=>p.createElement(XV,{prefixCls:x,key:H.value.toString(),disabled:"disabled"in H?H.disabled:u.disabled,value:H.value,checked:f.includes(H.value),onChange:H.onChange,className:`${E}-item`,style:H.style,title:H.title,id:H.id,required:H.required},H.label)):i,I={toggleOption:w,value:f,disabled:u.disabled,name:u.name,registerValue:S,cancelValue:b},O=J(E,{[`${E}-rtl`]:d==="rtl"},s,l,A,C,M);return $(p.createElement("div",Object.assign({className:O,style:a},P,{ref:e}),p.createElement(UV.Provider,{value:I},D)))}),Gu=XV;Gu.Group=mie;Gu.__ANT_CHECKBOX=!0;function vie(n){return!!(n.addonBefore||n.addonAfter)}function yie(n){return!!(n.prefix||n.suffix||n.allowClear)}function qR(n,e,t){var i=e.cloneNode(!0),r=Object.create(n,{target:{value:i},currentTarget:{value:i}});return i.value=t,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(i.selectionStart=e.selectionStart,i.selectionEnd=e.selectionEnd),i.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},r}function _0(n,e,t,i){if(t){var r=e;if(e.type==="click"){r=qR(e,n,""),t(r);return}if(n.type!=="file"&&i!==void 0){r=qR(e,n,i),t(r);return}t(r)}}function bie(n,e){if(n){n.focus(e);var t=e||{},i=t.cursor;if(i){var r=n.value.length;switch(i){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(r,r);break;default:n.setSelectionRange(0,r)}}}}var YV=oe.forwardRef(function(n,e){var t,i,r=n.inputElement,o=n.children,s=n.prefixCls,l=n.prefix,a=n.suffix,c=n.addonBefore,u=n.addonAfter,h=n.className,d=n.style,f=n.disabled,g=n.readOnly,y=n.focused,v=n.triggerFocus,m=n.allowClear,b=n.value,S=n.handleReset,w=n.hidden,x=n.classes,E=n.classNames,C=n.dataAttrs,$=n.styles,M=n.components,A=o??r,P=(M==null?void 0:M.affixWrapper)||"span",D=(M==null?void 0:M.groupWrapper)||"span",I=(M==null?void 0:M.wrapper)||"span",O=(M==null?void 0:M.groupAddon)||"span",H=p.useRef(null),T=function(Y){var he;(he=H.current)!==null&&he!==void 0&&he.contains(Y.target)&&(v==null||v())},R=yie(n),k=p.cloneElement(A,{value:b,className:J(A.props.className,!R&&(E==null?void 0:E.variant))||null}),B=p.useRef(null);if(oe.useImperativeHandle(e,function(){return{nativeElement:B.current||H.current}}),R){var L,z=null;if(m){var F,_=!f&&!g&&b,G="".concat(s,"-clear-icon"),Z=et(m)==="object"&&m!==null&&m!==void 0&&m.clearIcon?m.clearIcon:"";z=oe.createElement("span",{onClick:S,onMouseDown:function(Y){return Y.preventDefault()},className:J(G,(F={},N(F,"".concat(G,"-hidden"),!_),N(F,"".concat(G,"-has-suffix"),!!a),F)),role:"button",tabIndex:-1},Z)}var re="".concat(s,"-affix-wrapper"),Q=J(re,(L={},N(L,"".concat(s,"-disabled"),f),N(L,"".concat(re,"-disabled"),f),N(L,"".concat(re,"-focused"),y),N(L,"".concat(re,"-readonly"),g),N(L,"".concat(re,"-input-with-clear-btn"),a&&m&&b),L),x==null?void 0:x.affixWrapper,E==null?void 0:E.affixWrapper,E==null?void 0:E.variant),ce=(a||m)&&oe.createElement("span",{className:J("".concat(s,"-suffix"),E==null?void 0:E.suffix),style:$==null?void 0:$.suffix},z,a);k=oe.createElement(P,Se({className:Q,style:$==null?void 0:$.affixWrapper,onClick:T},C==null?void 0:C.affixWrapper,{ref:H}),l&&oe.createElement("span",{className:J("".concat(s,"-prefix"),E==null?void 0:E.prefix),style:$==null?void 0:$.prefix},l),k,ce)}if(vie(n)){var fe="".concat(s,"-group"),te="".concat(fe,"-addon"),j="".concat(fe,"-wrapper"),q=J("".concat(s,"-wrapper"),fe,x==null?void 0:x.wrapper,E==null?void 0:E.wrapper),ee=J(j,N({},"".concat(j,"-disabled"),f),x==null?void 0:x.group,E==null?void 0:E.groupWrapper);k=oe.createElement(D,{className:ee,ref:B},oe.createElement(I,{className:q},c&&oe.createElement(O,{className:te},c),k,u&&oe.createElement(O,{className:te},u)))}return oe.cloneElement(k,{className:J((t=k.props)===null||t===void 0?void 0:t.className,h)||null,style:V(V({},(i=k.props)===null||i===void 0?void 0:i.style),d),hidden:w})}),Sie=["show"];function QV(n,e){return p.useMemo(function(){var t={};e&&(t.show=et(e)==="object"&&e.formatter?e.formatter:!!e),t=V(V({},t),n);var i=t,r=i.show,o=bt(i,Sie);return V(V({},o),{},{show:!!r,showFormatter:typeof r=="function"?r:void 0,strategy:o.strategy||function(s){return s.length}})},[n,e])}var wie=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],xie=p.forwardRef(function(n,e){var t=n.autoComplete,i=n.onChange,r=n.onFocus,o=n.onBlur,s=n.onPressEnter,l=n.onKeyDown,a=n.prefixCls,c=a===void 0?"rc-input":a,u=n.disabled,h=n.htmlSize,d=n.className,f=n.maxLength,g=n.suffix,y=n.showCount,v=n.count,m=n.type,b=m===void 0?"text":m,S=n.classes,w=n.classNames,x=n.styles,E=n.onCompositionStart,C=n.onCompositionEnd,$=bt(n,wie),M=p.useState(!1),A=X(M,2),P=A[0],D=A[1],I=p.useRef(!1),O=p.useRef(null),H=p.useRef(null),T=function(ue){O.current&&bie(O.current,ue)},R=Ri(n.defaultValue,{value:n.value}),k=X(R,2),B=k[0],L=k[1],z=B==null?"":String(B),F=p.useState(null),_=X(F,2),G=_[0],Z=_[1],re=QV(v,y),Q=re.max||f,ce=re.strategy(z),fe=!!Q&&ce>Q;p.useImperativeHandle(e,function(){var se;return{focus:T,blur:function(){var xe;(xe=O.current)===null||xe===void 0||xe.blur()},setSelectionRange:function(xe,le,pe){var Me;(Me=O.current)===null||Me===void 0||Me.setSelectionRange(xe,le,pe)},select:function(){var xe;(xe=O.current)===null||xe===void 0||xe.select()},input:O.current,nativeElement:((se=H.current)===null||se===void 0?void 0:se.nativeElement)||O.current}}),p.useEffect(function(){D(function(se){return se&&u?!1:se})},[u]);var te=function(ue,xe,le){var pe=xe;if(!I.current&&re.exceedFormatter&&re.max&&re.strategy(xe)>re.max){if(pe=re.exceedFormatter(xe,{max:re.max}),xe!==pe){var Me,we;Z([((Me=O.current)===null||Me===void 0?void 0:Me.selectionStart)||0,((we=O.current)===null||we===void 0?void 0:we.selectionEnd)||0])}}else if(le.source==="compositionEnd")return;L(pe),O.current&&_0(O.current,ue,i,pe)};p.useEffect(function(){if(G){var se;(se=O.current)===null||se===void 0||se.setSelectionRange.apply(se,be(G))}},[G]);var j=function(ue){te(ue,ue.target.value,{source:"change"})},q=function(ue){I.current=!1,te(ue,ue.currentTarget.value,{source:"compositionEnd"}),C==null||C(ue)},ee=function(ue){s&&ue.key==="Enter"&&s(ue),l==null||l(ue)},K=function(ue){D(!0),r==null||r(ue)},Y=function(ue){D(!1),o==null||o(ue)},he=function(ue){L(""),T(),O.current&&_0(O.current,ue,i)},ne=fe&&"".concat(c,"-out-of-range"),de=function(){var ue=zr(n,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames"]);return oe.createElement("input",Se({autoComplete:t},ue,{onChange:j,onFocus:K,onBlur:Y,onKeyDown:ee,className:J(c,N({},"".concat(c,"-disabled"),u),w==null?void 0:w.input),style:x==null?void 0:x.input,ref:O,size:h,type:b,onCompositionStart:function(le){I.current=!0,E==null||E(le)},onCompositionEnd:q}))},ve=function(){var ue=Number(Q)>0;if(g||re.show){var xe=re.showFormatter?re.showFormatter({value:z,count:ce,maxLength:Q}):"".concat(ce).concat(ue?" / ".concat(Q):"");return oe.createElement(oe.Fragment,null,re.show&&oe.createElement("span",{className:J("".concat(c,"-show-count-suffix"),N({},"".concat(c,"-show-count-has-suffix"),!!g),w==null?void 0:w.count),style:V({},x==null?void 0:x.count)},xe),g)}return null};return oe.createElement(YV,Se({},$,{prefixCls:c,className:J(d,ne),handleReset:he,value:z,focused:P,triggerFocus:T,suffix:ve(),disabled:u,classes:S,classNames:w,styles:x}),de())});const GR=n=>n?oe.createElement(YM,null,oe.createElement(cJ,{override:!0,status:!0},n)):null,Cie=n=>{const{getPrefixCls:e,direction:t}=p.useContext(Pt),{prefixCls:i,className:r}=n,o=e("input-group",i),s=e("input"),[l,a]=$$(s),c=J(o,{[`${o}-lg`]:n.size==="large",[`${o}-sm`]:n.size==="small",[`${o}-compact`]:n.compact,[`${o}-rtl`]:t==="rtl"},a,r),u=p.useContext(is),h=p.useMemo(()=>Object.assign(Object.assign({},u),{isFormItemInput:!1}),[u]);return l(p.createElement("span",{className:c,style:n.style,onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onFocus:n.onFocus,onBlur:n.onBlur},p.createElement(is.Provider,{value:h},n.children)))},JV=n=>{let e;return typeof n=="object"&&(n!=null&&n.clearIcon)?e=n:n&&(e={clearIcon:oe.createElement(Sz,null)}),e};function ZV(n,e){const t=p.useRef([]),i=()=>{t.current.push(setTimeout(()=>{var r,o,s,l;!((r=n.current)===null||r===void 0)&&r.input&&((o=n.current)===null||o===void 0?void 0:o.input.getAttribute("type"))==="password"&&(!((s=n.current)===null||s===void 0)&&s.input.hasAttribute("value"))&&((l=n.current)===null||l===void 0||l.input.removeAttribute("value"))}))};return p.useEffect(()=>(e&&i(),()=>t.current.forEach(r=>{r&&clearTimeout(r)})),[]),i}function Eie(n){return!!(n.prefix||n.suffix||n.allowClear||n.showCount)}var Mie=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function $ie(n,e){if(!n)return;n.focus(e);const{cursor:t}=e||{};if(t){const i=n.value.length;switch(t){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(i,i);break;default:n.setSelectionRange(0,i)}}}const ky=p.forwardRef((n,e)=>{var t;const{prefixCls:i,bordered:r=!0,status:o,size:s,disabled:l,onBlur:a,onFocus:c,suffix:u,allowClear:h,addonAfter:d,addonBefore:f,className:g,style:y,styles:v,rootClassName:m,onChange:b,classNames:S,variant:w}=n,x=Mie(n,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:E,direction:C,input:$}=oe.useContext(Pt),M=E("input",i),A=p.useRef(null),P=ls(M),[D,I,O]=$$(M,P),{compactSize:H,compactItemClassnames:T}=mp(M,C),R=Us(ee=>{var K;return(K=s??H)!==null&&K!==void 0?K:ee}),k=oe.useContext(yl),B=l??k,{status:L,hasFeedback:z,feedbackIcon:F}=p.useContext(is),_=wy(L,o),G=Eie(n)||!!z;p.useRef(G);const Z=ZV(A,!0),re=ee=>{Z(),a==null||a(ee)},Q=ee=>{Z(),c==null||c(ee)},ce=ee=>{Z(),b==null||b(ee)},fe=(z||u)&&oe.createElement(oe.Fragment,null,u,z&&F),te=JV(h??($==null?void 0:$.allowClear)),[j,q]=h$(w,r);return D(oe.createElement(xie,Object.assign({ref:ko(e,A),prefixCls:M,autoComplete:$==null?void 0:$.autoComplete},x,{disabled:B,onBlur:re,onFocus:Q,style:Object.assign(Object.assign({},$==null?void 0:$.style),y),styles:Object.assign(Object.assign({},$==null?void 0:$.styles),v),suffix:fe,allowClear:te,className:J(g,m,O,P,T,$==null?void 0:$.className),onChange:ce,addonBefore:GR(f),addonAfter:GR(d),classNames:Object.assign(Object.assign(Object.assign({},S),$==null?void 0:$.classNames),{input:J({[`${M}-sm`]:R==="small",[`${M}-lg`]:R==="large",[`${M}-rtl`]:C==="rtl"},S==null?void 0:S.input,(t=$==null?void 0:$.classNames)===null||t===void 0?void 0:t.input,I),variant:J({[`${M}-${j}`]:q},L0(M,_)),affixWrapper:J({[`${M}-affix-wrapper-sm`]:R==="small",[`${M}-affix-wrapper-lg`]:R==="large",[`${M}-affix-wrapper-rtl`]:C==="rtl"},I),wrapper:J({[`${M}-group-rtl`]:C==="rtl"},I),groupWrapper:J({[`${M}-group-wrapper-sm`]:R==="small",[`${M}-group-wrapper-lg`]:R==="large",[`${M}-group-wrapper-rtl`]:C==="rtl",[`${M}-group-wrapper-${j}`]:q},L0(`${M}-group-wrapper`,_,z),I)})})))}),kie=n=>{const{componentCls:e,paddingXS:t}=n;return{[`${e}`]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:t,"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:n.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:n.calc(n.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:n.paddingXS}}}},Oie=xr(["Input","OTP"],n=>{const e=sn(n,w$(n));return[kie(e)]},x$);var Aie=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Rie=p.forwardRef((n,e)=>{const{value:t,onChange:i,onActiveChange:r,index:o,mask:s}=n,l=Aie(n,["value","onChange","onActiveChange","index","mask"]),a=t&&typeof s=="string"?s:t,c=g=>{i(o,g.target.value)},u=p.useRef(null);p.useImperativeHandle(e,()=>u.current);const h=()=>{Xt(()=>{var g;const y=(g=u.current)===null||g===void 0?void 0:g.input;document.activeElement===y&&y&&y.select()})},d=g=>{let{key:y}=g;y==="ArrowLeft"?r(o-1):y==="ArrowRight"&&r(o+1),h()},f=g=>{g.key==="Backspace"&&!t&&r(o-1),h()};return p.createElement(ky,Object.assign({},l,{ref:u,value:a,onInput:c,onFocus:h,onKeyDown:d,onKeyUp:f,onMouseDown:h,onMouseUp:h,type:s===!0?"password":"text"}))});var Die=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function gg(n){return(n||"").split("")}const Tie=p.forwardRef((n,e)=>{const{prefixCls:t,length:i=6,size:r,defaultValue:o,value:s,onChange:l,formatter:a,variant:c,disabled:u,status:h,autoFocus:d,mask:f}=n,g=Die(n,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask"]),{getPrefixCls:y,direction:v}=p.useContext(Pt),m=y("otp",t),b=ns(g,{aria:!0,data:!0,attr:!0}),S=ls(m),[w,x,E]=Oie(m,S),C=Us(z=>r??z),$=p.useContext(is),M=wy($.status,h),A=p.useMemo(()=>Object.assign(Object.assign({},$),{status:M,hasFeedback:!1,feedbackIcon:null}),[$,M]),P=p.useRef(null),D=p.useRef({});p.useImperativeHandle(e,()=>({focus:()=>{var z;(z=D.current[0])===null||z===void 0||z.focus()},blur:()=>{var z;for(let F=0;F<i;F+=1)(z=D.current[F])===null||z===void 0||z.blur()},nativeElement:P.current}));const I=z=>a?a(z):z,[O,H]=p.useState(gg(I(o||"")));p.useEffect(()=>{s!==void 0&&H(gg(s))},[s]);const T=on(z=>{H(z),l&&z.length===i&&z.every(F=>F)&&z.some((F,_)=>O[_]!==F)&&l(z.join(""))}),R=on((z,F)=>{let _=be(O);for(let Z=0;Z<z;Z+=1)_[Z]||(_[Z]="");F.length<=1?_[z]=F:_=_.slice(0,z).concat(gg(F)),_=_.slice(0,i);for(let Z=_.length-1;Z>=0&&!_[Z];Z-=1)_.pop();const G=I(_.map(Z=>Z||" ").join(""));return _=gg(G).map((Z,re)=>Z===" "&&!_[re]?_[re]:Z),_}),k=(z,F)=>{var _;const G=R(z,F),Z=Math.min(z+F.length,i-1);Z!==z&&((_=D.current[Z])===null||_===void 0||_.focus()),T(G)},B=z=>{var F;(F=D.current[z])===null||F===void 0||F.focus()},L={variant:c,disabled:u,status:M,mask:f};return w(p.createElement("div",Object.assign({},b,{ref:P,className:J(m,{[`${m}-sm`]:C==="small",[`${m}-lg`]:C==="large",[`${m}-rtl`]:v==="rtl"},E,x)}),p.createElement(is.Provider,{value:A},Array.from({length:i}).map((z,F)=>{const _=`otp-${F}`,G=O[F]||"";return p.createElement(Rie,Object.assign({ref:Z=>{D.current[F]=Z},key:_,index:F,size:C,htmlSize:1,className:`${m}-input`,onChange:k,value:G,onActiveChange:B,autoFocus:F===0&&d},L))}))))});var Pie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Iie=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:Pie}))},Nie=p.forwardRef(Iie),Bie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},Lie=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:Bie}))},Hie=p.forwardRef(Lie),zie=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Vie=n=>n?p.createElement(Hie,null):p.createElement(Nie,null),Fie={click:"onClick",hover:"onMouseOver"},Wie=p.forwardRef((n,e)=>{const{disabled:t,action:i="click",visibilityToggle:r=!0,iconRender:o=Vie}=n,s=typeof r=="object"&&r.visible!==void 0,[l,a]=p.useState(()=>s?r.visible:!1),c=p.useRef(null);p.useEffect(()=>{s&&a(r.visible)},[s,r]);const u=ZV(c),h=()=>{t||(l&&u(),a($=>{var M;const A=!$;return typeof r=="object"&&((M=r.onVisibleChange)===null||M===void 0||M.call(r,A)),A}))},d=$=>{const M=Fie[i]||"",A=o(l),P={[M]:h,className:`${$}-icon`,key:"passwordIcon",onMouseDown:D=>{D.preventDefault()},onMouseUp:D=>{D.preventDefault()}};return p.cloneElement(p.isValidElement(A)?A:p.createElement("span",null,A),P)},{className:f,prefixCls:g,inputPrefixCls:y,size:v}=n,m=zie(n,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:b}=p.useContext(Pt),S=b("input",y),w=b("input-password",g),x=r&&d(w),E=J(w,f,{[`${w}-${v}`]:!!v}),C=Object.assign(Object.assign({},zr(m,["suffix","iconRender","visibilityToggle"])),{type:l?"text":"password",className:E,prefixCls:S,suffix:x});return v&&(C.size=v),p.createElement(ky,Object.assign({ref:ko(e,c)},C))});var _ie=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const jie=p.forwardRef((n,e)=>{const{prefixCls:t,inputPrefixCls:i,className:r,size:o,suffix:s,enterButton:l=!1,addonAfter:a,loading:c,disabled:u,onSearch:h,onChange:d,onCompositionStart:f,onCompositionEnd:g}=n,y=_ie(n,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:v,direction:m}=p.useContext(Pt),b=p.useRef(!1),S=v("input-search",t),w=v("input",i),{compactSize:x}=mp(S,m),E=Us(L=>{var z;return(z=o??x)!==null&&z!==void 0?z:L}),C=p.useRef(null),$=L=>{L&&L.target&&L.type==="click"&&h&&h(L.target.value,L,{source:"clear"}),d&&d(L)},M=L=>{var z;document.activeElement===((z=C.current)===null||z===void 0?void 0:z.input)&&L.preventDefault()},A=L=>{var z,F;h&&h((F=(z=C.current)===null||z===void 0?void 0:z.input)===null||F===void 0?void 0:F.value,L,{source:"input"})},P=L=>{b.current||c||A(L)},D=typeof l=="boolean"?p.createElement(d$,null):null,I=`${S}-button`;let O;const H=l||{},T=H.type&&H.type.__ANT_BUTTON===!0;T||H.type==="button"?O=Eo(H,Object.assign({onMouseDown:M,onClick:L=>{var z,F;(F=(z=H==null?void 0:H.props)===null||z===void 0?void 0:z.onClick)===null||F===void 0||F.call(z,L),A(L)},key:"enterButton"},T?{className:I,size:E}:{})):O=p.createElement(nc,{className:I,type:l?"primary":void 0,size:E,disabled:u,key:"enterButton",onMouseDown:M,onClick:A,loading:c,icon:D},l),a&&(O=[O,Eo(a,{key:"addonAfter"})]);const R=J(S,{[`${S}-rtl`]:m==="rtl",[`${S}-${E}`]:!!E,[`${S}-with-button`]:!!l},r),k=L=>{b.current=!0,f==null||f(L)},B=L=>{b.current=!1,g==null||g(L)};return p.createElement(ky,Object.assign({ref:ko(C,e),onPressEnter:P},y,{size:E,onCompositionStart:k,onCompositionEnd:B,prefixCls:w,addonAfter:O,suffix:s,onChange:$,className:R,disabled:u}))});var Kie=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,qie=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],a1={},ho;function Gie(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=n.getAttribute("id")||n.getAttribute("data-reactid")||n.getAttribute("name");if(e&&a1[t])return a1[t];var i=window.getComputedStyle(n),r=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),o=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),s=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),l=qie.map(function(c){return"".concat(c,":").concat(i.getPropertyValue(c))}).join(";"),a={sizingStyle:l,paddingSize:o,borderSize:s,boxSizing:r};return e&&t&&(a1[t]=a),a}function Uie(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;ho||(ho=document.createElement("textarea"),ho.setAttribute("tab-index","-1"),ho.setAttribute("aria-hidden","true"),document.body.appendChild(ho)),n.getAttribute("wrap")?ho.setAttribute("wrap",n.getAttribute("wrap")):ho.removeAttribute("wrap");var r=Gie(n,e),o=r.paddingSize,s=r.borderSize,l=r.boxSizing,a=r.sizingStyle;ho.setAttribute("style","".concat(a,";").concat(Kie)),ho.value=n.value||n.placeholder||"";var c=void 0,u=void 0,h,d=ho.scrollHeight;if(l==="border-box"?d+=s:l==="content-box"&&(d-=o),t!==null||i!==null){ho.value=" ";var f=ho.scrollHeight-o;t!==null&&(c=f*t,l==="border-box"&&(c=c+o+s),d=Math.max(c,d)),i!==null&&(u=f*i,l==="border-box"&&(u=u+o+s),h=d>u?"":"hidden",d=Math.min(u,d))}var g={height:d,overflowY:h,resize:"none"};return c&&(g.minHeight=c),u&&(g.maxHeight=u),g}var Xie=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],c1=0,u1=1,h1=2,Yie=p.forwardRef(function(n,e){var t=n,i=t.prefixCls;t.onPressEnter;var r=t.defaultValue,o=t.value,s=t.autoSize,l=t.onResize,a=t.className,c=t.style,u=t.disabled,h=t.onChange;t.onInternalAutoSize;var d=bt(t,Xie),f=Ri(r,{value:o,postState:function(G){return G??""}}),g=X(f,2),y=g[0],v=g[1],m=function(G){v(G.target.value),h==null||h(G)},b=p.useRef();p.useImperativeHandle(e,function(){return{textArea:b.current}});var S=p.useMemo(function(){return s&&et(s)==="object"?[s.minRows,s.maxRows]:[]},[s]),w=X(S,2),x=w[0],E=w[1],C=!!s,$=function(){try{if(document.activeElement===b.current){var G=b.current,Z=G.selectionStart,re=G.selectionEnd,Q=G.scrollTop;b.current.setSelectionRange(Z,re),b.current.scrollTop=Q}}catch{}},M=p.useState(h1),A=X(M,2),P=A[0],D=A[1],I=p.useState(),O=X(I,2),H=O[0],T=O[1],R=function(){D(c1)};Kt(function(){C&&R()},[o,x,E,C]),Kt(function(){if(P===c1)D(u1);else if(P===u1){var _=Uie(b.current,!1,x,E);D(h1),T(_)}else $()},[P]);var k=p.useRef(),B=function(){Xt.cancel(k.current)},L=function(G){P===h1&&(l==null||l(G),s&&(B(),k.current=Xt(function(){R()})))};p.useEffect(function(){return B},[]);var z=C?H:null,F=V(V({},c),z);return(P===c1||P===u1)&&(F.overflowY="hidden",F.overflowX="hidden"),p.createElement(ss,{onResize:L,disabled:!(s||l)},p.createElement("textarea",Se({},d,{ref:b,style:F,className:J(i,a,N({},"".concat(i,"-disabled"),u)),disabled:u,value:y,onChange:m})))}),Qie=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","readOnly"],Jie=oe.forwardRef(function(n,e){var t,i=n.defaultValue,r=n.value,o=n.onFocus,s=n.onBlur,l=n.onChange,a=n.allowClear,c=n.maxLength,u=n.onCompositionStart,h=n.onCompositionEnd,d=n.suffix,f=n.prefixCls,g=f===void 0?"rc-textarea":f,y=n.showCount,v=n.count,m=n.className,b=n.style,S=n.disabled,w=n.hidden,x=n.classNames,E=n.styles,C=n.onResize,$=n.readOnly,M=bt(n,Qie),A=Ri(i,{value:r,defaultValue:i}),P=X(A,2),D=P[0],I=P[1],O=D==null?"":String(D),H=oe.useState(!1),T=X(H,2),R=T[0],k=T[1],B=oe.useRef(!1),L=oe.useState(null),z=X(L,2),F=z[0],_=z[1],G=p.useRef(null),Z=p.useRef(null),re=function(){var ae;return(ae=Z.current)===null||ae===void 0?void 0:ae.textArea},Q=function(){re().focus()};p.useImperativeHandle(e,function(){var Ie;return{resizableTextArea:Z.current,focus:Q,blur:function(){re().blur()},nativeElement:((Ie=G.current)===null||Ie===void 0?void 0:Ie.nativeElement)||re()}}),p.useEffect(function(){k(function(Ie){return!S&&Ie})},[S]);var ce=oe.useState(null),fe=X(ce,2),te=fe[0],j=fe[1];oe.useEffect(function(){if(te){var Ie;(Ie=re()).setSelectionRange.apply(Ie,be(te))}},[te]);var q=QV(v,y),ee=(t=q.max)!==null&&t!==void 0?t:c,K=Number(ee)>0,Y=q.strategy(O),he=!!ee&&Y>ee,ne=function(ae,$e){var Ae=$e;!B.current&&q.exceedFormatter&&q.max&&q.strategy($e)>q.max&&(Ae=q.exceedFormatter($e,{max:q.max}),$e!==Ae&&j([re().selectionStart||0,re().selectionEnd||0])),I(Ae),_0(ae.currentTarget,ae,l,Ae)},de=function(ae){B.current=!0,u==null||u(ae)},ve=function(ae){B.current=!1,ne(ae,ae.currentTarget.value),h==null||h(ae)},se=function(ae){ne(ae,ae.target.value)},ue=function(ae){var $e=M.onPressEnter,Ae=M.onKeyDown;ae.key==="Enter"&&$e&&$e(ae),Ae==null||Ae(ae)},xe=function(ae){k(!0),o==null||o(ae)},le=function(ae){k(!1),s==null||s(ae)},pe=function(ae){I(""),Q(),_0(re(),ae,l)},Me=d,we;q.show&&(q.showFormatter?we=q.showFormatter({value:O,count:Y,maxLength:ee}):we="".concat(Y).concat(K?" / ".concat(ee):""),Me=oe.createElement(oe.Fragment,null,Me,oe.createElement("span",{className:J("".concat(g,"-data-count"),x==null?void 0:x.count),style:E==null?void 0:E.count},we)));var st=function(ae){var $e;C==null||C(ae),($e=re())!==null&&$e!==void 0&&$e.style.height&&_(!0)},Qe=!M.autoSize&&!y&&!a;return oe.createElement(YV,{ref:G,value:O,allowClear:a,handleReset:pe,suffix:Me,prefixCls:g,classNames:V(V({},x),{},{affixWrapper:J(x==null?void 0:x.affixWrapper,N(N({},"".concat(g,"-show-count"),y),"".concat(g,"-textarea-allow-clear"),a))}),disabled:S,focused:R,className:J(m,he&&"".concat(g,"-out-of-range")),style:V(V({},b),F&&!Qe?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof we=="string"?we:void 0}},hidden:w,readOnly:$},oe.createElement(Yie,Se({},M,{maxLength:c,onKeyDown:ue,onChange:se,onFocus:xe,onBlur:le,onCompositionStart:de,onCompositionEnd:ve,className:J(x==null?void 0:x.textarea),style:V(V({},E==null?void 0:E.textarea),{},{resize:b==null?void 0:b.resize}),disabled:S,prefixCls:g,onResize:st,ref:Z,readOnly:$})))}),Zie=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const ere=p.forwardRef((n,e)=>{var t,i;const{prefixCls:r,bordered:o=!0,size:s,disabled:l,status:a,allowClear:c,classNames:u,rootClassName:h,className:d,style:f,styles:g,variant:y}=n,v=Zie(n,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:m,direction:b,textArea:S}=p.useContext(Pt),w=Us(s),x=p.useContext(yl),E=l??x,{status:C,hasFeedback:$,feedbackIcon:M}=p.useContext(is),A=wy(C,a),P=p.useRef(null);p.useImperativeHandle(e,()=>{var L;return{resizableTextArea:(L=P.current)===null||L===void 0?void 0:L.resizableTextArea,focus:z=>{var F,_;$ie((_=(F=P.current)===null||F===void 0?void 0:F.resizableTextArea)===null||_===void 0?void 0:_.textArea,z)},blur:()=>{var z;return(z=P.current)===null||z===void 0?void 0:z.blur()}}});const D=m("input",r),I=ls(D),[O,H,T]=$$(D,I),[R,k]=h$(y,o),B=JV(c??(S==null?void 0:S.allowClear));return O(p.createElement(Jie,Object.assign({autoComplete:S==null?void 0:S.autoComplete},v,{style:Object.assign(Object.assign({},S==null?void 0:S.style),f),styles:Object.assign(Object.assign({},S==null?void 0:S.styles),g),disabled:E,allowClear:B,className:J(T,I,d,h,S==null?void 0:S.className),classNames:Object.assign(Object.assign(Object.assign({},u),S==null?void 0:S.classNames),{textarea:J({[`${D}-sm`]:w==="small",[`${D}-lg`]:w==="large"},H,u==null?void 0:u.textarea,(t=S==null?void 0:S.classNames)===null||t===void 0?void 0:t.textarea),variant:J({[`${D}-${R}`]:k},L0(D,A)),affixWrapper:J(`${D}-textarea-affix-wrapper`,{[`${D}-affix-wrapper-rtl`]:b==="rtl",[`${D}-affix-wrapper-sm`]:w==="small",[`${D}-affix-wrapper-lg`]:w==="large",[`${D}-textarea-show-count`]:n.showCount||((i=n.count)===null||i===void 0?void 0:i.show)},H)}),prefixCls:D,suffix:$&&p.createElement("span",{className:`${D}-textarea-suffix`},M),ref:P})))}),Sh=ky;Sh.Group=Cie;Sh.Search=jie;Sh.TextArea=ere;Sh.Password=Wie;Sh.OTP=Tie;function UR(n){return["small","middle","large"].includes(n)}function XR(n){return n?typeof n=="number"&&!Number.isNaN(n):!1}const e8=oe.createContext({latestIndex:0}),tre=e8.Provider,nre=n=>{let{className:e,index:t,children:i,split:r,style:o}=n;const{latestIndex:s}=p.useContext(e8);return i==null?null:p.createElement(p.Fragment,null,p.createElement("div",{className:e,style:o},i),t<s&&r&&p.createElement("span",{className:`${e}-split`},r))};var ire=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const rre=p.forwardRef((n,e)=>{var t,i,r;const{getPrefixCls:o,space:s,direction:l}=p.useContext(Pt),{size:a=(t=s==null?void 0:s.size)!==null&&t!==void 0?t:"small",align:c,className:u,rootClassName:h,children:d,direction:f="horizontal",prefixCls:g,split:y,style:v,wrap:m=!1,classNames:b,styles:S}=n,w=ire(n,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[x,E]=Array.isArray(a)?a:[a,a],C=UR(E),$=UR(x),M=XR(E),A=XR(x),P=ts(d,{keepEmpty:!0}),D=c===void 0&&f==="horizontal"?"center":c,I=o("space",g),[O,H,T]=Mz(I),R=J(I,s==null?void 0:s.className,H,`${I}-${f}`,{[`${I}-rtl`]:l==="rtl",[`${I}-align-${D}`]:D,[`${I}-gap-row-${E}`]:C,[`${I}-gap-col-${x}`]:$},u,h,T),k=J(`${I}-item`,(i=b==null?void 0:b.item)!==null&&i!==void 0?i:(r=s==null?void 0:s.classNames)===null||r===void 0?void 0:r.item);let B=0;const L=P.map((_,G)=>{var Z,re;_!=null&&(B=G);const Q=_&&_.key||`${k}-${G}`;return p.createElement(nre,{className:k,key:Q,index:G,split:y,style:(Z=S==null?void 0:S.item)!==null&&Z!==void 0?Z:(re=s==null?void 0:s.styles)===null||re===void 0?void 0:re.item},_)}),z=p.useMemo(()=>({latestIndex:B}),[B]);if(P.length===0)return null;const F={};return m&&(F.flexWrap="wrap"),!$&&A&&(F.columnGap=x),!C&&M&&(F.rowGap=E),O(p.createElement("div",Object.assign({ref:e,className:R,style:Object.assign(Object.assign(Object.assign({},F),s==null?void 0:s.style),v)},w),p.createElement(tre,{value:z},L)))}),O$=rre;O$.Compact=OY;var ore=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const t8=n=>{const{getPopupContainer:e,getPrefixCls:t,direction:i}=p.useContext(Pt),{prefixCls:r,type:o="default",danger:s,disabled:l,loading:a,onClick:c,htmlType:u,children:h,className:d,menu:f,arrow:g,autoFocus:y,overlay:v,trigger:m,align:b,open:S,onOpenChange:w,placement:x,getPopupContainer:E,href:C,icon:$=p.createElement(TV,null),title:M,buttonsRender:A=ce=>ce,mouseEnterDelay:P,mouseLeaveDelay:D,overlayClassName:I,overlayStyle:O,destroyPopupOnHide:H,dropdownRender:T}=n,R=ore(n,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),k=t("dropdown",r),B=`${k}-button`,L={menu:f,arrow:g,autoFocus:y,align:b,disabled:l,trigger:l?[]:m,onOpenChange:w,getPopupContainer:E||e,mouseEnterDelay:P,mouseLeaveDelay:D,overlayClassName:I,overlayStyle:O,destroyPopupOnHide:H,dropdownRender:T},{compactSize:z,compactItemClassnames:F}=mp(k,i),_=J(B,F,d);"overlay"in n&&(L.overlay=v),"open"in n&&(L.open=S),"placement"in n?L.placement=x:L.placement=i==="rtl"?"bottomLeft":"bottomRight";const G=p.createElement(nc,{type:o,danger:s,disabled:l,loading:a,onClick:c,htmlType:u,href:C,title:M},h),Z=p.createElement(nc,{type:o,danger:s,icon:$}),[re,Q]=A([G,Z]);return p.createElement(O$.Compact,Object.assign({className:_,size:z,block:!0},R),re,p.createElement(My,Object.assign({},L),Q))};t8.__ANT_BUTTON=!0;const A$=My;A$.Button=t8;function YR(n){var e=n.getBoundingClientRect(),t=document.documentElement;return{left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||document.body.clientTop||0)}}function mg(n,e,t,i){var r=df.unstable_batchedUpdates?function(s){df.unstable_batchedUpdates(t,s)}:t;return n!=null&&n.addEventListener&&n.addEventListener(e,r,i),{remove:function(){n!=null&&n.removeEventListener&&n.removeEventListener(e,r,i)}}}const sre=function(){const n=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let e=1;e<arguments.length;e++){const t=e<0||arguments.length<=e?void 0:arguments[e];t&&Object.keys(t).forEach(i=>{const r=t[i];r!==void 0&&(n[i]=r)})}return n};var lre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},are=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:lre}))},QR=p.forwardRef(are),cre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},ure=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:cre}))},JR=p.forwardRef(ure),hre={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""},dre=["10","20","50","100"],fre=function(e){var t=e.pageSizeOptions,i=t===void 0?dre:t,r=e.locale,o=e.changeSize,s=e.pageSize,l=e.goButton,a=e.quickGo,c=e.rootPrefixCls,u=e.selectComponentClass,h=e.selectPrefixCls,d=e.disabled,f=e.buildOptionText,g=oe.useState(""),y=X(g,2),v=y[0],m=y[1],b=function(){return!v||Number.isNaN(v)?void 0:Number(v)},S=typeof f=="function"?f:function(O){return"".concat(O," ").concat(r.items_per_page)},w=function(H){o==null||o(Number(H))},x=function(H){m(H.target.value)},E=function(H){l||v===""||(m(""),!(H.relatedTarget&&(H.relatedTarget.className.indexOf("".concat(c,"-item-link"))>=0||H.relatedTarget.className.indexOf("".concat(c,"-item"))>=0))&&(a==null||a(b())))},C=function(H){v!==""&&(H.keyCode===me.ENTER||H.type==="click")&&(m(""),a==null||a(b()))},$=function(){return i.some(function(H){return H.toString()===s.toString()})?i:i.concat([s.toString()]).sort(function(H,T){var R=Number.isNaN(Number(H))?0:Number(H),k=Number.isNaN(Number(T))?0:Number(T);return R-k})},M="".concat(c,"-options");if(!o&&!a)return null;var A=null,P=null,D=null;if(o&&u){var I=$().map(function(O,H){return oe.createElement(u.Option,{key:H,value:O.toString()},S(O))});A=oe.createElement(u,{disabled:d,prefixCls:h,showSearch:!1,className:"".concat(M,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(s||i[0]).toString(),onChange:w,getPopupContainer:function(H){return H.parentNode},"aria-label":r.page_size,defaultOpen:!1},I)}return a&&(l&&(D=typeof l=="boolean"?oe.createElement("button",{type:"button",onClick:C,onKeyUp:C,disabled:d,className:"".concat(M,"-quick-jumper-button")},r.jump_to_confirm):oe.createElement("span",{onClick:C,onKeyUp:C},l)),P=oe.createElement("div",{className:"".concat(M,"-quick-jumper")},r.jump_to,oe.createElement("input",{disabled:d,type:"text",value:v,onChange:x,onKeyUp:C,onBlur:E,"aria-label":r.page}),r.page,D)),oe.createElement("li",{className:M},A,P)},Hh=function(e){var t,i=e.rootPrefixCls,r=e.page,o=e.active,s=e.className,l=e.showTitle,a=e.onClick,c=e.onKeyPress,u=e.itemRender,h="".concat(i,"-item"),d=J(h,"".concat(h,"-").concat(r),(t={},N(t,"".concat(h,"-active"),o),N(t,"".concat(h,"-disabled"),!r),t),s),f=function(){a(r)},g=function(m){c(m,a,r)},y=u(r,"page",oe.createElement("a",{rel:"nofollow"},r));return y?oe.createElement("li",{title:l?String(r):null,className:d,onClick:f,onKeyDown:g,tabIndex:0},y):null},pre=function(e,t,i){return i};function ZR(){}function eD(n){var e=Number(n);return typeof e=="number"&&!Number.isNaN(e)&&isFinite(e)&&Math.floor(e)===e}function Ma(n,e,t){var i=typeof n>"u"?e:n;return Math.floor((t-1)/i)+1}var gre=function(e){var t,i=e.prefixCls,r=i===void 0?"rc-pagination":i,o=e.selectPrefixCls,s=o===void 0?"rc-select":o,l=e.className,a=e.selectComponentClass,c=e.current,u=e.defaultCurrent,h=u===void 0?1:u,d=e.total,f=d===void 0?0:d,g=e.pageSize,y=e.defaultPageSize,v=y===void 0?10:y,m=e.onChange,b=m===void 0?ZR:m,S=e.hideOnSinglePage,w=e.showPrevNextJumpers,x=w===void 0?!0:w,E=e.showQuickJumper,C=e.showLessItems,$=e.showTitle,M=$===void 0?!0:$,A=e.onShowSizeChange,P=A===void 0?ZR:A,D=e.locale,I=D===void 0?hre:D,O=e.style,H=e.totalBoundaryShowSizeChanger,T=H===void 0?50:H,R=e.disabled,k=e.simple,B=e.showTotal,L=e.showSizeChanger,z=e.pageSizeOptions,F=e.itemRender,_=F===void 0?pre:F,G=e.jumpPrevIcon,Z=e.jumpNextIcon,re=e.prevIcon,Q=e.nextIcon,ce=oe.useRef(null),fe=Ri(10,{value:g,defaultValue:v}),te=X(fe,2),j=te[0],q=te[1],ee=Ri(1,{value:c,defaultValue:h,postState:function(Ct){return Math.max(1,Math.min(Ct,Ma(void 0,j,f)))}}),K=X(ee,2),Y=K[0],he=K[1],ne=oe.useState(Y),de=X(ne,2),ve=de[0],se=de[1];p.useEffect(function(){se(Y)},[Y]);var ue=Math.max(1,Y-(C?3:5)),xe=Math.min(Ma(void 0,j,f),Y+(C?3:5));function le(Ge,Ct){var Wt=Ge||oe.createElement("button",{type:"button","aria-label":Ct,className:"".concat(r,"-item-link")});return typeof Ge=="function"&&(Wt=oe.createElement(Ge,V({},e))),Wt}function pe(Ge){var Ct=Ge.target.value,Wt=Ma(void 0,j,f),Jt;return Ct===""?Jt=Ct:Number.isNaN(Number(Ct))?Jt=ve:Ct>=Wt?Jt=Wt:Jt=Number(Ct),Jt}function Me(Ge){return eD(Ge)&&Ge!==Y&&eD(f)&&f>0}var we=f>j?E:!1;function st(Ge){(Ge.keyCode===me.UP||Ge.keyCode===me.DOWN)&&Ge.preventDefault()}function Qe(Ge){var Ct=pe(Ge);switch(Ct!==ve&&se(Ct),Ge.keyCode){case me.ENTER:$e(Ct);break;case me.UP:$e(Ct-1);break;case me.DOWN:$e(Ct+1);break}}function Ie(Ge){$e(pe(Ge))}function ae(Ge){var Ct=Ma(Ge,j,f),Wt=Y>Ct&&Ct!==0?Ct:Y;q(Ge),se(Wt),P==null||P(Y,Ge),he(Wt),b==null||b(Wt,Ge)}function $e(Ge){if(Me(Ge)&&!R){var Ct=Ma(void 0,j,f),Wt=Ge;return Ge>Ct?Wt=Ct:Ge<1&&(Wt=1),Wt!==ve&&se(Wt),he(Wt),b==null||b(Wt,j),Wt}return Y}var Ae=Y>1,Ue=Y<Ma(void 0,j,f),lt=L??f>T;function Ke(){Ae&&$e(Y-1)}function qe(){Ue&&$e(Y+1)}function at(){$e(ue)}function _e(){$e(xe)}function Ot(Ge,Ct){if(Ge.key==="Enter"||Ge.charCode===me.ENTER||Ge.keyCode===me.ENTER){for(var Wt=arguments.length,Jt=new Array(Wt>2?Wt-2:0),fn=2;fn<Wt;fn++)Jt[fn-2]=arguments[fn];Ct.apply(void 0,Jt)}}function xt(Ge){Ot(Ge,Ke)}function Ft(Ge){Ot(Ge,qe)}function St(Ge){Ot(Ge,at)}function Dt(Ge){Ot(Ge,_e)}function ht(Ge){var Ct=_(Ge,"prev",le(re,"prev page"));return oe.isValidElement(Ct)?oe.cloneElement(Ct,{disabled:!Ae}):Ct}function Pe(Ge){var Ct=_(Ge,"next",le(Q,"next page"));return oe.isValidElement(Ct)?oe.cloneElement(Ct,{disabled:!Ue}):Ct}function nt(Ge){(Ge.type==="click"||Ge.keyCode===me.ENTER)&&$e(ve)}var Fe=null,Ce=ns(e,{aria:!0,data:!0}),Te=B&&oe.createElement("li",{className:"".concat(r,"-total-text")},B(f,[f===0?0:(Y-1)*j+1,Y*j>f?f:Y*j])),We=null,ye=Ma(void 0,j,f);if(S&&f<=j)return null;var Oe=[],ke={rootPrefixCls:r,onClick:$e,onKeyPress:Ot,showTitle:M,itemRender:_,page:-1},Je=Y-1>0?Y-1:0,wt=Y+1<ye?Y+1:ye,mt=E&&E.goButton,Ht=mt,Le=null;k&&(mt&&(typeof mt=="boolean"?Ht=oe.createElement("button",{type:"button",onClick:nt,onKeyUp:nt},I.jump_to_confirm):Ht=oe.createElement("span",{onClick:nt,onKeyUp:nt},mt),Ht=oe.createElement("li",{title:M?"".concat(I.jump_to).concat(Y,"/").concat(ye):null,className:"".concat(r,"-simple-pager")},Ht)),Le=oe.createElement("li",{title:M?"".concat(Y,"/").concat(ye):null,className:"".concat(r,"-simple-pager")},oe.createElement("input",{type:"text",value:ve,disabled:R,onKeyDown:st,onKeyUp:Qe,onChange:Qe,onBlur:Ie,size:3}),oe.createElement("span",{className:"".concat(r,"-slash")},"/"),ye));var Xe=C?1:2;if(ye<=3+Xe*2){ye||Oe.push(oe.createElement(Hh,Se({},ke,{key:"noPager",page:1,className:"".concat(r,"-item-disabled")})));for(var Re=1;Re<=ye;Re+=1)Oe.push(oe.createElement(Hh,Se({},ke,{key:Re,page:Re,active:Y===Re})))}else{var vt=C?I.prev_3:I.prev_5,qt=C?I.next_3:I.next_5,zt=_(ue,"jump-prev",le(G,"prev page")),Nt=_(xe,"jump-next",le(Z,"next page"));x&&(Fe=zt?oe.createElement("li",{title:M?vt:null,key:"prev",onClick:at,tabIndex:0,onKeyDown:St,className:J("".concat(r,"-jump-prev"),N({},"".concat(r,"-jump-prev-custom-icon"),!!G))},zt):null,We=Nt?oe.createElement("li",{title:M?qt:null,key:"next",onClick:_e,tabIndex:0,onKeyDown:Dt,className:J("".concat(r,"-jump-next"),N({},"".concat(r,"-jump-next-custom-icon"),!!Z))},Nt):null);var Gt=Math.max(1,Y-Xe),ze=Math.min(Y+Xe,ye);Y-1<=Xe&&(ze=1+Xe*2),ye-Y<=Xe&&(Gt=ye-Xe*2);for(var Ne=Gt;Ne<=ze;Ne+=1)Oe.push(oe.createElement(Hh,Se({},ke,{key:Ne,page:Ne,active:Y===Ne})));if(Y-1>=Xe*2&&Y!==3&&(Oe[0]=oe.cloneElement(Oe[0],{className:J("".concat(r,"-item-after-jump-prev"),Oe[0].props.className)}),Oe.unshift(Fe)),ye-Y>=Xe*2&&Y!==ye-2){var Ze=Oe[Oe.length-1];Oe[Oe.length-1]=oe.cloneElement(Ze,{className:J("".concat(r,"-item-before-jump-next"),Ze.props.className)}),Oe.push(We)}Gt!==1&&Oe.unshift(oe.createElement(Hh,Se({},ke,{key:1,page:1}))),ze!==ye&&Oe.push(oe.createElement(Hh,Se({},ke,{key:ye,page:ye})))}var Vt=ht(Je);if(Vt){var an=!Ae||!ye;Vt=oe.createElement("li",{title:M?I.prev_page:null,onClick:Ke,tabIndex:an?null:0,onKeyDown:xt,className:J("".concat(r,"-prev"),N({},"".concat(r,"-disabled"),an)),"aria-disabled":an},Vt)}var Kn=Pe(wt);if(Kn){var cn,Zn;k?(cn=!Ue,Zn=Ae?0:null):(cn=!Ue||!ye,Zn=cn?null:0),Kn=oe.createElement("li",{title:M?I.next_page:null,onClick:qe,tabIndex:Zn,onKeyDown:Ft,className:J("".concat(r,"-next"),N({},"".concat(r,"-disabled"),cn)),"aria-disabled":cn},Kn)}var Zi=J(r,l,(t={},N(t,"".concat(r,"-simple"),k),N(t,"".concat(r,"-disabled"),R),t));return oe.createElement("ul",Se({className:Zi,style:O,ref:ce},Ce),Te,Vt,k?Le:Oe,Kn,oe.createElement(fre,{locale:I,rootPrefixCls:r,disabled:R,selectComponentClass:a,selectPrefixCls:s,changeSize:lt?ae:null,pageSize:j,pageSizeOptions:z,quickGo:we?$e:null,goButton:Ht}))};const n8=n=>p.createElement(rs,Object.assign({},n,{showSearch:!0,size:"small"})),i8=n=>p.createElement(rs,Object.assign({},n,{showSearch:!0,size:"middle"}));n8.Option=rs.Option;i8.Option=rs.Option;const mre=n=>{const{componentCls:e}=n;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:n.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:n.colorBorder,backgroundColor:n.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:n.itemActiveBgDisabled},a:{color:n.itemActiveColorDisabled}}},[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:n.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}},[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{[`&${e}-disabled ${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},vre=n=>{const{componentCls:e}=n;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:n.itemSizeSM,lineHeight:U(n.itemSizeSM)},[`&${e}-mini ${e}-item`]:{minWidth:n.itemSizeSM,height:n.itemSizeSM,margin:0,lineHeight:U(n.calc(n.itemSizeSM).sub(2).equal())},[`&${e}-mini:not(${e}-disabled) ${e}-item:not(${e}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive}},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:n.itemSizeSM,height:n.itemSizeSM,margin:0,lineHeight:U(n.itemSizeSM)},[`&${e}-mini:not(${e}-disabled)`]:{[`${e}-prev, ${e}-next`]:{[`&:hover ${e}-item-link`]:{backgroundColor:n.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:n.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:n.itemSizeSM,lineHeight:U(n.itemSizeSM)}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:n.itemSizeSM,marginInlineEnd:0,lineHeight:U(n.itemSizeSM)},[`&${e}-mini ${e}-options`]:{marginInlineStart:n.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:n.miniOptionsSizeChangerTop},"&-quick-jumper":{height:n.itemSizeSM,lineHeight:U(n.itemSizeSM),input:Object.assign(Object.assign({},E$(n)),{width:n.paginationMiniQuickJumperInputWidth,height:n.controlHeightSM})}}}},yre=n=>{const{componentCls:e}=n;return{[`
    &${e}-simple ${e}-prev,
    &${e}-simple ${e}-next
    `]:{height:n.itemSizeSM,lineHeight:U(n.itemSizeSM),verticalAlign:"top",[`${e}-item-link`]:{height:n.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive},"&::after":{height:n.itemSizeSM,lineHeight:U(n.itemSizeSM)}}},[`&${e}-simple ${e}-simple-pager`]:{display:"inline-block",height:n.itemSizeSM,marginInlineEnd:n.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:n.marginXS,padding:`0 ${U(n.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:n.itemInputBg,border:`${U(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadius,outline:"none",transition:`border-color ${n.motionDurationMid}`,color:"inherit","&:hover":{borderColor:n.colorPrimary},"&:focus":{borderColor:n.colorPrimaryHover,boxShadow:`${U(n.inputOutlineOffset)} 0 ${U(n.controlOutlineWidth)} ${n.controlOutline}`},"&[disabled]":{color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,cursor:"not-allowed"}}}}},bre=n=>{const{componentCls:e,antCls:t}=n;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:n.colorPrimary,fontSize:n.fontSizeSM,opacity:0,transition:`all ${n.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:n.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:n.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:n.paginationEllipsisTextIndent,opacity:1,transition:`all ${n.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}}},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:n.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:n.itemSize,height:n.itemSize,color:n.colorText,fontFamily:n.fontFamily,lineHeight:`${U(n.itemSize)}`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:n.borderRadius,cursor:"pointer",transition:`all ${n.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:n.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:n.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${U(n.lineWidth)} ${n.lineType} transparent`,borderRadius:n.borderRadius,outline:"none",transition:`all ${n.motionDurationMid}`},[`&:hover ${e}-item-link`]:{backgroundColor:n.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:n.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:n.paginationSlashMarginInlineEnd,marginInlineStart:n.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:n.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto",[`${t}-select-arrow:not(:last-child)`]:{opacity:1}},"&-quick-jumper":{display:"inline-block",height:n.controlHeight,marginInlineStart:n.marginXS,lineHeight:U(n.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},M$(n)),C$(n,{borderColor:n.colorBorder,hoverBorderColor:n.colorPrimaryHover,activeBorderColor:n.colorPrimary,activeShadow:n.activeShadow})),{"&[disabled]":Object.assign({},$y(n)),width:n.calc(n.controlHeightLG).mul(1.25).equal(),height:n.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:n.marginXS,marginInlineEnd:n.marginXS})}}}},Sre=n=>{const{componentCls:e}=n;return{[`${e}-item`]:{display:"inline-block",minWidth:n.itemSize,height:n.itemSize,marginInlineEnd:n.marginXS,fontFamily:n.fontFamily,lineHeight:U(n.calc(n.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${U(n.lineWidth)} ${n.lineType} transparent`,borderRadius:n.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${U(n.paginationItemPaddingInline)}`,color:n.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${n.motionDurationMid}`,backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive}},"&-active":{fontWeight:n.fontWeightStrong,backgroundColor:n.itemActiveBg,borderColor:n.colorPrimary,a:{color:n.colorPrimary},"&:hover":{borderColor:n.colorPrimaryHover},"&:hover a":{color:n.colorPrimaryHover}}}}},wre=n=>{const{componentCls:e}=n;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},wi(n)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:n.itemSize,marginInlineEnd:n.marginXS,lineHeight:U(n.calc(n.itemSize).sub(2).equal()),verticalAlign:"middle"}}),Sre(n)),bre(n)),yre(n)),vre(n)),mre(n)),{[`@media only screen and (max-width: ${n.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${n.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${n.componentCls}-rtl`]:{direction:"rtl"}}},xre=n=>{const{componentCls:e}=n;return{[`${e}:not(${e}-disabled)`]:{[`${e}-item`]:Object.assign({},R0(n)),[`${e}-jump-prev, ${e}-jump-next`]:{"&:focus-visible":Object.assign({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},da(n))},[`${e}-prev, ${e}-next`]:{[`&:focus-visible ${e}-item-link`]:Object.assign({},da(n))}}}},r8=n=>Object.assign({itemBg:n.colorBgContainer,itemSize:n.controlHeight,itemSizeSM:n.controlHeightSM,itemActiveBg:n.colorBgContainer,itemLinkBg:n.colorBgContainer,itemActiveColorDisabled:n.colorTextDisabled,itemActiveBgDisabled:n.controlItemBgActiveDisabled,itemInputBg:n.colorBgContainer,miniOptionsSizeChangerTop:0},x$(n)),o8=n=>sn(n,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:n.calc(n.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:n.calc(n.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:n.calc(n.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:n.calc(n.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:n.marginXXS,paginationSlashMarginInlineEnd:n.marginSM,paginationEllipsisTextIndent:"0.13em"},w$(n)),Cre=xr("Pagination",n=>{const e=o8(n);return[wre(e),xre(e)]},r8),Ere=n=>{const{componentCls:e}=n;return{[`${e}${e}-bordered${e}-disabled:not(${e}-mini)`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:n.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:n.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,a:{color:n.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:n.itemActiveBgDisabled}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,color:n.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder}}},[`${e}${e}-bordered:not(${e}-mini)`]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:n.colorPrimaryHover,backgroundColor:n.itemBg},[`${e}-item-link`]:{backgroundColor:n.itemLinkBg,borderColor:n.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:n.colorPrimary,backgroundColor:n.itemBg,color:n.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:n.colorBorder,color:n.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:n.itemBg,border:`${U(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:n.colorPrimary,backgroundColor:n.itemBg,a:{color:n.colorPrimary}},"&-active":{borderColor:n.colorPrimary}}}}},Mre=iz(["Pagination","bordered"],n=>{const e=o8(n);return[Ere(e)]},r8);var $re=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const kre=n=>{const{prefixCls:e,selectPrefixCls:t,className:i,rootClassName:r,style:o,size:s,locale:l,selectComponentClass:a,responsive:c,showSizeChanger:u}=n,h=$re(n,["prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),{xs:d}=dV(c),[,f]=Di(),{getPrefixCls:g,direction:y,pagination:v={}}=p.useContext(Pt),m=g("pagination",e),[b,S,w]=Cre(m),x=u??v.showSizeChanger,E=p.useMemo(()=>{const O=p.createElement("span",{className:`${m}-item-ellipsis`},""),H=p.createElement("button",{className:`${m}-item-link`,type:"button",tabIndex:-1},y==="rtl"?p.createElement(ox,null):p.createElement(BR,null)),T=p.createElement("button",{className:`${m}-item-link`,type:"button",tabIndex:-1},y==="rtl"?p.createElement(BR,null):p.createElement(ox,null)),R=p.createElement("a",{className:`${m}-item-link`},p.createElement("div",{className:`${m}-item-container`},y==="rtl"?p.createElement(JR,{className:`${m}-item-link-icon`}):p.createElement(QR,{className:`${m}-item-link-icon`}),O)),k=p.createElement("a",{className:`${m}-item-link`},p.createElement("div",{className:`${m}-item-container`},y==="rtl"?p.createElement(QR,{className:`${m}-item-link-icon`}):p.createElement(JR,{className:`${m}-item-link-icon`}),O));return{prevIcon:H,nextIcon:T,jumpPrevIcon:R,jumpNextIcon:k}},[y,m]),[C]=FH("Pagination",zH),$=Object.assign(Object.assign({},C),l),M=Us(s),A=M==="small"||!!(d&&!M&&c),P=g("select",t),D=J({[`${m}-mini`]:A,[`${m}-rtl`]:y==="rtl",[`${m}-bordered`]:f.wireframe},v==null?void 0:v.className,i,r,S,w),I=Object.assign(Object.assign({},v==null?void 0:v.style),o);return b(p.createElement(p.Fragment,null,f.wireframe&&p.createElement(Mre,{prefixCls:m}),p.createElement(gre,Object.assign({},E,h,{style:I,prefixCls:m,selectPrefixCls:P,className:D,selectComponentClass:a||(A?n8:i8),locale:$,showSizeChanger:x}))))};function Ore(n){let{percent:e,prefixCls:t}=n;const i=`${t}-dot`,r=`${i}-holder`,o=`${r}-hidden`,[s,l]=p.useState(!1);Kt(()=>{e!==0&&l(!0)},[e!==0]);const a=Math.max(Math.min(e,100),0),c=100,u=c/5,h=c/2-u/2,d=h*2*Math.PI,f=(g,y)=>p.createElement("circle",{className:J(g,`${i}-circle`),r:h,cx:"50",cy:"50",strokeWidth:u,style:y});return s?p.createElement("span",{className:J(r,`${i}-progress`,a<=0&&o)},p.createElement("svg",{viewBox:`0 0 ${c} ${c}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":a},f(`${i}-circle-bg`),f("",{strokeDasharray:`${d*a/100} ${d*(100-a)/100}`,strokeDashoffset:`${d/4}`}))):null}function Are(n){const{prefixCls:e,percent:t=0}=n,i=`${e}-dot`,r=`${i}-holder`,o=`${r}-hidden`;return p.createElement(p.Fragment,null,p.createElement("span",{className:J(r,t>0&&o)},p.createElement("span",{className:J(i,`${e}-dot-spin`)},[1,2,3,4].map(s=>p.createElement("i",{className:`${e}-dot-item`,key:s})))),p.createElement(Ore,{prefixCls:e,percent:t}))}function Rre(n){const{prefixCls:e,indicator:t,percent:i}=n,r=`${e}-dot`;return t&&p.isValidElement(t)?Eo(t,{className:J(t.props.className,r),percent:i}):p.createElement(Are,{prefixCls:e,percent:i})}const Dre=new Yt("antSpinMove",{to:{opacity:1}}),Tre=new Yt("antRotate",{to:{transform:"rotate(405deg)"}}),Pre=n=>{const{componentCls:e,calc:t}=n;return{[`${e}`]:Object.assign(Object.assign({},wi(n)),{position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:n.fontSize,paddingTop:t(t(n.dotSize).sub(n.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:n.colorBgMask,zIndex:n.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${n.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:n.colorWhite},[`${e}-text`]:{color:n.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(n.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:t(n.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeSM).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:t(n.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeLG).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${e}-dot-progress`]:{position:"absolute",top:0,insetInlineStart:0},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:n.dotSize,display:"inline-block",transition:`transform ${n.motionDurationSlow} ease, opacity ${n.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:n.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",top:0,insetInlineStart:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:n.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),height:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:Dre,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:Tre,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(i=>`${i} ${n.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:n.colorFillSecondary}},[`&-sm ${e}-dot`]:{fontSize:n.dotSizeSM},[`&-sm ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal(),height:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{fontSize:n.dotSizeLG},[`&-lg ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal(),height:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},Ire=n=>{const{controlHeightLG:e,controlHeight:t}=n;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:t}},Nre=xr("Spin",n=>{const e=sn(n,{spinDotDefault:n.colorTextDescription});return[Pre(e)]},Ire),Bre=200,tD=[[30,.05],[70,.03],[96,.01]];function Lre(n,e){const[t,i]=p.useState(0),r=p.useRef(),o=e==="auto";return p.useEffect(()=>(o&&n&&(i(0),r.current=setInterval(()=>{i(s=>{const l=100-s;for(let a=0;a<tD.length;a+=1){const[c,u]=tD[a];if(s<=c)return s+l*u}return s})},Bre)),()=>{clearInterval(r.current)}),[o,n]),o?t:e}var Hre=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};let s8;function zre(n,e){return!!n&&!!e&&!isNaN(Number(e))}const l8=n=>{const{prefixCls:e,spinning:t=!0,delay:i=0,className:r,rootClassName:o,size:s="default",tip:l,wrapperClassName:a,style:c,children:u,fullscreen:h=!1,indicator:d,percent:f}=n,g=Hre(n,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:y}=p.useContext(Pt),v=y("spin",e),[m,b,S]=Nre(v),[w,x]=p.useState(()=>t&&!zre(t,i)),E=Lre(w,f);p.useEffect(()=>{if(t){const O=oie(i,()=>{x(!0)});return O(),()=>{var H;(H=O==null?void 0:O.cancel)===null||H===void 0||H.call(O)}}x(!1)},[i,t]);const C=p.useMemo(()=>typeof u<"u"&&!h,[u,h]),{direction:$,spin:M}=p.useContext(Pt),A=J(v,M==null?void 0:M.className,{[`${v}-sm`]:s==="small",[`${v}-lg`]:s==="large",[`${v}-spinning`]:w,[`${v}-show-text`]:!!l,[`${v}-rtl`]:$==="rtl"},r,!h&&o,b,S),P=J(`${v}-container`,{[`${v}-blur`]:w}),D=Object.assign(Object.assign({},M==null?void 0:M.style),c),I=p.createElement("div",Object.assign({},g,{style:D,className:A,"aria-live":"polite","aria-busy":w}),p.createElement(Rre,{prefixCls:v,indicator:d??s8,percent:E}),l&&(C||h)?p.createElement("div",{className:`${v}-text`},l):null);return m(C?p.createElement("div",Object.assign({},g,{className:J(`${v}-nested-loading`,a,b,S)}),w&&p.createElement("div",{key:"loading"},I),p.createElement("div",{className:P,key:"container"},u)):h?p.createElement("div",{className:J(`${v}-fullscreen`,{[`${v}-fullscreen-show`]:w},o,b,S)},I):I)};l8.setDefaultIndicator=n=>{s8=n};var Dl={},Cp="rc-table-internal-hook";function R$(n){var e=p.createContext(void 0),t=function(r){var o=r.value,s=r.children,l=p.useRef(o);l.current=o;var a=p.useState(function(){return{getValue:function(){return l.current},listeners:new Set}}),c=X(a,1),u=c[0];return Kt(function(){vl.unstable_batchedUpdates(function(){u.listeners.forEach(function(h){h(o)})})},[o]),p.createElement(e.Provider,{value:u},s)};return{Context:e,Provider:t,defaultValue:n}}function hr(n,e){var t=on(typeof e=="function"?e:function(h){if(e===void 0)return h;if(!Array.isArray(e))return h[e];var d={};return e.forEach(function(f){d[f]=h[f]}),d}),i=p.useContext(n==null?void 0:n.Context),r=i||{},o=r.listeners,s=r.getValue,l=p.useRef();l.current=t(i?s():n==null?void 0:n.defaultValue);var a=p.useState({}),c=X(a,2),u=c[1];return Kt(function(){if(!i)return;function h(d){var f=t(d);_s(l.current,f,!0)||u({})}return o.add(h),function(){o.delete(h)}},[i]),l.current}function Vre(){var n=p.createContext(null);function e(){return p.useContext(n)}function t(r,o){var s=Ws(r),l=function(c,u){var h=s?{ref:u}:{},d=p.useRef(0),f=p.useRef(c),g=e();return g!==null?p.createElement(r,Se({},c,h)):((!o||o(f.current,c))&&(d.current+=1),f.current=c,p.createElement(n.Provider,{value:d.current},p.createElement(r,Se({},c,h))))};return s?p.forwardRef(l):l}function i(r,o){var s=Ws(r),l=function(c,u){var h=s?{ref:u}:{};return e(),p.createElement(r,Se({},c,h))};return s?p.memo(p.forwardRef(l),o):p.memo(l,o)}return{makeImmutable:t,responseImmutable:i,useImmutableMark:e}}var D$=Vre(),a8=D$.makeImmutable,wh=D$.responseImmutable,Fre=D$.useImmutableMark,Vr=R$(),c8=p.createContext({renderWithProps:!1}),Wre="RC_TABLE_KEY";function _re(n){return n==null?[]:Array.isArray(n)?n:[n]}function Oy(n){var e=[],t={};return n.forEach(function(i){for(var r=i||{},o=r.key,s=r.dataIndex,l=o||_re(s).join("-")||Wre;t[l];)l="".concat(l,"_next");t[l]=!0,e.push(l)}),e}function dx(n){return n!=null}function jre(n){return n&&et(n)==="object"&&!Array.isArray(n)&&!p.isValidElement(n)}function Kre(n,e,t,i,r,o){var s=p.useContext(c8),l=Fre(),a=gc(function(){if(dx(i))return[i];var c=e==null||e===""?[]:Array.isArray(e)?e:[e],u=to(n,c),h=u,d=void 0;if(r){var f=r(u,n,t);jre(f)?(h=f.children,d=f.props,s.renderWithProps=!0):h=f}return[h,d]},[l,n,i,e,r,t],function(c,u){if(o){var h=X(c,2),d=h[1],f=X(u,2),g=f[1];return o(g,d)}return s.renderWithProps?!0:!_s(c,u,!0)});return a}function qre(n,e,t,i){var r=n+e-1;return n<=i&&r>=t}function Gre(n,e){return hr(Vr,function(t){var i=qre(n,e||1,t.hoverStartRow,t.hoverEndRow);return[i,t.onHover]})}var Ure=function(e){var t=e.ellipsis,i=e.rowType,r=e.children,o,s=t===!0?{showTitle:!0}:t;return s&&(s.showTitle||i==="header")&&(typeof r=="string"||typeof r=="number"?o=r.toString():p.isValidElement(r)&&typeof r.props.children=="string"&&(o=r.props.children)),o};function Xre(n){var e,t,i,r,o,s,l,a,c=n.component,u=n.children,h=n.ellipsis,d=n.scope,f=n.prefixCls,g=n.className,y=n.align,v=n.record,m=n.render,b=n.dataIndex,S=n.renderIndex,w=n.shouldCellUpdate,x=n.index,E=n.rowType,C=n.colSpan,$=n.rowSpan,M=n.fixLeft,A=n.fixRight,P=n.firstFixLeft,D=n.lastFixLeft,I=n.firstFixRight,O=n.lastFixRight,H=n.appendNode,T=n.additionalProps,R=T===void 0?{}:T,k=n.isSticky,B="".concat(f,"-cell"),L=hr(Vr,["supportSticky","allColumnsFixedLeft","rowHoverable"]),z=L.supportSticky,F=L.allColumnsFixedLeft,_=L.rowHoverable,G=Kre(v,b,S,u,m,w),Z=X(G,2),re=Z[0],Q=Z[1],ce={},fe=typeof M=="number"&&z,te=typeof A=="number"&&z;fe&&(ce.position="sticky",ce.left=M),te&&(ce.position="sticky",ce.right=A);var j=(e=(t=(i=Q==null?void 0:Q.colSpan)!==null&&i!==void 0?i:R.colSpan)!==null&&t!==void 0?t:C)!==null&&e!==void 0?e:1,q=(r=(o=(s=Q==null?void 0:Q.rowSpan)!==null&&s!==void 0?s:R.rowSpan)!==null&&o!==void 0?o:$)!==null&&r!==void 0?r:1,ee=Gre(x,q),K=X(ee,2),Y=K[0],he=K[1],ne=on(function(pe){var Me;v&&he(x,x+q-1),R==null||(Me=R.onMouseEnter)===null||Me===void 0||Me.call(R,pe)}),de=on(function(pe){var Me;v&&he(-1,-1),R==null||(Me=R.onMouseLeave)===null||Me===void 0||Me.call(R,pe)});if(j===0||q===0)return null;var ve=(l=R.title)!==null&&l!==void 0?l:Ure({rowType:E,ellipsis:h,children:re}),se=J(B,g,(a={},N(a,"".concat(B,"-fix-left"),fe&&z),N(a,"".concat(B,"-fix-left-first"),P&&z),N(a,"".concat(B,"-fix-left-last"),D&&z),N(a,"".concat(B,"-fix-left-all"),D&&F&&z),N(a,"".concat(B,"-fix-right"),te&&z),N(a,"".concat(B,"-fix-right-first"),I&&z),N(a,"".concat(B,"-fix-right-last"),O&&z),N(a,"".concat(B,"-ellipsis"),h),N(a,"".concat(B,"-with-append"),H),N(a,"".concat(B,"-fix-sticky"),(fe||te)&&k&&z),N(a,"".concat(B,"-row-hover"),!Q&&Y),a),R.className,Q==null?void 0:Q.className),ue={};y&&(ue.textAlign=y);var xe=V(V(V(V({},ce),R.style),ue),Q==null?void 0:Q.style),le=re;return et(le)==="object"&&!Array.isArray(le)&&!p.isValidElement(le)&&(le=null),h&&(D||I)&&(le=p.createElement("span",{className:"".concat(B,"-content")},le)),p.createElement(c,Se({},Q,R,{className:se,style:xe,title:ve,scope:d,onMouseEnter:_?ne:void 0,onMouseLeave:_?de:void 0,colSpan:j!==1?j:null,rowSpan:q!==1?q:null}),H,le)}const yc=p.memo(Xre);function T$(n,e,t,i,r){var o=t[n]||{},s=t[e]||{},l,a;o.fixed==="left"?l=i.left[r==="rtl"?e:n]:s.fixed==="right"&&(a=i.right[r==="rtl"?n:e]);var c=!1,u=!1,h=!1,d=!1,f=t[e+1],g=t[n-1],y=f&&!f.fixed||g&&!g.fixed||t.every(function(w){return w.fixed==="left"});if(r==="rtl"){if(l!==void 0){var v=g&&g.fixed==="left";d=!v&&y}else if(a!==void 0){var m=f&&f.fixed==="right";h=!m&&y}}else if(l!==void 0){var b=f&&f.fixed==="left";c=!b&&y}else if(a!==void 0){var S=g&&g.fixed==="right";u=!S&&y}return{fixLeft:l,fixRight:a,lastFixLeft:c,firstFixRight:u,lastFixRight:h,firstFixLeft:d,isSticky:i.isSticky}}var u8=p.createContext({});function Yre(n){var e=n.className,t=n.index,i=n.children,r=n.colSpan,o=r===void 0?1:r,s=n.rowSpan,l=n.align,a=hr(Vr,["prefixCls","direction"]),c=a.prefixCls,u=a.direction,h=p.useContext(u8),d=h.scrollColumnIndex,f=h.stickyOffsets,g=h.flattenColumns,y=t+o-1,v=y+1===d?o+1:o,m=T$(t,t+v-1,g,f,u);return p.createElement(yc,Se({className:e,index:t,component:"td",prefixCls:c,record:null,dataIndex:null,align:l,colSpan:v,rowSpan:s,render:function(){return i}},m))}var Qre=["children"];function Jre(n){var e=n.children,t=bt(n,Qre);return p.createElement("tr",t,e)}function Ay(n){var e=n.children;return e}Ay.Row=Jre;Ay.Cell=Yre;function Zre(n){var e=n.children,t=n.stickyOffsets,i=n.flattenColumns,r=hr(Vr,"prefixCls"),o=i.length-1,s=i[o],l=p.useMemo(function(){return{stickyOffsets:t,flattenColumns:i,scrollColumnIndex:s!=null&&s.scrollbar?o:null}},[s,i,o,t]);return p.createElement(u8.Provider,{value:l},p.createElement("tfoot",{className:"".concat(r,"-summary")},e))}const vg=wh(Zre);var h8=Ay;function eoe(n){return null}function toe(n){return null}function d8(n,e,t,i,r,o,s){n.push({record:e,indent:t,index:s});var l=o(e),a=r==null?void 0:r.has(l);if(e&&Array.isArray(e[i])&&a)for(var c=0;c<e[i].length;c+=1)d8(n,e[i][c],t+1,i,r,o,c)}function f8(n,e,t,i){var r=p.useMemo(function(){if(t!=null&&t.size){for(var o=[],s=0;s<(n==null?void 0:n.length);s+=1){var l=n[s];d8(o,l,0,e,t,i,s)}return o}return n==null?void 0:n.map(function(a,c){return{record:a,indent:0,index:c}})},[n,e,t,i]);return r}function p8(n,e,t,i){var r=hr(Vr,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),o=r.flattenColumns,s=r.expandableType,l=r.expandedKeys,a=r.childrenColumnName,c=r.onTriggerExpand,u=r.rowExpandable,h=r.onRow,d=r.expandRowByClick,f=r.rowClassName,g=s==="nest",y=s==="row"&&(!u||u(n)),v=y||g,m=l&&l.has(e),b=a&&n&&n[a],S=on(c),w=h==null?void 0:h(n,t),x=w==null?void 0:w.onClick,E=function(A){d&&v&&c(n,A);for(var P=arguments.length,D=new Array(P>1?P-1:0),I=1;I<P;I++)D[I-1]=arguments[I];x==null||x.apply(void 0,[A].concat(D))},C;typeof f=="string"?C=f:typeof f=="function"&&(C=f(n,t,i));var $=Oy(o);return V(V({},r),{},{columnsKey:$,nestExpandable:g,expanded:m,hasNestChildren:b,record:n,onTriggerExpand:S,rowSupportExpand:y,expandable:v,rowProps:V(V({},w),{},{className:J(C,w==null?void 0:w.className),onClick:E})})}function g8(n){var e=n.prefixCls,t=n.children,i=n.component,r=n.cellComponent,o=n.className,s=n.expanded,l=n.colSpan,a=n.isEmpty,c=hr(Vr,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),u=c.scrollbarSize,h=c.fixHeader,d=c.fixColumn,f=c.componentWidth,g=c.horizonScroll,y=t;return(a?g&&f:d)&&(y=p.createElement("div",{style:{width:f-(h?u:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(e,"-expanded-row-fixed")},y)),p.createElement(i,{className:o,style:{display:s?null:"none"}},p.createElement(yc,{component:r,prefixCls:e,colSpan:l},y))}function m8(n,e,t,i,r){var o=n.record,s=n.prefixCls,l=n.columnsKey,a=n.fixedInfoList,c=n.expandIconColumnIndex,u=n.nestExpandable,h=n.indentSize,d=n.expandIcon,f=n.expanded,g=n.hasNestChildren,y=n.onTriggerExpand,v=l[t],m=a[t],b;t===(c||0)&&u&&(b=p.createElement(p.Fragment,null,p.createElement("span",{style:{paddingLeft:"".concat(h*i,"px")},className:"".concat(s,"-row-indent indent-level-").concat(i)}),d({prefixCls:s,expanded:f,expandable:g,record:o,onExpand:y})));var S;return e.onCell&&(S=e.onCell(o,r)),{key:v,fixedInfo:m,appendCellNode:b,additionalCellProps:S||{}}}function noe(n){var e=n.className,t=n.style,i=n.record,r=n.index,o=n.renderIndex,s=n.rowKey,l=n.indent,a=l===void 0?0:l,c=n.rowComponent,u=n.cellComponent,h=n.scopeCellComponent,d=p8(i,s,r,a),f=d.prefixCls,g=d.flattenColumns,y=d.expandedRowClassName,v=d.expandedRowRender,m=d.rowProps,b=d.expanded,S=d.rowSupportExpand,w=p.useRef(!1);w.current||(w.current=b);var x=y&&y(i,r,a),E=p.createElement(c,Se({},m,{"data-row-key":s,className:J(e,"".concat(f,"-row"),"".concat(f,"-row-level-").concat(a),m==null?void 0:m.className,a>=1?x:""),style:V(V({},t),m==null?void 0:m.style)}),g.map(function(M,A){var P=M.render,D=M.dataIndex,I=M.className,O=m8(d,M,A,a,r),H=O.key,T=O.fixedInfo,R=O.appendCellNode,k=O.additionalCellProps;return p.createElement(yc,Se({className:I,ellipsis:M.ellipsis,align:M.align,scope:M.rowScope,component:M.rowScope?h:u,prefixCls:f,key:H,record:i,index:r,renderIndex:o,dataIndex:D,render:P,shouldCellUpdate:M.shouldCellUpdate},T,{appendNode:R,additionalProps:k}))})),C;if(S&&(w.current||b)){var $=v(i,r,a+1,b);C=p.createElement(g8,{expanded:b,className:J("".concat(f,"-expanded-row"),"".concat(f,"-expanded-row-level-").concat(a+1),x),prefixCls:f,component:c,cellComponent:u,colSpan:g.length,isEmpty:!1},$)}return p.createElement(p.Fragment,null,E,C)}const ioe=wh(noe);function roe(n){var e=n.columnKey,t=n.onColumnResize,i=p.useRef();return p.useEffect(function(){i.current&&t(e,i.current.offsetWidth)},[]),p.createElement(ss,{data:e},p.createElement("td",{ref:i,style:{padding:0,border:0,height:0}},p.createElement("div",{style:{height:0,overflow:"hidden"}},"")))}function ooe(n){var e=n.prefixCls,t=n.columnsKey,i=n.onColumnResize;return p.createElement("tr",{"aria-hidden":"true",className:"".concat(e,"-measure-row"),style:{height:0,fontSize:0}},p.createElement(ss.Collection,{onBatchResize:function(o){o.forEach(function(s){var l=s.data,a=s.size;i(l,a.offsetWidth)})}},t.map(function(r){return p.createElement(roe,{key:r,columnKey:r,onColumnResize:i})})))}function soe(n){var e=n.data,t=n.measureColumnWidth,i=hr(Vr,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),r=i.prefixCls,o=i.getComponent,s=i.onColumnResize,l=i.flattenColumns,a=i.getRowKey,c=i.expandedKeys,u=i.childrenColumnName,h=i.emptyNode,d=f8(e,u,c,a),f=p.useRef({renderWithProps:!1}),g=o(["body","wrapper"],"tbody"),y=o(["body","row"],"tr"),v=o(["body","cell"],"td"),m=o(["body","cell"],"th"),b;e.length?b=d.map(function(w,x){var E=w.record,C=w.indent,$=w.index,M=a(E,x);return p.createElement(ioe,{key:M,rowKey:M,record:E,index:x,renderIndex:$,rowComponent:y,cellComponent:v,scopeCellComponent:m,getRowKey:a,indent:C})}):b=p.createElement(g8,{expanded:!0,className:"".concat(r,"-placeholder"),prefixCls:r,component:y,cellComponent:v,colSpan:l.length,isEmpty:!0},h);var S=Oy(l);return p.createElement(c8.Provider,{value:f.current},p.createElement(g,{className:"".concat(r,"-tbody")},t&&p.createElement(ooe,{prefixCls:r,columnsKey:S,onColumnResize:s}),b))}const loe=wh(soe);var aoe=["expandable"],Ld="RC_TABLE_INTERNAL_COL_DEFINE";function coe(n){var e=n.expandable,t=bt(n,aoe),i;return"expandable"in n?i=V(V({},t),e):i=t,i.showExpandColumn===!1&&(i.expandIconColumnIndex=-1),i}var uoe=["columnType"];function v8(n){for(var e=n.colWidths,t=n.columns,i=n.columCount,r=[],o=i||t.length,s=!1,l=o-1;l>=0;l-=1){var a=e[l],c=t&&t[l],u=c&&c[Ld];if(a||u||s){var h=u||{};h.columnType;var d=bt(h,uoe);r.unshift(p.createElement("col",Se({key:l,style:{width:a}},d))),s=!0}}return p.createElement("colgroup",null,r)}var hoe=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function doe(n,e){return p.useMemo(function(){for(var t=[],i=0;i<e;i+=1){var r=n[i];if(r!==void 0)t[i]=r;else return null}return t},[n.join("_"),e])}var foe=p.forwardRef(function(n,e){var t=n.className,i=n.noData,r=n.columns,o=n.flattenColumns,s=n.colWidths,l=n.columCount,a=n.stickyOffsets,c=n.direction,u=n.fixHeader,h=n.stickyTopOffset,d=n.stickyBottomOffset,f=n.stickyClassName,g=n.onScroll,y=n.maxContentScroll,v=n.children,m=bt(n,hoe),b=hr(Vr,["prefixCls","scrollbarSize","isSticky","getComponent"]),S=b.prefixCls,w=b.scrollbarSize,x=b.isSticky,E=b.getComponent,C=E(["header","table"],"table"),$=x&&!u?0:w,M=p.useRef(null),A=p.useCallback(function(k){pf(e,k),pf(M,k)},[]);p.useEffect(function(){var k;function B(L){var z=L,F=z.currentTarget,_=z.deltaX;_&&(g({currentTarget:F,scrollLeft:F.scrollLeft+_}),L.preventDefault())}return(k=M.current)===null||k===void 0||k.addEventListener("wheel",B,{passive:!1}),function(){var L;(L=M.current)===null||L===void 0||L.removeEventListener("wheel",B)}},[]);var P=p.useMemo(function(){return o.every(function(k){return k.width})},[o]),D=o[o.length-1],I={fixed:D?D.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(S,"-cell-scrollbar")}}},O=p.useMemo(function(){return $?[].concat(be(r),[I]):r},[$,r]),H=p.useMemo(function(){return $?[].concat(be(o),[I]):o},[$,o]),T=p.useMemo(function(){var k=a.right,B=a.left;return V(V({},a),{},{left:c==="rtl"?[].concat(be(B.map(function(L){return L+$})),[0]):B,right:c==="rtl"?k:[].concat(be(k.map(function(L){return L+$})),[0]),isSticky:x})},[$,a,x]),R=doe(s,l);return p.createElement("div",{style:V({overflow:"hidden"},x?{top:h,bottom:d}:{}),ref:A,className:J(t,N({},f,!!f))},p.createElement(C,{style:{tableLayout:"fixed",visibility:i||R?null:"hidden"}},(!i||!y||P)&&p.createElement(v8,{colWidths:R?[].concat(be(R),[$]):[],columCount:l+1,columns:H}),v(V(V({},m),{},{stickyOffsets:T,columns:O,flattenColumns:H}))))});const nD=p.memo(foe);var poe=function(e){var t=e.cells,i=e.stickyOffsets,r=e.flattenColumns,o=e.rowComponent,s=e.cellComponent,l=e.onHeaderRow,a=e.index,c=hr(Vr,["prefixCls","direction"]),u=c.prefixCls,h=c.direction,d;l&&(d=l(t.map(function(g){return g.column}),a));var f=Oy(t.map(function(g){return g.column}));return p.createElement(o,d,t.map(function(g,y){var v=g.column,m=T$(g.colStart,g.colEnd,r,i,h),b;return v&&v.onHeaderCell&&(b=g.column.onHeaderCell(v)),p.createElement(yc,Se({},g,{scope:v.title?g.colSpan>1?"colgroup":"col":null,ellipsis:v.ellipsis,align:v.align,component:s,prefixCls:u,key:f[y]},m,{additionalProps:b,rowType:"header"}))}))};function goe(n){var e=[];function t(s,l){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e[a]=e[a]||[];var c=l,u=s.filter(Boolean).map(function(h){var d={key:h.key,className:h.className||"",children:h.title,column:h,colStart:c},f=1,g=h.children;return g&&g.length>0&&(f=t(g,c,a+1).reduce(function(y,v){return y+v},0),d.hasSubColumns=!0),"colSpan"in h&&(f=h.colSpan),"rowSpan"in h&&(d.rowSpan=h.rowSpan),d.colSpan=f,d.colEnd=d.colStart+f-1,e[a].push(d),c+=f,f});return u}t(n,0);for(var i=e.length,r=function(l){e[l].forEach(function(a){!("rowSpan"in a)&&!a.hasSubColumns&&(a.rowSpan=i-l)})},o=0;o<i;o+=1)r(o);return e}var moe=function(e){var t=e.stickyOffsets,i=e.columns,r=e.flattenColumns,o=e.onHeaderRow,s=hr(Vr,["prefixCls","getComponent"]),l=s.prefixCls,a=s.getComponent,c=p.useMemo(function(){return goe(i)},[i]),u=a(["header","wrapper"],"thead"),h=a(["header","row"],"tr"),d=a(["header","cell"],"th");return p.createElement(u,{className:"".concat(l,"-thead")},c.map(function(f,g){var y=p.createElement(poe,{key:g,flattenColumns:r,cells:f,stickyOffsets:t,rowComponent:h,cellComponent:d,onHeaderRow:o,index:g});return y}))};const iD=wh(moe);function rD(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof e=="number"?e:e.endsWith("%")?n*parseFloat(e)/100:null}function voe(n,e,t){return p.useMemo(function(){if(e&&e>0){var i=0,r=0;n.forEach(function(d){var f=rD(e,d.width);f?i+=f:r+=1});var o=Math.max(e,t),s=Math.max(o-i,r),l=r,a=s/r,c=0,u=n.map(function(d){var f=V({},d),g=rD(e,f.width);if(g)f.width=g;else{var y=Math.floor(a);f.width=l===1?s:y,s-=y,l-=1}return c+=f.width,f});if(c<o){var h=o/c;s=o,u.forEach(function(d,f){var g=Math.floor(d.width*h);d.width=f===u.length-1?s:g,s-=g})}return[u,Math.max(c,o)]}return[n,e]},[n,e,t])}var yoe=["children"],boe=["fixed"];function P$(n){return ts(n).filter(function(e){return p.isValidElement(e)}).map(function(e){var t=e.key,i=e.props,r=i.children,o=bt(i,yoe),s=V({key:t},o);return r&&(s.children=P$(r)),s})}function y8(n){return n.filter(function(e){return e&&et(e)==="object"&&!e.hidden}).map(function(e){var t=e.children;return t&&t.length>0?V(V({},e),{},{children:y8(t)}):e})}function fx(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return n.filter(function(t){return t&&et(t)==="object"}).reduce(function(t,i,r){var o=i.fixed,s=o===!0?"left":o,l="".concat(e,"-").concat(r),a=i.children;return a&&a.length>0?[].concat(be(t),be(fx(a,l).map(function(c){return V({fixed:s},c)}))):[].concat(be(t),[V(V({key:l},i),{},{fixed:s})])},[])}function Soe(n){return n.map(function(e){var t=e.fixed,i=bt(e,boe),r=t;return t==="left"?r="right":t==="right"&&(r="left"),V({fixed:r},i)})}function woe(n,e){var t=n.prefixCls,i=n.columns,r=n.children,o=n.expandable,s=n.expandedKeys,l=n.columnTitle,a=n.getRowKey,c=n.onTriggerExpand,u=n.expandIcon,h=n.rowExpandable,d=n.expandIconColumnIndex,f=n.direction,g=n.expandRowByClick,y=n.columnWidth,v=n.fixed,m=n.scrollWidth,b=n.clientWidth,S=p.useMemo(function(){var D=i||P$(r)||[];return y8(D.slice())},[i,r]),w=p.useMemo(function(){if(o){var D,I=S.slice();if(!I.includes(Dl)){var O=d||0;O>=0&&I.splice(O,0,Dl)}var H=I.indexOf(Dl);I=I.filter(function(B,L){return B!==Dl||L===H});var T=S[H],R;(v==="left"||v)&&!d?R="left":(v==="right"||v)&&d===S.length?R="right":R=T?T.fixed:null;var k=(D={},N(D,Ld,{className:"".concat(t,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),N(D,"title",l),N(D,"fixed",R),N(D,"className","".concat(t,"-row-expand-icon-cell")),N(D,"width",y),N(D,"render",function(L,z,F){var _=a(z,F),G=s.has(_),Z=h?h(z):!0,re=u({prefixCls:t,expanded:G,expandable:Z,record:z,onExpand:c});return g?p.createElement("span",{onClick:function(ce){return ce.stopPropagation()}},re):re}),D);return I.map(function(B){return B===Dl?k:B})}return S.filter(function(B){return B!==Dl})},[o,S,a,s,u,f]),x=p.useMemo(function(){var D=w;return e&&(D=e(D)),D.length||(D=[{render:function(){return null}}]),D},[e,w,f]),E=p.useMemo(function(){return f==="rtl"?Soe(fx(x)):fx(x)},[x,f,m]),C=p.useMemo(function(){for(var D=-1,I=E.length-1;I>=0;I-=1){var O=E[I].fixed;if(O==="left"||O===!0){D=I;break}}if(D>=0)for(var H=0;H<=D;H+=1){var T=E[H].fixed;if(T!=="left"&&T!==!0)return!0}var R=E.findIndex(function(L){var z=L.fixed;return z==="right"});if(R>=0)for(var k=R;k<E.length;k+=1){var B=E[k].fixed;if(B!=="right")return!0}return!1},[E]),$=voe(E,m,b),M=X($,2),A=M[0],P=M[1];return[x,A,P,C]}function xoe(n){var e,t=n.prefixCls,i=n.record,r=n.onExpand,o=n.expanded,s=n.expandable,l="".concat(t,"-row-expand-icon");if(!s)return p.createElement("span",{className:J(l,"".concat(t,"-row-spaced"))});var a=function(u){r(i,u),u.stopPropagation()};return p.createElement("span",{className:J(l,(e={},N(e,"".concat(t,"-row-expanded"),o),N(e,"".concat(t,"-row-collapsed"),!o),e)),onClick:a})}function Coe(n,e,t){var i=[];function r(o){(o||[]).forEach(function(s,l){i.push(e(s,l)),r(s[t])})}return r(n),i}function Eoe(n,e,t){var i=coe(n),r=i.expandIcon,o=i.expandedRowKeys,s=i.defaultExpandedRowKeys,l=i.defaultExpandAllRows,a=i.expandedRowRender,c=i.onExpand,u=i.onExpandedRowsChange,h=i.childrenColumnName,d=r||xoe,f=h||"children",g=p.useMemo(function(){return a?"row":n.expandable&&n.internalHooks===Cp&&n.expandable.__PARENT_RENDER_ICON__||e.some(function(x){return x&&et(x)==="object"&&x[f]})?"nest":!1},[!!a,e]),y=p.useState(function(){return s||(l?Coe(e,t,f):[])}),v=X(y,2),m=v[0],b=v[1],S=p.useMemo(function(){return new Set(o||m||[])},[o,m]),w=p.useCallback(function(x){var E=t(x,e.indexOf(x)),C,$=S.has(E);$?(S.delete(E),C=be(S)):C=[].concat(be(S),[E]),b(C),c&&c(!$,x),u&&u(C)},[t,S,e,c,u]);return[i,g,S,d,f,w]}function Moe(n,e,t){var i=n.map(function(r,o){return T$(o,o,n,e,t)});return gc(function(){return i},[i],function(r,o){return!_s(r,o)})}function b8(n){var e=p.useRef(n),t=p.useState({}),i=X(t,2),r=i[1],o=p.useRef(null),s=p.useRef([]);function l(a){s.current.push(a);var c=Promise.resolve();o.current=c,c.then(function(){if(o.current===c){var u=s.current,h=e.current;s.current=[],u.forEach(function(d){e.current=d(e.current)}),o.current=null,h!==e.current&&r({})}})}return p.useEffect(function(){return function(){o.current=null}},[]),[e.current,l]}function $oe(n){var e=p.useRef(null),t=p.useRef();function i(){window.clearTimeout(t.current)}function r(s){e.current=s,i(),t.current=window.setTimeout(function(){e.current=null,t.current=void 0},100)}function o(){return e.current}return p.useEffect(function(){return i},[]),[r,o]}function koe(){var n=p.useState(-1),e=X(n,2),t=e[0],i=e[1],r=p.useState(-1),o=X(r,2),s=o[0],l=o[1],a=p.useCallback(function(c,u){i(c),l(u)},[]);return[t,s,a]}var oD=ur()?window:null;function Ooe(n,e){var t=et(n)==="object"?n:{},i=t.offsetHeader,r=i===void 0?0:i,o=t.offsetSummary,s=o===void 0?0:o,l=t.offsetScroll,a=l===void 0?0:l,c=t.getContainer,u=c===void 0?function(){return oD}:c,h=u()||oD;return p.useMemo(function(){var d=!!n;return{isSticky:d,stickyClassName:d?"".concat(e,"-sticky-holder"):"",offsetHeader:r,offsetSummary:s,offsetScroll:a,container:h}},[a,r,s,e,h])}function Aoe(n,e,t){var i=p.useMemo(function(){var r=e.length,o=function(c,u,h){for(var d=[],f=0,g=c;g!==u;g+=h)d.push(f),e[g].fixed&&(f+=n[g]||0);return d},s=o(0,r,1),l=o(r-1,-1,-1).reverse();return t==="rtl"?{left:l,right:s}:{left:s,right:l}},[n,e,t]);return i}function sD(n){var e=n.className,t=n.children;return p.createElement("div",{className:e},t)}var Roe=function(e,t){var i,r,o=e.scrollBodyRef,s=e.onScroll,l=e.offsetScroll,a=e.container,c=hr(Vr,"prefixCls"),u=((i=o.current)===null||i===void 0?void 0:i.scrollWidth)||0,h=((r=o.current)===null||r===void 0?void 0:r.clientWidth)||0,d=u&&h*(h/u),f=p.useRef(),g=b8({scrollLeft:0,isHiddenScrollBar:!1}),y=X(g,2),v=y[0],m=y[1],b=p.useRef({delta:0,x:0}),S=p.useState(!1),w=X(S,2),x=w[0],E=w[1],C=p.useRef(null);p.useEffect(function(){return function(){Xt.cancel(C.current)}},[]);var $=function(){E(!1)},M=function(O){O.persist(),b.current.delta=O.pageX-v.scrollLeft,b.current.x=0,E(!0),O.preventDefault()},A=function(O){var H,T=O||((H=window)===null||H===void 0?void 0:H.event),R=T.buttons;if(!x||R===0){x&&E(!1);return}var k=b.current.x+O.pageX-b.current.x-b.current.delta;k<=0&&(k=0),k+d>=h&&(k=h-d),s({scrollLeft:k/h*(u+2)}),b.current.x=O.pageX},P=function(){C.current=Xt(function(){if(o.current){var O=YR(o.current).top,H=O+o.current.offsetHeight,T=a===window?document.documentElement.scrollTop+window.innerHeight:YR(a).top+a.clientHeight;H-jA()<=T||O>=T-l?m(function(R){return V(V({},R),{},{isHiddenScrollBar:!0})}):m(function(R){return V(V({},R),{},{isHiddenScrollBar:!1})})}})},D=function(O){m(function(H){return V(V({},H),{},{scrollLeft:O/u*h||0})})};return p.useImperativeHandle(t,function(){return{setScrollLeft:D,checkScrollBarVisible:P}}),p.useEffect(function(){var I=mg(document.body,"mouseup",$,!1),O=mg(document.body,"mousemove",A,!1);return P(),function(){I.remove(),O.remove()}},[d,x]),p.useEffect(function(){var I=mg(a,"scroll",P,!1),O=mg(window,"resize",P,!1);return function(){I.remove(),O.remove()}},[a]),p.useEffect(function(){v.isHiddenScrollBar||m(function(I){var O=o.current;return O?V(V({},I),{},{scrollLeft:O.scrollLeft/O.scrollWidth*O.clientWidth}):I})},[v.isHiddenScrollBar]),u<=h||!d||v.isHiddenScrollBar?null:p.createElement("div",{style:{height:jA(),width:h,bottom:l},className:"".concat(c,"-sticky-scroll")},p.createElement("div",{onMouseDown:M,ref:f,className:J("".concat(c,"-sticky-scroll-bar"),N({},"".concat(c,"-sticky-scroll-bar-active"),x)),style:{width:"".concat(d,"px"),transform:"translate3d(".concat(v.scrollLeft,"px, 0, 0)")}}))};const Doe=p.forwardRef(Roe);var S8="rc-table",Toe=[],Poe={};function Ioe(){return"No Data"}function Noe(n,e){var t,i=V({rowKey:"key",prefixCls:S8,emptyText:Ioe},n),r=i.prefixCls,o=i.className,s=i.rowClassName,l=i.style,a=i.data,c=i.rowKey,u=i.scroll,h=i.tableLayout,d=i.direction,f=i.title,g=i.footer,y=i.summary,v=i.caption,m=i.id,b=i.showHeader,S=i.components,w=i.emptyText,x=i.onRow,E=i.onHeaderRow,C=i.onScroll,$=i.internalHooks,M=i.transformColumns,A=i.internalRefs,P=i.tailor,D=i.getContainerWidth,I=i.sticky,O=i.rowHoverable,H=O===void 0?!0:O,T=a||Toe,R=!!T.length,k=$===Cp,B=p.useCallback(function(tt,Rt){return to(S,tt)||Rt},[S]),L=p.useMemo(function(){return typeof c=="function"?c:function(tt){var Rt=tt&&tt[c];return Rt}},[c]),z=B(["body"]),F=koe(),_=X(F,3),G=_[0],Z=_[1],re=_[2],Q=Eoe(i,T,L),ce=X(Q,6),fe=ce[0],te=ce[1],j=ce[2],q=ce[3],ee=ce[4],K=ce[5],Y=u==null?void 0:u.x,he=p.useState(0),ne=X(he,2),de=ne[0],ve=ne[1],se=woe(V(V(V({},i),fe),{},{expandable:!!fe.expandedRowRender,columnTitle:fe.columnTitle,expandedKeys:j,getRowKey:L,onTriggerExpand:K,expandIcon:q,expandIconColumnIndex:fe.expandIconColumnIndex,direction:d,scrollWidth:k&&P&&typeof Y=="number"?Y:null,clientWidth:de}),k?M:null),ue=X(se,4),xe=ue[0],le=ue[1],pe=ue[2],Me=ue[3],we=pe??Y,st=p.useMemo(function(){return{columns:xe,flattenColumns:le}},[xe,le]),Qe=p.useRef(),Ie=p.useRef(),ae=p.useRef(),$e=p.useRef();p.useImperativeHandle(e,function(){return{nativeElement:Qe.current,scrollTo:function(Rt){var qn;if(ae.current instanceof HTMLElement){var Gn=Rt.index,pn=Rt.top,Fr=Rt.key;if(pn){var Wr;(Wr=ae.current)===null||Wr===void 0||Wr.scrollTo({top:pn})}else{var To,Js=Fr??L(T[Gn]);(To=ae.current.querySelector('[data-row-key="'.concat(Js,'"]')))===null||To===void 0||To.scrollIntoView()}}else(qn=ae.current)!==null&&qn!==void 0&&qn.scrollTo&&ae.current.scrollTo(Rt)}}});var Ae=p.useRef(),Ue=p.useState(!1),lt=X(Ue,2),Ke=lt[0],qe=lt[1],at=p.useState(!1),_e=X(at,2),Ot=_e[0],xt=_e[1],Ft=b8(new Map),St=X(Ft,2),Dt=St[0],ht=St[1],Pe=Oy(le),nt=Pe.map(function(tt){return Dt.get(tt)}),Fe=p.useMemo(function(){return nt},[nt.join("_")]),Ce=Aoe(Fe,le,d),Te=u&&dx(u.y),We=u&&dx(we)||!!fe.fixed,ye=We&&le.some(function(tt){var Rt=tt.fixed;return Rt}),Oe=p.useRef(),ke=Ooe(I,r),Je=ke.isSticky,wt=ke.offsetHeader,mt=ke.offsetSummary,Ht=ke.offsetScroll,Le=ke.stickyClassName,Xe=ke.container,Re=p.useMemo(function(){return y==null?void 0:y(T)},[y,T]),vt=(Te||Je)&&p.isValidElement(Re)&&Re.type===Ay&&Re.props.fixed,qt,zt,Nt;Te&&(zt={overflowY:"scroll",maxHeight:u.y}),We&&(qt={overflowX:"auto"},Te||(zt={overflowY:"hidden"}),Nt={width:we===!0?"auto":we,minWidth:"100%"});var Gt=p.useCallback(function(tt,Rt){gy(Qe.current)&&ht(function(qn){if(qn.get(tt)!==Rt){var Gn=new Map(qn);return Gn.set(tt,Rt),Gn}return qn})},[]),ze=$oe(),Ne=X(ze,2),Ze=Ne[0],Vt=Ne[1];function an(tt,Rt){Rt&&(typeof Rt=="function"?Rt(tt):Rt.scrollLeft!==tt&&(Rt.scrollLeft=tt,Rt.scrollLeft!==tt&&setTimeout(function(){Rt.scrollLeft=tt},0)))}var Kn=on(function(tt){var Rt=tt.currentTarget,qn=tt.scrollLeft,Gn=d==="rtl",pn=typeof qn=="number"?qn:Rt.scrollLeft,Fr=Rt||Poe;if(!Vt()||Vt()===Fr){var Wr;Ze(Fr),an(pn,Ie.current),an(pn,ae.current),an(pn,Ae.current),an(pn,(Wr=Oe.current)===null||Wr===void 0?void 0:Wr.setScrollLeft)}var To=Rt||Ie.current;if(To){var Js=To.scrollWidth,Ca=To.clientWidth;if(Js===Ca){qe(!1),xt(!1);return}Gn?(qe(-pn<Js-Ca),xt(-pn>0)):(qe(pn>0),xt(pn<Js-Ca))}}),cn=on(function(tt){Kn(tt),C==null||C(tt)}),Zn=function(){We&&ae.current?Kn({currentTarget:ae.current}):(qe(!1),xt(!1))},Zi=function(Rt){var qn,Gn=Rt.width;(qn=Oe.current)===null||qn===void 0||qn.checkScrollBarVisible();var pn=Qe.current?Qe.current.offsetWidth:Gn;k&&D&&Qe.current&&(pn=D(Qe.current,pn)||pn),pn!==de&&(Zn(),ve(pn))},Ge=p.useRef(!1);p.useEffect(function(){Ge.current&&Zn()},[We,a,xe.length]),p.useEffect(function(){Ge.current=!0},[]);var Ct=p.useState(0),Wt=X(Ct,2),Jt=Wt[0],fn=Wt[1],Ao=p.useState(!0),Ro=X(Ao,2),fr=Ro[0],Cr=Ro[1];p.useEffect(function(){(!P||!k)&&(ae.current instanceof Element?fn(jw(ae.current).width):fn(jw($e.current).width)),Cr(pQ("position","sticky"))},[]),p.useEffect(function(){k&&A&&(A.body.current=ae.current)});var ao=p.useCallback(function(tt){return p.createElement(p.Fragment,null,p.createElement(iD,tt),vt==="top"&&p.createElement(vg,tt,Re))},[vt,Re]),Er=p.useCallback(function(tt){return p.createElement(vg,tt,Re)},[Re]),Et=B(["table"],"table"),gt=p.useMemo(function(){return h||(ye?we==="max-content"?"auto":"fixed":Te||Je||le.some(function(tt){var Rt=tt.ellipsis;return Rt})?"fixed":"auto")},[Te,ye,le,h,Je]),$n,kt={colWidths:Fe,columCount:le.length,stickyOffsets:Ce,onHeaderRow:E,fixHeader:Te,scroll:u},it=p.useMemo(function(){return R?null:typeof w=="function"?w():w},[R,w]),$t=p.createElement(loe,{data:T,measureColumnWidth:Te||We||Je}),Ut=p.createElement(v8,{colWidths:le.map(function(tt){var Rt=tt.width;return Rt}),columns:le}),Zt=v!=null?p.createElement("caption",{className:"".concat(r,"-caption")},v):void 0,ri=ns(i,{data:!0}),Hi=ns(i,{aria:!0});if(Te||Je){var oi;typeof z=="function"?(oi=z(T,{scrollbarSize:Jt,ref:ae,onScroll:Kn}),kt.colWidths=le.map(function(tt,Rt){var qn=tt.width,Gn=Rt===le.length-1?qn-Jt:qn;return typeof Gn=="number"&&!Number.isNaN(Gn)?Gn:0})):oi=p.createElement("div",{style:V(V({},qt),zt),onScroll:cn,ref:ae,className:J("".concat(r,"-body"))},p.createElement(Et,Se({style:V(V({},Nt),{},{tableLayout:gt})},Hi),Zt,Ut,$t,!vt&&Re&&p.createElement(vg,{stickyOffsets:Ce,flattenColumns:le},Re)));var zi=V(V(V({noData:!T.length,maxContentScroll:We&&we==="max-content"},kt),st),{},{direction:d,stickyClassName:Le,onScroll:Kn});$n=p.createElement(p.Fragment,null,b!==!1&&p.createElement(nD,Se({},zi,{stickyTopOffset:wt,className:"".concat(r,"-header"),ref:Ie}),ao),oi,vt&&vt!=="top"&&p.createElement(nD,Se({},zi,{stickyBottomOffset:mt,className:"".concat(r,"-summary"),ref:Ae}),Er),Je&&ae.current&&ae.current instanceof Element&&p.createElement(Doe,{ref:Oe,offsetScroll:Ht,scrollBodyRef:ae,onScroll:Kn,container:Xe}))}else $n=p.createElement("div",{style:V(V({},qt),zt),className:J("".concat(r,"-content")),onScroll:Kn,ref:ae},p.createElement(Et,Se({style:V(V({},Nt),{},{tableLayout:gt})},Hi),Zt,Ut,b!==!1&&p.createElement(iD,Se({},kt,st)),$t,Re&&p.createElement(vg,{stickyOffsets:Ce,flattenColumns:le},Re)));var as=p.createElement("div",Se({className:J(r,o,(t={},N(t,"".concat(r,"-rtl"),d==="rtl"),N(t,"".concat(r,"-ping-left"),Ke),N(t,"".concat(r,"-ping-right"),Ot),N(t,"".concat(r,"-layout-fixed"),h==="fixed"),N(t,"".concat(r,"-fixed-header"),Te),N(t,"".concat(r,"-fixed-column"),ye),N(t,"".concat(r,"-fixed-column-gapped"),ye&&Me),N(t,"".concat(r,"-scroll-horizontal"),We),N(t,"".concat(r,"-has-fix-left"),le[0]&&le[0].fixed),N(t,"".concat(r,"-has-fix-right"),le[le.length-1]&&le[le.length-1].fixed==="right"),t)),style:l,id:m,ref:Qe},ri),f&&p.createElement(sD,{className:"".concat(r,"-title")},f(T)),p.createElement("div",{ref:$e,className:"".concat(r,"-container")},$n),g&&p.createElement(sD,{className:"".concat(r,"-footer")},g(T)));We&&(as=p.createElement(ss,{onResize:Zi},as));var Do=Moe(le,Ce,d),El=p.useMemo(function(){return{scrollX:we,prefixCls:r,getComponent:B,scrollbarSize:Jt,direction:d,fixedInfoList:Do,isSticky:Je,supportSticky:fr,componentWidth:de,fixHeader:Te,fixColumn:ye,horizonScroll:We,tableLayout:gt,rowClassName:s,expandedRowClassName:fe.expandedRowClassName,expandIcon:q,expandableType:te,expandRowByClick:fe.expandRowByClick,expandedRowRender:fe.expandedRowRender,onTriggerExpand:K,expandIconColumnIndex:fe.expandIconColumnIndex,indentSize:fe.indentSize,allColumnsFixedLeft:le.every(function(tt){return tt.fixed==="left"}),emptyNode:it,columns:xe,flattenColumns:le,onColumnResize:Gt,hoverStartRow:G,hoverEndRow:Z,onHover:re,rowExpandable:fe.rowExpandable,onRow:x,getRowKey:L,expandedKeys:j,childrenColumnName:ee,rowHoverable:H}},[we,r,B,Jt,d,Do,Je,fr,de,Te,ye,We,gt,s,fe.expandedRowClassName,q,te,fe.expandRowByClick,fe.expandedRowRender,K,fe.expandIconColumnIndex,fe.indentSize,it,xe,le,Gt,G,Z,re,fe.rowExpandable,x,L,j,ee,H]);return p.createElement(Vr.Provider,{value:El},as)}var Boe=p.forwardRef(Noe);function w8(n){return a8(Boe,n)}var xh=w8();xh.EXPAND_COLUMN=Dl;xh.INTERNAL_HOOKS=Cp;xh.Column=eoe;xh.ColumnGroup=toe;xh.Summary=h8;var I$=R$(null),x8=R$(null);function Loe(n,e,t){var i=e||1;return t[n+i]-(t[n]||0)}function Hoe(n){var e=n.rowInfo,t=n.column,i=n.colIndex,r=n.indent,o=n.index,s=n.component,l=n.renderIndex,a=n.record,c=n.style,u=n.className,h=n.inverse,d=n.getHeight,f=t.render,g=t.dataIndex,y=t.className,v=t.width,m=hr(x8,["columnsOffset"]),b=m.columnsOffset,S=m8(e,t,i,r,o),w=S.key,x=S.fixedInfo,E=S.appendCellNode,C=S.additionalCellProps,$=C.style,M=C.colSpan,A=M===void 0?1:M,P=C.rowSpan,D=P===void 0?1:P,I=i-1,O=Loe(I,A,b),H=A>1?v-O:0,T=V(V(V({},$),c),{},{flex:"0 0 ".concat(O,"px"),width:"".concat(O,"px"),marginRight:H,pointerEvents:"auto"}),R=p.useMemo(function(){return h?D<=1:A===0||D===0||D>1},[D,A,h]);R?T.visibility="hidden":h&&(T.height=d==null?void 0:d(D));var k=R?function(){return null}:f,B={};return(D===0||A===0)&&(B.rowSpan=1,B.colSpan=1),p.createElement(yc,Se({className:J(y,u),ellipsis:t.ellipsis,align:t.align,scope:t.rowScope,component:s,prefixCls:e.prefixCls,key:w,record:a,index:o,renderIndex:l,dataIndex:g,render:k,shouldCellUpdate:t.shouldCellUpdate},x,{appendNode:E,additionalProps:V(V({},C),{},{style:T},B)}))}var zoe=["data","index","className","rowKey","style","extra","getHeight"],Voe=p.forwardRef(function(n,e){var t=n.data,i=n.index,r=n.className,o=n.rowKey,s=n.style,l=n.extra,a=n.getHeight,c=bt(n,zoe),u=t.record,h=t.indent,d=t.index,f=hr(Vr,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),g=f.scrollX,y=f.flattenColumns,v=f.prefixCls,m=f.fixColumn,b=f.componentWidth,S=hr(I$,["getComponent"]),w=S.getComponent,x=p8(u,o,i,h),E=w(["body","row"],"div"),C=w(["body","cell"],"div"),$=x.rowSupportExpand,M=x.expanded,A=x.rowProps,P=x.expandedRowRender,D=x.expandedRowClassName,I;if($&&M){var O=P(u,i,h+1,M),H=D==null?void 0:D(u,i,h),T={};m&&(T={style:N({},"--virtual-width","".concat(b,"px"))});var R="".concat(v,"-expanded-row-cell");I=p.createElement(E,{className:J("".concat(v,"-expanded-row"),"".concat(v,"-expanded-row-level-").concat(h+1),H)},p.createElement(yc,{component:C,prefixCls:v,className:J(R,N({},"".concat(R,"-fixed"),m)),additionalProps:T},O))}var k=V(V({},s),{},{width:g});l&&(k.position="absolute",k.pointerEvents="none");var B=p.createElement(E,Se({},A,c,{"data-row-key":o,ref:$?null:e,className:J(r,"".concat(v,"-row"),A==null?void 0:A.className,N({},"".concat(v,"-row-extra"),l)),style:V(V({},k),A==null?void 0:A.style)}),y.map(function(L,z){return p.createElement(Hoe,{key:z,component:C,rowInfo:x,column:L,colIndex:z,indent:h,index:i,renderIndex:d,record:u,inverse:l,getHeight:a})}));return $?p.createElement("div",{ref:e},B,I):B}),lD=wh(Voe),Foe=p.forwardRef(function(n,e){var t=n.data,i=n.onScroll,r=hr(Vr,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","emptyNode","scrollX"]),o=r.flattenColumns,s=r.onColumnResize,l=r.getRowKey,a=r.expandedKeys,c=r.prefixCls,u=r.childrenColumnName,h=r.emptyNode,d=r.scrollX,f=hr(I$),g=f.sticky,y=f.scrollY,v=f.listItemHeight,m=f.getComponent,b=f.onScroll,S=p.useRef(),w=f8(t,u,a,l),x=p.useMemo(function(){var T=0;return o.map(function(R){var k=R.width,B=R.key;return T+=k,[B,k,T]})},[o]),E=p.useMemo(function(){return x.map(function(T){return T[2]})},[x]);p.useEffect(function(){x.forEach(function(T){var R=X(T,2),k=R[0],B=R[1];s(k,B)})},[x]),p.useImperativeHandle(e,function(){var T={scrollTo:function(k){var B;(B=S.current)===null||B===void 0||B.scrollTo(k)}};return Object.defineProperty(T,"scrollLeft",{get:function(){var k;return((k=S.current)===null||k===void 0?void 0:k.getScrollInfo().x)||0},set:function(k){var B;(B=S.current)===null||B===void 0||B.scrollTo({left:k})}}),T});var C=function(R,k){var B,L=(B=w[k])===null||B===void 0?void 0:B.record,z=R.onCell;if(z){var F,_=z(L,k);return(F=_==null?void 0:_.rowSpan)!==null&&F!==void 0?F:1}return 1},$=function(R){var k=R.start,B=R.end,L=R.getSize,z=R.offsetY;if(B<0)return null;for(var F=o.filter(function(K){return C(K,k)===0}),_=k,G=function(Y){if(F=F.filter(function(he){return C(he,Y)===0}),!F.length)return _=Y,1},Z=k;Z>=0&&!G(Z);Z-=1);for(var re=o.filter(function(K){return C(K,B)!==1}),Q=B,ce=function(Y){if(re=re.filter(function(he){return C(he,Y)!==1}),!re.length)return Q=Math.max(Y-1,B),1},fe=B;fe<w.length&&!ce(fe);fe+=1);for(var te=[],j=function(Y){var he=w[Y];if(!he)return 1;o.some(function(ne){return C(ne,Y)>1})&&te.push(Y)},q=_;q<=Q;q+=1)j(q);var ee=te.map(function(K){var Y=w[K],he=l(Y.record,K),ne=function(se){var ue=K+se-1,xe=l(w[ue].record,ue),le=L(he,xe);return le.bottom-le.top},de=L(he);return p.createElement(lD,{key:K,data:Y,rowKey:he,index:K,style:{top:-z+de.top},extra:!0,getHeight:ne})});return ee},M=p.useMemo(function(){return{columnsOffset:E}},[E]),A="".concat(c,"-tbody"),P=m(["body","wrapper"]),D=m(["body","row"],"div"),I=m(["body","cell"],"div"),O;if(w.length){var H={};g&&(H.position="sticky",H.bottom=0,et(g)==="object"&&g.offsetScroll&&(H.bottom=g.offsetScroll)),O=p.createElement(Sy,{fullHeight:!1,ref:S,prefixCls:"".concat(A,"-virtual"),styles:{horizontalScrollBar:H},className:A,height:y,itemHeight:v||24,data:w,itemKey:function(R){return l(R.record)},component:P,scrollWidth:d,onVirtualScroll:function(R){var k=R.x;i({scrollLeft:k})},onScroll:b,extraRender:$},function(T,R,k){var B=l(T.record,R);return p.createElement(lD,{data:T,rowKey:B,index:R,style:k.style})})}else O=p.createElement(D,{className:J("".concat(c,"-placeholder"))},p.createElement(yc,{component:I,prefixCls:c},h));return p.createElement(x8.Provider,{value:M},O)}),Woe=wh(Foe),_oe=function(e,t){var i=t.ref,r=t.onScroll;return p.createElement(Woe,{ref:i,data:e,onScroll:r})};function joe(n,e){var t=n.columns,i=n.scroll,r=n.sticky,o=n.prefixCls,s=o===void 0?S8:o,l=n.className,a=n.listItemHeight,c=n.components,u=n.onScroll,h=i||{},d=h.x,f=h.y;typeof d!="number"&&(d=1),typeof f!="number"&&(f=500);var g=on(function(m,b){return to(c,m)||b}),y=on(u),v=p.useMemo(function(){return{sticky:r,scrollY:f,listItemHeight:a,getComponent:g,onScroll:y}},[r,f,a,g,y]);return p.createElement(I$.Provider,{value:v},p.createElement(xh,Se({},n,{className:J(l,"".concat(s,"-virtual")),scroll:V(V({},i),{},{x:d}),components:V(V({},c),{},{body:_oe}),columns:t,internalHooks:Cp,tailor:!0,ref:e})))}var Koe=p.forwardRef(joe);function C8(n){return a8(Koe,n)}C8();function qoe(n){return null}function Goe(n){return null}var N$=p.createContext(null),Uoe=function(e){for(var t=e.prefixCls,i=e.level,r=e.isStart,o=e.isEnd,s="".concat(t,"-indent-unit"),l=[],a=0;a<i;a+=1)l.push(p.createElement("span",{key:a,className:J(s,N(N({},"".concat(s,"-start"),r[a]),"".concat(s,"-end"),o[a]))}));return p.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},l)};const Xoe=p.memo(Uoe);var Yoe=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],aD="open",cD="close",Qoe="---",Joe=function(n){qs(t,n);var e=Gs(t);function t(){var i;ui(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),N(ge(i),"state",{dragNodeHighlight:!1}),N(ge(i),"selectHandle",void 0),N(ge(i),"cacheIndent",void 0),N(ge(i),"onSelectorClick",function(l){var a=i.props.context.onNodeClick;a(l,si(i.props)),i.isSelectable()?i.onSelect(l):i.onCheck(l)}),N(ge(i),"onSelectorDoubleClick",function(l){var a=i.props.context.onNodeDoubleClick;a(l,si(i.props))}),N(ge(i),"onSelect",function(l){if(!i.isDisabled()){var a=i.props.context.onNodeSelect;a(l,si(i.props))}}),N(ge(i),"onCheck",function(l){if(!i.isDisabled()){var a=i.props,c=a.disableCheckbox,u=a.checked,h=i.props.context.onNodeCheck;if(!(!i.isCheckable()||c)){var d=!u;h(l,si(i.props),d)}}}),N(ge(i),"onMouseEnter",function(l){var a=i.props.context.onNodeMouseEnter;a(l,si(i.props))}),N(ge(i),"onMouseLeave",function(l){var a=i.props.context.onNodeMouseLeave;a(l,si(i.props))}),N(ge(i),"onContextMenu",function(l){var a=i.props.context.onNodeContextMenu;a(l,si(i.props))}),N(ge(i),"onDragStart",function(l){var a=i.props.context.onNodeDragStart;l.stopPropagation(),i.setState({dragNodeHighlight:!0}),a(l,ge(i));try{l.dataTransfer.setData("text/plain","")}catch{}}),N(ge(i),"onDragEnter",function(l){var a=i.props.context.onNodeDragEnter;l.preventDefault(),l.stopPropagation(),a(l,ge(i))}),N(ge(i),"onDragOver",function(l){var a=i.props.context.onNodeDragOver;l.preventDefault(),l.stopPropagation(),a(l,ge(i))}),N(ge(i),"onDragLeave",function(l){var a=i.props.context.onNodeDragLeave;l.stopPropagation(),a(l,ge(i))}),N(ge(i),"onDragEnd",function(l){var a=i.props.context.onNodeDragEnd;l.stopPropagation(),i.setState({dragNodeHighlight:!1}),a(l,ge(i))}),N(ge(i),"onDrop",function(l){var a=i.props.context.onNodeDrop;l.preventDefault(),l.stopPropagation(),i.setState({dragNodeHighlight:!1}),a(l,ge(i))}),N(ge(i),"onExpand",function(l){var a=i.props,c=a.loading,u=a.context.onNodeExpand;c||u(l,si(i.props))}),N(ge(i),"setSelectHandle",function(l){i.selectHandle=l}),N(ge(i),"getNodeState",function(){var l=i.props.expanded;return i.isLeaf()?null:l?aD:cD}),N(ge(i),"hasChildren",function(){var l=i.props.eventKey,a=i.props.context.keyEntities,c=$r(a,l)||{},u=c.children;return!!(u||[]).length}),N(ge(i),"isLeaf",function(){var l=i.props,a=l.isLeaf,c=l.loaded,u=i.props.context.loadData,h=i.hasChildren();return a===!1?!1:a||!u&&!h||u&&c&&!h}),N(ge(i),"isDisabled",function(){var l=i.props.disabled,a=i.props.context.disabled;return!!(a||l)}),N(ge(i),"isCheckable",function(){var l=i.props.checkable,a=i.props.context.checkable;return!a||l===!1?!1:a}),N(ge(i),"syncLoadData",function(l){var a=l.expanded,c=l.loading,u=l.loaded,h=i.props.context,d=h.loadData,f=h.onNodeLoad;c||d&&a&&!i.isLeaf()&&!u&&f(si(i.props))}),N(ge(i),"isDraggable",function(){var l=i.props,a=l.data,c=l.context.draggable;return!!(c&&(!c.nodeDraggable||c.nodeDraggable(a)))}),N(ge(i),"renderDragHandler",function(){var l=i.props.context,a=l.draggable,c=l.prefixCls;return a!=null&&a.icon?p.createElement("span",{className:"".concat(c,"-draggable-icon")},a.icon):null}),N(ge(i),"renderSwitcherIconDom",function(l){var a=i.props.switcherIcon,c=i.props.context.switcherIcon,u=a||c;return typeof u=="function"?u(V(V({},i.props),{},{isLeaf:l})):u}),N(ge(i),"renderSwitcher",function(){var l=i.props.expanded,a=i.props.context.prefixCls;if(i.isLeaf()){var c=i.renderSwitcherIconDom(!0);return c!==!1?p.createElement("span",{className:J("".concat(a,"-switcher"),"".concat(a,"-switcher-noop"))},c):null}var u=J("".concat(a,"-switcher"),"".concat(a,"-switcher_").concat(l?aD:cD)),h=i.renderSwitcherIconDom(!1);return h!==!1?p.createElement("span",{onClick:i.onExpand,className:u},h):null}),N(ge(i),"renderCheckbox",function(){var l=i.props,a=l.checked,c=l.halfChecked,u=l.disableCheckbox,h=i.props.context.prefixCls,d=i.isDisabled(),f=i.isCheckable();if(!f)return null;var g=typeof f!="boolean"?f:null;return p.createElement("span",{className:J("".concat(h,"-checkbox"),a&&"".concat(h,"-checkbox-checked"),!a&&c&&"".concat(h,"-checkbox-indeterminate"),(d||u)&&"".concat(h,"-checkbox-disabled")),onClick:i.onCheck},g)}),N(ge(i),"renderIcon",function(){var l=i.props.loading,a=i.props.context.prefixCls;return p.createElement("span",{className:J("".concat(a,"-iconEle"),"".concat(a,"-icon__").concat(i.getNodeState()||"docu"),l&&"".concat(a,"-icon_loading"))})}),N(ge(i),"renderSelector",function(){var l=i.state.dragNodeHighlight,a=i.props,c=a.title,u=c===void 0?Qoe:c,h=a.selected,d=a.icon,f=a.loading,g=a.data,y=i.props.context,v=y.prefixCls,m=y.showIcon,b=y.icon,S=y.loadData,w=y.titleRender,x=i.isDisabled(),E="".concat(v,"-node-content-wrapper"),C;if(m){var $=d||b;C=$?p.createElement("span",{className:J("".concat(v,"-iconEle"),"".concat(v,"-icon__customize"))},typeof $=="function"?$(i.props):$):i.renderIcon()}else S&&f&&(C=i.renderIcon());var M;typeof u=="function"?M=u(g):w?M=w(g):M=u;var A=p.createElement("span",{className:"".concat(v,"-title")},M);return p.createElement("span",{ref:i.setSelectHandle,title:typeof u=="string"?u:"",className:J("".concat(E),"".concat(E,"-").concat(i.getNodeState()||"normal"),!x&&(h||l)&&"".concat(v,"-node-selected")),onMouseEnter:i.onMouseEnter,onMouseLeave:i.onMouseLeave,onContextMenu:i.onContextMenu,onClick:i.onSelectorClick,onDoubleClick:i.onSelectorDoubleClick},C,A,i.renderDropIndicator())}),N(ge(i),"renderDropIndicator",function(){var l=i.props,a=l.disabled,c=l.eventKey,u=i.props.context,h=u.draggable,d=u.dropLevelOffset,f=u.dropPosition,g=u.prefixCls,y=u.indent,v=u.dropIndicatorRender,m=u.dragOverNodeKey,b=u.direction,S=!!h,w=!a&&S&&m===c,x=y??i.cacheIndent;return i.cacheIndent=y,w?v({dropPosition:f,dropLevelOffset:d,indent:x,prefixCls:g,direction:b}):null}),i}return hi(t,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var r=this.props.selectable,o=this.props.context.selectable;return typeof r=="boolean"?r:o}},{key:"render",value:function(){var r,o=this.props,s=o.eventKey,l=o.className,a=o.style,c=o.dragOver,u=o.dragOverGapTop,h=o.dragOverGapBottom,d=o.isLeaf,f=o.isStart,g=o.isEnd,y=o.expanded,v=o.selected,m=o.checked,b=o.halfChecked,S=o.loading,w=o.domRef,x=o.active;o.data;var E=o.onMouseMove,C=o.selectable,$=bt(o,Yoe),M=this.props.context,A=M.prefixCls,P=M.filterTreeNode,D=M.keyEntities,I=M.dropContainerKey,O=M.dropTargetKey,H=M.draggingNodeKey,T=this.isDisabled(),R=ns($,{aria:!0,data:!0}),k=$r(D,s)||{},B=k.level,L=g[g.length-1],z=this.isDraggable(),F=!T&&z,_=H===s,G=C!==void 0?{"aria-selected":!!C}:void 0;return p.createElement("div",Se({ref:w,className:J(l,"".concat(A,"-treenode"),(r={},N(N(N(N(N(N(N(N(N(N(r,"".concat(A,"-treenode-disabled"),T),"".concat(A,"-treenode-switcher-").concat(y?"open":"close"),!d),"".concat(A,"-treenode-checkbox-checked"),m),"".concat(A,"-treenode-checkbox-indeterminate"),b),"".concat(A,"-treenode-selected"),v),"".concat(A,"-treenode-loading"),S),"".concat(A,"-treenode-active"),x),"".concat(A,"-treenode-leaf-last"),L),"".concat(A,"-treenode-draggable"),z),"dragging",_),N(N(N(N(N(N(r,"drop-target",O===s),"drop-container",I===s),"drag-over",!T&&c),"drag-over-gap-top",!T&&u),"drag-over-gap-bottom",!T&&h),"filter-node",P&&P(si(this.props))))),style:a,draggable:F,"aria-grabbed":_,onDragStart:F?this.onDragStart:void 0,onDragEnter:z?this.onDragEnter:void 0,onDragOver:z?this.onDragOver:void 0,onDragLeave:z?this.onDragLeave:void 0,onDrop:z?this.onDrop:void 0,onDragEnd:z?this.onDragEnd:void 0,onMouseMove:E},G,R),p.createElement(Xoe,{prefixCls:A,level:B,isStart:f,isEnd:g}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),t}(p.Component),Uu=function(e){return p.createElement(N$.Consumer,null,function(t){return p.createElement(Joe,Se({},e,{context:t}))})};Uu.displayName="TreeNode";Uu.isTreeNode=1;function ys(n,e){if(!n)return[];var t=n.slice(),i=t.indexOf(e);return i>=0&&t.splice(i,1),t}function tl(n,e){var t=(n||[]).slice();return t.indexOf(e)===-1&&t.push(e),t}function B$(n){return n.split("-")}function Zoe(n,e){var t=[],i=$r(e,n);function r(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];o.forEach(function(s){var l=s.key,a=s.children;t.push(l),r(a)})}return r(i.children),t}function ese(n){if(n.parent){var e=B$(n.pos);return Number(e[e.length-1])===n.parent.children.length-1}return!1}function tse(n){var e=B$(n.pos);return Number(e[e.length-1])===0}function uD(n,e,t,i,r,o,s,l,a,c){var u,h=n.clientX,d=n.clientY,f=n.target.getBoundingClientRect(),g=f.top,y=f.height,v=(c==="rtl"?-1:1)*(((r==null?void 0:r.x)||0)-h),m=(v-12)/i,b=a.filter(function(T){var R;return(R=l[T])===null||R===void 0||(R=R.children)===null||R===void 0?void 0:R.length}),S=$r(l,t.props.eventKey);if(d<g+y/2){var w=s.findIndex(function(T){return T.key===S.key}),x=w<=0?0:w-1,E=s[x].key;S=$r(l,E)}var C=S.key,$=S,M=S.key,A=0,P=0;if(!b.includes(C))for(var D=0;D<m&&ese(S);D+=1)S=S.parent,P+=1;var I=e.props.data,O=S.node,H=!0;return tse(S)&&S.level===0&&d<g+y/2&&o({dragNode:I,dropNode:O,dropPosition:-1})&&S.key===t.props.eventKey?A=-1:($.children||[]).length&&b.includes(M)?o({dragNode:I,dropNode:O,dropPosition:0})?A=0:H=!1:P===0?m>-1.5?o({dragNode:I,dropNode:O,dropPosition:1})?A=1:H=!1:o({dragNode:I,dropNode:O,dropPosition:0})?A=0:o({dragNode:I,dropNode:O,dropPosition:1})?A=1:H=!1:o({dragNode:I,dropNode:O,dropPosition:1})?A=1:H=!1,{dropPosition:A,dropLevelOffset:P,dropTargetKey:S.key,dropTargetPos:S.pos,dragOverNodeKey:M,dropContainerKey:A===0?null:((u=S.parent)===null||u===void 0?void 0:u.key)||null,dropAllowed:H}}function hD(n,e){if(n){var t=e.multiple;return t?n.slice():n.length?[n[0]]:n}}function d1(n){if(!n)return null;var e;if(Array.isArray(n))e={checkedKeys:n,halfCheckedKeys:void 0};else if(et(n)==="object")e={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return Dn(!1,"`checkedKeys` is not an array or an object"),null;return e}function px(n,e){var t=new Set;function i(r){if(!t.has(r)){var o=$r(e,r);if(o){t.add(r);var s=o.parent,l=o.node;l.disabled||s&&i(s.key)}}}return(n||[]).forEach(function(r){i(r)}),be(t)}function nse(n){const[e,t]=p.useState(null);return[p.useCallback((o,s,l)=>{const a=e??o,c=Math.min(a||0,o),u=Math.max(a||0,o),h=s.slice(c,u+1).map(g=>n(g)),d=h.some(g=>!l.has(g)),f=[];return h.forEach(g=>{d?(l.has(g)||f.push(g),l.add(g)):(l.delete(g),f.push(g))}),t(d?u:null),f},[e]),o=>{t(o)}]}const Ol={},gx="SELECT_ALL",mx="SELECT_INVERT",vx="SELECT_NONE",dD=[],E8=(n,e)=>{let t=[];return(e||[]).forEach(i=>{t.push(i),i&&typeof i=="object"&&n in i&&(t=[].concat(be(t),be(E8(n,i[n]))))}),t},ise=(n,e)=>{const{preserveSelectedRowKeys:t,selectedRowKeys:i,defaultSelectedRowKeys:r,getCheckboxProps:o,onChange:s,onSelect:l,onSelectAll:a,onSelectInvert:c,onSelectNone:u,onSelectMultiple:h,columnWidth:d,type:f,selections:g,fixed:y,renderCell:v,hideSelectAll:m,checkStrictly:b=!0}=e||{},{prefixCls:S,data:w,pageData:x,getRecordByKey:E,getRowKey:C,expandType:$,childrenColumnName:M,locale:A,getPopupContainer:P}=n,D=gh(),[I,O]=nse(j=>j),[H,T]=Ri(i||r||dD,{value:i}),R=p.useRef(new Map),k=p.useCallback(j=>{if(t){const q=new Map;j.forEach(ee=>{let K=E(ee);!K&&R.current.has(ee)&&(K=R.current.get(ee)),q.set(ee,K)}),R.current=q}},[E,t]);p.useEffect(()=>{k(H)},[H]);const{keyEntities:B}=p.useMemo(()=>{if(b)return{keyEntities:null};let j=w;if(t){const q=new Set(w.map((K,Y)=>C(K,Y))),ee=Array.from(R.current).reduce((K,Y)=>{let[he,ne]=Y;return q.has(he)?K:K.concat(ne)},[]);j=[].concat(be(j),be(ee))}return k$(j,{externalGetKey:C,childrenPropName:M})},[w,C,b,M,t]),L=p.useMemo(()=>E8(M,x),[M,x]),z=p.useMemo(()=>{const j=new Map;return L.forEach((q,ee)=>{const K=C(q,ee),Y=(o?o(q):null)||{};j.set(K,Y)}),j},[L,C,o]),F=p.useCallback(j=>{var q;return!!(!((q=z.get(C(j)))===null||q===void 0)&&q.disabled)},[z,C]),[_,G]=p.useMemo(()=>{if(b)return[H||[],[]];const{checkedKeys:j,halfCheckedKeys:q}=vu(H,!0,B,F);return[j||[],q]},[H,b,B,F]),Z=p.useMemo(()=>{const j=f==="radio"?_.slice(0,1):_;return new Set(j)},[_,f]),re=p.useMemo(()=>f==="radio"?new Set:new Set(G),[G,f]);p.useEffect(()=>{e||T(dD)},[!!e]);const Q=p.useCallback((j,q)=>{let ee,K;k(j),t?(ee=j,K=j.map(Y=>R.current.get(Y))):(ee=[],K=[],j.forEach(Y=>{const he=E(Y);he!==void 0&&(ee.push(Y),K.push(he))})),T(ee),s==null||s(ee,K,{type:q})},[T,E,s,t]),ce=p.useCallback((j,q,ee,K)=>{if(l){const Y=ee.map(he=>E(he));l(E(j),q,Y,K)}Q(ee,"single")},[l,E,Q]),fe=p.useMemo(()=>!g||m?null:(g===!0?[gx,mx,vx]:g).map(q=>q===gx?{key:"all",text:A.selectionAll,onSelect(){Q(w.map((ee,K)=>C(ee,K)).filter(ee=>{const K=z.get(ee);return!(K!=null&&K.disabled)||Z.has(ee)}),"all")}}:q===mx?{key:"invert",text:A.selectInvert,onSelect(){const ee=new Set(Z);x.forEach((Y,he)=>{const ne=C(Y,he),de=z.get(ne);de!=null&&de.disabled||(ee.has(ne)?ee.delete(ne):ee.add(ne))});const K=Array.from(ee);c&&(D.deprecated(!1,"onSelectInvert","onChange"),c(K)),Q(K,"invert")}}:q===vx?{key:"none",text:A.selectNone,onSelect(){u==null||u(),Q(Array.from(Z).filter(ee=>{const K=z.get(ee);return K==null?void 0:K.disabled}),"none")}}:q).map(q=>Object.assign(Object.assign({},q),{onSelect:function(){for(var ee,K,Y=arguments.length,he=new Array(Y),ne=0;ne<Y;ne++)he[ne]=arguments[ne];(K=q.onSelect)===null||K===void 0||(ee=K).call.apply(ee,[q].concat(he)),O(null)}})),[g,Z,x,C,c,Q]);return[p.useCallback(j=>{var q;if(!e)return j.filter(ae=>ae!==Ol);let ee=be(j);const K=new Set(Z),Y=L.map(C).filter(ae=>!z.get(ae).disabled),he=Y.every(ae=>K.has(ae)),ne=Y.some(ae=>K.has(ae)),de=()=>{const ae=[];he?Y.forEach(Ae=>{K.delete(Ae),ae.push(Ae)}):Y.forEach(Ae=>{K.has(Ae)||(K.add(Ae),ae.push(Ae))});const $e=Array.from(K);a==null||a(!he,$e.map(Ae=>E(Ae)),ae.map(Ae=>E(Ae))),Q($e,"all"),O(null)};let ve,se;if(f!=="radio"){let ae;if(fe){const Ke={getPopupContainer:P,items:fe.map((qe,at)=>{const{key:_e,text:Ot,onSelect:xt}=qe;return{key:_e??at,onClick:()=>{xt==null||xt(Y)},label:Ot}})};ae=p.createElement("div",{className:`${S}-selection-extra`},p.createElement(A$,{menu:Ke,getPopupContainer:P},p.createElement("span",null,p.createElement(cV,null))))}const $e=L.map((Ke,qe)=>{const at=C(Ke,qe),_e=z.get(at)||{};return Object.assign({checked:K.has(at)},_e)}).filter(Ke=>{let{disabled:qe}=Ke;return qe}),Ae=!!$e.length&&$e.length===L.length,Ue=Ae&&$e.every(Ke=>{let{checked:qe}=Ke;return qe}),lt=Ae&&$e.some(Ke=>{let{checked:qe}=Ke;return qe});se=p.createElement(Gu,{checked:Ae?Ue:!!L.length&&he,indeterminate:Ae?!Ue&&lt:!he&&ne,onChange:de,disabled:L.length===0||Ae,"aria-label":ae?"Custom selection":"Select all",skipGroup:!0}),ve=!m&&p.createElement("div",{className:`${S}-selection`},se,ae)}let ue;f==="radio"?ue=(ae,$e,Ae)=>{const Ue=C($e,Ae),lt=K.has(Ue);return{node:p.createElement(wp,Object.assign({},z.get(Ue),{checked:lt,onClick:Ke=>Ke.stopPropagation(),onChange:Ke=>{K.has(Ue)||ce(Ue,!0,[Ue],Ke.nativeEvent)}})),checked:lt}}:ue=(ae,$e,Ae)=>{var Ue;const lt=C($e,Ae),Ke=K.has(lt),qe=re.has(lt),at=z.get(lt);let _e;return $==="nest"?_e=qe:_e=(Ue=at==null?void 0:at.indeterminate)!==null&&Ue!==void 0?Ue:qe,{node:p.createElement(Gu,Object.assign({},at,{indeterminate:_e,checked:Ke,skipGroup:!0,onClick:Ot=>Ot.stopPropagation(),onChange:Ot=>{let{nativeEvent:xt}=Ot;const{shiftKey:Ft}=xt,St=Y.findIndex(ht=>ht===lt),Dt=_.some(ht=>Y.includes(ht));if(Ft&&b&&Dt){const ht=I(St,Y,K),Pe=Array.from(K);h==null||h(!Ke,Pe.map(nt=>E(nt)),ht.map(nt=>E(nt))),Q(Pe,"multiple")}else{const ht=_;if(b){const Pe=Ke?ys(ht,lt):tl(ht,lt);ce(lt,!Ke,Pe,xt)}else{const Pe=vu([].concat(be(ht),[lt]),!0,B,F),{checkedKeys:nt,halfCheckedKeys:Fe}=Pe;let Ce=nt;if(Ke){const Te=new Set(nt);Te.delete(lt),Ce=vu(Array.from(Te),{checked:!1,halfCheckedKeys:Fe},B,F).checkedKeys}ce(lt,!Ke,Ce,xt)}}O(Ke?null:St)}})),checked:Ke}};const xe=(ae,$e,Ae)=>{const{node:Ue,checked:lt}=ue(ae,$e,Ae);return v?v(lt,$e,Ae,Ue):Ue};if(!ee.includes(Ol))if(ee.findIndex(ae=>{var $e;return(($e=ae[Ld])===null||$e===void 0?void 0:$e.columnType)==="EXPAND_COLUMN"})===0){const[ae,...$e]=ee;ee=[ae,Ol].concat(be($e))}else ee=[Ol].concat(be(ee));const le=ee.indexOf(Ol);ee=ee.filter((ae,$e)=>ae!==Ol||$e===le);const pe=ee[le-1],Me=ee[le+1];let we=y;we===void 0&&((Me==null?void 0:Me.fixed)!==void 0?we=Me.fixed:(pe==null?void 0:pe.fixed)!==void 0&&(we=pe.fixed)),we&&pe&&((q=pe[Ld])===null||q===void 0?void 0:q.columnType)==="EXPAND_COLUMN"&&pe.fixed===void 0&&(pe.fixed=we);const st=J(`${S}-selection-col`,{[`${S}-selection-col-with-dropdown`]:g&&f==="checkbox"}),Qe=()=>e!=null&&e.columnTitle?typeof e.columnTitle=="function"?e.columnTitle(se):e.columnTitle:ve,Ie={fixed:we,width:d,className:`${S}-selection-column`,title:Qe(),render:xe,onCell:e.onCell,[Ld]:{className:st}};return ee.map(ae=>ae===Ol?Ie:ae)},[C,L,e,_,Z,re,d,fe,$,z,h,ce,F]),Z]};function rse(n,e){return n._antProxy=n._antProxy||{},Object.keys(e).forEach(t=>{if(!(t in n._antProxy)){const i=n[t];n._antProxy[t]=i,n[t]=e[t]}}),n}function ose(n,e){return p.useImperativeHandle(n,()=>{const t=e(),{nativeElement:i}=t;return typeof Proxy<"u"?new Proxy(i,{get(r,o){return t[o]?t[o]:Reflect.get(r,o)}}):rse(i,t)})}function sse(n){return function(t){let{prefixCls:i,onExpand:r,record:o,expanded:s,expandable:l}=t;const a=`${i}-row-expand-icon`;return p.createElement("button",{type:"button",onClick:c=>{r(o,c),c.stopPropagation()},className:J(a,{[`${a}-spaced`]:!l,[`${a}-expanded`]:l&&s,[`${a}-collapsed`]:l&&!s}),"aria-label":s?n.collapse:n.expand,"aria-expanded":s})}}function lse(n){return(t,i)=>{const r=t.querySelector(`.${n}-container`);let o=i;if(r){const s=getComputedStyle(r),l=parseInt(s.borderLeftWidth,10),a=parseInt(s.borderRightWidth,10);o=i-l-a}return o}}function ic(n,e){return"key"in n&&n.key!==void 0&&n.key!==null?n.key:n.dataIndex?Array.isArray(n.dataIndex)?n.dataIndex.join("."):n.dataIndex:e}function Ep(n,e){return e?`${e}-${n}`:`${n}`}function Ry(n,e){return typeof n=="function"?n(e):n}function ase(n,e){const t=Ry(n,e);return Object.prototype.toString.call(t)==="[object Object]"?"":t}var cse={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},use=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:cse}))},hse=p.forwardRef(use);function dse(n){const e=p.useRef(n),t=hV();return[()=>e.current,i=>{e.current=i,t()}]}function fse(n){var e=n.dropPosition,t=n.dropLevelOffset,i=n.indent,r={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(e){case-1:r.top=0,r.left=-t*i;break;case 1:r.bottom=0,r.left=-t*i;break;case 0:r.bottom=0,r.left=i;break}return p.createElement("div",{style:r})}function M8(n){if(n==null)throw new TypeError("Cannot destructure "+n)}function pse(n,e){var t=p.useState(!1),i=X(t,2),r=i[0],o=i[1];Kt(function(){if(r)return n(),function(){e()}},[r]),Kt(function(){return o(!0),function(){o(!1)}},[])}var gse=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],$8=function(e,t){var i=e.className,r=e.style,o=e.motion,s=e.motionNodes,l=e.motionType,a=e.onMotionStart,c=e.onMotionEnd,u=e.active,h=e.treeNodeRequiredProps,d=bt(e,gse),f=p.useState(!0),g=X(f,2),y=g[0],v=g[1],m=p.useContext(N$),b=m.prefixCls,S=s&&l!=="hide";Kt(function(){s&&S!==y&&v(S)},[s]);var w=function(){s&&a()},x=p.useRef(!1),E=function(){s&&!x.current&&(x.current=!0,c())};pse(w,E);var C=function(M){S===M&&E()};return s?p.createElement(mc,Se({ref:t,visible:y},o,{motionAppear:l==="show",onVisibleChanged:C}),function($,M){var A=$.className,P=$.style;return p.createElement("div",{ref:M,className:J("".concat(b,"-treenode-motion"),A),style:P},s.map(function(D){var I=Object.assign({},(M8(D.data),D.data)),O=D.title,H=D.key,T=D.isStart,R=D.isEnd;delete I.children;var k=Bd(H,h);return p.createElement(Uu,Se({},I,k,{title:O,active:u,data:D.data,key:H,isStart:T,isEnd:R}))}))}):p.createElement(Uu,Se({domRef:t,className:i,style:r},d,{active:u}))};$8.displayName="MotionTreeNode";var mse=p.forwardRef($8);function vse(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=n.length,i=e.length;if(Math.abs(t-i)!==1)return{add:!1,key:null};function r(o,s){var l=new Map;o.forEach(function(c){l.set(c,!0)});var a=s.filter(function(c){return!l.has(c)});return a.length===1?a[0]:null}return t<i?{add:!0,key:r(n,e)}:{add:!1,key:r(e,n)}}function fD(n,e,t){var i=n.findIndex(function(l){return l.key===t}),r=n[i+1],o=e.findIndex(function(l){return l.key===t});if(r){var s=e.findIndex(function(l){return l.key===r.key});return e.slice(o+1,s)}return e.slice(o+1)}var yse=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],pD={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},bse=function(){},rc="RC_TREE_MOTION_".concat(Math.random()),yx={key:rc},k8={key:rc,level:0,index:0,pos:"0",node:yx,nodes:[yx]},gD={parent:null,children:[],pos:k8.pos,data:yx,title:null,key:rc,isStart:[],isEnd:[]};function mD(n,e,t,i){return e===!1||!t?n:n.slice(0,Math.ceil(t/i)+1)}function vD(n){var e=n.key,t=n.pos;return xp(e,t)}function Sse(n){for(var e=String(n.data.key),t=n;t.parent;)t=t.parent,e="".concat(t.data.key," > ").concat(e);return e}var O8=p.forwardRef(function(n,e){var t=n.prefixCls,i=n.data;n.selectable,n.checkable;var r=n.expandedKeys,o=n.selectedKeys,s=n.checkedKeys,l=n.loadedKeys,a=n.loadingKeys,c=n.halfCheckedKeys,u=n.keyEntities,h=n.disabled,d=n.dragging,f=n.dragOverNodeKey,g=n.dropPosition,y=n.motion,v=n.height,m=n.itemHeight,b=n.virtual,S=n.focusable,w=n.activeItem,x=n.focused,E=n.tabIndex,C=n.onKeyDown,$=n.onFocus,M=n.onBlur,A=n.onActiveChange,P=n.onListChangeStart,D=n.onListChangeEnd,I=bt(n,yse),O=p.useRef(null),H=p.useRef(null);p.useImperativeHandle(e,function(){return{scrollTo:function(ue){O.current.scrollTo(ue)},getIndentWidth:function(){return H.current.offsetWidth}}});var T=p.useState(r),R=X(T,2),k=R[0],B=R[1],L=p.useState(i),z=X(L,2),F=z[0],_=z[1],G=p.useState(i),Z=X(G,2),re=Z[0],Q=Z[1],ce=p.useState([]),fe=X(ce,2),te=fe[0],j=fe[1],q=p.useState(null),ee=X(q,2),K=ee[0],Y=ee[1],he=p.useRef(i);he.current=i;function ne(){var se=he.current;_(se),Q(se),j([]),Y(null),D()}Kt(function(){B(r);var se=vse(k,r);if(se.key!==null)if(se.add){var ue=F.findIndex(function(st){var Qe=st.key;return Qe===se.key}),xe=mD(fD(F,i,se.key),b,v,m),le=F.slice();le.splice(ue+1,0,gD),Q(le),j(xe),Y("show")}else{var pe=i.findIndex(function(st){var Qe=st.key;return Qe===se.key}),Me=mD(fD(i,F,se.key),b,v,m),we=i.slice();we.splice(pe+1,0,gD),Q(we),j(Me),Y("hide")}else F!==i&&(_(i),Q(i))},[r,i]),p.useEffect(function(){d||ne()},[d]);var de=y?re:i,ve={expandedKeys:r,selectedKeys:o,loadedKeys:l,loadingKeys:a,checkedKeys:s,halfCheckedKeys:c,dragOverNodeKey:f,dropPosition:g,keyEntities:u};return p.createElement(p.Fragment,null,x&&w&&p.createElement("span",{style:pD,"aria-live":"assertive"},Sse(w)),p.createElement("div",null,p.createElement("input",{style:pD,disabled:S===!1||h,tabIndex:S!==!1?E:null,onKeyDown:C,onFocus:$,onBlur:M,value:"",onChange:bse,"aria-label":"for screen reader"})),p.createElement("div",{className:"".concat(t,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},p.createElement("div",{className:"".concat(t,"-indent")},p.createElement("div",{ref:H,className:"".concat(t,"-indent-unit")}))),p.createElement(Sy,Se({},I,{data:de,itemKey:vD,height:v,fullHeight:!1,virtual:b,itemHeight:m,prefixCls:"".concat(t,"-list"),ref:O,onVisibleChange:function(ue,xe){var le=new Set(ue),pe=xe.filter(function(Me){return!le.has(Me)});pe.some(function(Me){return vD(Me)===rc})&&ne()}}),function(se){var ue=se.pos,xe=Object.assign({},(M8(se.data),se.data)),le=se.title,pe=se.key,Me=se.isStart,we=se.isEnd,st=xp(pe,ue);delete xe.key,delete xe.children;var Qe=Bd(st,ve);return p.createElement(mse,Se({},xe,Qe,{title:le,active:!!w&&pe===w.key,pos:ue,data:se.data,isStart:Me,isEnd:we,motion:y,motionNodes:pe===rc?te:null,motionType:K,onMotionStart:P,onMotionEnd:ne,treeNodeRequiredProps:ve,onMouseMove:function(){A(null)}}))}))});O8.displayName="NodeList";var wse=10,L$=function(n){qs(t,n);var e=Gs(t);function t(){var i;ui(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),N(ge(i),"destroyed",!1),N(ge(i),"delayedDragEnterLogic",void 0),N(ge(i),"loadingRetryTimes",{}),N(ge(i),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:qu()}),N(ge(i),"dragStartMousePosition",null),N(ge(i),"dragNode",void 0),N(ge(i),"currentMouseOverDroppableNodeKey",null),N(ge(i),"listRef",p.createRef()),N(ge(i),"onNodeDragStart",function(l,a){var c=i.state,u=c.expandedKeys,h=c.keyEntities,d=i.props.onDragStart,f=a.props.eventKey;i.dragNode=a,i.dragStartMousePosition={x:l.clientX,y:l.clientY};var g=ys(u,f);i.setState({draggingNodeKey:f,dragChildrenKeys:Zoe(f,h),indent:i.listRef.current.getIndentWidth()}),i.setExpandedKeys(g),window.addEventListener("dragend",i.onWindowDragEnd),d==null||d({event:l,node:si(a.props)})}),N(ge(i),"onNodeDragEnter",function(l,a){var c=i.state,u=c.expandedKeys,h=c.keyEntities,d=c.dragChildrenKeys,f=c.flattenNodes,g=c.indent,y=i.props,v=y.onDragEnter,m=y.onExpand,b=y.allowDrop,S=y.direction,w=a.props,x=w.pos,E=w.eventKey,C=ge(i),$=C.dragNode;if(i.currentMouseOverDroppableNodeKey!==E&&(i.currentMouseOverDroppableNodeKey=E),!$){i.resetDragState();return}var M=uD(l,$,a,g,i.dragStartMousePosition,b,f,h,u,S),A=M.dropPosition,P=M.dropLevelOffset,D=M.dropTargetKey,I=M.dropContainerKey,O=M.dropTargetPos,H=M.dropAllowed,T=M.dragOverNodeKey;if(d.indexOf(D)!==-1||!H){i.resetDragState();return}if(i.delayedDragEnterLogic||(i.delayedDragEnterLogic={}),Object.keys(i.delayedDragEnterLogic).forEach(function(R){clearTimeout(i.delayedDragEnterLogic[R])}),$.props.eventKey!==a.props.eventKey&&(l.persist(),i.delayedDragEnterLogic[x]=window.setTimeout(function(){if(i.state.draggingNodeKey!==null){var R=be(u),k=$r(h,a.props.eventKey);k&&(k.children||[]).length&&(R=tl(u,a.props.eventKey)),"expandedKeys"in i.props||i.setExpandedKeys(R),m==null||m(R,{node:si(a.props),expanded:!0,nativeEvent:l.nativeEvent})}},800)),$.props.eventKey===D&&P===0){i.resetDragState();return}i.setState({dragOverNodeKey:T,dropPosition:A,dropLevelOffset:P,dropTargetKey:D,dropContainerKey:I,dropTargetPos:O,dropAllowed:H}),v==null||v({event:l,node:si(a.props),expandedKeys:u})}),N(ge(i),"onNodeDragOver",function(l,a){var c=i.state,u=c.dragChildrenKeys,h=c.flattenNodes,d=c.keyEntities,f=c.expandedKeys,g=c.indent,y=i.props,v=y.onDragOver,m=y.allowDrop,b=y.direction,S=ge(i),w=S.dragNode;if(w){var x=uD(l,w,a,g,i.dragStartMousePosition,m,h,d,f,b),E=x.dropPosition,C=x.dropLevelOffset,$=x.dropTargetKey,M=x.dropContainerKey,A=x.dropAllowed,P=x.dropTargetPos,D=x.dragOverNodeKey;u.indexOf($)!==-1||!A||(w.props.eventKey===$&&C===0?i.state.dropPosition===null&&i.state.dropLevelOffset===null&&i.state.dropTargetKey===null&&i.state.dropContainerKey===null&&i.state.dropTargetPos===null&&i.state.dropAllowed===!1&&i.state.dragOverNodeKey===null||i.resetDragState():E===i.state.dropPosition&&C===i.state.dropLevelOffset&&$===i.state.dropTargetKey&&M===i.state.dropContainerKey&&P===i.state.dropTargetPos&&A===i.state.dropAllowed&&D===i.state.dragOverNodeKey||i.setState({dropPosition:E,dropLevelOffset:C,dropTargetKey:$,dropContainerKey:M,dropTargetPos:P,dropAllowed:A,dragOverNodeKey:D}),v==null||v({event:l,node:si(a.props)}))}}),N(ge(i),"onNodeDragLeave",function(l,a){i.currentMouseOverDroppableNodeKey===a.props.eventKey&&!l.currentTarget.contains(l.relatedTarget)&&(i.resetDragState(),i.currentMouseOverDroppableNodeKey=null);var c=i.props.onDragLeave;c==null||c({event:l,node:si(a.props)})}),N(ge(i),"onWindowDragEnd",function(l){i.onNodeDragEnd(l,null,!0),window.removeEventListener("dragend",i.onWindowDragEnd)}),N(ge(i),"onNodeDragEnd",function(l,a){var c=i.props.onDragEnd;i.setState({dragOverNodeKey:null}),i.cleanDragState(),c==null||c({event:l,node:si(a.props)}),i.dragNode=null,window.removeEventListener("dragend",i.onWindowDragEnd)}),N(ge(i),"onNodeDrop",function(l,a){var c,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=i.state,d=h.dragChildrenKeys,f=h.dropPosition,g=h.dropTargetKey,y=h.dropTargetPos,v=h.dropAllowed;if(v){var m=i.props.onDrop;if(i.setState({dragOverNodeKey:null}),i.cleanDragState(),g!==null){var b=V(V({},Bd(g,i.getTreeNodeRequiredProps())),{},{active:((c=i.getActiveItem())===null||c===void 0?void 0:c.key)===g,data:$r(i.state.keyEntities,g).node}),S=d.indexOf(g)!==-1;Dn(!S,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var w=B$(y),x={event:l,node:si(b),dragNode:i.dragNode?si(i.dragNode.props):null,dragNodesKeys:[i.dragNode.props.eventKey].concat(d),dropToGap:f!==0,dropPosition:f+Number(w[w.length-1])};u||m==null||m(x),i.dragNode=null}}}),N(ge(i),"cleanDragState",function(){var l=i.state.draggingNodeKey;l!==null&&i.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),i.dragStartMousePosition=null,i.currentMouseOverDroppableNodeKey=null}),N(ge(i),"triggerExpandActionExpand",function(l,a){var c=i.state,u=c.expandedKeys,h=c.flattenNodes,d=a.expanded,f=a.key,g=a.isLeaf;if(!(g||l.shiftKey||l.metaKey||l.ctrlKey)){var y=h.filter(function(m){return m.key===f})[0],v=si(V(V({},Bd(f,i.getTreeNodeRequiredProps())),{},{data:y.data}));i.setExpandedKeys(d?ys(u,f):tl(u,f)),i.onNodeExpand(l,v)}}),N(ge(i),"onNodeClick",function(l,a){var c=i.props,u=c.onClick,h=c.expandAction;h==="click"&&i.triggerExpandActionExpand(l,a),u==null||u(l,a)}),N(ge(i),"onNodeDoubleClick",function(l,a){var c=i.props,u=c.onDoubleClick,h=c.expandAction;h==="doubleClick"&&i.triggerExpandActionExpand(l,a),u==null||u(l,a)}),N(ge(i),"onNodeSelect",function(l,a){var c=i.state.selectedKeys,u=i.state,h=u.keyEntities,d=u.fieldNames,f=i.props,g=f.onSelect,y=f.multiple,v=a.selected,m=a[d.key],b=!v;b?y?c=tl(c,m):c=[m]:c=ys(c,m);var S=c.map(function(w){var x=$r(h,w);return x?x.node:null}).filter(function(w){return w});i.setUncontrolledState({selectedKeys:c}),g==null||g(c,{event:"select",selected:b,node:a,selectedNodes:S,nativeEvent:l.nativeEvent})}),N(ge(i),"onNodeCheck",function(l,a,c){var u=i.state,h=u.keyEntities,d=u.checkedKeys,f=u.halfCheckedKeys,g=i.props,y=g.checkStrictly,v=g.onCheck,m=a.key,b,S={event:"check",node:a,checked:c,nativeEvent:l.nativeEvent};if(y){var w=c?tl(d,m):ys(d,m),x=ys(f,m);b={checked:w,halfChecked:x},S.checkedNodes=w.map(function(P){return $r(h,P)}).filter(function(P){return P}).map(function(P){return P.node}),i.setUncontrolledState({checkedKeys:w})}else{var E=vu([].concat(be(d),[m]),!0,h),C=E.checkedKeys,$=E.halfCheckedKeys;if(!c){var M=new Set(C);M.delete(m);var A=vu(Array.from(M),{checked:!1,halfCheckedKeys:$},h);C=A.checkedKeys,$=A.halfCheckedKeys}b=C,S.checkedNodes=[],S.checkedNodesPositions=[],S.halfCheckedKeys=$,C.forEach(function(P){var D=$r(h,P);if(D){var I=D.node,O=D.pos;S.checkedNodes.push(I),S.checkedNodesPositions.push({node:I,pos:O})}}),i.setUncontrolledState({checkedKeys:C},!1,{halfCheckedKeys:$})}v==null||v(b,S)}),N(ge(i),"onNodeLoad",function(l){var a,c=l.key,u=i.state.keyEntities,h=$r(u,c);if(!(h!=null&&(a=h.children)!==null&&a!==void 0&&a.length)){var d=new Promise(function(f,g){i.setState(function(y){var v=y.loadedKeys,m=v===void 0?[]:v,b=y.loadingKeys,S=b===void 0?[]:b,w=i.props,x=w.loadData,E=w.onLoad;if(!x||m.indexOf(c)!==-1||S.indexOf(c)!==-1)return null;var C=x(l);return C.then(function(){var $=i.state.loadedKeys,M=tl($,c);E==null||E(M,{event:"load",node:l}),i.setUncontrolledState({loadedKeys:M}),i.setState(function(A){return{loadingKeys:ys(A.loadingKeys,c)}}),f()}).catch(function($){if(i.setState(function(A){return{loadingKeys:ys(A.loadingKeys,c)}}),i.loadingRetryTimes[c]=(i.loadingRetryTimes[c]||0)+1,i.loadingRetryTimes[c]>=wse){var M=i.state.loadedKeys;Dn(!1,"Retry for `loadData` many times but still failed. No more retry."),i.setUncontrolledState({loadedKeys:tl(M,c)}),f()}g($)}),{loadingKeys:tl(S,c)}})});return d.catch(function(){}),d}}),N(ge(i),"onNodeMouseEnter",function(l,a){var c=i.props.onMouseEnter;c==null||c({event:l,node:a})}),N(ge(i),"onNodeMouseLeave",function(l,a){var c=i.props.onMouseLeave;c==null||c({event:l,node:a})}),N(ge(i),"onNodeContextMenu",function(l,a){var c=i.props.onRightClick;c&&(l.preventDefault(),c({event:l,node:a}))}),N(ge(i),"onFocus",function(){var l=i.props.onFocus;i.setState({focused:!0});for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];l==null||l.apply(void 0,c)}),N(ge(i),"onBlur",function(){var l=i.props.onBlur;i.setState({focused:!1}),i.onActiveChange(null);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];l==null||l.apply(void 0,c)}),N(ge(i),"getTreeNodeRequiredProps",function(){var l=i.state,a=l.expandedKeys,c=l.selectedKeys,u=l.loadedKeys,h=l.loadingKeys,d=l.checkedKeys,f=l.halfCheckedKeys,g=l.dragOverNodeKey,y=l.dropPosition,v=l.keyEntities;return{expandedKeys:a||[],selectedKeys:c||[],loadedKeys:u||[],loadingKeys:h||[],checkedKeys:d||[],halfCheckedKeys:f||[],dragOverNodeKey:g,dropPosition:y,keyEntities:v}}),N(ge(i),"setExpandedKeys",function(l){var a=i.state,c=a.treeData,u=a.fieldNames,h=l1(c,l,u);i.setUncontrolledState({expandedKeys:l,flattenNodes:h},!0)}),N(ge(i),"onNodeExpand",function(l,a){var c=i.state.expandedKeys,u=i.state,h=u.listChanging,d=u.fieldNames,f=i.props,g=f.onExpand,y=f.loadData,v=a.expanded,m=a[d.key];if(!h){var b=c.indexOf(m),S=!v;if(Dn(v&&b!==-1||!v&&b===-1,"Expand state not sync with index check"),S?c=tl(c,m):c=ys(c,m),i.setExpandedKeys(c),g==null||g(c,{node:a,expanded:S,nativeEvent:l.nativeEvent}),S&&y){var w=i.onNodeLoad(a);w&&w.then(function(){var x=l1(i.state.treeData,c,d);i.setUncontrolledState({flattenNodes:x})}).catch(function(){var x=i.state.expandedKeys,E=ys(x,m);i.setExpandedKeys(E)})}}}),N(ge(i),"onListChangeStart",function(){i.setUncontrolledState({listChanging:!0})}),N(ge(i),"onListChangeEnd",function(){setTimeout(function(){i.setUncontrolledState({listChanging:!1})})}),N(ge(i),"onActiveChange",function(l){var a=i.state.activeKey,c=i.props,u=c.onActiveChange,h=c.itemScrollOffset,d=h===void 0?0:h;a!==l&&(i.setState({activeKey:l}),l!==null&&i.scrollTo({key:l,offset:d}),u==null||u(l))}),N(ge(i),"getActiveItem",function(){var l=i.state,a=l.activeKey,c=l.flattenNodes;return a===null?null:c.find(function(u){var h=u.key;return h===a})||null}),N(ge(i),"offsetActiveKey",function(l){var a=i.state,c=a.flattenNodes,u=a.activeKey,h=c.findIndex(function(g){var y=g.key;return y===u});h===-1&&l<0&&(h=c.length),h=(h+l+c.length)%c.length;var d=c[h];if(d){var f=d.key;i.onActiveChange(f)}else i.onActiveChange(null)}),N(ge(i),"onKeyDown",function(l){var a=i.state,c=a.activeKey,u=a.expandedKeys,h=a.checkedKeys,d=a.fieldNames,f=i.props,g=f.onKeyDown,y=f.checkable,v=f.selectable;switch(l.which){case me.UP:{i.offsetActiveKey(-1),l.preventDefault();break}case me.DOWN:{i.offsetActiveKey(1),l.preventDefault();break}}var m=i.getActiveItem();if(m&&m.data){var b=i.getTreeNodeRequiredProps(),S=m.data.isLeaf===!1||!!(m.data[d.children]||[]).length,w=si(V(V({},Bd(c,b)),{},{data:m.data,active:!0}));switch(l.which){case me.LEFT:{S&&u.includes(c)?i.onNodeExpand({},w):m.parent&&i.onActiveChange(m.parent.key),l.preventDefault();break}case me.RIGHT:{S&&!u.includes(c)?i.onNodeExpand({},w):m.children&&m.children.length&&i.onActiveChange(m.children[0].key),l.preventDefault();break}case me.ENTER:case me.SPACE:{y&&!w.disabled&&w.checkable!==!1&&!w.disableCheckbox?i.onNodeCheck({},w,!h.includes(c)):!y&&v&&!w.disabled&&w.selectable!==!1&&i.onNodeSelect({},w);break}}}g==null||g(l)}),N(ge(i),"setUncontrolledState",function(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!i.destroyed){var u=!1,h=!0,d={};Object.keys(l).forEach(function(f){if(f in i.props){h=!1;return}u=!0,d[f]=l[f]}),u&&(!a||h)&&i.setState(V(V({},d),c))}}),N(ge(i),"scrollTo",function(l){i.listRef.current.scrollTo(l)}),i}return hi(t,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var r=this.props,o=r.activeKey,s=r.itemScrollOffset,l=s===void 0?0:s;o!==void 0&&o!==this.state.activeKey&&(this.setState({activeKey:o}),o!==null&&this.scrollTo({key:o,offset:l}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var r=this.state,o=r.focused,s=r.flattenNodes,l=r.keyEntities,a=r.draggingNodeKey,c=r.activeKey,u=r.dropLevelOffset,h=r.dropContainerKey,d=r.dropTargetKey,f=r.dropPosition,g=r.dragOverNodeKey,y=r.indent,v=this.props,m=v.prefixCls,b=v.className,S=v.style,w=v.showLine,x=v.focusable,E=v.tabIndex,C=E===void 0?0:E,$=v.selectable,M=v.showIcon,A=v.icon,P=v.switcherIcon,D=v.draggable,I=v.checkable,O=v.checkStrictly,H=v.disabled,T=v.motion,R=v.loadData,k=v.filterTreeNode,B=v.height,L=v.itemHeight,z=v.virtual,F=v.titleRender,_=v.dropIndicatorRender,G=v.onContextMenu,Z=v.onScroll,re=v.direction,Q=v.rootClassName,ce=v.rootStyle,fe=ns(this.props,{aria:!0,data:!0}),te;return D&&(et(D)==="object"?te=D:typeof D=="function"?te={nodeDraggable:D}:te={}),p.createElement(N$.Provider,{value:{prefixCls:m,selectable:$,showIcon:M,icon:A,switcherIcon:P,draggable:te,draggingNodeKey:a,checkable:I,checkStrictly:O,disabled:H,keyEntities:l,dropLevelOffset:u,dropContainerKey:h,dropTargetKey:d,dropPosition:f,dragOverNodeKey:g,indent:y,direction:re,dropIndicatorRender:_,loadData:R,filterTreeNode:k,titleRender:F,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},p.createElement("div",{role:"tree",className:J(m,b,Q,N(N(N({},"".concat(m,"-show-line"),w),"".concat(m,"-focused"),o),"".concat(m,"-active-focused"),c!==null)),style:ce},p.createElement(O8,Se({ref:this.listRef,prefixCls:m,style:S,data:s,disabled:H,selectable:$,checkable:!!I,motion:T,dragging:a!==null,height:B,itemHeight:L,virtual:z,focusable:x,focused:o,tabIndex:C,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:G,onScroll:Z},this.getTreeNodeRequiredProps(),fe))))}}],[{key:"getDerivedStateFromProps",value:function(r,o){var s=o.prevProps,l={prevProps:r};function a(E){return!s&&E in r||s&&s[E]!==r[E]}var c,u=o.fieldNames;if(a("fieldNames")&&(u=qu(r.fieldNames),l.fieldNames=u),a("treeData")?c=r.treeData:a("children")&&(Dn(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),c=jV(r.children)),c){l.treeData=c;var h=k$(c,{fieldNames:u});l.keyEntities=V(N({},rc,k8),h.keyEntities)}var d=l.keyEntities||o.keyEntities;if(a("expandedKeys")||s&&a("autoExpandParent"))l.expandedKeys=r.autoExpandParent||!s&&r.defaultExpandParent?px(r.expandedKeys,d):r.expandedKeys;else if(!s&&r.defaultExpandAll){var f=V({},d);delete f[rc],l.expandedKeys=Object.keys(f).map(function(E){return f[E].key})}else!s&&r.defaultExpandedKeys&&(l.expandedKeys=r.autoExpandParent||r.defaultExpandParent?px(r.defaultExpandedKeys,d):r.defaultExpandedKeys);if(l.expandedKeys||delete l.expandedKeys,c||l.expandedKeys){var g=l1(c||o.treeData,l.expandedKeys||o.expandedKeys,u);l.flattenNodes=g}if(r.selectable&&(a("selectedKeys")?l.selectedKeys=hD(r.selectedKeys,r):!s&&r.defaultSelectedKeys&&(l.selectedKeys=hD(r.defaultSelectedKeys,r))),r.checkable){var y;if(a("checkedKeys")?y=d1(r.checkedKeys)||{}:!s&&r.defaultCheckedKeys?y=d1(r.defaultCheckedKeys)||{}:c&&(y=d1(r.checkedKeys)||{checkedKeys:o.checkedKeys,halfCheckedKeys:o.halfCheckedKeys}),y){var v=y,m=v.checkedKeys,b=m===void 0?[]:m,S=v.halfCheckedKeys,w=S===void 0?[]:S;if(!r.checkStrictly){var x=vu(b,!0,d);b=x.checkedKeys,w=x.halfCheckedKeys}l.checkedKeys=b,l.halfCheckedKeys=w}}return a("loadedKeys")&&(l.loadedKeys=r.loadedKeys),l}}]),t}(p.Component);N(L$,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:fse,allowDrop:function(){return!0},expandAction:!1});N(L$,"TreeNode",Uu);var xse={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},Cse=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:xse}))},A8=p.forwardRef(Cse),Ese={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},Mse=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:Ese}))},$se=p.forwardRef(Mse),kse={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},Ose=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:kse}))},Ase=p.forwardRef(Ose),Rse={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},Dse=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:Rse}))},Tse=p.forwardRef(Dse);const Pse=new Yt("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Ise=(n,e)=>({[`.${n}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${e.motionDurationSlow}`}}}),Nse=(n,e)=>({[`.${n}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:e.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${U(e.lineWidthBold)} solid ${e.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Bse=(n,e)=>{const{treeCls:t,treeNodeCls:i,treeNodePadding:r,titleHeight:o,nodeSelectedBg:s,nodeHoverBg:l}=e,a=e.paddingXS;return{[t]:Object.assign(Object.assign({},wi(e)),{background:e.colorBgContainer,borderRadius:e.borderRadius,transition:`background-color ${e.motionDurationSlow}`,[`&${t}-rtl`]:{[`${t}-switcher`]:{"&_close":{[`${t}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${t}-active-focused)`]:Object.assign({},da(e)),[`${t}-list-holder-inner`]:{alignItems:"flex-start"},[`&${t}-block-node`]:{[`${t}-list-holder-inner`]:{alignItems:"stretch",[`${t}-node-content-wrapper`]:{flex:"auto"},[`${i}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:r,insetInlineStart:0,border:`1px solid ${e.colorPrimary}`,opacity:0,animationName:Pse,animationDuration:e.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${i}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${U(r)} 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${t}-node-content-wrapper`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${t}-node-content-wrapper`]:{background:e.controlItemBgHover},[`&:not(${i}-disabled).filter-node ${t}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{cursor:"grab",[`${t}-draggable-icon`]:{flexShrink:0,width:o,lineHeight:`${U(o)}`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${e.motionDurationSlow}`,[`${i}:hover &`]:{opacity:.45}},[`&${i}-disabled`]:{[`${t}-draggable-icon`]:{visibility:"hidden"}}}},[`${t}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:o}},[`${t}-draggable-icon`]:{visibility:"hidden"},[`${t}-switcher`]:Object.assign(Object.assign({},Ise(n,e)),{position:"relative",flex:"none",alignSelf:"stretch",width:o,margin:0,lineHeight:`${U(o)}`,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${e.motionDurationSlow}`,borderRadius:e.borderRadius,"&-noop":{cursor:"unset"},[`&:not(${t}-switcher-noop):hover`]:{backgroundColor:e.colorBgTextHover},"&_close":{[`${t}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:e.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:e.calc(o).div(2).equal(),bottom:e.calc(r).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:e.calc(e.calc(o).div(2).equal()).mul(.8).equal(),height:e.calc(o).div(2).equal(),borderBottom:`1px solid ${e.colorBorder}`,content:'""'}}}),[`${t}-checkbox`]:{top:"initial",marginInlineEnd:a,alignSelf:"flex-start",marginTop:e.marginXXS},[`${t}-node-content-wrapper, ${t}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:o,margin:0,padding:`0 ${U(e.calc(e.paddingXS).div(2).equal())}`,color:"inherit",lineHeight:`${U(o)}`,background:"transparent",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:l},[`&${t}-node-selected`]:{backgroundColor:s},[`${t}-iconEle`]:{display:"inline-block",width:o,height:o,lineHeight:`${U(o)}`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${t}-unselectable ${t}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${t}-node-content-wrapper`]:Object.assign({lineHeight:`${U(o)}`,userSelect:"none"},Nse(n,e)),[`${i}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${e.colorPrimary}`}},"&-show-line":{[`${t}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:e.calc(o).div(2).equal(),bottom:e.calc(r).mul(-1).equal(),borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${t}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${i}-leaf-last`]:{[`${t}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${U(e.calc(o).div(2).equal())} !important`}}}}})}},Lse=n=>{const{treeCls:e,treeNodeCls:t,treeNodePadding:i,directoryNodeSelectedBg:r,directoryNodeSelectedColor:o}=n;return{[`${e}${e}-directory`]:{[t]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:i,insetInlineStart:0,transition:`background-color ${n.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:n.controlItemBgHover}},"> *":{zIndex:1},[`${e}-switcher`]:{transition:`color ${n.motionDurationMid}`},[`${e}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${e}-node-selected`]:{color:o,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:r},[`${e}-switcher`]:{color:o},[`${e}-node-content-wrapper`]:{color:o,background:"transparent"}}}}}},Hse=(n,e)=>{const t=`.${n}`,i=`${t}-treenode`,r=e.calc(e.paddingXS).div(2).equal(),o=sn(e,{treeCls:t,treeNodeCls:i,treeNodePadding:r});return[Bse(n,o),Lse(o)]},zse=n=>{const{controlHeightSM:e}=n;return{titleHeight:e,nodeHoverBg:n.controlItemBgHover,nodeSelectedBg:n.controlItemBgActive}},Vse=n=>{const{colorTextLightSolid:e,colorPrimary:t}=n;return Object.assign(Object.assign({},zse(n)),{directoryNodeSelectedColor:e,directoryNodeSelectedBg:t})},Fse=xr("Tree",(n,e)=>{let{prefixCls:t}=e;return[{[n.componentCls]:qV(`${t}-checkbox`,n)},Hse(t,n),_z(n)]},Vse),yD=4;function Wse(n){const{dropPosition:e,dropLevelOffset:t,prefixCls:i,indent:r,direction:o="ltr"}=n,s=o==="ltr"?"left":"right",l=o==="ltr"?"right":"left",a={[s]:-t*r+yD,[l]:0};switch(e){case-1:a.top=-3;break;case 1:a.bottom=-3;break;default:a.bottom=-3,a[s]=r+yD;break}return oe.createElement("div",{style:a,className:`${i}-drop-indicator`})}var _se={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},jse=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:_se}))},Kse=p.forwardRef(jse),qse={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Gse=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:qse}))},Use=p.forwardRef(Gse),Xse={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},Yse=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:Xse}))},Qse=p.forwardRef(Yse);const Jse=n=>{const{prefixCls:e,switcherIcon:t,treeNodeProps:i,showLine:r}=n,{isLeaf:o,expanded:s,loading:l}=i;if(l)return p.createElement(GM,{className:`${e}-switcher-loading-icon`});let a;if(r&&typeof r=="object"&&(a=r.showLeafIcon),o){if(!r)return null;if(typeof a!="boolean"&&a){const h=typeof a=="function"?a(i):a,d=`${e}-switcher-line-custom-icon`;return p.isValidElement(h)?Eo(h,{className:J(h.props.className||"",d)}):h}return a?p.createElement(A8,{className:`${e}-switcher-line-icon`}):p.createElement("span",{className:`${e}-switcher-leaf-line`})}const c=`${e}-switcher-icon`,u=typeof t=="function"?t(i):t;return p.isValidElement(u)?Eo(u,{className:J(u.props.className||"",c)}):u!==void 0?u:r?s?p.createElement(Use,{className:`${e}-switcher-line-icon`}):p.createElement(Qse,{className:`${e}-switcher-line-icon`}):p.createElement(Kse,{className:c})},R8=oe.forwardRef((n,e)=>{var t;const{getPrefixCls:i,direction:r,virtual:o,tree:s}=oe.useContext(Pt),{prefixCls:l,className:a,showIcon:c=!1,showLine:u,switcherIcon:h,blockNode:d=!1,children:f,checkable:g=!1,selectable:y=!0,draggable:v,motion:m,style:b}=n,S=i("tree",l),w=i(),x=m??Object.assign(Object.assign({},Cz(w)),{motionAppear:!1}),E=Object.assign(Object.assign({},n),{checkable:g,selectable:y,showIcon:c,motion:x,blockNode:d,showLine:!!u,dropIndicatorRender:Wse}),[C,$,M]=Fse(S),[,A]=Di(),P=A.paddingXS/2+(((t=A.Tree)===null||t===void 0?void 0:t.titleHeight)||A.controlHeightSM),D=oe.useMemo(()=>{if(!v)return!1;let O={};switch(typeof v){case"function":O.nodeDraggable=v;break;case"object":O=Object.assign({},v);break}return O.icon!==!1&&(O.icon=O.icon||oe.createElement(Tse,null)),O},[v]),I=O=>oe.createElement(Jse,{prefixCls:S,switcherIcon:h,treeNodeProps:O,showLine:u});return C(oe.createElement(L$,Object.assign({itemHeight:P,ref:e,virtual:o},E,{style:Object.assign(Object.assign({},s==null?void 0:s.style),b),prefixCls:S,className:J({[`${S}-icon-hide`]:!c,[`${S}-block-node`]:d,[`${S}-unselectable`]:!y,[`${S}-rtl`]:r==="rtl"},s==null?void 0:s.className,a,$,M),direction:r,checkable:g&&oe.createElement("span",{className:`${S}-checkbox-inner`}),selectable:y,switcherIcon:I,draggable:D}),f))}),bD=0,f1=1,SD=2;function H$(n,e,t){const{key:i,children:r}=t;function o(s){const l=s[i],a=s[r];e(l,s)!==!1&&H$(a||[],e,t)}n.forEach(o)}function Zse(n){let{treeData:e,expandedKeys:t,startKey:i,endKey:r,fieldNames:o}=n;const s=[];let l=bD;if(i&&i===r)return[i];if(!i||!r)return[];function a(c){return c===i||c===r}return H$(e,c=>{if(l===SD)return!1;if(a(c)){if(s.push(c),l===bD)l=f1;else if(l===f1)return l=SD,!1}else l===f1&&s.push(c);return t.includes(c)},qu(o)),s}function p1(n,e,t){const i=be(e),r=[];return H$(n,(o,s)=>{const l=i.indexOf(o);return l!==-1&&(r.push(s),i.splice(l,1)),!!i.length},qu(t)),r}var wD=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function ele(n){const{isLeaf:e,expanded:t}=n;return e?p.createElement(A8,null):t?p.createElement($se,null):p.createElement(Ase,null)}function xD(n){let{treeData:e,children:t}=n;return e||jV(t)}const tle=(n,e)=>{var{defaultExpandAll:t,defaultExpandParent:i,defaultExpandedKeys:r}=n,o=wD(n,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const s=p.useRef(),l=p.useRef(),a=()=>{const{keyEntities:$}=k$(xD(o));let M;return t?M=Object.keys($):i?M=px(o.expandedKeys||r||[],$):M=o.expandedKeys||r||[],M},[c,u]=p.useState(o.selectedKeys||o.defaultSelectedKeys||[]),[h,d]=p.useState(()=>a());p.useEffect(()=>{"selectedKeys"in o&&u(o.selectedKeys)},[o.selectedKeys]),p.useEffect(()=>{"expandedKeys"in o&&d(o.expandedKeys)},[o.expandedKeys]);const f=($,M)=>{var A;return"expandedKeys"in o||d($),(A=o.onExpand)===null||A===void 0?void 0:A.call(o,$,M)},g=($,M)=>{var A;const{multiple:P,fieldNames:D}=o,{node:I,nativeEvent:O}=M,{key:H=""}=I,T=xD(o),R=Object.assign(Object.assign({},M),{selected:!0}),k=(O==null?void 0:O.ctrlKey)||(O==null?void 0:O.metaKey),B=O==null?void 0:O.shiftKey;let L;P&&k?(L=$,s.current=H,l.current=L,R.selectedNodes=p1(T,L,D)):P&&B?(L=Array.from(new Set([].concat(be(l.current||[]),be(Zse({treeData:T,expandedKeys:h,startKey:H,endKey:s.current,fieldNames:D}))))),R.selectedNodes=p1(T,L,D)):(L=[H],s.current=H,l.current=L,R.selectedNodes=p1(T,L,D)),(A=o.onSelect)===null||A===void 0||A.call(o,L,R),"selectedKeys"in o||u(L)},{getPrefixCls:y,direction:v}=p.useContext(Pt),{prefixCls:m,className:b,showIcon:S=!0,expandAction:w="click"}=o,x=wD(o,["prefixCls","className","showIcon","expandAction"]),E=y("tree",m),C=J(`${E}-directory`,{[`${E}-directory-rtl`]:v==="rtl"},b);return p.createElement(R8,Object.assign({icon:ele,ref:e,blockNode:!0},x,{showIcon:S,expandAction:w,prefixCls:E,className:C,expandedKeys:h,selectedKeys:c,onSelect:g,onExpand:f}))},nle=p.forwardRef(tle),z$=R8;z$.DirectoryTree=nle;z$.TreeNode=Uu;function CD(n){let{value:e,onChange:t,filterSearch:i,tablePrefixCls:r,locale:o}=n;return i?p.createElement("div",{className:`${r}-filter-dropdown-search`},p.createElement(Sh,{prefix:p.createElement(d$,null),placeholder:o.filterSearchPlaceholder,onChange:t,value:e,htmlSize:1,className:`${r}-filter-dropdown-search-input`})):null}const ile=n=>{const{keyCode:e}=n;e===me.ENTER&&n.stopPropagation()},rle=p.forwardRef((n,e)=>p.createElement("div",{className:n.className,onClick:t=>t.stopPropagation(),onKeyDown:ile,ref:e},n.children));function yu(n){let e=[];return(n||[]).forEach(t=>{let{value:i,children:r}=t;e.push(i),r&&(e=[].concat(be(e),be(yu(r))))}),e}function ole(n){return n.some(e=>{let{children:t}=e;return t})}function D8(n,e){return typeof e=="string"||typeof e=="number"?e==null?void 0:e.toString().toLowerCase().includes(n.trim().toLowerCase()):!1}function T8(n){let{filters:e,prefixCls:t,filteredKeys:i,filterMultiple:r,searchValue:o,filterSearch:s}=n;return e.map((l,a)=>{const c=String(l.value);if(l.children)return{key:c||a,label:l.text,popupClassName:`${t}-dropdown-submenu`,children:T8({filters:l.children,prefixCls:t,filteredKeys:i,filterMultiple:r,searchValue:o,filterSearch:s})};const u=r?Gu:wp,h={key:l.value!==void 0?c:a,label:p.createElement(p.Fragment,null,p.createElement(u,{checked:i.includes(c)}),p.createElement("span",null,l.text))};return o.trim()?typeof s=="function"?s(o,l)?h:null:D8(o,l.text)?h:null:h})}function g1(n){return n||[]}function sle(n){var e,t;const{tablePrefixCls:i,prefixCls:r,column:o,dropdownPrefixCls:s,columnKey:l,filterOnClose:a,filterMultiple:c,filterMode:u="menu",filterSearch:h=!1,filterState:d,triggerFilter:f,locale:g,children:y,getPopupContainer:v,rootClassName:m}=n,{filterDropdownOpen:b,onFilterDropdownOpenChange:S,filterResetToDefaultFilteredValue:w,defaultFilteredValue:x,filterDropdownVisible:E,onFilterDropdownVisibleChange:C}=o,[$,M]=p.useState(!1),A=!!(d&&(!((e=d.filteredKeys)===null||e===void 0)&&e.length||d.forceFiltered)),P=ne=>{M(ne),S==null||S(ne),C==null||C(ne)},D=(t=b??E)!==null&&t!==void 0?t:$,I=d==null?void 0:d.filteredKeys,[O,H]=dse(g1(I)),T=ne=>{let{selectedKeys:de}=ne;H(de)},R=(ne,de)=>{let{node:ve,checked:se}=de;T(c?{selectedKeys:ne}:{selectedKeys:se&&ve.key?[ve.key]:[]})};p.useEffect(()=>{$&&T({selectedKeys:g1(I)})},[I]);const[k,B]=p.useState([]),L=ne=>{B(ne)},[z,F]=p.useState(""),_=ne=>{const{value:de}=ne.target;F(de)};p.useEffect(()=>{$||F("")},[$]);const G=ne=>{const de=ne&&ne.length?ne:null;if(de===null&&(!d||!d.filteredKeys)||_s(de,d==null?void 0:d.filteredKeys,!0))return null;f({column:o,key:l,filteredKeys:de})},Z=()=>{P(!1),G(O())},re=function(){let{confirm:ne,closeDropdown:de}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};ne&&G([]),de&&P(!1),F(""),H(w?(x||[]).map(ve=>String(ve)):[])},Q=function(){let{closeDropdown:ne}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};ne&&P(!1),G(O())},ce=(ne,de)=>{de.source==="trigger"&&(ne&&I!==void 0&&H(g1(I)),P(ne),!ne&&!o.filterDropdown&&a&&Z())},fe=J({[`${s}-menu-without-submenu`]:!ole(o.filters||[])}),te=ne=>{if(ne.target.checked){const de=yu(o==null?void 0:o.filters).map(ve=>String(ve));H(de)}else H([])},j=ne=>{let{filters:de}=ne;return(de||[]).map((ve,se)=>{const ue=String(ve.value),xe={title:ve.text,key:ve.value!==void 0?ue:String(se)};return ve.children&&(xe.children=j({filters:ve.children})),xe})},q=ne=>{var de;return Object.assign(Object.assign({},ne),{text:ne.title,value:ne.key,children:((de=ne.children)===null||de===void 0?void 0:de.map(ve=>q(ve)))||[]})};let ee;if(typeof o.filterDropdown=="function")ee=o.filterDropdown({prefixCls:`${s}-custom`,setSelectedKeys:ne=>T({selectedKeys:ne}),selectedKeys:O(),confirm:Q,clearFilters:re,filters:o.filters,visible:D,close:()=>{P(!1)}});else if(o.filterDropdown)ee=o.filterDropdown;else{const ne=O()||[],de=()=>{const se=p.createElement(ol,{image:ol.PRESENTED_IMAGE_SIMPLE,description:g.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}});if((o.filters||[]).length===0)return se;if(u==="tree")return p.createElement(p.Fragment,null,p.createElement(CD,{filterSearch:h,value:z,onChange:_,tablePrefixCls:i,locale:g}),p.createElement("div",{className:`${i}-filter-dropdown-tree`},c?p.createElement(Gu,{checked:ne.length===yu(o.filters).length,indeterminate:ne.length>0&&ne.length<yu(o.filters).length,className:`${i}-filter-dropdown-checkall`,onChange:te},g.filterCheckall):null,p.createElement(z$,{checkable:!0,selectable:!1,blockNode:!0,multiple:c,checkStrictly:!c,className:`${s}-menu`,onCheck:R,checkedKeys:ne,selectedKeys:ne,showIcon:!1,treeData:j({filters:o.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:z.trim()?le=>typeof h=="function"?h(z,q(le)):D8(z,le.title):void 0})));const ue=T8({filters:o.filters||[],filterSearch:h,prefixCls:r,filteredKeys:O(),filterMultiple:c,searchValue:z}),xe=ue.every(le=>le===null);return p.createElement(p.Fragment,null,p.createElement(CD,{filterSearch:h,value:z,onChange:_,tablePrefixCls:i,locale:g}),xe?se:p.createElement(bh,{selectable:!0,multiple:c,prefixCls:`${s}-menu`,className:fe,onSelect:T,onDeselect:T,selectedKeys:ne,getPopupContainer:v,openKeys:k,onOpenChange:L,items:ue}))},ve=()=>w?_s((x||[]).map(se=>String(se)),ne,!0):ne.length===0;ee=p.createElement(p.Fragment,null,de(),p.createElement("div",{className:`${r}-dropdown-btns`},p.createElement(nc,{type:"link",size:"small",disabled:ve(),onClick:()=>re()},g.filterReset),p.createElement(nc,{type:"primary",size:"small",onClick:Z},g.filterConfirm)))}o.filterDropdown&&(ee=p.createElement(NV,{selectable:void 0},ee));const K=()=>p.createElement(rle,{className:`${r}-dropdown`},ee);let Y;typeof o.filterIcon=="function"?Y=o.filterIcon(A):o.filterIcon?Y=o.filterIcon:Y=p.createElement(hse,null);const{direction:he}=p.useContext(Pt);return p.createElement("div",{className:`${r}-column`},p.createElement("span",{className:`${i}-column-title`},y),p.createElement(A$,{dropdownRender:K,trigger:["click"],open:D,onOpenChange:ce,getPopupContainer:v,placement:he==="rtl"?"bottomLeft":"bottomRight",rootClassName:m},p.createElement("span",{role:"button",tabIndex:-1,className:J(`${r}-trigger`,{active:A}),onClick:ne=>{ne.stopPropagation()}},Y)))}function bx(n,e,t){let i=[];return(n||[]).forEach((r,o)=>{var s;const l=Ep(o,t);if(r.filters||"filterDropdown"in r||"onFilter"in r)if("filteredValue"in r){let a=r.filteredValue;"filterDropdown"in r||(a=(s=a==null?void 0:a.map(String))!==null&&s!==void 0?s:a),i.push({column:r,key:ic(r,l),filteredKeys:a,forceFiltered:r.filtered})}else i.push({column:r,key:ic(r,l),filteredKeys:e&&r.defaultFilteredValue?r.defaultFilteredValue:void 0,forceFiltered:r.filtered});"children"in r&&(i=[].concat(be(i),be(bx(r.children,e,l))))}),i}function P8(n,e,t,i,r,o,s,l,a){return t.map((c,u)=>{const h=Ep(u,l),{filterOnClose:d=!0,filterMultiple:f=!0,filterMode:g,filterSearch:y}=c;let v=c;if(v.filters||v.filterDropdown){const m=ic(v,h),b=i.find(S=>{let{key:w}=S;return m===w});v=Object.assign(Object.assign({},v),{title:S=>p.createElement(sle,{tablePrefixCls:n,prefixCls:`${n}-filter`,dropdownPrefixCls:e,column:v,columnKey:m,filterState:b,filterOnClose:d,filterMultiple:f,filterMode:g,filterSearch:y,triggerFilter:o,locale:r,getPopupContainer:s,rootClassName:a},Ry(c.title,S))})}return"children"in v&&(v=Object.assign(Object.assign({},v),{children:P8(n,e,v.children,i,r,o,s,h,a)})),v})}function ED(n){const e={};return n.forEach(t=>{let{key:i,filteredKeys:r,column:o}=t;const s=i,{filters:l,filterDropdown:a}=o;if(a)e[s]=r||null;else if(Array.isArray(r)){const c=yu(l);e[s]=c.filter(u=>r.includes(String(u)))}else e[s]=null}),e}function Sx(n,e,t){return e.reduce((i,r)=>{const{column:{onFilter:o,filters:s},filteredKeys:l}=r;return o&&l&&l.length?i.map(a=>Object.assign({},a)).filter(a=>l.some(c=>{const u=yu(s),h=u.findIndex(f=>String(f)===String(c)),d=h!==-1?u[h]:c;return a[t]&&(a[t]=Sx(a[t],e,t)),o(d,a)})):i},n)}const I8=n=>n.flatMap(e=>"children"in e?[e].concat(be(I8(e.children||[]))):[e]);function lle(n){let{prefixCls:e,dropdownPrefixCls:t,mergedColumns:i,onFilterChange:r,getPopupContainer:o,locale:s,rootClassName:l}=n;gh();const a=p.useMemo(()=>I8(i||[]),[i]),[c,u]=p.useState(()=>bx(a,!0)),h=p.useMemo(()=>{const y=bx(a,!1);if(y.length===0)return y;let v=!0;if(y.forEach(m=>{let{filteredKeys:b}=m;b!==void 0&&(v=!1)}),v){const m=(a||[]).map((b,S)=>ic(b,Ep(S)));return c.filter(b=>{let{key:S}=b;return m.includes(S)}).map(b=>{const S=a[m.findIndex(w=>w===b.key)];return Object.assign(Object.assign({},b),{column:Object.assign(Object.assign({},b.column),S),forceFiltered:S.filtered})})}return y},[a,c]),d=p.useMemo(()=>ED(h),[h]),f=y=>{const v=h.filter(m=>{let{key:b}=m;return b!==y.key});v.push(y),u(v),r(ED(v),v)};return[y=>P8(e,t,y,h,s,f,o,void 0,l),h,d]}function ale(n,e,t){const i=p.useRef({});function r(o){if(!i.current||i.current.data!==n||i.current.childrenColumnName!==e||i.current.getRowKey!==t){let a=function(c){c.forEach((u,h)=>{const d=t(u,h);l.set(d,u),u&&typeof u=="object"&&e in u&&a(u[e]||[])})};var s=a;const l=new Map;a(n),i.current={data:n,childrenColumnName:e,kvMap:l,getRowKey:t}}return i.current.kvMap.get(o)}return[r]}var cle=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const N8=10;function ule(n,e){const t={current:n.current,pageSize:n.pageSize};return Object.keys(e&&typeof e=="object"?e:{}).forEach(r=>{const o=n[r];typeof o!="function"&&(t[r]=o)}),t}function hle(n,e,t){const i=t&&typeof t=="object"?t:{},{total:r=0}=i,o=cle(i,["total"]),[s,l]=p.useState(()=>({current:"defaultCurrent"in o?o.defaultCurrent:1,pageSize:"defaultPageSize"in o?o.defaultPageSize:N8})),a=sre(s,o,{total:r>0?r:n}),c=Math.ceil((r||n)/a.pageSize);a.current>c&&(a.current=c||1);const u=(d,f)=>{l({current:d??1,pageSize:f||a.pageSize})},h=(d,f)=>{var g;t&&((g=t.onChange)===null||g===void 0||g.call(t,d,f)),u(d,f),e(d,f||(a==null?void 0:a.pageSize))};return t===!1?[{},()=>{}]:[Object.assign(Object.assign({},a),{onChange:h}),u]}var dle={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},fle=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:dle}))},ple=p.forwardRef(fle),gle={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},mle=function(e,t){return p.createElement(dn,Se({},e,{ref:t,icon:gle}))},vle=p.forwardRef(mle);const wm="ascend",m1="descend";function j0(n){return typeof n.sorter=="object"&&typeof n.sorter.multiple=="number"?n.sorter.multiple:!1}function MD(n){return typeof n=="function"?n:n&&typeof n=="object"&&n.compare?n.compare:!1}function yle(n,e){return e?n[n.indexOf(e)+1]:n[0]}function wx(n,e,t){let i=[];function r(o,s){i.push({column:o,key:ic(o,s),multiplePriority:j0(o),sortOrder:o.sortOrder})}return(n||[]).forEach((o,s)=>{const l=Ep(s,t);o.children?("sortOrder"in o&&r(o,l),i=[].concat(be(i),be(wx(o.children,e,l)))):o.sorter&&("sortOrder"in o?r(o,l):e&&o.defaultSortOrder&&i.push({column:o,key:ic(o,l),multiplePriority:j0(o),sortOrder:o.defaultSortOrder}))}),i}function B8(n,e,t,i,r,o,s,l){return(e||[]).map((a,c)=>{const u=Ep(c,l);let h=a;if(h.sorter){const d=h.sortDirections||r,f=h.showSorterTooltip===void 0?s:h.showSorterTooltip,g=ic(h,u),y=t.find($=>{let{key:M}=$;return M===g}),v=y?y.sortOrder:null,m=yle(d,v);let b;if(a.sortIcon)b=a.sortIcon({sortOrder:v});else{const $=d.includes(wm)&&p.createElement(vle,{className:J(`${n}-column-sorter-up`,{active:v===wm})}),M=d.includes(m1)&&p.createElement(ple,{className:J(`${n}-column-sorter-down`,{active:v===m1})});b=p.createElement("span",{className:J(`${n}-column-sorter`,{[`${n}-column-sorter-full`]:!!($&&M)})},p.createElement("span",{className:`${n}-column-sorter-inner`,"aria-hidden":"true"},$,M))}const{cancelSort:S,triggerAsc:w,triggerDesc:x}=o||{};let E=S;m===m1?E=x:m===wm&&(E=w);const C=typeof f=="object"?Object.assign({title:E},f):{title:E};h=Object.assign(Object.assign({},h),{className:J(h.className,{[`${n}-column-sort`]:v}),title:$=>{const M=`${n}-column-sorters`,A=p.createElement("span",{className:`${n}-column-title`},Ry(a.title,$)),P=p.createElement("div",{className:M},A,b);return f?typeof f!="boolean"&&(f==null?void 0:f.target)==="sorter-icon"?p.createElement("div",{className:`${M} ${n}-column-sorters-tooltip-target-sorter`},A,p.createElement(H0,Object.assign({},C),b)):p.createElement(H0,Object.assign({},C),P):P},onHeaderCell:$=>{const M=a.onHeaderCell&&a.onHeaderCell($)||{},A=M.onClick,P=M.onKeyDown;M.onClick=O=>{i({column:a,key:g,sortOrder:m,multiplePriority:j0(a)}),A==null||A(O)},M.onKeyDown=O=>{O.keyCode===me.ENTER&&(i({column:a,key:g,sortOrder:m,multiplePriority:j0(a)}),P==null||P(O))};const D=ase(a.title,{}),I=D==null?void 0:D.toString();return v?M["aria-sort"]=v==="ascend"?"ascending":"descending":M["aria-label"]=I||"",M.className=J(M.className,`${n}-column-has-sorters`),M.tabIndex=0,a.ellipsis&&(M.title=(D??"").toString()),M}})}return"children"in h&&(h=Object.assign(Object.assign({},h),{children:B8(n,h.children,t,i,r,o,s,u)})),h})}const $D=n=>{const{column:e,sortOrder:t}=n;return{column:e,order:t,field:e.dataIndex,columnKey:e.key}},kD=n=>{const e=n.filter(t=>{let{sortOrder:i}=t;return i}).map($D);if(e.length===0&&n.length){const t=n.length-1;return Object.assign(Object.assign({},$D(n[t])),{column:void 0})}return e.length<=1?e[0]||{}:e};function xx(n,e,t){const i=e.slice().sort((s,l)=>l.multiplePriority-s.multiplePriority),r=n.slice(),o=i.filter(s=>{let{column:{sorter:l},sortOrder:a}=s;return MD(l)&&a});return o.length?r.sort((s,l)=>{for(let a=0;a<o.length;a+=1){const c=o[a],{column:{sorter:u},sortOrder:h}=c,d=MD(u);if(d&&h){const f=d(s,l,h);if(f!==0)return h===wm?f:-f}}return 0}).map(s=>{const l=s[t];return l?Object.assign(Object.assign({},s),{[t]:xx(l,e,t)}):s}):r}function ble(n){let{prefixCls:e,mergedColumns:t,onSorterChange:i,sortDirections:r,tableLocale:o,showSorterTooltip:s}=n;const[l,a]=p.useState(wx(t,!0)),c=p.useMemo(()=>{let g=!0;const y=wx(t,!1);if(!y.length)return l;const v=[];function m(S){g?v.push(S):v.push(Object.assign(Object.assign({},S),{sortOrder:null}))}let b=null;return y.forEach(S=>{b===null?(m(S),S.sortOrder&&(S.multiplePriority===!1?g=!1:b=!0)):(b&&S.multiplePriority!==!1||(g=!1),m(S))}),v},[t,l]),u=p.useMemo(()=>{const g=c.map(y=>{let{column:v,sortOrder:m}=y;return{column:v,order:m}});return{sortColumns:g,sortColumn:g[0]&&g[0].column,sortOrder:g[0]&&g[0].order}},[c]),h=g=>{let y;g.multiplePriority===!1||!c.length||c[0].multiplePriority===!1?y=[g]:y=[].concat(be(c.filter(v=>{let{key:m}=v;return m!==g.key})),[g]),a(y),i(kD(y),y)};return[g=>B8(e,g,c,h,r,o,s),c,u,()=>kD(c)]}function L8(n,e){return n.map(t=>{const i=Object.assign({},t);return i.title=Ry(t.title,e),"children"in i&&(i.children=L8(i.children,e)),i})}function Sle(n){return[p.useCallback(t=>L8(t,n),[n])]}const wle=w8((n,e)=>{const{_renderTimes:t}=n,{_renderTimes:i}=e;return t!==i}),xle=C8((n,e)=>{const{_renderTimes:t}=n,{_renderTimes:i}=e;return t!==i}),Cle=n=>{const{componentCls:e,lineWidth:t,lineType:i,tableBorderColor:r,tableHeaderBg:o,tablePaddingVertical:s,tablePaddingHorizontal:l,calc:a}=n,c=`${U(t)} ${i} ${r}`,u=(h,d,f)=>({[`&${e}-${h}`]:{[`> ${e}-container`]:{[`> ${e}-content, > ${e}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${e}-expanded-row-fixed`]:{margin:`${U(a(d).mul(-1).equal())}
              ${U(a(a(f).add(t)).mul(-1).equal())}`}}}}}});return{[`${e}-wrapper`]:{[`${e}${e}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${e}-title`]:{border:c,borderBottom:0},[`> ${e}-container`]:{borderInlineStart:c,borderTop:c,[`
            > ${e}-content,
            > ${e}-header,
            > ${e}-body,
            > ${e}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:c},"> thead":{"> tr:not(:last-child) > th":{borderBottom:c},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${e}-cell-fix-right-first::after`]:{borderInlineEnd:c}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${e}-expanded-row-fixed`]:{margin:`${U(a(s).mul(-1).equal())} ${U(a(a(l).add(t)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:t,bottom:0,borderInlineEnd:c,content:'""'}}}}}},[`&${e}-scroll-horizontal`]:{[`> ${e}-container > ${e}-body`]:{"> table > tbody":{[`
                > tr${e}-expanded-row,
                > tr${e}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},u("middle",n.tablePaddingVerticalMiddle,n.tablePaddingHorizontalMiddle)),u("small",n.tablePaddingVerticalSmall,n.tablePaddingHorizontalSmall)),{[`> ${e}-footer`]:{border:c,borderTop:0}}),[`${e}-cell`]:{[`${e}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${U(t)} 0 ${U(t)} ${o}`}},[`${e}-bordered ${e}-cell-scrollbar`]:{borderInlineEnd:c}}}},Ele=n=>{const{componentCls:e}=n;return{[`${e}-wrapper`]:{[`${e}-cell-ellipsis`]:Object.assign(Object.assign({},Cf),{wordBreak:"keep-all",[`
          &${e}-cell-fix-left-last,
          &${e}-cell-fix-right-first
        `]:{overflow:"visible",[`${e}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${e}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},Mle=n=>{const{componentCls:e}=n;return{[`${e}-wrapper`]:{[`${e}-tbody > tr${e}-placeholder`]:{textAlign:"center",color:n.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:n.colorBgContainer}}}}},$le=n=>{const{componentCls:e,antCls:t,motionDurationSlow:i,lineWidth:r,paddingXS:o,lineType:s,tableBorderColor:l,tableExpandIconBg:a,tableExpandColumnWidth:c,borderRadius:u,tablePaddingVertical:h,tablePaddingHorizontal:d,tableExpandedRowBg:f,paddingXXS:g,expandIconMarginTop:y,expandIconSize:v,expandIconHalfInner:m,expandIconScale:b,calc:S}=n,w=`${U(r)} ${s} ${l}`,x=S(g).sub(r).equal();return{[`${e}-wrapper`]:{[`${e}-expand-icon-col`]:{width:c},[`${e}-row-expand-icon-cell`]:{textAlign:"center",[`${e}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${e}-row-indent`]:{height:1,float:"left"},[`${e}-row-expand-icon`]:Object.assign(Object.assign({},_U(n)),{position:"relative",float:"left",boxSizing:"border-box",width:v,height:v,padding:0,color:"inherit",lineHeight:U(v),background:a,border:w,borderRadius:u,transform:`scale(${b})`,transition:`all ${i}`,userSelect:"none","&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${i} ease-out`,content:'""'},"&::before":{top:m,insetInlineEnd:x,insetInlineStart:x,height:r},"&::after":{top:x,bottom:x,insetInlineStart:m,width:r,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${e}-row-indent + ${e}-row-expand-icon`]:{marginTop:y,marginInlineEnd:o},[`tr${e}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:f}},[`${t}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"auto"}}},[`${e}-expanded-row-fixed`]:{position:"relative",margin:`${U(S(h).mul(-1).equal())} ${U(S(d).mul(-1).equal())}`,padding:`${U(h)} ${U(d)}`}}}},kle=n=>{const{componentCls:e,antCls:t,iconCls:i,tableFilterDropdownWidth:r,tableFilterDropdownSearchWidth:o,paddingXXS:s,paddingXS:l,colorText:a,lineWidth:c,lineType:u,tableBorderColor:h,headerIconColor:d,fontSizeSM:f,tablePaddingHorizontal:g,borderRadius:y,motionDurationSlow:v,colorTextDescription:m,colorPrimary:b,tableHeaderFilterActiveBg:S,colorTextDisabled:w,tableFilterDropdownBg:x,tableFilterDropdownHeight:E,controlItemBgHover:C,controlItemBgActive:$,boxShadowSecondary:M,filterDropdownMenuBg:A,calc:P}=n,D=`${t}-dropdown`,I=`${e}-filter-dropdown`,O=`${t}-tree`,H=`${U(c)} ${u} ${h}`;return[{[`${e}-wrapper`]:{[`${e}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${e}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:P(s).mul(-1).equal(),marginInline:`${U(s)} ${U(P(g).div(2).mul(-1).equal())}`,padding:`0 ${U(s)}`,color:d,fontSize:f,borderRadius:y,cursor:"pointer",transition:`all ${v}`,"&:hover":{color:m,background:S},"&.active":{color:b}}}},{[`${t}-dropdown`]:{[I]:Object.assign(Object.assign({},wi(n)),{minWidth:r,backgroundColor:x,borderRadius:y,boxShadow:M,overflow:"hidden",[`${D}-menu`]:{maxHeight:E,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:A,"&:empty::after":{display:"block",padding:`${U(l)} 0`,color:w,fontSize:f,textAlign:"center",content:'"Not Found"'}},[`${I}-tree`]:{paddingBlock:`${U(l)} 0`,paddingInline:l,[O]:{padding:0},[`${O}-treenode ${O}-node-content-wrapper:hover`]:{backgroundColor:C},[`${O}-treenode-checkbox-checked ${O}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:$}}},[`${I}-search`]:{padding:l,borderBottom:H,"&-input":{input:{minWidth:o},[i]:{color:w}}},[`${I}-checkall`]:{width:"100%",marginBottom:s,marginInlineStart:s},[`${I}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${U(P(l).sub(c).equal())} ${U(l)}`,overflow:"hidden",borderTop:H}})}},{[`${t}-dropdown ${I}, ${I}-submenu`]:{[`${t}-checkbox-wrapper + span`]:{paddingInlineStart:l,color:a},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},Ole=n=>{const{componentCls:e,lineWidth:t,colorSplit:i,motionDurationSlow:r,zIndexTableFixed:o,tableBg:s,zIndexTableSticky:l,calc:a}=n,c=i;return{[`${e}-wrapper`]:{[`
        ${e}-cell-fix-left,
        ${e}-cell-fix-right
      `]:{position:"sticky !important",zIndex:o,background:s},[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:a(t).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${r}`,content:'""',pointerEvents:"none"},[`${e}-cell-fix-left-all::after`]:{display:"none"},[`
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:a(t).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${r}`,content:'""',pointerEvents:"none"},[`${e}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:a(l).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${r}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${e}-ping-left`]:{[`&:not(${e}-has-fix-left) ${e}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`
          ${e}-cell-fix-left-first::after,
          ${e}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`${e}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${e}-ping-right`]:{[`&:not(${e}-has-fix-right) ${e}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${c}`},[`
          ${e}-cell-fix-right-first::after,
          ${e}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${c}`}},[`${e}-fixed-column-gapped`]:{[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after,
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},Ale=n=>{const{componentCls:e,antCls:t,margin:i}=n;return{[`${e}-wrapper`]:{[`${e}-pagination${t}-pagination`]:{margin:`${U(i)} 0`},[`${e}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:n.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},Rle=n=>{const{componentCls:e,tableRadius:t}=n;return{[`${e}-wrapper`]:{[e]:{[`${e}-title, ${e}-header`]:{borderRadius:`${U(t)} ${U(t)} 0 0`},[`${e}-title + ${e}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${e}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:t,borderStartEndRadius:t,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:t},"> *:last-child":{borderStartEndRadius:t}}},"&-footer":{borderRadius:`0 0 ${U(t)} ${U(t)}`}}}}},Dle=n=>{const{componentCls:e}=n;return{[`${e}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${e}-pagination-left`]:{justifyContent:"flex-end"},[`${e}-pagination-right`]:{justifyContent:"flex-start"},[`${e}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${e}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${e}-row-indent`]:{float:"right"}}}}},Tle=n=>{const{componentCls:e,antCls:t,iconCls:i,fontSizeIcon:r,padding:o,paddingXS:s,headerIconColor:l,headerIconHoverColor:a,tableSelectionColumnWidth:c,tableSelectedRowBg:u,tableSelectedRowHoverBg:h,tableRowHoverBg:d,tablePaddingHorizontal:f,calc:g}=n;return{[`${e}-wrapper`]:{[`${e}-selection-col`]:{width:c,[`&${e}-selection-col-with-dropdown`]:{width:g(c).add(r).add(g(o).div(4)).equal()}},[`${e}-bordered ${e}-selection-col`]:{width:g(c).add(g(s).mul(2)).equal(),[`&${e}-selection-col-with-dropdown`]:{width:g(c).add(r).add(g(o).div(4)).add(g(s).mul(2)).equal()}},[`
        table tr th${e}-selection-column,
        table tr td${e}-selection-column,
        ${e}-selection-column
      `]:{paddingInlineEnd:n.paddingXS,paddingInlineStart:n.paddingXS,textAlign:"center",[`${t}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${e}-selection-column${e}-cell-fix-left`]:{zIndex:n.zIndexTableFixed+1},[`table tr th${e}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${e}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${e}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:U(g(f).div(4).equal()),[i]:{color:l,fontSize:r,verticalAlign:"baseline","&:hover":{color:a}}},[`${e}-tbody`]:{[`${e}-row`]:{[`&${e}-row-selected`]:{[`> ${e}-cell`]:{background:u,"&-row-hover":{background:h}}},[`> ${e}-cell-row-hover`]:{background:d}}}}}},Ple=n=>{const{componentCls:e,tableExpandColumnWidth:t,calc:i}=n,r=(o,s,l,a)=>({[`${e}${e}-${o}`]:{fontSize:a,[`
        ${e}-title,
        ${e}-footer,
        ${e}-cell,
        ${e}-thead > tr > th,
        ${e}-tbody > tr > th,
        ${e}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${U(s)} ${U(l)}`},[`${e}-filter-trigger`]:{marginInlineEnd:U(i(l).div(2).mul(-1).equal())},[`${e}-expanded-row-fixed`]:{margin:`${U(i(s).mul(-1).equal())} ${U(i(l).mul(-1).equal())}`},[`${e}-tbody`]:{[`${e}-wrapper:only-child ${e}`]:{marginBlock:U(i(s).mul(-1).equal()),marginInline:`${U(i(t).sub(l).equal())} ${U(i(l).mul(-1).equal())}`}},[`${e}-selection-extra`]:{paddingInlineStart:U(i(l).div(4).equal())}}});return{[`${e}-wrapper`]:Object.assign(Object.assign({},r("middle",n.tablePaddingVerticalMiddle,n.tablePaddingHorizontalMiddle,n.tableFontSizeMiddle)),r("small",n.tablePaddingVerticalSmall,n.tablePaddingHorizontalSmall,n.tableFontSizeSmall))}},Ile=n=>{const{componentCls:e,marginXXS:t,fontSizeIcon:i,headerIconColor:r,headerIconHoverColor:o}=n;return{[`${e}-wrapper`]:{[`${e}-thead th${e}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"&:hover":{background:n.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:n.colorPrimary},[`
          &${e}-cell-fix-left:hover,
          &${e}-cell-fix-right:hover
        `]:{background:n.tableFixedHeaderSortActiveBg}},[`${e}-thead th${e}-column-sort`]:{background:n.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${e}-column-sort`]:{background:n.tableBodySortBg},[`${e}-column-title`]:{position:"relative",zIndex:1,flex:1},[`${e}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${e}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${e}-column-sorter`]:{marginInlineStart:t,color:r,fontSize:0,transition:`color ${n.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:i,"&.active":{color:n.colorPrimary}},[`${e}-column-sorter-up + ${e}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${e}-column-sorters:hover ${e}-column-sorter`]:{color:o}}}},Nle=n=>{const{componentCls:e,opacityLoading:t,tableScrollThumbBg:i,tableScrollThumbBgHover:r,tableScrollThumbSize:o,tableScrollBg:s,zIndexTableSticky:l,stickyScrollBarBorderRadius:a,lineWidth:c,lineType:u,tableBorderColor:h}=n,d=`${U(c)} ${u} ${h}`;return{[`${e}-wrapper`]:{[`${e}-sticky`]:{"&-holder":{position:"sticky",zIndex:l,background:n.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${U(o)} !important`,zIndex:l,display:"flex",alignItems:"center",background:s,borderTop:d,opacity:t,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:o,backgroundColor:i,borderRadius:a,transition:`all ${n.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:r}}}}}}},OD=n=>{const{componentCls:e,lineWidth:t,tableBorderColor:i,calc:r}=n,o=`${U(t)} ${n.lineType} ${i}`;return{[`${e}-wrapper`]:{[`${e}-summary`]:{position:"relative",zIndex:n.zIndexTableFixed,background:n.tableBg,"> tr":{"> th, > td":{borderBottom:o}}},[`div${e}-summary`]:{boxShadow:`0 ${U(r(t).mul(-1).equal())} 0 ${i}`}}}},Ble=n=>{const{componentCls:e,motionDurationMid:t,lineWidth:i,lineType:r,tableBorderColor:o,calc:s}=n,l=`${U(i)} ${r} ${o}`,a=`${e}-expanded-row-cell`;return{[`${e}-wrapper`]:{[`${e}-tbody-virtual`]:{[`${e}-row:not(tr)`]:{display:"flex",boxSizing:"border-box",width:"100%"},[`${e}-cell`]:{borderBottom:l,transition:`background ${t}`},[`${e}-expanded-row`]:{[`${a}${a}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${U(i)})`,borderInlineEnd:"none"}}},[`${e}-bordered`]:{[`${e}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:l,position:"absolute"},[`${e}-cell`]:{borderInlineEnd:l,[`&${e}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:s(i).mul(-1).equal(),borderInlineStart:l}}},[`&${e}-virtual`]:{[`${e}-placeholder ${e}-cell`]:{borderInlineEnd:l,borderBottom:l}}}}}},Lle=n=>{const{componentCls:e,fontWeightStrong:t,tablePaddingVertical:i,tablePaddingHorizontal:r,tableExpandColumnWidth:o,lineWidth:s,lineType:l,tableBorderColor:a,tableFontSize:c,tableBg:u,tableRadius:h,tableHeaderTextColor:d,motionDurationMid:f,tableHeaderBg:g,tableHeaderCellSplitColor:y,tableFooterTextColor:v,tableFooterBg:m,calc:b}=n,S=`${U(s)} ${l} ${a}`;return{[`${e}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},A0()),{[e]:Object.assign(Object.assign({},wi(n)),{fontSize:c,background:u,borderRadius:`${U(h)} ${U(h)} 0 0`,scrollbarColor:`${n.tableScrollThumbBg} ${n.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${U(h)} ${U(h)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${e}-cell,
          ${e}-thead > tr > th,
          ${e}-tbody > tr > th,
          ${e}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${U(i)} ${U(r)}`,overflowWrap:"break-word"},[`${e}-title`]:{padding:`${U(i)} ${U(r)}`},[`${e}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:d,fontWeight:t,textAlign:"start",background:g,borderBottom:S,transition:`background ${f} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${e}-selection-column):not(${e}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:y,transform:"translateY(-50%)",transition:`background-color ${f}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${e}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${f}, border-color ${f}`,borderBottom:S,[`
              > ${e}-wrapper:only-child,
              > ${e}-expanded-row-fixed > ${e}-wrapper:only-child
            `]:{[e]:{marginBlock:U(b(i).mul(-1).equal()),marginInline:`${U(b(o).sub(r).equal())}
                ${U(b(r).mul(-1).equal())}`,[`${e}-tbody > tr:last-child > td`]:{borderBottom:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:d,fontWeight:t,textAlign:"start",background:g,borderBottom:S,transition:`background ${f} ease`}}},[`${e}-footer`]:{padding:`${U(i)} ${U(r)}`,color:v,background:m}})}},Hle=n=>{const{colorFillAlter:e,colorBgContainer:t,colorTextHeading:i,colorFillSecondary:r,colorFillContent:o,controlItemBgActive:s,controlItemBgActiveHover:l,padding:a,paddingSM:c,paddingXS:u,colorBorderSecondary:h,borderRadiusLG:d,controlHeight:f,colorTextPlaceholder:g,fontSize:y,fontSizeSM:v,lineHeight:m,lineWidth:b,colorIcon:S,colorIconHover:w,opacityLoading:x,controlInteractiveSize:E}=n,C=new An(r).onBackground(t).toHexShortString(),$=new An(o).onBackground(t).toHexShortString(),M=new An(e).onBackground(t).toHexShortString(),A=new An(S),P=new An(w),D=E/2-b,I=D*2+b*3;return{headerBg:M,headerColor:i,headerSortActiveBg:C,headerSortHoverBg:$,bodySortBg:M,rowHoverBg:M,rowSelectedBg:s,rowSelectedHoverBg:l,rowExpandedBg:e,cellPaddingBlock:a,cellPaddingInline:a,cellPaddingBlockMD:c,cellPaddingInlineMD:u,cellPaddingBlockSM:u,cellPaddingInlineSM:u,borderColor:h,headerBorderRadius:d,footerBg:M,footerColor:i,cellFontSize:y,cellFontSizeMD:y,cellFontSizeSM:y,headerSplitColor:h,fixedHeaderSortActiveBg:C,headerFilterHoverBg:o,filterDropdownMenuBg:t,filterDropdownBg:t,expandIconBg:t,selectionColumnWidth:f,stickyScrollBarBg:g,stickyScrollBarBorderRadius:100,expandIconMarginTop:(y*m-b*3)/2-Math.ceil((v*1.4-b*3)/2),headerIconColor:A.clone().setAlpha(A.getAlpha()*x).toRgbString(),headerIconHoverColor:P.clone().setAlpha(P.getAlpha()*x).toRgbString(),expandIconHalfInner:D,expandIconSize:I,expandIconScale:E/I}},zle=xr("Table",n=>{const{colorTextHeading:e,colorSplit:t,colorBgContainer:i,controlInteractiveSize:r,headerBg:o,headerColor:s,headerSortActiveBg:l,headerSortHoverBg:a,bodySortBg:c,rowHoverBg:u,rowSelectedBg:h,rowSelectedHoverBg:d,rowExpandedBg:f,cellPaddingBlock:g,cellPaddingInline:y,cellPaddingBlockMD:v,cellPaddingInlineMD:m,cellPaddingBlockSM:b,cellPaddingInlineSM:S,borderColor:w,footerBg:x,footerColor:E,headerBorderRadius:C,cellFontSize:$,cellFontSizeMD:M,cellFontSizeSM:A,headerSplitColor:P,fixedHeaderSortActiveBg:D,headerFilterHoverBg:I,filterDropdownBg:O,expandIconBg:H,selectionColumnWidth:T,stickyScrollBarBg:R,calc:k}=n,B=2,L=sn(n,{tableFontSize:$,tableBg:i,tableRadius:C,tablePaddingVertical:g,tablePaddingHorizontal:y,tablePaddingVerticalMiddle:v,tablePaddingHorizontalMiddle:m,tablePaddingVerticalSmall:b,tablePaddingHorizontalSmall:S,tableBorderColor:w,tableHeaderTextColor:s,tableHeaderBg:o,tableFooterTextColor:E,tableFooterBg:x,tableHeaderCellSplitColor:P,tableHeaderSortBg:l,tableHeaderSortHoverBg:a,tableBodySortBg:c,tableFixedHeaderSortActiveBg:D,tableHeaderFilterActiveBg:I,tableFilterDropdownBg:O,tableRowHoverBg:u,tableSelectedRowBg:h,tableSelectedRowHoverBg:d,zIndexTableFixed:B,zIndexTableSticky:B+1,tableFontSizeMiddle:M,tableFontSizeSmall:A,tableSelectionColumnWidth:T,tableExpandIconBg:H,tableExpandColumnWidth:k(r).add(k(n.padding).mul(2)).equal(),tableExpandedRowBg:f,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:R,tableScrollThumbBgHover:e,tableScrollBg:t});return[Lle(L),Ale(L),OD(L),Ile(L),kle(L),Cle(L),Rle(L),$le(L),OD(L),Mle(L),Tle(L),Ole(L),Nle(L),Ele(L),Ple(L),Dle(L),Ble(L)]},Hle,{unitless:{expandIconScale:!0}}),Vle=[],Fle=(n,e)=>{var t,i;const{prefixCls:r,className:o,rootClassName:s,style:l,size:a,bordered:c,dropdownPrefixCls:u,dataSource:h,pagination:d,rowSelection:f,rowKey:g="key",rowClassName:y,columns:v,children:m,childrenColumnName:b,onChange:S,getPopupContainer:w,loading:x,expandIcon:E,expandable:C,expandedRowRender:$,expandIconColumnIndex:M,indentSize:A,scroll:P,sortDirections:D,locale:I,showSorterTooltip:O={target:"full-header"},virtual:H}=n;gh();const T=p.useMemo(()=>v||P$(m),[v,m]),R=p.useMemo(()=>T.some(Le=>Le.responsive),[T]),k=dV(R),B=p.useMemo(()=>{const Le=new Set(Object.keys(k).filter(Xe=>k[Xe]));return T.filter(Xe=>!Xe.responsive||Xe.responsive.some(Re=>Le.has(Re)))},[T,k]),L=zr(n,["className","style","columns"]),{locale:z=ec,direction:F,table:_,renderEmpty:G,getPrefixCls:Z,getPopupContainer:re}=p.useContext(Pt),Q=Us(a),ce=Object.assign(Object.assign({},z.Table),I),fe=h||Vle,te=Z("table",r),j=Z("dropdown",u),[,q]=Di(),ee=ls(te),[K,Y,he]=zle(te,ee),ne=Object.assign(Object.assign({childrenColumnName:b,expandIconColumnIndex:M},C),{expandIcon:(t=C==null?void 0:C.expandIcon)!==null&&t!==void 0?t:(i=_==null?void 0:_.expandable)===null||i===void 0?void 0:i.expandIcon}),{childrenColumnName:de="children"}=ne,ve=p.useMemo(()=>fe.some(Le=>Le==null?void 0:Le[de])?"nest":$||C&&C.expandedRowRender?"row":null,[fe]),se={body:p.useRef()},ue=lse(te),xe=p.useRef(null),le=p.useRef(null);ose(e,()=>Object.assign(Object.assign({},le.current),{nativeElement:xe.current}));const pe=p.useMemo(()=>typeof g=="function"?g:Le=>Le==null?void 0:Le[g],[g]),[Me]=ale(fe,de,pe),we={},st=function(Le,Xe){let Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var vt,qt,zt;const Nt=Object.assign(Object.assign({},we),Le);Re&&((vt=we.resetPagination)===null||vt===void 0||vt.call(we),!((qt=Nt.pagination)===null||qt===void 0)&&qt.current&&(Nt.pagination.current=1),d&&d.onChange&&d.onChange(1,(zt=Nt.pagination)===null||zt===void 0?void 0:zt.pageSize)),P&&P.scrollToFirstRowOnChange!==!1&&se.body.current&&ZX(0,{getContainer:()=>se.body.current}),S==null||S(Nt.pagination,Nt.filters,Nt.sorter,{currentDataSource:Sx(xx(fe,Nt.sorterStates,de),Nt.filterStates,de),action:Xe})},Qe=(Le,Xe)=>{st({sorter:Le,sorterStates:Xe},"sort",!1)},[Ie,ae,$e,Ae]=ble({prefixCls:te,mergedColumns:B,onSorterChange:Qe,sortDirections:D||["ascend","descend"],tableLocale:ce,showSorterTooltip:O}),Ue=p.useMemo(()=>xx(fe,ae,de),[fe,ae]);we.sorter=Ae(),we.sorterStates=ae;const lt=(Le,Xe)=>{st({filters:Le,filterStates:Xe},"filter",!0)},[Ke,qe,at]=lle({prefixCls:te,locale:ce,dropdownPrefixCls:j,mergedColumns:B,onFilterChange:lt,getPopupContainer:w||re,rootClassName:J(s,ee)}),_e=Sx(Ue,qe,de);we.filters=at,we.filterStates=qe;const Ot=p.useMemo(()=>{const Le={};return Object.keys(at).forEach(Xe=>{at[Xe]!==null&&(Le[Xe]=at[Xe])}),Object.assign(Object.assign({},$e),{filters:Le})},[$e,at]),[xt]=Sle(Ot),Ft=(Le,Xe)=>{st({pagination:Object.assign(Object.assign({},we.pagination),{current:Le,pageSize:Xe})},"paginate")},[St,Dt]=hle(_e.length,Ft,d);we.pagination=d===!1?{}:ule(St,d),we.resetPagination=Dt;const ht=p.useMemo(()=>{if(d===!1||!St.pageSize)return _e;const{current:Le=1,total:Xe,pageSize:Re=N8}=St;return _e.length<Xe?_e.length>Re?_e.slice((Le-1)*Re,Le*Re):_e:_e.slice((Le-1)*Re,Le*Re)},[!!d,_e,St&&St.current,St&&St.pageSize,St&&St.total]),[Pe,nt]=ise({prefixCls:te,data:_e,pageData:ht,getRowKey:pe,getRecordByKey:Me,expandType:ve,childrenColumnName:de,locale:ce,getPopupContainer:w||re},f),Fe=(Le,Xe,Re)=>{let vt;return typeof y=="function"?vt=J(y(Le,Xe,Re)):vt=J(y),J({[`${te}-row-selected`]:nt.has(pe(Le,Xe))},vt)};ne.__PARENT_RENDER_ICON__=ne.expandIcon,ne.expandIcon=ne.expandIcon||E||sse(ce),ve==="nest"&&ne.expandIconColumnIndex===void 0?ne.expandIconColumnIndex=f?1:0:ne.expandIconColumnIndex>0&&f&&(ne.expandIconColumnIndex-=1),typeof ne.indentSize!="number"&&(ne.indentSize=typeof A=="number"?A:15);const Ce=p.useCallback(Le=>xt(Pe(Ke(Ie(Le)))),[Ie,Ke,Pe]);let Te,We;if(d!==!1&&(St!=null&&St.total)){let Le;St.size?Le=St.size:Le=Q==="small"||Q==="middle"?"small":void 0;const Xe=qt=>p.createElement(kre,Object.assign({},St,{className:J(`${te}-pagination ${te}-pagination-${qt}`,St.className),size:Le})),Re=F==="rtl"?"left":"right",{position:vt}=St;if(vt!==null&&Array.isArray(vt)){const qt=vt.find(Gt=>Gt.includes("top")),zt=vt.find(Gt=>Gt.includes("bottom")),Nt=vt.every(Gt=>`${Gt}`=="none");!qt&&!zt&&!Nt&&(We=Xe(Re)),qt&&(Te=Xe(qt.toLowerCase().replace("top",""))),zt&&(We=Xe(zt.toLowerCase().replace("bottom","")))}else We=Xe(Re)}let ye;typeof x=="boolean"?ye={spinning:x}:typeof x=="object"&&(ye=Object.assign({spinning:!0},x));const Oe=J(he,ee,`${te}-wrapper`,_==null?void 0:_.className,{[`${te}-wrapper-rtl`]:F==="rtl"},o,s,Y),ke=Object.assign(Object.assign({},_==null?void 0:_.style),l),Je=I&&I.emptyText||(G==null?void 0:G("Table"))||p.createElement(sV,{componentName:"Table"}),wt=H?xle:wle,mt={},Ht=p.useMemo(()=>{const{fontSize:Le,lineHeight:Xe,padding:Re,paddingXS:vt,paddingSM:qt}=q,zt=Math.floor(Le*Xe);switch(Q){case"large":return Re*2+zt;case"small":return vt*2+zt;default:return qt*2+zt}},[q,Q]);return H&&(mt.listItemHeight=Ht),K(p.createElement("div",{ref:xe,className:Oe,style:ke},p.createElement(l8,Object.assign({spinning:!1},ye),Te,p.createElement(wt,Object.assign({},mt,L,{ref:le,columns:B,direction:F,expandable:ne,prefixCls:te,className:J({[`${te}-middle`]:Q==="middle",[`${te}-small`]:Q==="small",[`${te}-bordered`]:c,[`${te}-empty`]:fe.length===0},he,ee,Y),data:ht,rowKey:pe,rowClassName:Fe,emptyText:Je,internalHooks:Cp,internalRefs:se,transformColumns:Ce,getContainerWidth:ue})),We)))},Wle=p.forwardRef(Fle),_le=(n,e)=>{const t=p.useRef(0);return t.current+=1,p.createElement(Wle,Object.assign({},n,{ref:e,_renderTimes:t.current}))},wl=p.forwardRef(_le);wl.SELECTION_COLUMN=Ol;wl.EXPAND_COLUMN=Dl;wl.SELECTION_ALL=gx;wl.SELECTION_INVERT=mx;wl.SELECTION_NONE=vx;wl.Column=qoe;wl.ColumnGroup=Goe;wl.Summary=h8;class Ve{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),Os.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let i=[];return this.decompose(e,t,i,0),Os.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new Hd(this),o=new Hd(e);for(let s=t,l=t;;){if(r.next(s),o.next(s),s=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(l+=r.value.length,r.done||l>=i)return!0}}iter(e=1){return new Hd(this,e)}iterRange(e,t=this.length){return new H8(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new z8(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Ve.empty:e.length<=32?new ti(e):Os.from(ti.split(e,[]))}}class ti extends Ve{constructor(e,t=jle(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let o=0;;o++){let s=this.text[o],l=r+s.length;if((t?i:l)>=e)return new Kle(r,l,i,s);r=l+1,i++}}decompose(e,t,i,r){let o=e<=0&&t>=this.length?this:new ti(AD(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let s=i.pop(),l=xm(o.text,s.text.slice(),0,o.length);if(l.length<=32)i.push(new ti(l,s.length+o.length));else{let a=l.length>>1;i.push(new ti(l.slice(0,a)),new ti(l.slice(a)))}}else i.push(o)}replace(e,t,i){if(!(i instanceof ti))return super.replace(e,t,i);let r=xm(this.text,xm(i.text,AD(this.text,0,e)),t),o=this.length+i.length-(t-e);return r.length<=32?new ti(r,o):Os.from(ti.split(r,[]),o)}sliceString(e,t=this.length,i=`
`){let r="";for(let o=0,s=0;o<=t&&s<this.text.length;s++){let l=this.text[s],a=o+l.length;o>e&&s&&(r+=i),e<a&&t>o&&(r+=l.slice(Math.max(0,e-o),t-o)),o=a+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let o of e)i.push(o),r+=o.length+1,i.length==32&&(t.push(new ti(i,r)),i=[],r=-1);return r>-1&&t.push(new ti(i,r)),t}}class Os extends Ve{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let o=0;;o++){let s=this.children[o],l=r+s.length,a=i+s.lines-1;if((t?a:l)>=e)return s.lineInner(e,t,i,r);r=l+1,i=a+1}}decompose(e,t,i,r){for(let o=0,s=0;s<=t&&o<this.children.length;o++){let l=this.children[o],a=s+l.length;if(e<=a&&t>=s){let c=r&((s<=e?1:0)|(a>=t?2:0));s>=e&&a<=t&&!c?i.push(l):l.decompose(e-s,t-s,i,c)}s=a+1}}replace(e,t,i){if(i.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.length;if(e>=o&&t<=l){let a=s.replace(e-o,t-o,i),c=this.lines-s.lines+a.lines;if(a.lines<c>>4&&a.lines>c>>6){let u=this.children.slice();return u[r]=a,new Os(u,this.length-(t-e)+i.length)}return super.replace(o,l,a)}o=l+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){let r="";for(let o=0,s=0;o<this.children.length&&s<=t;o++){let l=this.children[o],a=s+l.length;s>e&&o&&(r+=i),e<a&&t>s&&(r+=l.sliceString(e-s,t-s,i)),s=a+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Os))return 0;let i=0,[r,o,s,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,o+=t){if(r==s||o==l)return i;let a=this.children[r],c=e.children[o];if(a!=c)return i+a.scanIdentical(c,t);i+=a.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let f of e)i+=f.lines;if(i<32){let f=[];for(let g of e)g.flatten(f);return new ti(f,t)}let r=Math.max(32,i>>5),o=r<<1,s=r>>1,l=[],a=0,c=-1,u=[];function h(f){let g;if(f.lines>o&&f instanceof Os)for(let y of f.children)h(y);else f.lines>s&&(a>s||!a)?(d(),l.push(f)):f instanceof ti&&a&&(g=u[u.length-1])instanceof ti&&f.lines+g.lines<=32?(a+=f.lines,c+=f.length+1,u[u.length-1]=new ti(g.text.concat(f.text),g.length+1+f.length)):(a+f.lines>r&&d(),a+=f.lines,c+=f.length+1,u.push(f))}function d(){a!=0&&(l.push(u.length==1?u[0]:Os.from(u,c)),c=-1,a=u.length=0)}for(let f of e)h(f);return d(),l.length==1?l[0]:new Os(l,t)}}Ve.empty=new ti([""],0);function jle(n){let e=-1;for(let t of n)e+=t.length+1;return e}function xm(n,e,t=0,i=1e9){for(let r=0,o=0,s=!0;o<n.length&&r<=i;o++){let l=n[o],a=r+l.length;a>=t&&(a>i&&(l=l.slice(0,i-r)),r<t&&(l=l.slice(t-r)),s?(e[e.length-1]+=l,s=!1):e.push(l)),r=a+1}return e}function AD(n,e,t){return xm(n,[""],e,t)}class Hd{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof ti?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],o=this.offsets[i],s=o>>1,l=r instanceof ti?r.text.length:r.children.length;if(s==(t>0?l:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof ti){let a=r.text[s+(t<0?-1:0)];if(this.offsets[i]+=t,a.length>Math.max(0,e))return this.value=e==0?a:t>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=r.children[s+(t<0?-1:0)];e>a.length?(e-=a.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(a),this.offsets.push(t>0?1:(a instanceof ti?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class H8{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Hd(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class z8{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ve.prototype[Symbol.iterator]=function(){return this.iter()},Hd.prototype[Symbol.iterator]=H8.prototype[Symbol.iterator]=z8.prototype[Symbol.iterator]=function(){return this});class Kle{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}let bu="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<bu.length;n++)bu[n]+=bu[n-1];function qle(n){for(let e=1;e<bu.length;e+=2)if(bu[e]>n)return bu[e-1]<=n;return!1}function RD(n){return n>=127462&&n<=127487}const DD=8205;function Tt(n,e,t=!0,i=!0){return(t?V8:Gle)(n,e,i)}function V8(n,e,t){if(e==n.length)return e;e&&F8(n.charCodeAt(e))&&W8(n.charCodeAt(e-1))&&e--;let i=rr(n,e);for(e+=mo(i);e<n.length;){let r=rr(n,e);if(i==DD||r==DD||t&&qle(r))e+=mo(r),i=r;else if(RD(r)){let o=0,s=e-2;for(;s>=0&&RD(rr(n,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function Gle(n,e,t){for(;e>0;){let i=V8(n,e-2,t);if(i<e)return i;e--}return 0}function F8(n){return n>=56320&&n<57344}function W8(n){return n>=55296&&n<56320}function rr(n,e){let t=n.charCodeAt(e);if(!W8(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return F8(i)?(t-55296<<10)+(i-56320)+65536:t}function V$(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function mo(n){return n<65536?1:2}const Cx=/\r\n?|\n/;var At=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(At||(At={}));class Ns{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let o=this.sections[t++],s=this.sections[t++];s<0?(e(i,r,o),r+=o):r+=s,i+=o}}iterChangedRanges(e,t=!1){Ex(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new Ns(e)}composeDesc(e){return this.empty?e:e.empty?this:_8(this,e)}mapDesc(e,t=!1){return e.empty?this:Mx(this,e,t)}mapPos(e,t=-1,i=At.Simple){let r=0,o=0;for(let s=0;s<this.sections.length;){let l=this.sections[s++],a=this.sections[s++],c=r+l;if(a<0){if(c>e)return o+(e-r);o+=l}else{if(i!=At.Simple&&c>=e&&(i==At.TrackDel&&r<e&&c>e||i==At.TrackBefore&&r<e||i==At.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!l)return e==r||t<0?o:o+a;o+=a}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return o}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let o=this.sections[i++],s=this.sections[i++],l=r+o;if(s>=0&&r<=t&&l>=e)return r<e&&l>t?"cover":!0;r=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ns(e)}static create(e){return new Ns(e)}}class en extends Ns{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Ex(this,(t,i,r,o,s)=>e=e.replace(r,r+(i-t),s),!1),e}mapDesc(e,t=!1){return Mx(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,o=0;r<t.length;r+=2){let s=t[r],l=t[r+1];if(l>=0){t[r]=l,t[r+1]=s;let a=r>>1;for(;i.length<a;)i.push(Ve.empty);i.push(s?e.slice(o,o+s):Ve.empty)}o+=s}return new en(t,i)}compose(e){return this.empty?e:e.empty?this:_8(this,e,!0)}map(e,t=!1){return e.empty?this:Mx(this,e,t,!0)}iterChanges(e,t=!1){Ex(this,e,t)}get desc(){return Ns.create(this.sections)}filter(e){let t=[],i=[],r=[],o=new kf(this);e:for(let s=0,l=0;;){let a=s==e.length?1e9:e[s++];for(;l<a||l==a&&o.len==0;){if(o.done)break e;let u=Math.min(o.len,a-l);gr(r,u,-1);let h=o.ins==-1?-1:o.off==0?o.ins:0;gr(t,u,h),h>0&&La(i,t,o.text),o.forward(u),l+=u}let c=e[s++];for(;l<c;){if(o.done)break e;let u=Math.min(o.len,c-l);gr(t,u,-1),gr(r,u,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(u),l+=u}}return{changes:new en(t,i),filtered:Ns.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],o=[],s=0,l=null;function a(u=!1){if(!u&&!r.length)return;s<t&&gr(r,t-s,-1);let h=new en(r,o);l=l?l.compose(h.map(l)):h,r=[],o=[],s=0}function c(u){if(Array.isArray(u))for(let h of u)c(h);else if(u instanceof en){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);a(),l=l?l.compose(u.map(l)):u}else{let{from:h,to:d=h,insert:f}=u;if(h>d||h<0||d>t)throw new RangeError(`Invalid change range ${h} to ${d} (in doc of length ${t})`);let g=f?typeof f=="string"?Ve.of(f.split(i||Cx)):f:Ve.empty,y=g.length;if(h==d&&y==0)return;h<s&&a(),h>s&&gr(r,h-s,-1),gr(r,d-h,y),La(o,r,g),s=d}}return c(e),a(!l),l}static empty(e){return new en(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let o=e[r];if(typeof o=="number")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,l)=>l&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)t.push(o[0],0);else{for(;i.length<r;)i.push(Ve.empty);i[r]=Ve.of(o.slice(1)),t.push(o[0],i[r].length)}}}return new en(t,i)}static createSet(e,t){return new en(e,t)}}function gr(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function La(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(Ve.empty);n.push(t)}}function Ex(n,e,t){let i=n.inserted;for(let r=0,o=0,s=0;s<n.sections.length;){let l=n.sections[s++],a=n.sections[s++];if(a<0)r+=l,o+=l;else{let c=r,u=o,h=Ve.empty;for(;c+=l,u+=a,a&&i&&(h=h.append(i[s-2>>1])),!(t||s==n.sections.length||n.sections[s+1]<0);)l=n.sections[s++],a=n.sections[s++];e(r,c,o,u,h),r=c,o=u}}}function Mx(n,e,t,i=!1){let r=[],o=i?[]:null,s=new kf(n),l=new kf(e);for(let a=0,c=0;;)if(s.ins==-1)a+=s.len,s.next();else if(l.ins==-1&&c<a){let u=Math.min(l.len,a-c);l.forward(u),gr(r,u,-1),c+=u}else if(l.ins>=0&&(s.done||c<a||c==a&&(l.len<s.len||l.len==s.len&&!t))){for(gr(r,l.ins,-1);a>c&&!s.done&&a+s.len<c+l.len;)a+=s.len,s.next();c+=l.len,l.next()}else if(s.ins>=0){let u=0,h=a+s.len;for(;;)if(l.ins>=0&&c>a&&c+l.len<h)u+=l.ins,c+=l.len,l.next();else if(l.ins==-1&&c<h){let d=Math.min(l.len,h-c);u+=d,l.forward(d),c+=d}else break;gr(r,u,s.ins),o&&La(o,r,s.text),a=h,s.next()}else{if(s.done&&l.done)return o?en.createSet(r,o):Ns.create(r);throw new Error("Mismatched change set lengths")}}function _8(n,e,t=!1){let i=[],r=t?[]:null,o=new kf(n),s=new kf(e);for(let l=!1;;){if(o.done&&s.done)return r?en.createSet(i,r):Ns.create(i);if(o.ins==0)gr(i,o.len,0,l),o.next();else if(s.len==0&&!s.done)gr(i,0,s.ins,l),r&&La(r,i,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let a=Math.min(o.len2,s.len),c=i.length;if(o.ins==-1){let u=s.ins==-1?-1:s.off?0:s.ins;gr(i,a,u,l),r&&u&&La(r,i,s.text)}else s.ins==-1?(gr(i,o.off?0:o.len,a,l),r&&La(r,i,o.textBit(a))):(gr(i,o.off?0:o.len,s.off?0:s.ins,l),r&&!s.off&&La(r,i,s.text));l=(o.ins>a||s.ins>=0&&s.len>a)&&(l||i.length>c),o.forward2(a),s.forward(a)}}}}class kf{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Ve.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?Ve.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ha{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Ha(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return W.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return W.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return W.range(e.anchor,e.head)}static create(e,t,i){return new Ha(e,t,i)}}class W{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:W.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new W([this.main],0)}addRange(e,t=!0){return W.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,W.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new W(e.ranges.map(t=>Ha.fromJSON(t)),e.main)}static single(e,t=e){return new W([W.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let o=e[r];if(o.empty?o.from<=i:o.from<i)return W.normalized(e.slice(),t);i=o.to}return new W(e,t)}static cursor(e,t=0,i,r){return Ha.create(e,e,(t==0?0:t<0?4:8)|(i==null?3:Math.min(2,i))|(r??33554431)<<5)}static range(e,t,i){let r=(i??33554431)<<5;return t<e?Ha.create(t,e,16|r|8):Ha.create(e,t,r|(t>e?4:0))}static normalized(e,t=0){let i=e[t];e.sort((r,o)=>r.from-o.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let o=e[r],s=e[r-1];if(o.empty?o.from<=s.to:o.from<s.to){let l=s.from,a=Math.max(o.to,s.to);r<=t&&t--,e.splice(--r,2,o.anchor>o.head?W.range(a,l):W.range(l,a))}}return new W(e,t)}}function j8(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let F$=0;class ie{constructor(e,t,i,r,o){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.extensions=o,this.id=F$++,this.default=e([])}static define(e={}){return new ie(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:W$),!!e.static,e.enables)}of(e){return new Cm([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Cm(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Cm(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function W$(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class Cm{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=F$++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,o=this.id,s=e[o]>>1,l=this.type==2,a=!1,c=!1,u=[];for(let h of this.dependencies)h=="doc"?a=!0:h=="selection"?c=!0:((t=e[h.id])!==null&&t!==void 0?t:1)&1||u.push(e[h.id]);return{create(h){return h.values[s]=i(h),1},update(h,d){if(a&&d.docChanged||c&&(d.docChanged||d.selection)||$x(h,u)){let f=i(h);if(l?!TD(f,h.values[s],r):!r(f,h.values[s]))return h.values[s]=f,1}return 0},reconfigure:(h,d)=>{let f=i(h),g=d.config.address[o];if(g!=null){let y=q0(d,g);if(this.dependencies.every(v=>v instanceof ie?d.facet(v)===h.facet(v):v instanceof Ji?d.field(v,!1)==h.field(v,!1):!0)||(l?TD(f,y,r):r(f,y)))return h.values[s]=y,0}return h.values[s]=f,1}}}}function TD(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function $x(n,e){let t=!1;for(let i of e)zd(n,i)&1&&(t=!0);return t}function Ule(n,e,t){let i=t.map(a=>n[a.id]),r=t.map(a=>a.type),o=i.filter(a=>!(a&1)),s=n[e.id]>>1;function l(a){let c=[];for(let u=0;u<i.length;u++){let h=q0(a,i[u]);if(r[u]==2)for(let d of h)c.push(d);else c.push(h)}return e.combine(c)}return{create(a){for(let c of i)zd(a,c);return a.values[s]=l(a),1},update(a,c){if(!$x(a,o))return 0;let u=l(a);return e.compare(u,a.values[s])?0:(a.values[s]=u,1)},reconfigure(a,c){let u=$x(a,i),h=c.config.facets[e.id],d=c.facet(e);if(h&&!u&&W$(t,h))return a.values[s]=d,0;let f=l(a);return e.compare(f,d)?(a.values[s]=d,0):(a.values[s]=f,1)}}}const PD=ie.define({static:!0});class Ji{constructor(e,t,i,r,o){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=o,this.provides=void 0}static define(e){let t=new Ji(F$++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(PD).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let o=i.values[t],s=this.updateF(o,r);return this.compareF(o,s)?0:(i.values[t]=s,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,PD.of({field:this,create:e})]}get extension(){return this}}const zc={lowest:4,low:3,default:2,high:1,highest:0};function zh(n){return e=>new K8(e,n)}const Xs={highest:zh(zc.highest),high:zh(zc.high),default:zh(zc.default),low:zh(zc.low),lowest:zh(zc.lowest)};class K8{constructor(e,t){this.inner=e,this.prec=t}}class Dy{of(e){return new kx(this,e)}reconfigure(e){return Dy.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class kx{constructor(e,t){this.compartment=e,this.inner=t}}class K0{constructor(e,t,i,r,o,s){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],o=Object.create(null),s=new Map;for(let d of Xle(e,t,s))d instanceof Ji?r.push(d):(o[d.facet.id]||(o[d.facet.id]=[])).push(d);let l=Object.create(null),a=[],c=[];for(let d of r)l[d.id]=c.length<<1,c.push(f=>d.slot(f));let u=i==null?void 0:i.config.facets;for(let d in o){let f=o[d],g=f[0].facet,y=u&&u[d]||[];if(f.every(v=>v.type==0))if(l[g.id]=a.length<<1|1,W$(y,f))a.push(i.facet(g));else{let v=g.combine(f.map(m=>m.value));a.push(i&&g.compare(v,i.facet(g))?i.facet(g):v)}else{for(let v of f)v.type==0?(l[v.id]=a.length<<1|1,a.push(v.value)):(l[v.id]=c.length<<1,c.push(m=>v.dynamicSlot(m)));l[g.id]=c.length<<1,c.push(v=>Ule(v,g,f))}}let h=c.map(d=>d(l));return new K0(e,s,h,l,a,o)}}function Xle(n,e,t){let i=[[],[],[],[],[]],r=new Map;function o(s,l){let a=r.get(s);if(a!=null){if(a<=l)return;let c=i[a].indexOf(s);c>-1&&i[a].splice(c,1),s instanceof kx&&t.delete(s.compartment)}if(r.set(s,l),Array.isArray(s))for(let c of s)o(c,l);else if(s instanceof kx){if(t.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(s.compartment)||s.inner;t.set(s.compartment,c),o(c,l)}else if(s instanceof K8)o(s.inner,s.prec);else if(s instanceof Ji)i[l].push(s),s.provides&&o(s.provides,l);else if(s instanceof Cm)i[l].push(s),s.facet.extensions&&o(s.facet.extensions,l);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,l)}}return o(n,zc.default),i.reduce((s,l)=>s.concat(l))}function zd(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function q0(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const q8=ie.define(),G8=ie.define({combine:n=>n.some(e=>e),static:!0}),U8=ie.define({combine:n=>n.length?n[0]:void 0,static:!0}),X8=ie.define(),Y8=ie.define(),Q8=ie.define(),J8=ie.define({combine:n=>n.length?n[0]:!1});class bc{constructor(e,t){this.type=e,this.value=t}static define(){return new Yle}}class Yle{of(e){return new bc(this,e)}}class Qle{constructor(e){this.map=e}of(e){return new yt(this,e)}}class yt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new yt(this.type,t)}is(e){return this.type==e}static define(e={}){return new Qle(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let o=r.map(t);o&&i.push(o)}return i}}yt.reconfigure=yt.define();yt.appendConfig=yt.define();class Tn{constructor(e,t,i,r,o,s){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,i&&j8(i,t.newLength),o.some(l=>l.type==Tn.time)||(this.annotations=o.concat(Tn.time.of(Date.now())))}static create(e,t,i,r,o,s){return new Tn(e,t,i,r,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Tn.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Tn.time=bc.define();Tn.userEvent=bc.define();Tn.addToHistory=bc.define();Tn.remote=bc.define();function Jle(n,e){let t=[];for(let i=0,r=0;;){let o,s;if(i<n.length&&(r==e.length||e[r]>=n[i]))o=n[i++],s=n[i++];else if(r<e.length)o=e[r++],s=e[r++];else return t;!t.length||t[t.length-1]<o?t.push(o,s):t[t.length-1]<s&&(t[t.length-1]=s)}}function Z8(n,e,t){var i;let r,o,s;return t?(r=e.changes,o=en.empty(e.changes.length),s=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),s=n.changes.compose(r)),{changes:s,selection:e.selection?e.selection.map(o):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:yt.mapEffects(n.effects,r).concat(yt.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Ox(n,e,t){let i=e.selection,r=Su(e.annotations);return e.userEvent&&(r=r.concat(Tn.userEvent.of(e.userEvent))),{changes:e.changes instanceof en?e.changes:en.of(e.changes||[],t,n.facet(U8)),selection:i&&(i instanceof W?i:W.single(i.anchor,i.head)),effects:Su(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function e4(n,e,t){let i=Ox(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let s=!!e[o].sequential;i=Z8(i,Ox(n,e[o],s?i.changes.newLength:n.doc.length),s)}let r=Tn.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return eae(t?Zle(r):r)}function Zle(n){let e=n.startState,t=!0;for(let r of e.facet(X8)){let o=r(n);if(o===!1){t=!1;break}Array.isArray(o)&&(t=t===!0?o:Jle(t,o))}if(t!==!0){let r,o;if(t===!1)o=n.changes.invertedDesc,r=en.empty(e.doc.length);else{let s=n.changes.filter(t);r=s.changes,o=s.filtered.invertedDesc}n=Tn.create(e,r,n.selection&&n.selection.map(o),yt.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let i=e.facet(Y8);for(let r=i.length-1;r>=0;r--){let o=i[r](n);o instanceof Tn?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Tn?n=o[0]:n=e4(e,Su(o),!1)}return n}function eae(n){let e=n.startState,t=e.facet(Q8),i=n;for(let r=t.length-1;r>=0;r--){let o=t[r](n);o&&Object.keys(o).length&&(i=Z8(n,Ox(e,o,n.changes.newLength),!0))}return i==n?n:Tn.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const tae=[];function Su(n){return n==null?tae:Array.isArray(n)?n:[n]}var ci=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(ci||(ci={}));const nae=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Ax;try{Ax=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function iae(n){if(Ax)return Ax.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||nae.test(t)))return!0}return!1}function rae(n){return e=>{if(!/\S/.test(e))return ci.Space;if(iae(e))return ci.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return ci.Word;return ci.Other}}class rt{constructor(e,t,i,r,o,s){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)zd(this,l<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return zd(this,i),q0(this,i)}update(...e){return e4(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let s of e.effects)s.is(Dy.reconfigure)?(t&&(r=new Map,t.compartments.forEach((l,a)=>r.set(a,l)),t=null),r.set(s.value.compartment,s.value.extension)):s.is(yt.reconfigure)?(t=null,i=s.value):s.is(yt.appendConfig)&&(t=null,i=Su(i).concat(s.value));let o;t?o=e.startState.values.slice():(t=K0.resolve(i,r,this),o=new rt(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,a)=>a.reconfigure(l,this),null).values),new rt(t,e.newDoc,e.newSelection,o,(s,l)=>l.update(s,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:W.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),o=[i.range],s=Su(i.effects);for(let l=1;l<t.ranges.length;l++){let a=e(t.ranges[l]),c=this.changes(a.changes),u=c.map(r);for(let d=0;d<l;d++)o[d]=o[d].map(u);let h=r.mapDesc(c,!0);o.push(a.range.map(h)),r=r.compose(u),s=yt.mapEffects(s,u).concat(yt.mapEffects(Su(a.effects),h))}return{changes:r,selection:W.create(o,t.mainIndex),effects:s}}changes(e=[]){return e instanceof en?e:en.of(e,this.doc.length,this.facet(rt.lineSeparator))}toText(e){return Ve.of(e.split(this.facet(rt.lineSeparator)||Cx))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(zd(this,t),q0(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof Ji&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i)for(let o in i){let s=i[o],l=e[o];r.push(s.init(a=>s.spec.fromJSON(l,a)))}return rt.create({doc:e.doc,selection:W.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=K0.resolve(e.extensions||[],new Map),i=e.doc instanceof Ve?e.doc:Ve.of((e.doc||"").split(t.staticFacet(rt.lineSeparator)||Cx)),r=e.selection?e.selection instanceof W?e.selection:W.single(e.selection.anchor,e.selection.head):W.single(0);return j8(r,i.length),t.staticFacet(G8)||(r=r.asSingle()),new rt(t,i,r,t.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(rt.tabSize)}get lineBreak(){return this.facet(rt.lineSeparator)||`
`}get readOnly(){return this.facet(J8)}phrase(e,...t){for(let i of this.facet(rt.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let o=+(r||1);return o>t.length?i:t[o-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let o of this.facet(q8))for(let s of o(this,t,i))Object.prototype.hasOwnProperty.call(s,e)&&r.push(s[e]);return r}charCategorizer(e){return rae(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-i,l=e-i;for(;s>0;){let a=Tt(t,s,!1);if(o(t.slice(a,s))!=ci.Word)break;s=a}for(;l<r;){let a=Tt(t,l);if(o(t.slice(l,a))!=ci.Word)break;l=a}return s==l?null:W.range(s+i,l+i)}}rt.allowMultipleSelections=G8;rt.tabSize=ie.define({combine:n=>n.length?n[0]:4});rt.lineSeparator=U8;rt.readOnly=J8;rt.phrases=ie.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});rt.languageData=q8;rt.changeFilter=X8;rt.transactionFilter=Y8;rt.transactionExtender=Q8;Dy.reconfigure=yt.define();function xl(n,e,t={}){let i={};for(let r of n)for(let o of Object.keys(r)){let s=r[o],l=i[o];if(l===void 0)i[o]=s;else if(!(l===s||s===void 0))if(Object.hasOwnProperty.call(t,o))i[o]=t[o](l,s);else throw new Error("Config merge conflict for field "+o)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class Qi{eq(e){return this==e}range(e,t=e){return Rx.create(e,t,this)}}Qi.prototype.startSide=Qi.prototype.endSide=0;Qi.prototype.point=!1;Qi.prototype.mapMode=At.TrackDel;let Rx=class t4{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new t4(e,t,i)}};function Dx(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class _${constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let o=i?this.to:this.from;for(let s=r,l=o.length;;){if(s==l)return s;let a=s+l>>1,c=o[a]-e||(i?this.value[a].endSide:this.value[a].startSide)-t;if(a==s)return c>=0?s:l;c>=0?l=a:s=a+1}}between(e,t,i,r){for(let o=this.findIndex(t,-1e9,!0),s=this.findIndex(i,1e9,!1,o);o<s;o++)if(r(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let i=[],r=[],o=[],s=-1,l=-1;for(let a=0;a<this.value.length;a++){let c=this.value[a],u=this.from[a]+e,h=this.to[a]+e,d,f;if(u==h){let g=t.mapPos(u,c.startSide,c.mapMode);if(g==null||(d=f=g,c.startSide!=c.endSide&&(f=t.mapPos(u,c.endSide),f<d)))continue}else if(d=t.mapPos(u,c.startSide),f=t.mapPos(h,c.endSide),d>f||d==f&&c.startSide>0&&c.endSide<=0)continue;(f-d||c.endSide-c.startSide)<0||(s<0&&(s=d),c.point&&(l=Math.max(l,f-d)),i.push(c),r.push(d-s),o.push(f-s))}return{mapped:i.length?new _$(r,o,i,l):null,pos:s}}}class Be{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new Be(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:o=this.length}=e,s=e.filter;if(t.length==0&&!s)return this;if(i&&(t=t.slice().sort(Dx)),this.isEmpty)return t.length?Be.of(t):this;let l=new n4(this,null,-1).goto(0),a=0,c=[],u=new fa;for(;l.value||a<t.length;)if(a<t.length&&(l.from-t[a].from||l.startSide-t[a].value.startSide)>=0){let h=t[a++];u.addInner(h.from,h.to,h.value)||c.push(h)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(l.chunkIndex)<t[a].from)&&(!s||r>this.chunkEnd(l.chunkIndex)||o<this.chunkPos[l.chunkIndex])&&u.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!s||r>l.to||o<l.from||s(l.from,l.to,l.value))&&(u.addInner(l.from,l.to,l.value)||c.push(Rx.create(l.from,l.to,l.value))),l.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?Be.empty:this.nextLayer.update({add:c,filter:s,filterFrom:r,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],a=this.chunk[s],c=e.touchesRange(l,l+a.length);if(c===!1)r=Math.max(r,a.maxPoint),t.push(a),i.push(e.mapPos(l));else if(c===!0){let{mapped:u,pos:h}=a.map(l,e);u&&(r=Math.max(r,u.maxPoint),t.push(u),i.push(h))}}let o=this.nextLayer.map(e);return t.length==0?o:new Be(i,t,o||Be.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],s=this.chunk[r];if(t>=o&&e<=o+s.length&&s.between(o,e-o,t-o,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return Of.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Of.from(e).goto(t)}static compare(e,t,i,r,o=-1){let s=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),l=t.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),a=ID(s,l,i),c=new Vh(s,a,o),u=new Vh(l,a,o);i.iterGaps((h,d,f)=>ND(c,h,u,d,f,r)),i.empty&&i.length==0&&ND(c,0,u,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=1e9);let o=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),s=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let l=ID(o,s),a=new Vh(o,l,0).goto(i),c=new Vh(s,l,0).goto(i);for(;;){if(a.to!=c.to||!Tx(a.active,c.active)||a.point&&(!c.point||!a.point.eq(c.point)))return!1;if(a.to>r)return!0;a.next(),c.next()}}static spans(e,t,i,r,o=-1){let s=new Vh(e,null,o).goto(t),l=t,a=s.openStart;for(;;){let c=Math.min(s.to,i);if(s.point?(r.point(l,c,s.point,s.activeForPoint(s.to),a,s.pointRank),a=s.openEnd(c)+(s.to>c?1:0)):c>l&&(r.span(l,c,s.active,a),a=s.openEnd(c)),s.to>i)break;l=s.to,s.next()}return a}static of(e,t=!1){let i=new fa;for(let r of e instanceof Rx?[e]:t?oae(e):e)i.add(r.from,r.to,r.value);return i.finish()}}Be.empty=new Be([],[],null,-1);function oae(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(Dx(e,i)>0)return n.slice().sort(Dx);e=i}return n}Be.empty.nextLayer=Be.empty;class fa{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new _$(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new fa)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Be.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Be.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function ID(n,e,t){let i=new Map;for(let o of n)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&i.set(o.chunk[s],o.chunkPos[s]);let r=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let l=i.get(o.chunk[s]);l!=null&&(t?t.mapPos(l):l)==o.chunkPos[s]&&!(t!=null&&t.touchesRange(l,l+o.chunk[s].length))&&r.add(o.chunk[s])}return r}class n4{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Of{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=i&&r.push(new n4(s,t,i,o));return r.length==1?r[0]:new Of(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)v1(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)v1(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),v1(this.heap,0)}}}function v1(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class Vh{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Of.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){yg(this.active,e),yg(this.activeTo,e),yg(this.activeRank,e),this.minActive=BD(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:o}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=o;)t++;bg(this.active,t,i),bg(this.activeTo,t,r),bg(this.activeRank,t,o),e&&bg(e,t,this.cursor.from),this.minActive=BD(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null,r=0;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>e){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),i&&yg(i,o)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.from<e&&(r=1),this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){let o=0;for(;o<i.length&&i[o]<e;)o++;this.openStart=o+r}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function ND(n,e,t,i,r,o){n.goto(e),t.goto(i);let s=i+r,l=i,a=i-e;for(;;){let c=n.to+a-t.to||n.endSide-t.endSide,u=c<0?n.to+a:t.to,h=Math.min(u,s);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Tx(n.activeForPoint(n.to+a),t.activeForPoint(t.to))||o.comparePoint(l,h,n.point,t.point):h>l&&!Tx(n.active,t.active)&&o.compareRange(l,h,n.active,t.active),u>s)break;l=u,c<=0&&n.next(),c>=0&&t.next()}}function Tx(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function yg(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function bg(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function BD(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function Mp(n,e,t=n.length){let i=0;for(let r=0;r<t;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=Tt(n,r));return i}function pa(n,e,t,i){for(let r=0,o=0;;){if(o>=e)return r;if(r==n.length)break;o+=n.charCodeAt(r)==9?t-o%t:1,r=Tt(n,r)}return i===!0?-1:n.length}const Px="",LD=typeof Symbol>"u"?"__"+Px:Symbol.for(Px),Ix=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),HD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class It{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,l,a,c){let u=[],h=/^@(\w+)\b/.exec(s[0]),d=h&&h[1]=="keyframes";if(h&&l==null)return a.push(s[0]+";");for(let f in l){let g=l[f];if(/&/.test(f))o(f.split(/,\s*/).map(y=>s.map(v=>y.replace(/&/,v))).reduce((y,v)=>y.concat(v)),g,a);else if(g&&typeof g=="object"){if(!h)throw new RangeError("The value of a property ("+f+") should be a primitive value.");o(r(f),g,u,d)}else g!=null&&u.push(f.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+g+";")}(u.length||d)&&a.push((i&&!h&&!c?s.map(i):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in e)o(r(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=HD[LD]||1;return HD[LD]=e+1,Px+e.toString(36)}static mount(e,t,i){let r=e[Ix],o=i&&i.nonce;r?o&&r.setNonce(o):r=new sae(e,o),r.mount(Array.isArray(t)?t:[t],e)}}let zD=new Map;class sae{constructor(e,t){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let o=zD.get(i);if(o)return e[Ix]=o;this.sheet=new r.CSSStyleSheet,zD.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[Ix]=this}mount(e,t){let i=this.sheet,r=0,o=0;for(let s=0;s<e.length;s++){let l=e[s],a=this.modules.indexOf(l);if(a<o&&a>-1&&(this.modules.splice(a,1),o--,a=-1),a==-1){if(this.modules.splice(o++,0,l),i)for(let c=0;c<l.rules.length;c++)i.insertRule(l.rules[c],r++)}else{for(;o<a;)r+=this.modules[o++].rules.length;r+=l.rules.length,o++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let s="";for(let a=0;a<this.modules.length;a++)s+=this.modules[a].getRules()+`
`;this.styleTag.textContent=s;let l=t.head||t;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var js={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},G0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},lae=typeof navigator<"u"&&/Mac/.test(navigator.platform),aae=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Wi=0;Wi<10;Wi++)js[48+Wi]=js[96+Wi]=String(Wi);for(var Wi=1;Wi<=24;Wi++)js[Wi+111]="F"+Wi;for(var Wi=65;Wi<=90;Wi++)js[Wi]=String.fromCharCode(Wi+32),G0[Wi]=String.fromCharCode(Wi);for(var y1 in js)G0.hasOwnProperty(y1)||(G0[y1]=js[y1]);function j$(n){var e=lae&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||aae&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?G0:js)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function U0(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Xu(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function cae(){let n=document.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function Nx(n,e){if(!e.anchorNode)return!1;try{return Xu(n,e.anchorNode)}catch{return!1}}function Af(n){return n.nodeType==3?Rf(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function X0(n,e,t,i){return t?VD(n,e,t,i,-1)||VD(n,e,t,i,1):!1}function Bx(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function VD(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:Y0(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=Bx(n)+(r<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?Y0(n):0}else return!1}}function Y0(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}const i4={left:0,right:0,top:0,bottom:0};function Ty(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function uae(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function hae(n,e,t,i,r,o,s,l){let a=n.ownerDocument,c=a.defaultView;for(let u=n;u;)if(u.nodeType==1){let h,d=u==a.body;if(d)h=uae(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.parentNode;continue}let y=u.getBoundingClientRect();h={left:y.left,right:y.left+u.clientWidth,top:y.top,bottom:y.top+u.clientHeight}}let f=0,g=0;if(r=="nearest")e.top<h.top?(g=-(h.top-e.top+s),t>0&&e.bottom>h.bottom+g&&(g=e.bottom-h.bottom+g+s)):e.bottom>h.bottom&&(g=e.bottom-h.bottom+s,t<0&&e.top-g<h.top&&(g=-(h.top+g-e.top+s)));else{let y=e.bottom-e.top,v=h.bottom-h.top;g=(r=="center"&&y<=v?e.top+y/2-v/2:r=="start"||r=="center"&&t<0?e.top-s:e.bottom-v+s)-h.top}if(i=="nearest"?e.left<h.left?(f=-(h.left-e.left+o),t>0&&e.right>h.right+f&&(f=e.right-h.right+f+o)):e.right>h.right&&(f=e.right-h.right+o,t<0&&e.left<h.left+f&&(f=-(h.left+f-e.left+o))):f=(i=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:i=="start"==l?e.left-o:e.right-(h.right-h.left)+o)-h.left,f||g)if(d)c.scrollBy(f,g);else{if(g){let y=u.scrollTop;u.scrollTop+=g,g=u.scrollTop-y}if(f){let y=u.scrollLeft;u.scrollLeft+=f,f=u.scrollLeft-y}e={left:e.left-f,top:e.top-g,right:e.right-f,bottom:e.bottom-g}}if(d)break;u=u.assignedSlot||u.parentNode,i=r="nearest"}else if(u.nodeType==11)u=u.host;else break}let dae=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}},Tc=null;function r4(n){if(n.setActive)return n.setActive();if(Tc)return n.focus(Tc);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Tc==null?{get preventScroll(){return Tc={preventScroll:!0},!0}}:void 0),!Tc){Tc=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],o=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=o&&(i.scrollLeft=o)}}}let FD;function Rf(n,e,t=e){let i=FD||(FD=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Vd(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function fae(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function o4(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}let Ar=class Lx{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Lx(e.parentNode,Bx(e),t)}static after(e,t){return new Lx(e.parentNode,Bx(e)+1,t)}};const K$=[];let xi=class Hx{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(this.dirty&2){let t=this.dom,i=null,r;for(let o of this.children){if(o.dirty){if(!o.dom&&(r=i?i.nextSibling:t.firstChild)){let s=Hx.get(r);(!s||!s.parent&&s.constructor==o.constructor)&&o.reuseDOM(r)}o.sync(e),o.dirty=0}if(r=i?i.nextSibling:t.firstChild,e&&!e.written&&e.node==t&&r!=o.dom&&(e.written=!0),o.dom.parentNode==t)for(;r&&r!=o.dom;)r=WD(r);else t.insertBefore(o.dom,r);i=o.dom}for(r=i?i.nextSibling:t.firstChild,r&&e&&e.node==t&&(e.written=!0);r;)r=WD(r)}else if(this.dirty&1)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=Y0(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;r==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?r=-1:r=1),e=o}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Hx.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,o=0;;r++){let s=this.children[r];if(s.dom==i)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,o=-1,s=-1,l=-1;for(let a=0,c=i,u=i;a<this.children.length;a++){let h=this.children[a],d=c+h.length;if(c<e&&d>t)return h.domBoundsAround(e,t,c);if(d>=e&&r==-1&&(r=a,o=c),c>t&&h.dom.parentNode==this.dom){s=a,l=u;break}u=d,c=d+h.breakAfter}return{from:o,to:l<0?i+this.length:l,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=K$){this.markDirty();for(let r=e;r<t;r++){let o=this.children[r];o.parent==this&&o.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new s4(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,i,r,o,s){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}};xi.prototype.breakAfter=0;function WD(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}let s4=class{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}};function l4(n,e,t,i,r,o,s,l,a){let{children:c}=n,u=c.length?c[e]:null,h=o.length?o[o.length-1]:null,d=h?h.breakAfter:s;if(!(e==i&&u&&!s&&!d&&o.length<2&&u.merge(t,r,o.length?h:null,t==0,l,a))){if(i<c.length){let f=c[i];f&&r<f.length?(e==i&&(f=f.split(r),r=0),!d&&h&&f.merge(0,r,h,!0,0,a)?o[o.length-1]=f:(r&&f.merge(0,r,null,!1,0,a),o.push(f))):f!=null&&f.breakAfter&&(h?h.breakAfter=1:s=1),i++}for(u&&(u.breakAfter=s,t>0&&(!s&&o.length&&u.merge(t,u.length,o[0],!1,l,0)?u.breakAfter=o.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,l,0),e++));e<i&&o.length;)if(c[i-1].become(o[o.length-1]))i--,o.pop(),a=o.length?0:l;else if(c[e].become(o[0]))e++,o.shift(),l=o.length?0:a;else break;!o.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,l,a)&&e--,(e<i||o.length)&&n.replaceChildren(e,i,o)}}function a4(n,e,t,i,r,o){let s=n.childCursor(),{i:l,off:a}=s.findPos(t,1),{i:c,off:u}=s.findPos(e,-1),h=e-t;for(let d of i)h+=d.length;n.length+=h,l4(n,c,u,l,a,i,0,r,o)}let Ur=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},zx=typeof document<"u"?document:{documentElement:{style:{}}};const Vx=/Edge\/(\d+)/.exec(Ur.userAgent),c4=/MSIE \d/.test(Ur.userAgent),Fx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ur.userAgent),Py=!!(c4||Fx||Vx),_D=!Py&&/gecko\/(\d+)/i.test(Ur.userAgent),b1=!Py&&/Chrome\/(\d+)/.exec(Ur.userAgent),jD="webkitFontSmoothing"in zx.documentElement.style,u4=!Py&&/Apple Computer/.test(Ur.vendor),KD=u4&&(/Mobile\/\w+/.test(Ur.userAgent)||Ur.maxTouchPoints>2);var ct={mac:KD||/Mac/.test(Ur.platform),windows:/Win/.test(Ur.platform),linux:/Linux|X11/.test(Ur.platform),ie:Py,ie_version:c4?zx.documentMode||6:Fx?+Fx[1]:Vx?+Vx[1]:0,gecko:_D,gecko_version:_D?+(/Firefox\/(\d+)/.exec(Ur.userAgent)||[0,0])[1]:0,chrome:!!b1,chrome_version:b1?+b1[1]:0,ios:KD,android:/Android\b/.test(Ur.userAgent),webkit:jD,safari:u4,webkit_version:jD?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:zx.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const pae=256;let Df=class Wx extends xi{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return i&&(!(i instanceof Wx)||this.length-(t-e)+i.length>pae)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Wx(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Ar(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return jx(this.dom,e,t)}},oc=class _x extends xi{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(o4(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,i,r,o,s){return i&&(!(i instanceof _x&&i.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0)?!1:(a4(this,e,t,i?i.children:[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,o=0;for(let l of this.children){let a=i+l.length;a>e&&t.push(i<e?l.split(e-i):l),r<0&&i>=e&&(r=o),i=a,o++}let s=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new _x(this.mark,t,s)}domAtPos(e){return f4(this.dom,this.children,e)}coordsAt(e,t){return g4(this,e,t)}};function jx(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,o=e,s=0;e==0&&t<0||e==i&&t>=0?ct.chrome||ct.gecko||(e?(r--,s=1):o<i&&(o++,s=-1)):t<0?r--:o<i&&o++;let l=Rf(n,r,o).getClientRects();if(!l.length)return i4;let a=l[(s?s<0:t>=0)?0:l.length-1];return ct.safari&&!s&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),s?Ty(a,s<0):a||null}let q$=class Yh extends xi{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||Yh)(e,t,i)}split(e){let t=Yh.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,o,s){return i&&(!(i instanceof Yh)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof Yh&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ve.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):Ve.empty}domAtPos(e){return e==0?Ar.before(this.dom):Ar.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.dom.getClientRects(),r=null;if(!i.length)return i4;for(let o=e>0?i.length-1:0;r=i[o],!(e>0?o==0:o==i.length-1||r.top<r.bottom);o+=e>0?-1:1);return e==0&&t>0||e==this.length&&t<=0?r:Ty(r,e==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},h4=class extends q${domAtPos(e){let{topView:t,text:i}=this.widget;return t?Kx(e,0,t,i,(r,o)=>r.domAtPos(o),r=>new Ar(i,Math.min(r,i.nodeValue.length))):new Ar(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:r}=this.widget;return i?d4(e,t,i,r):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:r}=this.widget;return i?Kx(e,t,i,r,(o,s,l)=>o.coordsAt(s,l),(o,s)=>jx(r,o,s)):jx(r,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}};function Kx(n,e,t,i,r,o){if(t instanceof oc){for(let s of t.children){let l=Xu(s.dom,i),a=l?i.nodeValue.length:s.length;if(n<a||n==a&&s.getSide()<=0)return l?Kx(n,e,s,i,r,o):r(s,n,e);n-=a}return r(t,t.length,-1)}else return t.dom==i?o(n,e):r(t,n,e)}function d4(n,e,t,i){if(t instanceof oc)for(let r of t.children){let o=0,s=Xu(r.dom,i);if(Xu(r.dom,n))return o+(s?d4(n,e,r,i):r.localPosFromDOM(n,e));o+=s?i.nodeValue.length:r.length}else if(t.dom==i)return Math.min(e,i.nodeValue.length);return t.localPosFromDOM(n,e)}let qx=class Gx extends xi{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Gx&&e.side==this.side}split(){return new Gx(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Ar.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),i=gae(this,this.side>0?-1:1);return i&&i.top<t.bottom&&i.bottom>t.top?{left:t.left,right:t.right,top:i.top,bottom:i.bottom}:t}get overrideDOMText(){return Ve.empty}};Df.prototype.children=q$.prototype.children=qx.prototype.children=K$;function gae(n,e){let t=n.parent,i=t?t.children.indexOf(n):-1;for(;t&&i>=0;)if(e<0?i>0:i<t.children.length){let r=t.children[i+e];if(r instanceof Df){let o=r.coordsAt(e<0?r.length:0,e);if(o)return o}i+=e}else if(t instanceof oc&&t.parent)i=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent;else{let r=t.dom.lastChild;if(r&&r.nodeName=="BR")return r.getClientRects()[0];break}}function f4(n,e,t){let i=0;for(let r=0;i<e.length;i++){let o=e[i],s=r+o.length;if(!(s==r&&o.getSide()<=0)){if(t>r&&t<s&&o.dom.parentNode==n)return o.domAtPos(t-r);if(t<=r)break;r=s}}for(;i>0;i--){let r=e[i-1].dom;if(r.parentNode==n)return Ar.after(r)}return new Ar(n,0)}function p4(n,e,t){let i,{children:r}=n;t>0&&e instanceof oc&&r.length&&(i=r[r.length-1])instanceof oc&&i.mark.eq(e.mark)?p4(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function g4(n,e,t){for(let o=0,s=0;s<n.children.length;s++){let l=n.children[s],a=o+l.length,c;if((t<=0||a==n.length||l.getSide()>0?a>=e:a>e)&&(e<a||s+1==n.children.length||(c=n.children[s+1]).length||c.getSide()>0)){let u=0;if(a==o){if(l.getSide()<=0)continue;u=t=-l.getSide()}let h=l.coordsAt(Math.max(0,e-o),t);return u&&h?Ty(h,t<0):h}o=a}let i=n.dom.lastChild;if(!i)return n.dom.getBoundingClientRect();let r=Af(i);return r[r.length-1]||null}function Ux(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function G$(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r of t)if(i.indexOf(r)==-1||n[r]!==e[r])return!1;return!0}function Xx(n,e,t){let i=null;if(e)for(let r in e)t&&r in t||n.removeAttribute(i=r);if(t)for(let r in t)e&&e[r]==t[r]||n.setAttribute(i=r,t[r]);return!!i}let Ch=class{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}};var hn=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(hn||(hn={}));let Fn=class extends Qi{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new m4(e)}static widget(e){let t=e.side||0,i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new Tf(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:o,end:s}=S4(e,t);i=(o?t?-3e8:-1:5e8)-1,r=(s?t?2e8:1:-6e8)+1}return new Tf(e,i,r,t,e.widget||null,!0)}static line(e){return new U$(e)}static set(e,t=!1){return Be.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};Fn.none=Be.empty;let m4=class v4 extends Fn{constructor(e){let{start:t,end:i}=S4(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof v4&&this.tagName==e.tagName&&this.class==e.class&&G$(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}};m4.prototype.point=!1;let U$=class y4 extends Fn{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof y4&&G$(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}};U$.prototype.mapMode=At.TrackBefore;U$.prototype.point=!0;let Tf=class b4 extends Fn{constructor(e,t,i,r,o,s){super(t,i,o,e),this.block=r,this.isReplace=s,this.mapMode=r?t<=0?At.TrackBefore:At.TrackAfter:At.TrackDel}get type(){return this.startSide<this.endSide?hn.WidgetRange:this.startSide<=0?hn.WidgetBefore:hn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof b4&&mae(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}};Tf.prototype.point=!0;function S4(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function mae(n,e){return n==e||!!(n&&e&&n.compare(e))}function Yx(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}let Ko=class Em extends xi{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,o,s){if(i){if(!(i instanceof Em))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),a4(this,e,t,i?i.children:[],o,s),!0}split(e){let t=new Em;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let o=i;o<this.children.length;o++)t.append(this.children[o],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){G$(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){p4(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=Ux(t,this.attrs||{})),i&&(this.attrs=Ux({class:i},this.attrs||{}))}domAtPos(e){return f4(this.dom,this.children,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?this.dirty&4&&(o4(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Xx(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let i=this.dom.lastChild;for(;i&&xi.get(i)instanceof oc;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((t=xi.get(i))===null||t===void 0?void 0:t.isEditable)==!1&&(!ct.ios||!this.children.some(r=>r instanceof Df))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof Df))return null;let i=Af(t.dom);if(i.length!=1)return null;e+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return g4(this,e,t)}become(e){return!1}get type(){return hn.Text}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let o=e.children[i],s=r+o.length;if(s>=t){if(o instanceof Em)return o;if(s>t)break}r=s+o.breakAfter}return null}},Qx=class Mm extends xi{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,o,s){return i&&(!(i instanceof Mm)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Ar.before(this.dom):Ar.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Mm(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return K$}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ve.empty}domBoundsAround(){return null}become(e){return e instanceof Mm&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},vae=class w4{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Qx&&e.type==hn.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ko),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(Sg(new qx(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}else this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,i)),this.getLine().append(Sg(new Df(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,o,s){if(this.disallowBlockEffectsFor[s]&&i instanceof Tf){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(i instanceof Tf)if(i.block){let{type:a}=i;a==hn.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Qx(i.widget||new qD("div"),l,a))}else{let a=q$.create(i.widget||new qD("span"),l,i.startSide),c=this.atCursorPos&&!a.isEditable&&o<=r.length&&(e<t||i.startSide>0),u=!a.isEditable&&(e<t||i.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(h.append(Sg(new qx(1),r),o),o=r.length+Math.max(0,o-r.length)),h.append(Sg(a,r),o),this.atCursorPos=u,this.pendingBuffer=u?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,i,r,o){let s=new w4(e,t,i,o);return s.openEnd=Be.spans(r,t,i,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}};function Sg(n,e){for(let t of e)n=new oc(t,[n],n.length);return n}let qD=class extends Ch{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}};const x4=ie.define(),C4=ie.define(),E4=ie.define(),M4=ie.define(),Jx=ie.define(),$4=ie.define(),k4=ie.define({combine:n=>n.some(e=>e)});let GD=class O4{constructor(e,t="nearest",i="nearest",r=5,o=5){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=o}map(e){return e.empty?this:new O4(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}};const UD=yt.define({map:(n,e)=>n.map(e)});function ja(n,e,t){let i=n.facet(M4);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const $p=ie.define({combine:n=>n.length?n[0]:!0});let yae=0;const Qh=ie.define();let Sc=class Zx{constructor(e,t,i,r){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=r(this)}static define(e,t){const{eventHandlers:i,provide:r,decorations:o}=t||{};return new Zx(yae++,e,i,s=>{let l=[Qh.of(s)];return o&&l.push(Pf.of(a=>{let c=a.plugin(s);return c?o(c):Fn.none})),r&&l.push(r(s)),l})}static fromClass(e,t){return Zx.define(i=>new e(i),t)}},S1=class{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(ja(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){ja(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){ja(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}};const A4=ie.define(),R4=ie.define(),Pf=ie.define(),D4=ie.define(),T4=ie.define(),Jh=ie.define();let If=class $m{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new $m(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,o=0,s=0,l=0;;r++){let a=r==e.length?null:e[r],c=s-l,u=a?a.fromB:1e9;for(;o<t.length&&t[o]<u;){let h=t[o],d=t[o+1],f=Math.max(l,h),g=Math.min(u,d);if(f<=g&&new $m(f+c,g+c,f,g).addToSet(i),d>u)break;o+=2}if(!a)return i;new $m(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),s=a.toA,l=a.toB}}},XD=class P4{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=en.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,l,a,c)=>r.push(new If(s,l,a,c))),this.changedRanges=r;let o=e.hasFocus;o!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=o,this.flags|=1)}static create(e,t,i){return new P4(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}};var mi=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(mi||(mi={}));const eC=mi.LTR,bae=mi.RTL;function I4(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const Sae=I4("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),wae=I4("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),tC=Object.create(null),us=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);tC[e]=t,tC[t]=-e}function xae(n){return n<=247?Sae[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?wae[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203||n==8204?256:1}const Cae=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;let wu=class{constructor(e,t,i){this.from=e,this.to=t,this.level=i}get dir(){return this.level%2?bae:eC}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let o=-1;for(let s=0;s<e.length;s++){let l=e[s];if(l.from<=t&&l.to>=t){if(l.level==i)return s;(o<0||(r!=0?r<0?l.from<t:l.to>t:e[o].level>l.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}};const In=[];function Eae(n,e){let t=n.length,i=e==eC?1:2,r=e==eC?2:1;if(!n||i==1&&!Cae.test(n))return N4(t);for(let s=0,l=i,a=i;s<t;s++){let c=xae(n.charCodeAt(s));c==512?c=l:c==8&&a==4&&(c=16),In[s]=c==4?2:c,c&7&&(a=c),l=c}for(let s=0,l=i,a=i;s<t;s++){let c=In[s];if(c==128)s<t-1&&l==In[s+1]&&l&24?c=In[s]=l:In[s]=256;else if(c==64){let u=s+1;for(;u<t&&In[u]==64;)u++;let h=s&&l==8||u<t&&In[u]==8?a==1?1:8:256;for(let d=s;d<u;d++)In[d]=h;s=u-1}else c==8&&a==1&&(In[s]=1);l=c,c&7&&(a=c)}for(let s=0,l=0,a=0,c,u,h;s<t;s++)if(u=tC[c=n.charCodeAt(s)])if(u<0){for(let d=l-3;d>=0;d-=3)if(us[d+1]==-u){let f=us[d+2],g=f&2?i:f&4?f&1?r:i:0;g&&(In[s]=In[us[d]]=g),l=d;break}}else{if(us.length==189)break;us[l++]=s,us[l++]=c,us[l++]=a}else if((h=In[s])==2||h==1){let d=h==i;a=d?0:1;for(let f=l-3;f>=0;f-=3){let g=us[f+2];if(g&2)break;if(d)us[f+2]|=2;else{if(g&4)break;us[f+2]|=4}}}for(let s=0;s<t;s++)if(In[s]==256){let l=s+1;for(;l<t&&In[l]==256;)l++;let a=(s?In[s-1]:i)==1,c=(l<t?In[l]:i)==1,u=a==c?a?1:2:i;for(let h=s;h<l;h++)In[h]=u;s=l-1}let o=[];if(i==1)for(let s=0;s<t;){let l=s,a=In[s++]!=1;for(;s<t&&a==(In[s]!=1);)s++;if(a)for(let c=s;c>l;){let u=c,h=In[--c]!=2;for(;c>l&&h==(In[c-1]!=2);)c--;o.push(new wu(c,u,h?2:1))}else o.push(new wu(l,s,0))}else for(let s=0;s<t;){let l=s,a=In[s++]==2;for(;s<t&&a==(In[s]==2);)s++;o.push(new wu(l,s,a?1:2))}return o}function N4(n){return[new wu(0,n,0)]}let B4="";function Mae(n,e,t,i,r){var o;let s=i.head-n.from,l=-1;if(s==0){if(!r||!n.length)return null;e[0].level!=t&&(s=e[0].side(!1,t),l=0)}else if(s==n.length){if(r)return null;let d=e[e.length-1];d.level!=t&&(s=d.side(!0,t),l=e.length-1)}l<0&&(l=wu.find(e,s,(o=i.bidiLevel)!==null&&o!==void 0?o:-1,i.assoc));let a=e[l];s==a.side(r,t)&&(a=e[l+=r?1:-1],s=a.side(!r,t));let c=r==(a.dir==t),u=Tt(n.text,s,c);if(B4=n.text.slice(Math.min(s,u),Math.max(s,u)),u!=a.side(r,t))return W.cursor(u+n.from,c?-1:1,a.level);let h=l==(r?e.length-1:0)?null:e[l+(r?1:-1)];return!h&&a.level!=t?W.cursor(r?n.to:n.from,r?-1:1,t):h&&h.level<a.level?W.cursor(h.side(!r,t)+n.from,r?1:-1,h.level):W.cursor(u+n.from,r?-1:1,a.level)}const jl="";let L4=class{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(rt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=jl}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r),this.readNode(r);let o=r.nextSibling;if(o==t)break;let s=xi.get(r),l=xi.get(o);(s&&l?s.breakAfter:(s?s.breakAfter:YD(r))||YD(o)&&(r.nodeName!="BR"||r.cmIgnore))&&this.lineBreak(),r=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,l;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,i),s=this.lineSeparator.length):(l=r.exec(t))&&(o=l.index,s=l[0].length),this.append(t.slice(i,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=s-1);i=o+s}}readNode(e){if(e.cmIgnore)return;let t=xi.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}};function YD(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}let QD=class{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}},JD=class extends xi{constructor(e){super(),this.view=e,this.compositionDeco=Fn.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Ko],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new If(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:s,toA:l})=>l<this.minWidthFrom||s>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Fn.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=kae(this.view,e.changes)),(ct.ie||ct.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,r=this.updateDeco(),o=Dae(i,r,e.changes);return t=If.extendWithRanges(t,o),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=ct.chrome||ct.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(o),this.dirty=0,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Qx&&o.widget instanceof ZD&&r.push(o.dom);i.updateGaps(r)}updateChildren(e,t){let i=this.childCursor(t);for(let r=e.length-1;;r--){let o=r>=0?e[r]:null;if(!o)break;let{fromA:s,toA:l,fromB:a,toB:c}=o,{content:u,breakAtStart:h,openStart:d,openEnd:f}=vae.build(this.view.state.doc,a,c,this.decorations,this.dynamicDecorationMap),{i:g,off:y}=i.findPos(l,1),{i:v,off:m}=i.findPos(s,-1);l4(this,v,m,g,y,u,h,d,f)}}updateSelection(e=!1,t=!1){if(e&&this.view.observer.readSelectionRange(),!(t||this.mayControlSelection())||ct.ios&&this.view.inputState.rapidCompositionStart)return;let i=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,o=this.domAtPos(r.anchor),s=r.empty?o:this.domAtPos(r.head);if(ct.gecko&&r.empty&&$ae(o)){let a=document.createTextNode("");this.view.observer.ignore(()=>o.node.insertBefore(a,o.node.childNodes[o.offset]||null)),o=s=new Ar(a,0),i=!0}let l=this.view.observer.selectionRange;(i||!l.focusNode||!X0(o.node,o.offset,l.anchorNode,l.anchorOffset)||!X0(s.node,s.offset,l.focusNode,l.focusOffset))&&(this.view.observer.ignore(()=>{ct.android&&ct.chrome&&this.dom.contains(l.focusNode)&&Tae(l.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=U0(this.root);if(r.empty){if(ct.gecko){let c=Aae(o.node,o.offset);if(c&&c!=3){let u=z4(o.node,o.offset,c==1?1:-1);u&&(o=new Ar(u,c==1?0:u.nodeValue.length))}}a.collapse(o.node,o.offset),r.bidiLevel!=null&&l.cursorBidiLevel!=null&&(l.cursorBidiLevel=r.bidiLevel)}else if(a.extend)a.collapse(o.node,o.offset),a.extend(s.node,s.offset);else{let c=document.createRange();r.anchor>r.head&&([o,s]=[s,o]),c.setEnd(s.node,s.offset),c.setStart(o.node,o.offset),a.removeAllRanges(),a.addRange(c)}}),this.view.observer.setSelectionRange(o,s)),this.impreciseAnchor=o.precise?null:new Ar(l.anchorNode,l.anchorOffset),this.impreciseHead=s.precise?null:new Ar(l.focusNode,l.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=U0(this.root);if(!e.empty||!e.assoc||!t.modify)return;let i=Ko.find(this,e.head);if(!i)return;let r=i.posAtStart;if(e.head==r||e.head==r+i.length)return;let o=this.coordsAt(e.head,-1),s=this.coordsAt(e.head,1);if(!o||!s||o.bottom>s.top)return;let l=this.domAtPos(e.head+e.assoc);t.collapse(l.node,l.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet($p)?this.root.activeElement==this.dom:Nx(this.dom,this.view.observer.selectionRange)}nearest(e){for(let t=e;t;){let i=xi.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof Ko)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,r=this.children.length-1;;r--){let o=this.children[r],s=i-o.breakAfter-o.length;if(e>s||e==s&&o.type!=hn.WidgetBefore&&o.type!=hn.WidgetAfter&&(!r||t==2||this.children[r-1].breakAfter||this.children[r-1].type==hn.WidgetBefore&&t>-2))return o.coordsAt(e-s,t);i=s}}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==mi.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],d=c+h.length;if(d>r)break;if(c>=i){let f=h.dom.getBoundingClientRect();if(t.push(f.height),s){let g=h.dom.lastChild,y=g?Af(g):[];if(y.length){let v=y[y.length-1],m=a?v.right-f.left:f.right-v.left;m>l&&(l=m,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?mi.RTL:mi.LTR}measureTextSize(){for(let r of this.children)if(r instanceof Ko){let o=r.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i;return e.className="cm-line",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=Af(e.firstChild)[0];t=e.getBoundingClientRect().height,i=r?r.width/27:7,e.remove()}),{lineHeight:t,charWidth:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new s4(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],s=o?o.from-1:this.length;if(s>i){let l=t.lineBlockAt(s).bottom-t.lineBlockAt(i).top;e.push(Fn.replace({widget:new ZD(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,s))}if(!o)break;i=o.to+1}return Fn.set(e)}updateDeco(){let e=this.view.state.facet(Pf).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let o=0,s=0,l=0,a=0;for(let u of this.view.state.facet(T4).map(h=>h(this.view)))if(u){let{left:h,right:d,top:f,bottom:g}=u;h!=null&&(o=Math.max(o,h)),d!=null&&(s=Math.max(s,d)),f!=null&&(l=Math.max(l,f)),g!=null&&(a=Math.max(a,g))}let c={left:i.left-o,top:i.top-l,right:i.right+s,bottom:i.bottom+a};hae(this.view.scrollDOM,c,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==mi.LTR)}};function $ae(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}let ZD=class extends Ch{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}};function H4(n){let e=n.observer.selectionRange,t=e.focusNode&&z4(e.focusNode,e.focusOffset,0);if(!t)return null;let i=n.docView.nearest(t);if(!i)return null;if(i instanceof Ko){let r=t;for(;r.parentNode!=i.dom;)r=r.parentNode;let o=r.previousSibling;for(;o&&!xi.get(o);)o=o.previousSibling;let s=o?xi.get(o).posAtEnd:i.posAtStart;return{from:s,to:s,node:r,text:t}}else{for(;;){let{parent:o}=i;if(!o)return null;if(o instanceof Ko)break;i=o}let r=i.posAtStart;return{from:r,to:r+i.length,node:i.dom,text:t}}}function kae(n,e){let t=H4(n);if(!t)return Fn.none;let{from:i,to:r,node:o,text:s}=t,l=e.mapPos(i,1),a=Math.max(l,e.mapPos(r,-1)),{state:c}=n,u=o.nodeType==3?o.nodeValue:new L4([],c).readRange(o.firstChild,null).text;if(a-l<u.length)if(c.doc.sliceString(l,Math.min(c.doc.length,l+u.length),jl)==u)a=l+u.length;else if(c.doc.sliceString(Math.max(0,a-u.length),a,jl)==u)l=a-u.length;else return Fn.none;else if(c.doc.sliceString(l,a,jl)!=u)return Fn.none;let h=xi.get(o);return h instanceof h4?h=h.widget.topView:h&&(h.parent=null),Fn.set(Fn.replace({widget:new Oae(o,s,h),inclusive:!0}).range(l,a))}let Oae=class extends Ch{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return h4}};function z4(n,e,t){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0&&t<=0)n=n.childNodes[e-1],e=Y0(n);else if(n.nodeType==1&&e<n.childNodes.length&&t>=0)n=n.childNodes[e],e=0;else return null}}function Aae(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let Rae=class{constructor(){this.changes=[]}compareRange(e,t){Yx(e,t,this.changes)}comparePoint(e,t){Yx(e,t,this.changes)}};function Dae(n,e,t){let i=new Rae;return Be.compare(n,e,t,i),i.changes}function Tae(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function Pae(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),o=e-r.from;if(r.length==0)return W.cursor(e);o==0?t=1:o==r.length&&(t=-1);let s=o,l=o;t<0?s=Tt(r.text,o,!1):l=Tt(r.text,o);let a=i(r.text.slice(s,l));for(;s>0;){let c=Tt(r.text,s,!1);if(i(r.text.slice(c,s))!=a)break;s=c}for(;l<r.length;){let c=Tt(r.text,l);if(i(r.text.slice(l,c))!=a)break;l=c}return W.range(s+r.from,l+r.from)}function Iae(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function Nae(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function w1(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function eT(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function tT(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function nC(n,e,t){let i,r,o,s,l,a,c,u;for(let f=n.firstChild;f;f=f.nextSibling){let g=Af(f);for(let y=0;y<g.length;y++){let v=g[y];r&&w1(r,v)&&(v=eT(tT(v,r.bottom),r.top));let m=Iae(e,v),b=Nae(t,v);if(m==0&&b==0)return f.nodeType==3?nT(f,e,t):nC(f,e,t);(!i||s>b||s==b&&o>m)&&(i=f,r=v,o=m,s=b),m==0?t>v.bottom&&(!c||c.bottom<v.bottom)?(l=f,c=v):t<v.top&&(!u||u.top>v.top)&&(a=f,u=v):c&&w1(c,v)?c=tT(c,v.bottom):u&&w1(u,v)&&(u=eT(u,v.top))}}if(c&&c.bottom>=t?(i=l,r=c):u&&u.top<=t&&(i=a,r=u),!i)return{node:n,offset:0};let h=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return nT(i,h,t);if(!o&&i.contentEditable=="true")return nC(i,h,t);let d=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:d}}function nT(n,e,t){let i=n.nodeValue.length,r=-1,o=1e9,s=0;for(let l=0;l<i;l++){let a=Rf(n,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let h=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<o){let d=e>=(u.left+u.right)/2,f=d;if((ct.chrome||ct.gecko)&&Rf(n,l).getBoundingClientRect().left==u.right&&(f=!d),h<=0)return{node:n,offset:l+(f?1:0)};r=l+(f?1:0),o=h}}}return{node:n,offset:r>-1?r:s>0?n.nodeValue.length:0}}function V4(n,{x:e,y:t},i,r=-1){var o;let s=n.contentDOM.getBoundingClientRect(),l=s.top+n.viewState.paddingTop,a,{docHeight:c}=n.viewState,u=t-l;if(u<0)return 0;if(u>c)return n.state.doc.length;for(let m=n.defaultLineHeight/2,b=!1;a=n.elementAtHeight(u),a.type!=hn.Text;)for(;u=r>0?a.bottom+m:a.top-m,!(u>=0&&u<=c);){if(b)return i?null:0;b=!0,r=-r}t=l+u;let h=a.from;if(h<n.viewport.from)return n.viewport.from==0?0:i?null:iT(n,s,a,e,t);if(h>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:i?null:iT(n,s,a,e,t);let d=n.dom.ownerDocument,f=n.root.elementFromPoint?n.root:d,g=f.elementFromPoint(e,t);g&&!n.contentDOM.contains(g)&&(g=null),g||(e=Math.max(s.left+1,Math.min(s.right-1,e)),g=f.elementFromPoint(e,t),g&&!n.contentDOM.contains(g)&&(g=null));let y,v=-1;if(g&&((o=n.docView.nearest(g))===null||o===void 0?void 0:o.isEditable)!=!1){if(d.caretPositionFromPoint){let m=d.caretPositionFromPoint(e,t);m&&({offsetNode:y,offset:v}=m)}else if(d.caretRangeFromPoint){let m=d.caretRangeFromPoint(e,t);m&&({startContainer:y,startOffset:v}=m,ct.safari&&Bae(y,v,e)&&(y=void 0))}}if(!y||!n.docView.dom.contains(y)){let m=Ko.find(n.docView,h);if(!m)return u>a.top+a.height/2?a.to:a.from;({node:y,offset:v}=nC(m.dom,e,t))}return n.docView.posFromDOM(y,v)}function iT(n,e,t,i,r){let o=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let l=Math.floor((r-t.top)/n.defaultLineHeight);o+=l*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+pa(s,o,n.state.tabSize)}function Bae(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return Rf(n,i-1,i).getBoundingClientRect().left>t}function Lae(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=!i||!n.lineWrapping?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(o){let a=n.dom.getBoundingClientRect(),c=n.textDirectionAt(r.from),u=n.posAtCoords({x:t==(c==mi.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(u!=null)return W.cursor(u,t?-1:1)}let s=Ko.find(n.docView,e.head),l=s?t?s.posAtEnd:s.posAtStart:t?r.to:r.from;return W.cursor(l,t?-1:1)}function rT(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=n.bidiSpans(r),s=n.textDirectionAt(r.from);for(let l=e,a=null;;){let c=Mae(r,o,s,l,t),u=B4;if(!c){if(r.number==(t?n.state.doc.lines:1))return l;u=`
`,r=n.state.doc.line(r.number+(t?1:-1)),o=n.bidiSpans(r),c=W.cursor(t?r.from:r.to)}if(a){if(!a(u))return l}else{if(!i)return c;a=i(u)}l=c}}function Hae(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return o=>{let s=i(o);return r==ci.Space&&(r=s),r==s}}function zae(n,e,t,i){let r=e.head,o=t?1:-1;if(r==(t?n.state.doc.length:0))return W.cursor(r,e.assoc);let s=e.goalColumn,l,a=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(r),u=n.documentTop;if(c)s==null&&(s=c.left-a.left),l=o<0?c.top:c.bottom;else{let f=n.viewState.lineBlockAt(r);s==null&&(s=Math.min(a.right-a.left,n.defaultCharacterWidth*(r-f.from))),l=(o<0?f.top:f.bottom)+u}let h=a.left+s,d=i??n.defaultLineHeight>>1;for(let f=0;;f+=10){let g=l+(d+f)*o,y=V4(n,{x:h,y:g},!1,o);if(g<a.top||g>a.bottom||(o<0?y<r:y>r))return W.cursor(y,e.assoc,void 0,s)}}function x1(n,e,t){let i=n.state.facet(D4).map(r=>r(n));for(;;){let r=!1;for(let o of i)o.between(t.from-1,t.from+1,(s,l,a)=>{t.from>s&&t.from<l&&(t=e.from>t.from?W.cursor(s,1):W.cursor(l,-1),r=!0)});if(!r)return t}}let Vae=class{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in Ti){let i=Ti[t];e.contentDOM.addEventListener(t,r=>{!oT(e,r)||this.ignoreDuringComposition(r)||t=="keydown"&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,r)?r.preventDefault():i(e,r))}),this.registeredEvents.push(t)}ct.chrome&&ct.chrome_version>=102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,ct.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var i;let r;this.customHandlers=[];for(let o of t)if(r=(i=o.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:r});for(let s in r)this.registeredEvents.indexOf(s)<0&&s!="scroll"&&(this.registeredEvents.push(s),e.contentDOM.addEventListener(s,l=>{oT(e,l)&&this.runCustomHandlers(s,e,l)&&l.preventDefault()}))}}runCustomHandlers(e,t,i){for(let r of this.customHandlers){let o=r.handlers[e];if(o)try{if(o.call(r.plugin,i,t)||i.defaultPrevented)return!0}catch(s){ja(t.state,s)}}return!1}runScrollHandlers(e,t){for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,t,e)}catch(o){ja(e.state,o)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(ct.android&&ct.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return ct.ios&&(i=F4.find(r=>r.keyCode==t.keyCode))&&!(t.ctrlKey||t.altKey||t.metaKey)&&!t.synthetic?(this.pendingIOSKey=i,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Vd(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ct.safari&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229||e.type=="compositionend"&&!ct.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};const F4=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],W4=[16,17,18,20,91,92,224,225];let Fae=class{constructor(e,t,i,r){this.view=e,this.style=i,this.mustSelect=r,this.lastEvent=t;let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(rt.allowMultipleSelections)&&Wae(e,t),this.dragMove=_ae(e,t),this.dragging=jae(e,t)&&X$(t)==1?null:!1,this.dragging===!1&&(t.preventDefault(),this.select(t))}move(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}};function Wae(n,e){let t=n.state.facet(x4);return t.length?t[0](e):ct.mac?e.metaKey:e.ctrlKey}function _ae(n,e){let t=n.state.facet(C4);return t.length?t[0](e):ct.mac?!e.altKey:!e.ctrlKey}function jae(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=U0(n.root);if(i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let s=r[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function oT(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=xi.get(t))&&i.ignoreEvent(e))return!1;return!0}const Ti=Object.create(null),_4=ct.ie&&ct.ie_version<15||ct.ios&&ct.webkit_version<604;function Kae(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),j4(n,t.value)},50)}function j4(n,e){let{state:t}=n,i,r=1,o=t.toText(e),s=o.lines==t.selection.ranges.length;if(iC!=null&&t.selection.ranges.every(a=>a.empty)&&iC==o.toString()){let a=-1;i=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==a)return{range:c};a=u.from;let h=t.toText((s?o.line(r++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:h},range:W.cursor(c.from+h.length)}})}else s?i=t.changeByRange(a=>{let c=o.line(r++);return{changes:{from:a.from,to:a.to,insert:c.text},range:W.cursor(a.from+c.length)}}):i=t.replaceSelection(o);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Ti.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),e.keyCode==27?n.inputState.lastEscPress=Date.now():W4.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)};let K4=0;Ti.touchstart=(n,e)=>{K4=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Ti.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Ti.mousedown=(n,e)=>{if(n.observer.flush(),K4>Date.now()-2e3&&X$(e)==1)return;let t=null;for(let i of n.state.facet(E4))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=Uae(n,e)),t){let i=n.root.activeElement!=n.contentDOM;i&&n.observer.ignore(()=>r4(n.contentDOM)),n.inputState.startMouseSelection(new Fae(n,e,t,i))}};function sT(n,e,t,i){if(i==1)return W.cursor(e,t);if(i==2)return Pae(n.state,e,t);{let r=Ko.find(n.docView,e),o=n.state.doc.lineAt(r?r.posAtEnd:e),s=r?r.posAtStart:o.from,l=r?r.posAtEnd:o.to;return l<n.state.doc.length&&l==o.to&&l++,W.range(s,l)}}let q4=(n,e)=>n>=e.top&&n<=e.bottom,lT=(n,e,t)=>q4(e,t)&&n>=t.left&&n<=t.right;function qae(n,e,t,i){let r=Ko.find(n.docView,e);if(!r)return 1;let o=e-r.posAtStart;if(o==0)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&lT(t,i,s))return-1;let l=r.coordsAt(o,1);return l&&lT(t,i,l)?1:s&&q4(i,s)?-1:1}function aT(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:qae(n,t,e.clientX,e.clientY)}}const Gae=ct.ie&&ct.ie_version<=11;let cT=null,uT=0,hT=0;function X$(n){if(!Gae)return n.detail;let e=cT,t=hT;return cT=n,hT=Date.now(),uT=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(uT+1)%3:1}function Uae(n,e){let t=aT(n,e),i=X$(e),r=n.state.selection,o=t,s=e;return{update(l){l.docChanged&&(t&&(t.pos=l.changes.mapPos(t.pos)),r=r.map(l.changes),s=null)},get(l,a,c){let u;if(s&&l.clientX==s.clientX&&l.clientY==s.clientY?u=o:(u=o=aT(n,l),s=l),!u||!t)return r;let h=sT(n,u.pos,u.bias,i);if(t.pos!=u.pos&&!a){let d=sT(n,t.pos,t.bias,i),f=Math.min(d.from,h.from),g=Math.max(d.to,h.to);h=f<h.from?W.range(f,g):W.range(g,f)}return a?r.replaceRange(r.main.extend(h.from,h.to)):c?r.addRange(h):W.create([h])}}}Ti.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function dT(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:o}=n.inputState,s=i&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,l={from:r,insert:t},a=n.state.changes(s?[s,l]:l);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(r,-1),head:a.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"})}Ti.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),r=0,o=()=>{++r==t.length&&dT(n,e,i.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(i[s]=l.result),o()},l.readAsText(t[s])}}else dT(n,e,e.dataTransfer.getData("Text"),!0)};Ti.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=_4?null:e.clipboardData;t?(j4(n,t.getData("text/plain")),e.preventDefault()):Kae(n)};function Xae(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function Yae(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>r&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),r=s.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let iC=null;Ti.copy=Ti.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=Yae(n.state);if(!t&&!r)return;iC=r?t:null;let o=_4?null:e.clipboardData;o?(e.preventDefault(),o.clearData(),o.setData("text/plain",t)):Xae(n,t),e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};function G4(n){setTimeout(()=>{n.hasFocus!=n.inputState.notifiedFocused&&n.update([])},10)}Ti.focus=G4;Ti.blur=n=>{n.observer.clearSelectionRange(),G4(n)};function U4(n,e){if(n.docView.compositionDeco.size){n.inputState.rapidCompositionStart=e;try{n.update([])}finally{n.inputState.rapidCompositionStart=!1}}}Ti.compositionstart=Ti.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0,n.docView.compositionDeco.size&&(n.observer.flush(),U4(n,!0)))};Ti.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionFirstChange=null,setTimeout(()=>{n.inputState.composing<0&&U4(n,!1)},50)};Ti.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Ti.beforeinput=(n,e)=>{var t;let i;if(ct.chrome&&ct.android&&(i=F4.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const fT=["pre-wrap","normal","pre-line","break-spaces"];let Qae=class{constructor(){this.doc=Ve.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return fT.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,o){let s=fT.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=t,this.charWidth=i,this.lineLength=r,l){this.heightSamples={};for(let a=0;a<o.length;a++){let c=o[a];c<0?a++:this.heightSamples[Math.floor(c*10)]=!0}}return l}},Jae=class{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}},iu=class X4{constructor(e,t,i,r,o){this.from=e,this.length=t,this.top=i,this.height=r,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new X4(this.from,this.length+e.length,this.top,this.height+e.height,t)}};var mn=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(mn||(mn={}));const km=.001;let Bs=class Om{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>km&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return Om.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let o=this;for(let s=r.length-1;s>=0;s--){let{fromA:l,toA:a,fromB:c,toB:u}=r[s],h=o.lineAt(l,mn.ByPosNoHeight,t,0,0),d=h.to>=a?h:o.lineAt(a,mn.ByPosNoHeight,t,0,0);for(u+=d.to-a,a=d.to;s>0&&h.from<=r[s-1].toA;)l=r[s-1].fromA,c=r[s-1].fromB,s--,l<h.from&&(h=o.lineAt(l,mn.ByPosNoHeight,t,0,0));c+=h.from-l,l=h.from;let f=tce.build(i,e,c,u);o=o.replace(l,a,f)}return o.updateHeight(i,0)}static empty(){return new ws(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,o=0;for(;;)if(t==i)if(r>o*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),i+=1+l.break,r-=l.size}else if(o>r*2){let l=e[i];l.break?e.splice(i,1,l.left,null,l.right):e.splice(i,1,l.left,l.right),i+=2+l.break,o-=l.size}else break;else if(r<o){let l=e[t++];l&&(r+=l.size)}else{let l=e[--i];l&&(o+=l.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,i++),new Zae(Om.of(e.slice(0,t)),s,Om.of(e.slice(i)))}};Bs.prototype.size=1;let Y4=class extends Bs{constructor(e,t,i){super(e,t),this.type=i}blockAt(e,t,i,r){return new iu(r,this.length,i,this.height,this.type)}lineAt(e,t,i,r,o){return this.blockAt(0,i,r,o)}forEachLine(e,t,i,r,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,i,r,o))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}},ws=class rC extends Y4{constructor(e,t){super(e,t,hn.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof rC||r instanceof xu&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof xu?r=new rC(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Bs.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},xu=class No extends Bs{constructor(e){super(e,0)}lines(e,t){let i=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:i,lastLine:r,lineHeight:this.height/(r-i+1)}}blockAt(e,t,i,r){let{firstLine:o,lastLine:s,lineHeight:l}=this.lines(t,r),a=Math.max(0,Math.min(s-o,Math.floor((e-i)/l))),{from:c,length:u}=t.line(o+a);return new iu(c,u,i+l*a,l,hn.Text)}lineAt(e,t,i,r,o){if(t==mn.ByHeight)return this.blockAt(e,i,r,o);if(t==mn.ByPosNoHeight){let{from:h,to:d}=i.lineAt(e);return new iu(h,d-h,0,0,hn.Text)}let{firstLine:s,lineHeight:l}=this.lines(i,o),{from:a,length:c,number:u}=i.lineAt(e);return new iu(a,c,r+l*(u-s),l,hn.Text)}forEachLine(e,t,i,r,o,s){let{firstLine:l,lineHeight:a}=this.lines(i,o);for(let c=Math.max(e,o),u=Math.min(o+this.length,t);c<=u;){let h=i.lineAt(c);c==e&&(r+=a*(h.number-l)),s(new iu(h.from,h.length,r,a,hn.Text)),r+=a,c=h.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let o=i[i.length-1];o instanceof No?i[i.length-1]=new No(o.length+r):i.push(null,new No(r-1))}if(e>0){let o=i[0];o instanceof No?i[0]=new No(e+o.length):i.unshift(new No(e-1),null)}return Bs.of(i)}decomposeLeft(e,t){t.push(new No(e-1),null)}decomposeRight(e,t){t.push(null,new No(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let s=[],l=Math.max(t,r.from),a=-1,c=e.heightChanged;for(r.from>t&&s.push(new No(r.from-t-1).updateHeight(e,t));l<=o&&r.more;){let h=e.doc.lineAt(l).length;s.length&&s.push(null);let d=r.heights[r.index++];a==-1?a=d:Math.abs(d-a)>=km&&(a=-2);let f=new ws(h,d);f.outdated=!1,s.push(f),l+=h+1}l<=o&&s.push(null,new No(o-l).updateHeight(e,l));let u=Bs.of(s);return e.heightChanged=c||a<0||Math.abs(u.height-this.height)>=km||Math.abs(a-this.lines(e.doc,t).lineHeight)>=km,u}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},Zae=class extends Bs{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let o=i+this.left.height;return e<o?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,i,r,o){let s=r+this.left.height,l=o+this.left.length+this.break,a=t==mn.ByHeight?e<s:e<l,c=a?this.left.lineAt(e,t,i,r,o):this.right.lineAt(e,t,i,s,l);if(this.break||(a?c.to<l:c.from>l))return c;let u=t==mn.ByPosNoHeight?mn.ByPosNoHeight:mn.ByPos;return a?c.join(this.right.lineAt(l,u,i,s,l)):this.left.lineAt(l,u,i,r,o).join(c)}forEachLine(e,t,i,r,o,s){let l=r+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,i,r,o,s),t>=a&&this.right.forEachLine(e,t,i,l,a,s);else{let c=this.lineAt(a,mn.ByPos,i,r,o);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,o,s),c.to>=e&&c.from<=t&&s(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,l,a,s)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let l of i)o.push(l);if(e>0&&pT(o,s-1),t<this.length){let l=o.length;this.decomposeRight(t,o),pT(o,l)}return Bs.of(o)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Bs.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:o,right:s}=this,l=t+o.length+this.break,a=null;return r&&r.from<=t+o.length&&r.more?a=o=o.updateHeight(e,t,i,r):o.updateHeight(e,t,i),r&&r.from<=l+s.length&&r.more?a=s=s.updateHeight(e,l,i,r):s.updateHeight(e,l,i),a?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function pT(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof xu&&(i=n[e+1])instanceof xu&&n.splice(e-1,3,new xu(t.length+1+i.length))}const ece=5;let tce=class Q4{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof ws?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new ws(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new Y4(o,r,i.type)):(o||r>=ece)&&this.addLineDeco(r,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ws(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new xu(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ws)return e;let t=new ws(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==hn.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=hn.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let i=this.ensureLine();i.length+=t,i.collapsed+=t,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof ws)&&!this.isCovered?this.nodes.push(new ws(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof ws&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let o=new Q4(i,e);return Be.spans(t,i,r,o,0),o.finish(i)}};function nce(n,e,t){let i=new ice;return Be.compare(n,e,t,i,0),i.changes}let ice=class{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&Yx(e,t,this.changes,5)}};function rce(n,e){let t=n.getBoundingClientRect(),i=Math.max(0,t.left),r=Math.min(innerWidth,t.right),o=Math.max(0,t.top),s=Math.min(innerHeight,t.bottom),l=n.ownerDocument.body;for(let a=n.parentNode;a&&a!=l;)if(a.nodeType==1){let c=a,u=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&u.overflow!="visible"){let h=c.getBoundingClientRect();i=Math.max(i,h.left),r=Math.min(r,h.right),o=Math.max(o,h.top),s=Math.min(s,h.bottom)}a=u.position=="absolute"||u.position=="fixed"?c.offsetParent:c.parentNode}else if(a.nodeType==11)a=a.host;else break;return{left:i-t.left,right:Math.max(i,r)-t.left,top:o-(t.top+e),bottom:Math.max(o,s)-(t.top+e)}}function oce(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}let C1=class{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e){return Fn.replace({widget:new sce(this.size,e)}).range(this.from,this.to)}},sce=class extends Ch{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}},gT=class{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new Qae,this.scaler=yT,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=mi.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(Pf).filter(t=>typeof t!="function"),this.heightMap=Bs.empty().applyChanges(this.stateDeco,Ve.empty,this.heightOracle.setDoc(e.doc),[new If(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Fn.set(this.lineGaps.map(t=>t.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:o,to:s})=>r>=o&&r<=s)){let{from:o,to:s}=this.lineBlockAt(r);e.push(new wg(o,s))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?yT:new cce(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Zh(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Pf).filter(c=>typeof c!="function");let r=e.changedRanges,o=If.extendWithRanges(r,nce(i,this.stateDeco,e?e.changes:en.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(e.flags|=2);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let a=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,o=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?mi.RTL:mi.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=s||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;let a=0,c=0,u=parseInt(i.paddingTop)||0,h=parseInt(i.paddingBottom)||0;(this.paddingTop!=u||this.paddingBottom!=h)&&(this.paddingTop=u,this.paddingBottom=h,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);let d=(this.printing?oce:rce)(t,this.paddingTop),f=d.top-this.pixelViewport.top,g=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView)return 0;let v=t.clientWidth;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=v,this.editorHeight=e.scrollDOM.clientHeight,a|=8),l){let b=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(b)&&(s=!0),s||r.lineWrapping&&Math.abs(v-this.contentDOMWidth)>r.charWidth){let{lineHeight:S,charWidth:w}=e.docView.measureTextSize();s=r.refresh(o,S,w,v/w,b),s&&(e.docView.minWidth=0,a|=8)}f>0&&g>0?c=Math.max(f,g):f<0&&g<0&&(c=Math.min(f,g)),r.heightChanged=!1;for(let S of this.viewports){let w=S.from==this.viewport.from?b:e.docView.measureVisibleLineHeights(S);this.heightMap=this.heightMap.updateHeight(r,0,s,new Jae(S.from,w))}r.heightChanged&&(a|=2)}let m=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(a&2||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.state.doc,{visibleTop:s,visibleBottom:l}=this,a=new wg(r.lineAt(s-i*1e3,mn.ByHeight,o,0,0).from,r.lineAt(l+(1-i)*1e3,mn.ByHeight,o,0,0).to);if(t){let{head:c}=t.range;if(c<a.from||c>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=r.lineAt(c,mn.ByPos,o,0,0),d;t.y=="center"?d=(h.top+h.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<a.from?d=h.top:d=h.bottom-u,a=new wg(r.lineAt(d-1e3/2,mn.ByHeight,o,0,0).from,r.lineAt(d+u+1e3/2,mn.ByHeight,o,0,0).to)}}return a}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new wg(this.heightMap.lineAt(i,mn.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,mn.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,mn.ByPos,this.state.doc,0,0),{bottom:o}=this.heightMap.lineAt(t,mn.ByPos,this.state.doc,0,0),{visibleTop:s,visibleBottom:l}=this;return(e==0||r<=s-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||o>=l+Math.max(10,Math.min(i,250)))&&r>s-2*1e3&&o<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new C1(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e){let t=[];if(this.defaultTextDirection!=mi.LTR)return t;for(let i of this.viewportLines){if(i.length<4e3)continue;let r=lce(i.from,i.to,this.stateDeco);if(r.total<4e3)continue;let o,s;if(this.heightOracle.lineWrapping){let c=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;o=xg(r,(this.visibleTop-i.top-c)/i.height),s=xg(r,(this.visibleBottom-i.top+c)/i.height)}else{let c=r.total*this.heightOracle.charWidth,u=2e3*this.heightOracle.charWidth;o=xg(r,(this.pixelViewport.left-u)/c),s=xg(r,(this.pixelViewport.right+u)/c)}let l=[];o>i.from&&l.push({from:i.from,to:o}),s<i.to&&l.push({from:s,to:i.to});let a=this.state.selection.main;a.from>=i.from&&a.from<=i.to&&vT(l,a.from-10,a.from+10),!a.empty&&a.to>=i.from&&a.to<=i.to&&vT(l,a.to-10,a.to+10);for(let{from:c,to:u}of l)u-c>1e3&&t.push(ace(e,h=>h.from>=i.from&&h.to<=i.to&&Math.abs(h.from-c)<1e3&&Math.abs(h.to-u)<1e3)||new C1(c,u,this.gapSize(i,c,u,r)))}return t}gapSize(e,t,i,r){let o=mT(r,i)-mT(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){C1.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Fn.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Be.spans(e,this.viewport.from,this.viewport.to,{span(r,o){t.push({from:r,to:o})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,o)=>r.from!=t[o].from||r.to!=t[o].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Zh(this.heightMap.lineAt(e,mn.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return Zh(this.heightMap.lineAt(this.scaler.fromDOM(e),mn.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return Zh(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},wg=class{constructor(e,t){this.from=e,this.to=t}};function lce(n,e,t){let i=[],r=n,o=0;return Be.spans(t,n,e,{span(){},point(s,l){s>r&&(i.push({from:r,to:s}),o+=s-r),r=l}},20),r<e&&(i.push({from:r,to:e}),o+=e-r),{total:o,ranges:i}}function xg({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:o,to:s}=e[r],l=s-o;if(i<=l)return o+i;i-=l}}function mT(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function vT(n,e,t){for(let i=0;i<n.length;i++){let r=n[i];if(r.from<t&&r.to>e){let o=[];r.from<e&&o.push({from:r.from,to:e}),r.to>t&&o.push({from:t,to:r.to}),n.splice(i,1,...o),i+=o.length-1}}}function ace(n,e){for(let t of n)if(e(t))return t}const yT={toDOM(n){return n},fromDOM(n){return n},scale:1};let cce=class{constructor(e,t,i){let r=0,o=0,s=0;this.viewports=i.map(({from:l,to:a})=>{let c=t.lineAt(l,mn.ByPos,e,0,0).top,u=t.lineAt(a,mn.ByPos,e,0,0).bottom;return r+=u-c,{from:l,to:a,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let l of this.viewports)l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-i)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);i=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return i+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);i=o.bottom,r=o.domBottom}}};function Zh(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new iu(n.from,n.length,t,i-t,Array.isArray(n.type)?n.type.map(r=>Zh(r,e)):n.type)}const Cg=ie.define({combine:n=>n.join(" ")}),oC=ie.define({combine:n=>n.indexOf(!0)>-1}),sC=It.newName(),J4=It.newName(),Z4=It.newName(),eF={"&light":"."+J4,"&dark":"."+Z4};function lC(n,e,t){return new It(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const uce=lC("."+sC,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},eF),hce={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},E1=ct.ie&&ct.ie_version<=11;let dce=class{constructor(e,t,i){this.view=e,this.onChange=t,this.onScrollChanged=i,this.active=!1,this.selectionRange=new dae,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let o of r)this.queue.push(o);(ct.ie&&ct.ie_version<=11||ct.ios&&e.composing)&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),E1&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,i=this.selectionRange;if(t.state.facet($p)?t.root.activeElement!=this.dom:!Nx(t.dom,i))return;let r=i.anchorNode&&t.docView.nearest(i.anchorNode);r&&r.ignoreEvent(e)||((ct.ie&&ct.ie_version<=11||ct.android&&ct.chrome)&&!t.state.selection.main.empty&&i.focusNode&&X0(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,t=U0(e),i=ct.safari&&e.nodeType==11&&cae()==this.view.contentDOM&&fce(this.view)||t;return this.selectionRange.eq(i)?!1:(this.selectionRange.setRange(i),this.selectionChanged=!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,hce),E1&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),E1&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame(()=>{let i=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||Vd(this.view.contentDOM,i.key,i.keyCode)}),(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let o of this.observer.takeRecords())e.push(o);e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(r=!0),t==-1?{from:t,to:i}=s:(t=Math.min(s.from,t),i=Math.max(s.to,i)))}return{from:t,to:i,typeOver:r}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:i,typeOver:r}=this.processRecords(),o=this.selectionChanged&&Nx(this.dom,this.selectionRange);if(t<0&&!o)return;this.selectionChanged=!1;let s=this.view.state,l=this.onChange(t,i,r);return this.view.state==s&&this.view.update([]),l}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let i=bT(t,e.previousSibling||e.target.previousSibling,-1),r=bT(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resize)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}};function bT(n,e,t){for(;e;){let i=xi.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function fce(n){let e=null;function t(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),document.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return X0(l.node,l.offset,o,s)&&([i,r,o,s]=[o,s,i,r]),{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:s}}function pce(n,e,t,i){let r,o,s=n.state.selection.main;if(e>-1){let l=n.docView.domBoundsAround(e,t,0);if(!l||n.state.readOnly)return!1;let{from:a,to:c}=l,u=n.docView.impreciseHead||n.docView.impreciseAnchor?[]:mce(n),h=new L4(u,n.state);h.readRange(l.startDOM,l.endDOM);let d=s.from,f=null;(n.inputState.lastKeyCode===8&&n.inputState.lastKeyTime>Date.now()-100||ct.android&&h.text.length<c-a)&&(d=s.to,f="end");let g=gce(n.state.doc.sliceString(a,c,jl),h.text,d-a,f);g&&(ct.chrome&&n.inputState.lastKeyCode==13&&g.toB==g.from+2&&h.text.slice(g.from,g.toB)==jl+jl&&g.toB--,r={from:a+g.from,to:a+g.toA,insert:Ve.of(h.text.slice(g.from,g.toB).split(jl))}),o=vce(u,a)}else if(n.hasFocus||!n.state.facet($p)){let l=n.observer.selectionRange,{impreciseHead:a,impreciseAnchor:c}=n.docView,u=a&&a.node==l.focusNode&&a.offset==l.focusOffset||!Xu(n.contentDOM,l.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(l.focusNode,l.focusOffset),h=c&&c.node==l.anchorNode&&c.offset==l.anchorOffset||!Xu(n.contentDOM,l.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(l.anchorNode,l.anchorOffset);(u!=s.head||h!=s.anchor)&&(o=W.single(h,u))}if(!r&&!o)return!1;if(!r&&i&&!s.empty&&o&&o.main.empty?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,s.to))}:(ct.mac||ct.android)&&r&&r.from==r.to&&r.from==s.head-1&&r.insert.toString()=="."&&(r={from:s.from,to:s.to,insert:Ve.of([" "])}),r){let l=n.state;if(ct.ios&&n.inputState.flushIOSKey(n)||ct.android&&(r.from==s.from&&r.to==s.to&&r.insert.length==1&&r.insert.lines==2&&Vd(n.contentDOM,"Enter",13)||r.from==s.from-1&&r.to==s.to&&r.insert.length==0&&Vd(n.contentDOM,"Backspace",8)||r.from==s.from&&r.to==s.to+1&&r.insert.length==0&&Vd(n.contentDOM,"Delete",46)))return!0;let a=r.insert.toString();if(n.state.facet($4).some(h=>h(n,r.from,r.to,a)))return!0;n.inputState.composing>=0&&n.inputState.composing++;let c;if(r.from>=s.from&&r.to<=s.to&&r.to-r.from>=(s.to-s.from)/3&&(!o||o.main.empty&&o.main.from==r.from+r.insert.length)&&n.inputState.composing<0){let h=s.from<r.from?l.sliceDoc(s.from,r.from):"",d=s.to>r.to?l.sliceDoc(r.to,s.to):"";c=l.replaceSelection(n.state.toText(h+r.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let h=l.changes(r),d=o&&!l.selection.main.eq(o.main)&&o.main.to<=h.newLength?o.main:void 0;if(l.selection.ranges.length>1&&n.inputState.composing>=0&&r.to<=s.to&&r.to>=s.to-10){let f=n.state.sliceDoc(r.from,r.to),g=H4(n)||n.state.doc.lineAt(s.head),y=s.to-r.to,v=s.to-s.from;c=l.changeByRange(m=>{if(m.from==s.from&&m.to==s.to)return{changes:h,range:d||m.map(h)};let b=m.to-y,S=b-f.length;if(m.to-m.from!=v||n.state.sliceDoc(S,b)!=f||g&&m.to>=g.from&&m.from<=g.to)return{range:m};let w=l.changes({from:S,to:b,insert:r.insert}),x=m.to-s.to;return{changes:w,range:d?W.range(Math.max(0,d.anchor+x),Math.max(0,d.head+x)):m.map(w)}})}else c={changes:h,selection:d&&l.selection.replaceRange(d)}}let u="input.type";return n.composing&&(u+=".compose",n.inputState.compositionFirstChange&&(u+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(c,{scrollIntoView:!0,userEvent:u}),!0}else if(o&&!o.main.eq(s)){let l=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(l=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:o,scrollIntoView:l,userEvent:a}),!0}else return!1}function gce(n,e,t,i){let r=Math.min(n.length,e.length),o=0;for(;o<r&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==r&&n.length==e.length)return null;let s=n.length,l=e.length;for(;s>0&&l>0&&n.charCodeAt(s-1)==e.charCodeAt(l-1);)s--,l--;if(i=="end"){let a=Math.max(0,o-Math.min(s,l));t-=s+a-o}if(s<o&&n.length<e.length){let a=t<=o&&t>=s?o-t:0;o-=a,l=o+(l-s),s=o}else if(l<o){let a=t<=o&&t>=l?o-t:0;o-=a,s=o+(s-l),l=o}return{from:o,toA:s,toB:l}}function mce(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new QD(t,i)),(r!=t||o!=i)&&e.push(new QD(r,o))),e}function vce(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?W.single(t+e,i+e):null}let Pn=class tF{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this.root=e.root||fae(e.parent)||document,this.viewState=new gT(e.state||rt.create()),this.plugins=this.state.facet(Qh).map(t=>new S1(t));for(let t of this.plugins)t.update(this);this.observer=new dce(this,(t,i,r)=>pce(this,t,i,r),t=>{this.inputState.runScrollHandlers(this,t),this.observer.intersecting&&this.measure()}),this.inputState=new Vae(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new JD(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Tn?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,o=this.state;for(let l of e){if(l.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=l.state}if(this.destroyed){this.viewState.state=o;return}if(this.observer.clear(),o.facet(rt.phrases)!=this.state.facet(rt.phrases))return this.setState(o);r=XD.create(this,o,e);let s=this.viewState.scrollTarget;try{this.updateState=2;for(let l of e){if(s&&(s=s.map(l.changes)),l.scrollIntoView){let{main:a}=l.state.selection;s=new GD(a.empty?a:W.cursor(a.head,a.head>a.anchor?-1:1))}for(let a of l.effects)a.is(UD)&&(s=a.value)}this.viewState.update(r,s),this.bidiCache=wT.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(Jh)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(l=>l.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Cg)!=r.state.facet(Cg)&&(this.viewState.mustMeasureContent=!0),(t||i||s||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let l of this.state.facet(Jx))l(r)}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new gT(e),this.plugins=e.facet(Qh).map(i=>new S1(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new JD(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Qh),i=e.state.facet(Qh);if(t!=i){let r=[];for(let o of i){let s=t.indexOf(o);if(s<0)r.push(new S1(o));else{let l=this.plugins[s];l.mustUpdate=e,r.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.flush();let t=null;try{for(let i=0;;i++){this.updateState=1;let r=this.viewport,o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(i>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let s=[];o&4||([this.measureRequests,s]=[s,this.measureRequests]);let l=s.map(h=>{try{return h.read(this)}catch(d){return ja(this.state,d),ST}}),a=XD.create(this,this.state,[]),c=!1,u=!1;a.flags|=o,t?t.flags|=o:t=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),c=this.docView.update(a));for(let h=0;h<s.length;h++)if(l[h]!=ST)try{let d=s[h];d.write&&d.write(l[h],this)}catch(d){ja(this.state,d)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=!0),c&&this.docView.updateSelection(!0),this.viewport.from==r.from&&this.viewport.to==r.to&&!u&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let i of this.state.facet(Jx))i(t)}get themeClasses(){return sC+" "+(this.state.facet(oC)?Z4:J4)+" "+this.state.facet(Cg)}updateAttrs(){let e=xT(this,A4,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet($p)?"true":"false",class:"cm-content",style:`${ct.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),xT(this,R4,t);let i=this.observer.ignore(()=>{let r=Xx(this.contentDOM,this.contentAttrs,t),o=Xx(this.dom,this.editorAttrs,e);return r||o});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(tF.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Jh),It.mount(this.root,this.styleModules.concat(uce).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),e){if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return x1(this,e,rT(this,e,t,i))}moveByGroup(e,t){return x1(this,e,rT(this,e,t,i=>Hae(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return Lae(this,e,t,i)}moveVertically(e,t,i){return x1(this,e,zae(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),V4(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r),s=o[wu.find(o,e-r.from,-1,t)];return Ty(i,s.dir==mi.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(k4)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>yce)return N4(e.length);let t=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t)return r.order;let i=Eae(e.text,t);return this.bidiCache.push(new wT(e.from,e.to,t,i)),i}get hasFocus(){var e;return(document.hasFocus()||ct.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{r4(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return UD.of(new GD(typeof e=="number"?W.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Sc.define(()=>({}),{eventHandlers:e})}static theme(e,t){let i=It.newName(),r=[Cg.of(i),Jh.of(lC(`.${i}`,e))];return t&&t.dark&&r.push(oC.of(!0)),r}static baseTheme(e){return Xs.lowest(Jh.of(lC("."+sC,e,eF)))}};Pn.styleModule=Jh;Pn.inputHandler=$4;Pn.perLineTextDirection=k4;Pn.exceptionSink=M4;Pn.updateListener=Jx;Pn.editable=$p;Pn.mouseSelectionStyle=E4;Pn.dragMovesSelection=C4;Pn.clickAddsSelectionRange=x4;Pn.decorations=Pf;Pn.atomicRanges=D4;Pn.scrollMargins=T4;Pn.darkTheme=oC;Pn.contentAttributes=R4;Pn.editorAttributes=A4;Pn.lineWrapping=Pn.contentAttributes.of({class:"cm-lineWrapping"});Pn.announce=yt.define();const yce=4096,ST={};let wT=class nF{constructor(e,t,i,r){this.from=e,this.to=t,this.dir=i,this.order=r}static update(e,t){if(t.empty)return e;let i=[],r=e.length?e[e.length-1].dir:mi.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==r&&!t.touchesRange(s.from,s.to)&&i.push(new nF(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.order))}return i}};function xT(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let o=i[r],s=typeof o=="function"?o(n):o;s&&Ux(s,t)}return t}const bce=ct.mac?"mac":ct.windows?"win":ct.linux?"linux":"key";function Sce(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,o,s,l;for(let a=0;a<t.length-1;++a){const c=t[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(i="Alt-"+i),o&&(i="Ctrl-"+i),l&&(i="Meta-"+i),s&&(i="Shift-"+i),i}function M1(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const wce=Pn.domEventHandlers({keydown(n,e){return Mce(xce(e.state),n,e,"editor")}}),iF=ie.define({enables:wce}),CT=new WeakMap;function xce(n){let e=n.facet(iF),t=CT.get(e);return t||CT.set(e,t=Ece(e.reduce((i,r)=>i.concat(r),[]))),t}let Bl=null;const Cce=4e3;function Ece(n,e=bce){let t=Object.create(null),i=Object.create(null),r=(s,l)=>{let a=i[s];if(a==null)i[s]=l;else if(a!=l)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,l,a,c)=>{let u=t[s]||(t[s]=Object.create(null)),h=l.split(/ (?!$)/).map(g=>Sce(g,e));for(let g=1;g<h.length;g++){let y=h.slice(0,g).join(" ");r(y,!0),u[y]||(u[y]={preventDefault:!0,commands:[v=>{let m=Bl={view:v,prefix:y,scope:s};return setTimeout(()=>{Bl==m&&(Bl=null)},Cce),!0}]})}let d=h.join(" ");r(d,!1);let f=u[d]||(u[d]={preventDefault:!1,commands:[]});f.commands.push(a),c&&(f.preventDefault=!0)};for(let s of n){let l=s[e]||s.key;if(l)for(let a of s.scope?s.scope.split(" "):["editor"])o(a,l,s.run,s.preventDefault),s.shift&&o(a,"Shift-"+l,s.shift,s.preventDefault)}return t}function Mce(n,e,t,i){let r=j$(e),o=r.length==1&&r!=" ",s="",l=!1;Bl&&Bl.view==t&&Bl.scope==i&&(s=Bl.prefix+" ",(l=W4.indexOf(e.keyCode)<0)&&(Bl=null));let a=h=>{if(h){for(let d of h.commands)if(d(t))return!0;h.preventDefault&&(l=!0)}return!1},c=n[i],u;if(c){if(a(c[s+M1(r,e,!o)]))return!0;if(o&&(e.shiftKey||e.altKey||e.metaKey)&&(u=js[e.keyCode])&&u!=r){if(a(c[s+M1(u,e,!0)]))return!0}else if(o&&e.shiftKey&&a(c[s+M1(r,e,!0)]))return!0}return l}const rF=!ct.ios,ed=ie.define({combine(n){return xl(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function $ce(n={}){return[ed.of(n),kce,Oce]}class oF{constructor(e,t,i,r,o){this.left=e,this.top=t,this.width=i,this.height=r,this.className=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const kce=Sc.fromClass(class{constructor(n){this.view=n,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=n.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=n.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),n.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(ed).cursorBlinkRate+"ms"}update(n){let e=n.startState.facet(ed)!=n.state.facet(ed);(e||n.selectionSet||n.geometryChanged||n.viewportChanged)&&this.view.requestMeasure(this.measureReq),n.transactions.some(t=>t.scrollIntoView)&&(this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),e&&this.setBlinkRate()}readPos(){let{state:n}=this.view,e=n.facet(ed),t=n.selection.ranges.map(r=>r.empty?[]:Ace(this.view,r)).reduce((r,o)=>r.concat(o)),i=[];for(let r of n.selection.ranges){let o=r==n.selection.main;if(r.empty?!o||rF:e.drawRangeCursor){let s=Rce(this.view,r,o);s&&i.push(s)}}return{rangePieces:t,cursors:i}}drawSel({rangePieces:n,cursors:e}){if(n.length!=this.rangePieces.length||n.some((t,i)=>!t.eq(this.rangePieces[i]))){this.selectionLayer.textContent="";for(let t of n)this.selectionLayer.appendChild(t.draw());this.rangePieces=n}if(e.length!=this.cursors.length||e.some((t,i)=>!t.eq(this.cursors[i]))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const i of e)this.cursorLayer.appendChild(i.draw())}else e.forEach((i,r)=>i.adjust(t[r]));this.cursors=e}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),sF={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};rF&&(sF[".cm-line"].caretColor="transparent !important");const Oce=Xs.highest(Pn.theme(sF));function lF(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==mi.LTR?e.left:e.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft,top:e.top-n.scrollDOM.scrollTop}}function ET(n,e,t){let i=W.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(i,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(i,!0,!0).from),type:hn.Text}}function MT(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==hn.Text))return i}return t}function Ace(n,e){if(e.to<=n.viewport.from||e.from>=n.viewport.to)return[];let t=Math.max(e.from,n.viewport.from),i=Math.min(e.to,n.viewport.to),r=n.textDirection==mi.LTR,o=n.contentDOM,s=o.getBoundingClientRect(),l=lF(n),a=window.getComputedStyle(o.firstChild),c=s.left+parseInt(a.paddingLeft)+Math.min(0,parseInt(a.textIndent)),u=s.right-parseInt(a.paddingRight),h=MT(n,t),d=MT(n,i),f=h.type==hn.Text?h:null,g=d.type==hn.Text?d:null;if(n.lineWrapping&&(f&&(f=ET(n,t,f)),g&&(g=ET(n,i,g))),f&&g&&f.from==g.from)return v(m(e.from,e.to,f));{let S=f?m(e.from,null,f):b(h,!1),w=g?m(null,e.to,g):b(d,!0),x=[];return(f||h).to<(g||d).from-1?x.push(y(c,S.bottom,u,w.top)):S.bottom<w.top&&n.elementAtHeight((S.bottom+w.top)/2).type==hn.Text&&(S.bottom=w.top=(S.bottom+w.top)/2),v(S).concat(x).concat(v(w))}function y(S,w,x,E){return new oF(S-l.left,w-l.top-.01,x-S,E-w+.01,"cm-selectionBackground")}function v({top:S,bottom:w,horizontal:x}){let E=[];for(let C=0;C<x.length;C+=2)E.push(y(x[C],S,x[C+1],w));return E}function m(S,w,x){let E=1e9,C=-1e9,$=[];function M(D,I,O,H,T){let R=n.coordsAtPos(D,D==x.to?-2:2),k=n.coordsAtPos(O,O==x.from?2:-2);E=Math.min(R.top,k.top,E),C=Math.max(R.bottom,k.bottom,C),T==mi.LTR?$.push(r&&I?c:R.left,r&&H?u:k.right):$.push(!r&&H?c:k.left,!r&&I?u:R.right)}let A=S??x.from,P=w??x.to;for(let D of n.visibleRanges)if(D.to>A&&D.from<P)for(let I=Math.max(D.from,A),O=Math.min(D.to,P);;){let H=n.state.doc.lineAt(I);for(let T of n.bidiSpans(H)){let R=T.from+H.from,k=T.to+H.from;if(R>=O)break;k>I&&M(Math.max(R,I),S==null&&R<=A,Math.min(k,O),w==null&&k>=P,T.dir)}if(I=H.to+1,I>=O)break}return $.length==0&&M(A,S==null,P,w==null,n.textDirection),{top:E,bottom:C,horizontal:$}}function b(S,w){let x=s.top+(w?S.top:S.bottom);return{top:x,bottom:x,horizontal:[]}}}function Rce(n,e,t){let i=n.coordsAtPos(e.head,e.assoc||1);if(!i)return null;let r=lF(n);return new oF(i.left-r.left,i.top-r.top,-1,i.bottom-i.top,t?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const aF=yt.define({map(n,e){return n==null?null:e.mapPos(n)}}),td=Ji.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(aF)?i.value:t,n)}}),Dce=Sc.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(td);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(td)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let n=this.view.state.field(td),e=n!=null&&this.view.coordsAtPos(n);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(n){this.cursor&&(n?(this.cursor.style.left=n.left+"px",this.cursor.style.top=n.top+"px",this.cursor.style.height=n.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(td)!=n&&this.view.dispatch({effects:aF.of(n)})}},{eventHandlers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Tce(){return[td,Dce]}function $T(n,e,t,i,r){e.lastIndex=0;for(let o=n.iterRange(t,i),s=t,l;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;l=e.exec(o.value);)r(s+l.index,s+l.index+l[0].length,l)}function Pce(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:r,to:o}of t)r=Math.max(n.state.doc.lineAt(r).from,r-e),o=Math.min(n.state.doc.lineAt(o).to,o+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=o:i.push({from:r,to:o});return i}class Ice{constructor(e){let{regexp:t,decoration:i,boundary:r,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=t,this.getDeco=typeof i=="function"?i:()=>i,this.boundary=r,this.maxLength=o}createDeco(e){let t=new fa;for(let{from:i,to:r}of Pce(e,this.maxLength))$T(e.state.doc,this.regexp,i,r,(o,s,l)=>t.add(o,s,this.getDeco(l,e,o)));return t.finish()}updateDeco(e,t){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((o,s,l,a)=>{a>e.view.viewport.from&&l<e.view.viewport.to&&(i=Math.min(l,i),r=Math.max(a,r))}),e.viewportChanged||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),i,r):t}updateRange(e,t,i,r){for(let o of e.visibleRanges){let s=Math.max(o.from,i),l=Math.min(o.to,r);if(l>s){let a=e.state.doc.lineAt(s),c=a.to<l?e.state.doc.lineAt(l):a,u=Math.max(o.from,a.from),h=Math.min(o.to,c.to);if(this.boundary){for(;s>a.from;s--)if(this.boundary.test(a.text[s-1-a.from])){u=s;break}for(;l<c.to;l++)if(this.boundary.test(c.text[l-c.from])){h=l;break}}let d=[],f;if(a==c)for(this.regexp.lastIndex=u-a.from;(f=this.regexp.exec(a.text))&&f.index<h-a.from;){let g=f.index+a.from;d.push(this.getDeco(f,e,g).range(g,g+f[0].length))}else $T(e.state.doc,this.regexp,u,h,(g,y,v)=>d.push(this.getDeco(v,e,g).range(g,y)));t=t.update({filterFrom:u,filterTo:h,filter:(g,y)=>g<u||y>h,add:d})}}return t}}const aC=/x/.unicode!=null?"gu":"g",Nce=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,aC),Bce={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let $1=null;function Lce(){var n;if($1==null&&typeof document<"u"&&document.body){let e=document.body.style;$1=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return $1||!1}const Am=ie.define({combine(n){let e=xl(n,{render:null,specialChars:Nce,addSpecialChars:null});return(e.replaceTabs=!Lce())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,aC)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,aC)),e}});function Hce(n={}){return[Am.of(n),zce()]}let kT=null;function zce(){return kT||(kT=Sc.fromClass(class{constructor(n){this.view=n,this.decorations=Fn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Am)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new Ice({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:r}=t.state,o=rr(e[0],0);if(o==9){let s=r.lineAt(i),l=t.state.tabSize,a=Mp(s.text,l,i-s.from);return Fn.replace({widget:new _ce((l-a%l)*this.view.defaultCharacterWidth)})}return this.decorationCache[o]||(this.decorationCache[o]=Fn.replace({widget:new Wce(n,o)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Am);n.startState.facet(Am)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const Vce="";function Fce(n){return n>=32?Vce:n==10?"":String.fromCharCode(9216+n)}class Wce extends Ch{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=Fce(this.code),i=e.state.phrase("Control character")+" "+(Bce[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,t);if(r)return r;let o=document.createElement("span");return o.textContent=t,o.title=i,o.setAttribute("aria-label",i),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class _ce extends Ch{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function jce(){return qce}const Kce=Fn.line({class:"cm-activeLine"}),qce=Sc.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){if(!i.empty)return Fn.none;let r=n.lineBlockAt(i.head);r.from>e&&(t.push(Kce.range(r.from)),e=r.from)}return Fn.set(t)}},{decorations:n=>n.decorations}),cC=2e3;function Gce(n,e,t){let i=Math.min(e.line,t.line),r=Math.max(e.line,t.line),o=[];if(e.off>cC||t.off>cC||e.col<0||t.col<0){let s=Math.min(e.off,t.off),l=Math.max(e.off,t.off);for(let a=i;a<=r;a++){let c=n.doc.line(a);c.length<=l&&o.push(W.range(c.from+s,c.to+l))}}else{let s=Math.min(e.col,t.col),l=Math.max(e.col,t.col);for(let a=i;a<=r;a++){let c=n.doc.line(a),u=pa(c.text,s,n.tabSize,!0);if(u>-1){let h=pa(c.text,l,n.tabSize);o.push(W.range(c.from+u,c.from+h))}}}return o}function Uce(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function OT(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),r=t-i.from,o=r>cC?-1:r==i.length?Uce(n,e.clientX):Mp(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:o,off:r}}function Xce(n,e){let t=OT(n,e),i=n.state.selection;return t?{update(r){if(r.docChanged){let o=r.changes.mapPos(r.startState.doc.line(t.line).from),s=r.state.doc.lineAt(o);t={line:s.number,col:t.col,off:Math.min(t.off,s.length)},i=i.map(r.changes)}},get(r,o,s){let l=OT(n,r);if(!l)return i;let a=Gce(n.state,t,l);return a.length?s?W.create(a.concat(i.ranges)):W.create(a):i}}:null}function Yce(n){let e=t=>t.altKey&&t.button==0;return Pn.mouseSelectionStyle.of((t,i)=>e(i)?Xce(t,i):null)}const Qce={Alt:[18,n=>n.altKey],Control:[17,n=>n.ctrlKey],Shift:[16,n=>n.shiftKey],Meta:[91,n=>n.metaKey]},Jce={style:"cursor: crosshair"};function Zce(n={}){let[e,t]=Qce[n.key||"Alt"],i=Sc.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventHandlers:{keydown(r){this.set(r.keyCode==e||t(r))},keyup(r){(r.keyCode==e||!t(r))&&this.set(!1)}}});return[i,Pn.contentAttributes.of(r=>{var o;return!((o=r.plugin(i))===null||o===void 0)&&o.isDown?Jce:null})]}let ga=class extends Qi{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}};ga.prototype.elementClass="";ga.prototype.toDOM=void 0;ga.prototype.mapMode=At.TrackBefore;ga.prototype.startSide=ga.prototype.endSide=-1;ga.prototype.point=!0;const Rm=ie.define(),Dm=ie.define(),AT=ie.define({combine:n=>n.some(e=>e)});function eue(n){return[tue]}const tue=Sc.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=n.state.facet(Dm).map(e=>new DT(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(AT),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(AT)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=Be.iter(this.view.state.facet(Rm),this.view.viewport.from),i=[],r=this.gutters.map(o=>new nue(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks){let s;if(Array.isArray(o.type)){for(let l of o.type)if(l.type==hn.Text){s=l;break}}else s=o.type==hn.Text?o:void 0;if(s){i.length&&(i=[]),cF(t,i,o.from);for(let l of r)l.line(this.view,s,i)}}for(let o of r)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(Dm),t=n.state.facet(Dm),i=n.docChanged||n.heightChanged||n.viewportChanged||!Be.eq(n.startState.facet(Rm),n.state.facet(Rm),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let o of t){let s=e.indexOf(o);s<0?r.push(new DT(this.view,o)):(this.gutters[s].update(n),r.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),r.indexOf(o)<0&&o.destroy();for(let o of r)this.dom.appendChild(o.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>Pn.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==mi.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function RT(n){return Array.isArray(n)?n:[n]}function cF(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}let nue=class{constructor(e,t,i){this.gutter=e,this.height=i,this.localMarkers=[],this.i=0,this.cursor=Be.iter(e.markers,t.from)}line(e,t,i){this.localMarkers.length&&(this.localMarkers=[]),cF(this.cursor,this.localMarkers,t.from);let r=i.length?this.localMarkers.concat(i):this.localMarkers,o=this.gutter.config.lineMarker(e,t,r);o&&r.unshift(o);let s=this.gutter;if(r.length==0&&!s.config.renderEmptyElements)return;let l=t.top-this.height;if(this.i==s.elements.length){let a=new uF(e,t.height,l,r);s.elements.push(a),s.dom.appendChild(a.dom)}else s.elements[this.i].update(e,t.height,l,r);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}},DT=class{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let o=e.lineBlockAtHeight(r.clientY-e.documentTop);t.domEventHandlers[i](e,o,r)&&r.preventDefault()});this.markers=RT(t.markers(e)),t.initialSpacer&&(this.spacer=new uF(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=RT(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!Be.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}},uF=class{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),iue(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let o=0,s=0;;){let l=s,a=o<t.length?t[o++]:null,c=!1;if(a){let u=a.elementClass;u&&(i+=" "+u);for(let h=s;h<this.markers.length;h++)if(this.markers[h].compare(a)){l=h,c=!0;break}}else l=this.markers.length;for(;s<l;){let u=this.markers[s++];if(u.toDOM){u.destroy(r);let h=r.nextSibling;r.remove(),r=h}}if(!a)break;a.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),c&&s++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}};function iue(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const rue=ie.define(),ru=ie.define({combine(n){return xl(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let o=i[r],s=t[r];i[r]=o?(l,a,c)=>o(l,a,c)||s(l,a,c):s}return i}})}});class k1 extends ga{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function O1(n,e){return n.state.facet(ru).formatNumber(e,n.state)}const oue=Dm.compute([ru],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(rue)},lineMarker(e,t,i){return i.some(r=>r.toDOM)?null:new k1(O1(e,e.state.doc.lineAt(t.from).number))},lineMarkerChange:e=>e.startState.facet(ru)!=e.state.facet(ru),initialSpacer(e){return new k1(O1(e,TT(e.state.doc.lines)))},updateSpacer(e,t){let i=O1(t.view,TT(t.view.state.doc.lines));return i==e.number?e:new k1(i)},domEventHandlers:n.facet(ru).domEventHandlers}));function sue(n={}){return[ru.of(n),eue(),oue]}function TT(n){let e=9;for(;e<n;)e=e*10+9;return e}const lue=new class extends ga{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},aue=Rm.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges)if(i.empty){let r=n.doc.lineAt(i.head).from;r>t&&(t=r,e.push(lue.range(r)))}return Be.of(e)});function cue(){return aue}const uue=1024;let hue=0;class A1{constructor(e,t){this.from=e,this.to=t}}class jt{constructor(e={}){this.id=hue++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Mo.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}jt.closedBy=new jt({deserialize:n=>n.split(" ")});jt.openedBy=new jt({deserialize:n=>n.split(" ")});jt.group=new jt({deserialize:n=>n.split(" ")});jt.contextHash=new jt({perNode:!0});jt.lookAhead=new jt({perNode:!0});jt.mounted=new jt({perNode:!0});const due=Object.create(null);class Mo{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):due,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new Mo(e.name||"",t,e.id,i);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(r)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(jt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(jt.group),o=-1;o<(r?r.length:0);o++){let s=t[o<0?i.name:r[o]];if(s)return s}}}}Mo.none=new Mo("",Object.create(null),0,8);const Eg=new WeakMap,PT=new WeakMap;var or;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(or||(or={}));class sr{constructor(e,t,i,r,o){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,l]of o)this.props[typeof s=="number"?s:s.id]=l}}toString(){let e=this.prop(jt.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Z0(this.topNode,e)}cursorAt(e,t=0,i=0){let r=Eg.get(this)||this.topNode,o=new Z0(r);return o.moveTo(e,t),Eg.set(this,o._tree),o}get topNode(){return new ul(this,0,0,null)}resolve(e,t=0){let i=Yu(Eg.get(this)||this.topNode,e,t,!1);return Eg.set(this,i),i}resolveInner(e,t=0){let i=Yu(PT.get(this)||this.topNode,e,t,!0);return PT.set(this,i),i}iterate(e){let{enter:t,leave:i,from:r=0,to:o=this.length}=e;for(let s=this.cursor((e.mode||0)|or.IncludeAnonymous);;){let l=!1;if(s.from<=o&&s.to>=r&&(s.type.isAnonymous||t(s)!==!1)){if(s.firstChild())continue;l=!0}for(;l&&i&&!s.type.isAnonymous&&i(s),!s.nextSibling();){if(!s.parent())return;l=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:J$(Mo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new sr(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new sr(Mo.none,t,i,r)))}static build(e){return pue(e)}}sr.empty=new sr(Mo.none,[],[],0);class Y${constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Y$(this.buffer,this.index)}}class wc{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Mo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),e+=4,i==e)return o;let s=[];for(;e<i;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,t,i,r,o){let{buffer:s}=this,l=-1;for(let a=e;a!=t&&!(hF(o,r,s[a+1],s[a+2])&&(l=a,i>0));a=s[a+3]);return l}slice(e,t,i,r){let o=this.buffer,s=new Uint16Array(t-e);for(let l=e,a=0;l<t;)s[a++]=o[l++],s[a++]=o[l++]-i,s[a++]=o[l++]-i,s[a++]=o[l++]-e;return new wc(s,r-i,this.set)}}function hF(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function dF(n,e){let t=n.childBefore(e);for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}function Yu(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let s=!i&&n instanceof ul&&n.index<0?null:n.parent;if(!s)return n;n=s}let o=i?0:or.IgnoreOverlays;if(i)for(let s=n,l=s.parent;l;s=l,l=s.parent)s instanceof ul&&s.index<0&&((r=l.enter(e,t,o))===null||r===void 0?void 0:r.from)!=s.from&&(n=l);for(;;){let s=n.enter(e,t,o);if(!s)return n;n=s}}class ul{constructor(e,t,i,r){this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,o=0){for(let s=this;;){for(let{children:l,positions:a}=s._tree,c=t>0?l.length:-1;e!=c;e+=t){let u=l[e],h=a[e]+s.from;if(hF(r,i,h,h+u.length)){if(u instanceof wc){if(o&or.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,i-h,r);if(d>-1)return new Kl(new fue(s,u,e,h),null,d)}else if(o&or.IncludeAnonymous||!u.type.isAnonymous||Q$(u)){let d;if(!(o&or.IgnoreMounts)&&u.props&&(d=u.prop(jt.mounted))&&!d.overlay)return new ul(d.tree,h,e,s);let f=new ul(u,h,e,s);return o&or.IncludeAnonymous||!f.type.isAnonymous?f:f.nextChild(t<0?u.children.length-1:0,t,i,r)}}}if(o&or.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+t:e=t<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let r;if(!(i&or.IgnoreOverlays)&&(r=this._tree.prop(jt.mounted))&&r.overlay){let o=e-this.from;for(let{from:s,to:l}of r.overlay)if((t>0?s<=o:s<o)&&(t<0?l>=o:l>o))return new ul(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new Z0(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Yu(this,e,t,!1)}resolveInner(e,t=0){return Yu(this,e,t,!0)}enterUnfinishedNodesBefore(e){return dF(this,e)}getChild(e,t=null,i=null){let r=Q0(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return Q0(this,e,t,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return J0(this,e)}}function Q0(n,e,t,i){let r=n.cursor(),o=[];if(!r.firstChild())return o;if(t!=null){for(;!r.type.is(t);)if(!r.nextSibling())return o}for(;;){if(i!=null&&r.type.is(i))return o;if(r.type.is(e)&&o.push(r.node),!r.nextSibling())return i==null?o:[]}}function J0(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class fue{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class Kl{constructor(e,t,i){this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,i){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return o<0?null:new Kl(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&or.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new Kl(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Kl(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Kl(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new Z0(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,o=i.buffer[this.index+3];if(o>r){let s=i.buffer[this.index+1],l=i.buffer[this.index+2];e.push(i.slice(r,o,s,l)),t.push(0)}return new sr(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Yu(this,e,t,!1)}resolveInner(e,t=0){return Yu(this,e,t,!0)}enterUnfinishedNodesBefore(e){return dF(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,i=null){let r=Q0(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return Q0(this,e,t,i)}get node(){return this}matchContext(e){return J0(this,e)}}class Z0{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ul)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof ul?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&or.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&or.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&or.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(r.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let o=t+e,s=e<0?-1:i._tree.children.length;o!=s;o+=e){let l=i._tree.children[o];if(this.mode&or.IncludeAnonymous||l instanceof wc||!l.type.isAnonymous||Q$(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==r){if(r==this.index)return s;t=s,i=o+1;break e}r=this.stack[--o]}for(let r=i;r<this.stack.length;r++)t=new Kl(this.buffer,t,this.stack[r]);return this.bufferNode=new Kl(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return J0(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return J0(this.node,e,r);let s=i[t.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[r]&&e[r]!=s.name)return!1;r--}}return!0}}function Q$(n){return n.children.some(e=>e instanceof wc||!e.type.isAnonymous||Q$(e))}function pue(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=uue,reused:o=[],minRepeatType:s=i.types.length}=n,l=Array.isArray(t)?new Y$(t,t.length):t,a=i.types,c=0,u=0;function h(w,x,E,C,$){let{id:M,start:A,end:P,size:D}=l,I=u;for(;D<0;)if(l.next(),D==-1){let k=o[M];E.push(k),C.push(A-w);return}else if(D==-3){c=M;return}else if(D==-4){u=M;return}else throw new RangeError(`Unrecognized record size: ${D}`);let O=a[M],H,T,R=A-w;if(P-A<=r&&(T=y(l.pos-x,$))){let k=new Uint16Array(T.size-T.skip),B=l.pos-T.size,L=k.length;for(;l.pos>B;)L=v(T.start,k,L);H=new wc(k,P-T.start,i),R=T.start-w}else{let k=l.pos-D;l.next();let B=[],L=[],z=M>=s?M:-1,F=0,_=P;for(;l.pos>k;)z>=0&&l.id==z&&l.size>=0?(l.end<=_-r&&(f(B,L,A,F,l.end,_,z,I),F=B.length,_=l.end),l.next()):h(A,k,B,L,z);if(z>=0&&F>0&&F<B.length&&f(B,L,A,F,A,_,z,I),B.reverse(),L.reverse(),z>-1&&F>0){let G=d(O);H=J$(O,B,L,0,B.length,0,P-A,G,G)}else H=g(O,B,L,P-A,I-P)}E.push(H),C.push(R)}function d(w){return(x,E,C)=>{let $=0,M=x.length-1,A,P;if(M>=0&&(A=x[M])instanceof sr){if(!M&&A.type==w&&A.length==C)return A;(P=A.prop(jt.lookAhead))&&($=E[M]+A.length+P)}return g(w,x,E,C,$)}}function f(w,x,E,C,$,M,A,P){let D=[],I=[];for(;w.length>C;)D.push(w.pop()),I.push(x.pop()+E-$);w.push(g(i.types[A],D,I,M-$,P-M)),x.push($-E)}function g(w,x,E,C,$=0,M){if(c){let A=[jt.contextHash,c];M=M?[A].concat(M):[A]}if($>25){let A=[jt.lookAhead,$];M=M?[A].concat(M):[A]}return new sr(w,x,E,C,M)}function y(w,x){let E=l.fork(),C=0,$=0,M=0,A=E.end-r,P={size:0,start:0,skip:0};e:for(let D=E.pos-w;E.pos>D;){let I=E.size;if(E.id==x&&I>=0){P.size=C,P.start=$,P.skip=M,M+=4,C+=4,E.next();continue}let O=E.pos-I;if(I<0||O<D||E.start<A)break;let H=E.id>=s?4:0,T=E.start;for(E.next();E.pos>O;){if(E.size<0)if(E.size==-3)H+=4;else break e;else E.id>=s&&(H+=4);E.next()}$=T,C+=I,M+=H}return(x<0||C==w)&&(P.size=C,P.start=$,P.skip=M),P.size>4?P:void 0}function v(w,x,E){let{id:C,start:$,end:M,size:A}=l;if(l.next(),A>=0&&C<s){let P=E;if(A>4){let D=l.pos-(A-4);for(;l.pos>D;)E=v(w,x,E)}x[--E]=P,x[--E]=M-w,x[--E]=$-w,x[--E]=C}else A==-3?c=C:A==-4&&(u=C);return E}let m=[],b=[];for(;l.pos>0;)h(n.start||0,n.bufferStart||0,m,b,-1);let S=(e=n.length)!==null&&e!==void 0?e:m.length?b[0]+m[0].length:0;return new sr(a[n.topID],m.reverse(),b.reverse(),S)}const IT=new WeakMap;function Tm(n,e){if(!n.isAnonymous||e instanceof wc||e.type!=n)return 1;let t=IT.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof sr)){t=1;break}t+=Tm(n,i)}IT.set(e,t)}return t}function J$(n,e,t,i,r,o,s,l,a){let c=0;for(let g=i;g<r;g++)c+=Tm(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function f(g,y,v,m,b){for(let S=v;S<m;){let w=S,x=y[S],E=Tm(n,g[S]);for(S++;S<m;S++){let C=Tm(n,g[S]);if(E+C>=u)break;E+=C}if(S==w+1){if(E>u){let C=g[w];f(C.children,C.positions,0,C.children.length,y[w]+b);continue}h.push(g[w])}else{let C=y[S-1]+g[S-1].length-x;h.push(J$(n,g,y,w,S,x,C,null,a))}d.push(x+b-o)}}return f(e,t,i,r,0),(l||a)(h,d,s)}class Ka{constructor(e,t,i,r,o=!1,s=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let r=[new Ka(0,e.length,e,0,!1,i)];for(let o of t)o.to>e.length&&r.push(o);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],o=1,s=e.length?e[0]:null;for(let l=0,a=0,c=0;;l++){let u=l<t.length?t[l]:null,h=u?u.fromA:1e9;if(h-a>=i)for(;s&&s.from<h;){let d=s;if(a>=d.from||h<=d.to||c){let f=Math.max(d.from,a)-c,g=Math.min(d.to,h)-c;d=f>=g?null:new Ka(f,g,d.tree,d.offset+c,l>0,!!u)}if(d&&r.push(d),s.to>h)break;s=o<e.length?e[o++]:null}if(!u)break;a=u.toA,c=u.toA-u.toB}return r}}class gue{startParse(e,t,i){return typeof e=="string"&&(e=new mue(e)),i=i?i.length?i.map(r=>new A1(r.from,r.to)):[new A1(0,0)]:[new A1(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let o=r.advance();if(o)return o}}}class mue{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new jt({perNode:!0});function ev(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Qu(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function vue(){let n=document.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function uC(n,e){if(!e.anchorNode)return!1;try{return Qu(n,e.anchorNode)}catch{return!1}}function Nf(n){return n.nodeType==3?Bf(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function tv(n,e,t,i){return t?NT(n,e,t,i,-1)||NT(n,e,t,i,1):!1}function hC(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function NT(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:nv(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=hC(n)+(r<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?nv(n):0}else return!1}}function nv(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}const fF={left:0,right:0,top:0,bottom:0};function Iy(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function yue(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function bue(n,e,t,i,r,o,s,l){let a=n.ownerDocument,c=a.defaultView;for(let u=n;u;)if(u.nodeType==1){let h,d=u==a.body;if(d)h=yue(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.parentNode;continue}let y=u.getBoundingClientRect();h={left:y.left,right:y.left+u.clientWidth,top:y.top,bottom:y.top+u.clientHeight}}let f=0,g=0;if(r=="nearest")e.top<h.top?(g=-(h.top-e.top+s),t>0&&e.bottom>h.bottom+g&&(g=e.bottom-h.bottom+g+s)):e.bottom>h.bottom&&(g=e.bottom-h.bottom+s,t<0&&e.top-g<h.top&&(g=-(h.top+g-e.top+s)));else{let y=e.bottom-e.top,v=h.bottom-h.top;g=(r=="center"&&y<=v?e.top+y/2-v/2:r=="start"||r=="center"&&t<0?e.top-s:e.bottom-v+s)-h.top}if(i=="nearest"?e.left<h.left?(f=-(h.left-e.left+o),t>0&&e.right>h.right+f&&(f=e.right-h.right+f+o)):e.right>h.right&&(f=e.right-h.right+o,t<0&&e.left<h.left+f&&(f=-(h.left+f-e.left+o))):f=(i=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:i=="start"==l?e.left-o:e.right-(h.right-h.left)+o)-h.left,f||g)if(d)c.scrollBy(f,g);else{if(g){let y=u.scrollTop;u.scrollTop+=g,g=u.scrollTop-y}if(f){let y=u.scrollLeft;u.scrollLeft+=f,f=u.scrollLeft-y}e={left:e.left-f,top:e.top-g,right:e.right-f,bottom:e.bottom-g}}if(d)break;u=u.assignedSlot||u.parentNode,i=r="nearest"}else if(u.nodeType==11)u=u.host;else break}let Sue=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}},Pc=null;function pF(n){if(n.setActive)return n.setActive();if(Pc)return n.focus(Pc);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Pc==null?{get preventScroll(){return Pc={preventScroll:!0},!0}}:void 0),!Pc){Pc=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],o=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=o&&(i.scrollLeft=o)}}}let BT;function Bf(n,e,t=e){let i=BT||(BT=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Fd(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function wue(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function gF(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}let Rr=class dC{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new dC(e.parentNode,hC(e),t)}static after(e,t){return new dC(e.parentNode,hC(e)+1,t)}};const Z$=[];let Ci=class fC{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(this.dirty&2){let t=this.dom,i=null,r;for(let o of this.children){if(o.dirty){if(!o.dom&&(r=i?i.nextSibling:t.firstChild)){let s=fC.get(r);(!s||!s.parent&&s.constructor==o.constructor)&&o.reuseDOM(r)}o.sync(e),o.dirty=0}if(r=i?i.nextSibling:t.firstChild,e&&!e.written&&e.node==t&&r!=o.dom&&(e.written=!0),o.dom.parentNode==t)for(;r&&r!=o.dom;)r=LT(r);else t.insertBefore(o.dom,r);i=o.dom}for(r=i?i.nextSibling:t.firstChild,r&&e&&e.node==t&&(e.written=!0);r;)r=LT(r)}else if(this.dirty&1)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=nv(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;r==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?r=-1:r=1),e=o}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!fC.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,o=0;;r++){let s=this.children[r];if(s.dom==i)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,o=-1,s=-1,l=-1;for(let a=0,c=i,u=i;a<this.children.length;a++){let h=this.children[a],d=c+h.length;if(c<e&&d>t)return h.domBoundsAround(e,t,c);if(d>=e&&r==-1&&(r=a,o=c),c>t&&h.dom.parentNode==this.dom){s=a,l=u;break}u=d,c=d+h.breakAfter}return{from:o,to:l<0?i+this.length:l,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=Z$){this.markDirty();for(let r=e;r<t;r++){let o=this.children[r];o.parent==this&&o.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new mF(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,i,r,o,s){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}};Ci.prototype.breakAfter=0;function LT(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}let mF=class{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}};function vF(n,e,t,i,r,o,s,l,a){let{children:c}=n,u=c.length?c[e]:null,h=o.length?o[o.length-1]:null,d=h?h.breakAfter:s;if(!(e==i&&u&&!s&&!d&&o.length<2&&u.merge(t,r,o.length?h:null,t==0,l,a))){if(i<c.length){let f=c[i];f&&r<f.length?(e==i&&(f=f.split(r),r=0),!d&&h&&f.merge(0,r,h,!0,0,a)?o[o.length-1]=f:(r&&f.merge(0,r,null,!1,0,a),o.push(f))):f!=null&&f.breakAfter&&(h?h.breakAfter=1:s=1),i++}for(u&&(u.breakAfter=s,t>0&&(!s&&o.length&&u.merge(t,u.length,o[0],!1,l,0)?u.breakAfter=o.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,l,0),e++));e<i&&o.length;)if(c[i-1].become(o[o.length-1]))i--,o.pop(),a=o.length?0:l;else if(c[e].become(o[0]))e++,o.shift(),l=o.length?0:a;else break;!o.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,l,a)&&e--,(e<i||o.length)&&n.replaceChildren(e,i,o)}}function yF(n,e,t,i,r,o){let s=n.childCursor(),{i:l,off:a}=s.findPos(t,1),{i:c,off:u}=s.findPos(e,-1),h=e-t;for(let d of i)h+=d.length;n.length+=h,vF(n,c,u,l,a,i,0,r,o)}let Xr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},pC=typeof document<"u"?document:{documentElement:{style:{}}};const gC=/Edge\/(\d+)/.exec(Xr.userAgent),bF=/MSIE \d/.test(Xr.userAgent),mC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xr.userAgent),Ny=!!(bF||mC||gC),HT=!Ny&&/gecko\/(\d+)/i.test(Xr.userAgent),R1=!Ny&&/Chrome\/(\d+)/.exec(Xr.userAgent),zT="webkitFontSmoothing"in pC.documentElement.style,SF=!Ny&&/Apple Computer/.test(Xr.vendor),VT=SF&&(/Mobile\/\w+/.test(Xr.userAgent)||Xr.maxTouchPoints>2);var ft={mac:VT||/Mac/.test(Xr.platform),windows:/Win/.test(Xr.platform),linux:/Linux|X11/.test(Xr.platform),ie:Ny,ie_version:bF?pC.documentMode||6:mC?+mC[1]:gC?+gC[1]:0,gecko:HT,gecko_version:HT?+(/Firefox\/(\d+)/.exec(Xr.userAgent)||[0,0])[1]:0,chrome:!!R1,chrome_version:R1?+R1[1]:0,ios:VT,android:/Android\b/.test(Xr.userAgent),webkit:zT,safari:SF,webkit_version:zT?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:pC.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const xue=256;let Lf=class vC extends Ci{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return i&&(!(i instanceof vC)||this.length-(t-e)+i.length>xue)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new vC(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Rr(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return bC(this.dom,e,t)}},sc=class yC extends Ci{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(gF(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,i,r,o,s){return i&&(!(i instanceof yC&&i.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0)?!1:(yF(this,e,t,i?i.children:[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,o=0;for(let l of this.children){let a=i+l.length;a>e&&t.push(i<e?l.split(e-i):l),r<0&&i>=e&&(r=o),i=a,o++}let s=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new yC(this.mark,t,s)}domAtPos(e){return CF(this.dom,this.children,e)}coordsAt(e,t){return MF(this,e,t)}};function bC(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,o=e,s=0;e==0&&t<0||e==i&&t>=0?ft.chrome||ft.gecko||(e?(r--,s=1):o<i&&(o++,s=-1)):t<0?r--:o<i&&o++;let l=Bf(n,r,o).getClientRects();if(!l.length)return fF;let a=l[(s?s<0:t>=0)?0:l.length-1];return ft.safari&&!s&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),s?Iy(a,s<0):a||null}let ek=class nd extends Ci{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||nd)(e,t,i)}split(e){let t=nd.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,o,s){return i&&(!(i instanceof nd)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof nd&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ve.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):Ve.empty}domAtPos(e){return e==0?Rr.before(this.dom):Rr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.dom.getClientRects(),r=null;if(!i.length)return fF;for(let o=e>0?i.length-1:0;r=i[o],!(e>0?o==0:o==i.length-1||r.top<r.bottom);o+=e>0?-1:1);return e==0&&t>0||e==this.length&&t<=0?r:Iy(r,e==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},wF=class extends ek{domAtPos(e){let{topView:t,text:i}=this.widget;return t?SC(e,0,t,i,(r,o)=>r.domAtPos(o),r=>new Rr(i,Math.min(r,i.nodeValue.length))):new Rr(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:r}=this.widget;return i?xF(e,t,i,r):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:r}=this.widget;return i?SC(e,t,i,r,(o,s,l)=>o.coordsAt(s,l),(o,s)=>bC(r,o,s)):bC(r,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}};function SC(n,e,t,i,r,o){if(t instanceof sc){for(let s of t.children){let l=Qu(s.dom,i),a=l?i.nodeValue.length:s.length;if(n<a||n==a&&s.getSide()<=0)return l?SC(n,e,s,i,r,o):r(s,n,e);n-=a}return r(t,t.length,-1)}else return t.dom==i?o(n,e):r(t,n,e)}function xF(n,e,t,i){if(t instanceof sc)for(let r of t.children){let o=0,s=Qu(r.dom,i);if(Qu(r.dom,n))return o+(s?xF(n,e,r,i):r.localPosFromDOM(n,e));o+=s?i.nodeValue.length:r.length}else if(t.dom==i)return Math.min(e,i.nodeValue.length);return t.localPosFromDOM(n,e)}let wC=class xC extends Ci{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof xC&&e.side==this.side}split(){return new xC(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Rr.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),i=Cue(this,this.side>0?-1:1);return i&&i.top<t.bottom&&i.bottom>t.top?{left:t.left,right:t.right,top:i.top,bottom:i.bottom}:t}get overrideDOMText(){return Ve.empty}};Lf.prototype.children=ek.prototype.children=wC.prototype.children=Z$;function Cue(n,e){let t=n.parent,i=t?t.children.indexOf(n):-1;for(;t&&i>=0;)if(e<0?i>0:i<t.children.length){let r=t.children[i+e];if(r instanceof Lf){let o=r.coordsAt(e<0?r.length:0,e);if(o)return o}i+=e}else if(t instanceof sc&&t.parent)i=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent;else{let r=t.dom.lastChild;if(r&&r.nodeName=="BR")return r.getClientRects()[0];break}}function CF(n,e,t){let i=0;for(let r=0;i<e.length;i++){let o=e[i],s=r+o.length;if(!(s==r&&o.getSide()<=0)){if(t>r&&t<s&&o.dom.parentNode==n)return o.domAtPos(t-r);if(t<=r)break;r=s}}for(;i>0;i--){let r=e[i-1].dom;if(r.parentNode==n)return Rr.after(r)}return new Rr(n,0)}function EF(n,e,t){let i,{children:r}=n;t>0&&e instanceof sc&&r.length&&(i=r[r.length-1])instanceof sc&&i.mark.eq(e.mark)?EF(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function MF(n,e,t){for(let o=0,s=0;s<n.children.length;s++){let l=n.children[s],a=o+l.length,c;if((t<=0||a==n.length||l.getSide()>0?a>=e:a>e)&&(e<a||s+1==n.children.length||(c=n.children[s+1]).length||c.getSide()>0)){let u=0;if(a==o){if(l.getSide()<=0)continue;u=t=-l.getSide()}let h=l.coordsAt(Math.max(0,e-o),t);return u&&h?Iy(h,t<0):h}o=a}let i=n.dom.lastChild;if(!i)return n.dom.getBoundingClientRect();let r=Nf(i);return r[r.length-1]||null}function CC(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function tk(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r of t)if(i.indexOf(r)==-1||n[r]!==e[r])return!1;return!0}function EC(n,e,t){let i=null;if(e)for(let r in e)t&&r in t||n.removeAttribute(i=r);if(t)for(let r in t)e&&e[r]==t[r]||n.setAttribute(i=r,t[r]);return!!i}let kp=class{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}};var ii=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(ii||(ii={}));let xn=class extends Qi{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new $F(e)}static widget(e){let t=e.side||0,i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new Hf(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:o,end:s}=RF(e,t);i=(o?t?-3e8:-1:5e8)-1,r=(s?t?2e8:1:-6e8)+1}return new Hf(e,i,r,t,e.widget||null,!0)}static line(e){return new nk(e)}static set(e,t=!1){return Be.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};xn.none=Be.empty;let $F=class kF extends xn{constructor(e){let{start:t,end:i}=RF(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof kF&&this.tagName==e.tagName&&this.class==e.class&&tk(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}};$F.prototype.point=!1;let nk=class OF extends xn{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof OF&&tk(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}};nk.prototype.mapMode=At.TrackBefore;nk.prototype.point=!0;let Hf=class AF extends xn{constructor(e,t,i,r,o,s){super(t,i,o,e),this.block=r,this.isReplace=s,this.mapMode=r?t<=0?At.TrackBefore:At.TrackAfter:At.TrackDel}get type(){return this.startSide<this.endSide?ii.WidgetRange:this.startSide<=0?ii.WidgetBefore:ii.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof AF&&Eue(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}};Hf.prototype.point=!0;function RF(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function Eue(n,e){return n==e||!!(n&&e&&n.compare(e))}function MC(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}let qo=class Pm extends Ci{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,o,s){if(i){if(!(i instanceof Pm))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),yF(this,e,t,i?i.children:[],o,s),!0}split(e){let t=new Pm;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let o=i;o<this.children.length;o++)t.append(this.children[o],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){tk(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){EF(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=CC(t,this.attrs||{})),i&&(this.attrs=CC({class:i},this.attrs||{}))}domAtPos(e){return CF(this.dom,this.children,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?this.dirty&4&&(gF(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(EC(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let i=this.dom.lastChild;for(;i&&Ci.get(i)instanceof sc;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((t=Ci.get(i))===null||t===void 0?void 0:t.isEditable)==!1&&(!ft.ios||!this.children.some(r=>r instanceof Lf))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof Lf))return null;let i=Nf(t.dom);if(i.length!=1)return null;e+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return MF(this,e,t)}become(e){return!1}get type(){return ii.Text}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let o=e.children[i],s=r+o.length;if(s>=t){if(o instanceof Pm)return o;if(s>t)break}r=s+o.breakAfter}return null}},$C=class Im extends Ci{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,o,s){return i&&(!(i instanceof Im)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Rr.before(this.dom):Rr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Im(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return Z$}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ve.empty}domBoundsAround(){return null}become(e){return e instanceof Im&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},Mue=class DF{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof $C&&e.type==ii.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new qo),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(Mg(new wC(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}else this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,i)),this.getLine().append(Mg(new Lf(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,o,s){if(this.disallowBlockEffectsFor[s]&&i instanceof Hf){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(i instanceof Hf)if(i.block){let{type:a}=i;a==ii.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new $C(i.widget||new FT("div"),l,a))}else{let a=ek.create(i.widget||new FT("span"),l,i.startSide),c=this.atCursorPos&&!a.isEditable&&o<=r.length&&(e<t||i.startSide>0),u=!a.isEditable&&(e<t||i.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(h.append(Mg(new wC(1),r),o),o=r.length+Math.max(0,o-r.length)),h.append(Mg(a,r),o),this.atCursorPos=u,this.pendingBuffer=u?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,i,r,o){let s=new DF(e,t,i,o);return s.openEnd=Be.spans(r,t,i,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}};function Mg(n,e){for(let t of e)n=new sc(t,[n],n.length);return n}let FT=class extends kp{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}};const TF=ie.define(),PF=ie.define(),IF=ie.define(),NF=ie.define(),kC=ie.define(),BF=ie.define(),LF=ie.define({combine:n=>n.some(e=>e)});let WT=class HF{constructor(e,t="nearest",i="nearest",r=5,o=5){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=o}map(e){return e.empty?this:new HF(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}};const _T=yt.define({map:(n,e)=>n.map(e)});function la(n,e,t){let i=n.facet(NF);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Op=ie.define({combine:n=>n.length?n[0]:!0});let $ue=0;const id=ie.define();let Ap=class OC{constructor(e,t,i,r){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=r(this)}static define(e,t){const{eventHandlers:i,provide:r,decorations:o}=t||{};return new OC($ue++,e,i,s=>{let l=[id.of(s)];return o&&l.push(zf.of(a=>{let c=a.plugin(s);return c?o(c):xn.none})),r&&l.push(r(s)),l})}static fromClass(e,t){return OC.define(i=>new e(i),t)}},D1=class{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(la(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){la(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){la(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}};const zF=ie.define(),VF=ie.define(),zf=ie.define(),FF=ie.define(),WF=ie.define(),rd=ie.define();let Vf=class Nm{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new Nm(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,o=0,s=0,l=0;;r++){let a=r==e.length?null:e[r],c=s-l,u=a?a.fromB:1e9;for(;o<t.length&&t[o]<u;){let h=t[o],d=t[o+1],f=Math.max(l,h),g=Math.min(u,d);if(f<=g&&new Nm(f+c,g+c,f,g).addToSet(i),d>u)break;o+=2}if(!a)return i;new Nm(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),s=a.toA,l=a.toB}}},jT=class _F{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=en.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,l,a,c)=>r.push(new Vf(s,l,a,c))),this.changedRanges=r;let o=e.hasFocus;o!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=o,this.flags|=1)}static create(e,t,i){return new _F(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}};var lr=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(lr||(lr={}));const AC=lr.LTR,kue=lr.RTL;function jF(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const Oue=jF("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Aue=jF("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),RC=Object.create(null),hs=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);RC[e]=t,RC[t]=-e}function Rue(n){return n<=247?Oue[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Aue[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203||n==8204?256:1}const Due=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;let Cu=class{constructor(e,t,i){this.from=e,this.to=t,this.level=i}get dir(){return this.level%2?kue:AC}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let o=-1;for(let s=0;s<e.length;s++){let l=e[s];if(l.from<=t&&l.to>=t){if(l.level==i)return s;(o<0||(r!=0?r<0?l.from<t:l.to>t:e[o].level>l.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}};const Nn=[];function Tue(n,e){let t=n.length,i=e==AC?1:2,r=e==AC?2:1;if(!n||i==1&&!Due.test(n))return KF(t);for(let s=0,l=i,a=i;s<t;s++){let c=Rue(n.charCodeAt(s));c==512?c=l:c==8&&a==4&&(c=16),Nn[s]=c==4?2:c,c&7&&(a=c),l=c}for(let s=0,l=i,a=i;s<t;s++){let c=Nn[s];if(c==128)s<t-1&&l==Nn[s+1]&&l&24?c=Nn[s]=l:Nn[s]=256;else if(c==64){let u=s+1;for(;u<t&&Nn[u]==64;)u++;let h=s&&l==8||u<t&&Nn[u]==8?a==1?1:8:256;for(let d=s;d<u;d++)Nn[d]=h;s=u-1}else c==8&&a==1&&(Nn[s]=1);l=c,c&7&&(a=c)}for(let s=0,l=0,a=0,c,u,h;s<t;s++)if(u=RC[c=n.charCodeAt(s)])if(u<0){for(let d=l-3;d>=0;d-=3)if(hs[d+1]==-u){let f=hs[d+2],g=f&2?i:f&4?f&1?r:i:0;g&&(Nn[s]=Nn[hs[d]]=g),l=d;break}}else{if(hs.length==189)break;hs[l++]=s,hs[l++]=c,hs[l++]=a}else if((h=Nn[s])==2||h==1){let d=h==i;a=d?0:1;for(let f=l-3;f>=0;f-=3){let g=hs[f+2];if(g&2)break;if(d)hs[f+2]|=2;else{if(g&4)break;hs[f+2]|=4}}}for(let s=0;s<t;s++)if(Nn[s]==256){let l=s+1;for(;l<t&&Nn[l]==256;)l++;let a=(s?Nn[s-1]:i)==1,c=(l<t?Nn[l]:i)==1,u=a==c?a?1:2:i;for(let h=s;h<l;h++)Nn[h]=u;s=l-1}let o=[];if(i==1)for(let s=0;s<t;){let l=s,a=Nn[s++]!=1;for(;s<t&&a==(Nn[s]!=1);)s++;if(a)for(let c=s;c>l;){let u=c,h=Nn[--c]!=2;for(;c>l&&h==(Nn[c-1]!=2);)c--;o.push(new Cu(c,u,h?2:1))}else o.push(new Cu(l,s,0))}else for(let s=0;s<t;){let l=s,a=Nn[s++]==2;for(;s<t&&a==(Nn[s]==2);)s++;o.push(new Cu(l,s,a?1:2))}return o}function KF(n){return[new Cu(0,n,0)]}let qF="";function Pue(n,e,t,i,r){var o;let s=i.head-n.from,l=-1;if(s==0){if(!r||!n.length)return null;e[0].level!=t&&(s=e[0].side(!1,t),l=0)}else if(s==n.length){if(r)return null;let d=e[e.length-1];d.level!=t&&(s=d.side(!0,t),l=e.length-1)}l<0&&(l=Cu.find(e,s,(o=i.bidiLevel)!==null&&o!==void 0?o:-1,i.assoc));let a=e[l];s==a.side(r,t)&&(a=e[l+=r?1:-1],s=a.side(!r,t));let c=r==(a.dir==t),u=Tt(n.text,s,c);if(qF=n.text.slice(Math.min(s,u),Math.max(s,u)),u!=a.side(r,t))return W.cursor(u+n.from,c?-1:1,a.level);let h=l==(r?e.length-1:0)?null:e[l+(r?1:-1)];return!h&&a.level!=t?W.cursor(r?n.to:n.from,r?-1:1,t):h&&h.level<a.level?W.cursor(h.side(!r,t)+n.from,r?1:-1,h.level):W.cursor(u+n.from,r?-1:1,a.level)}const ql="";let GF=class{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(rt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ql}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r),this.readNode(r);let o=r.nextSibling;if(o==t)break;let s=Ci.get(r),l=Ci.get(o);(s&&l?s.breakAfter:(s?s.breakAfter:KT(r))||KT(o)&&(r.nodeName!="BR"||r.cmIgnore))&&this.lineBreak(),r=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,l;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,i),s=this.lineSeparator.length):(l=r.exec(t))&&(o=l.index,s=l[0].length),this.append(t.slice(i,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=s-1);i=o+s}}readNode(e){if(e.cmIgnore)return;let t=Ci.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}};function KT(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}let qT=class{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}},GT=class extends Ci{constructor(e){super(),this.view=e,this.compositionDeco=xn.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new qo],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Vf(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:s,toA:l})=>l<this.minWidthFrom||s>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=xn.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=Nue(this.view,e.changes)),(ft.ie||ft.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,r=this.updateDeco(),o=zue(i,r,e.changes);return t=Vf.extendWithRanges(t,o),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=ft.chrome||ft.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(o),this.dirty=0,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof $C&&o.widget instanceof UT&&r.push(o.dom);i.updateGaps(r)}updateChildren(e,t){let i=this.childCursor(t);for(let r=e.length-1;;r--){let o=r>=0?e[r]:null;if(!o)break;let{fromA:s,toA:l,fromB:a,toB:c}=o,{content:u,breakAtStart:h,openStart:d,openEnd:f}=Mue.build(this.view.state.doc,a,c,this.decorations,this.dynamicDecorationMap),{i:g,off:y}=i.findPos(l,1),{i:v,off:m}=i.findPos(s,-1);vF(this,v,m,g,y,u,h,d,f)}}updateSelection(e=!1,t=!1){if(e&&this.view.observer.readSelectionRange(),!(t||this.mayControlSelection())||ft.ios&&this.view.inputState.rapidCompositionStart)return;let i=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,o=this.domAtPos(r.anchor),s=r.empty?o:this.domAtPos(r.head);if(ft.gecko&&r.empty&&Iue(o)){let a=document.createTextNode("");this.view.observer.ignore(()=>o.node.insertBefore(a,o.node.childNodes[o.offset]||null)),o=s=new Rr(a,0),i=!0}let l=this.view.observer.selectionRange;(i||!l.focusNode||!tv(o.node,o.offset,l.anchorNode,l.anchorOffset)||!tv(s.node,s.offset,l.focusNode,l.focusOffset))&&(this.view.observer.ignore(()=>{ft.android&&ft.chrome&&this.dom.contains(l.focusNode)&&Vue(l.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=ev(this.root);if(r.empty){if(ft.gecko){let c=Lue(o.node,o.offset);if(c&&c!=3){let u=XF(o.node,o.offset,c==1?1:-1);u&&(o=new Rr(u,c==1?0:u.nodeValue.length))}}a.collapse(o.node,o.offset),r.bidiLevel!=null&&l.cursorBidiLevel!=null&&(l.cursorBidiLevel=r.bidiLevel)}else if(a.extend)a.collapse(o.node,o.offset),a.extend(s.node,s.offset);else{let c=document.createRange();r.anchor>r.head&&([o,s]=[s,o]),c.setEnd(s.node,s.offset),c.setStart(o.node,o.offset),a.removeAllRanges(),a.addRange(c)}}),this.view.observer.setSelectionRange(o,s)),this.impreciseAnchor=o.precise?null:new Rr(l.anchorNode,l.anchorOffset),this.impreciseHead=s.precise?null:new Rr(l.focusNode,l.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=ev(this.root);if(!e.empty||!e.assoc||!t.modify)return;let i=qo.find(this,e.head);if(!i)return;let r=i.posAtStart;if(e.head==r||e.head==r+i.length)return;let o=this.coordsAt(e.head,-1),s=this.coordsAt(e.head,1);if(!o||!s||o.bottom>s.top)return;let l=this.domAtPos(e.head+e.assoc);t.collapse(l.node,l.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Op)?this.root.activeElement==this.dom:uC(this.dom,this.view.observer.selectionRange)}nearest(e){for(let t=e;t;){let i=Ci.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof qo)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,r=this.children.length-1;;r--){let o=this.children[r],s=i-o.breakAfter-o.length;if(e>s||e==s&&o.type!=ii.WidgetBefore&&o.type!=ii.WidgetAfter&&(!r||t==2||this.children[r-1].breakAfter||this.children[r-1].type==ii.WidgetBefore&&t>-2))return o.coordsAt(e-s,t);i=s}}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==lr.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],d=c+h.length;if(d>r)break;if(c>=i){let f=h.dom.getBoundingClientRect();if(t.push(f.height),s){let g=h.dom.lastChild,y=g?Nf(g):[];if(y.length){let v=y[y.length-1],m=a?v.right-f.left:f.right-v.left;m>l&&(l=m,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?lr.RTL:lr.LTR}measureTextSize(){for(let r of this.children)if(r instanceof qo){let o=r.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i;return e.className="cm-line",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=Nf(e.firstChild)[0];t=e.getBoundingClientRect().height,i=r?r.width/27:7,e.remove()}),{lineHeight:t,charWidth:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new mF(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],s=o?o.from-1:this.length;if(s>i){let l=t.lineBlockAt(s).bottom-t.lineBlockAt(i).top;e.push(xn.replace({widget:new UT(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,s))}if(!o)break;i=o.to+1}return xn.set(e)}updateDeco(){let e=this.view.state.facet(zf).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let o=0,s=0,l=0,a=0;for(let u of this.view.state.facet(WF).map(h=>h(this.view)))if(u){let{left:h,right:d,top:f,bottom:g}=u;h!=null&&(o=Math.max(o,h)),d!=null&&(s=Math.max(s,d)),f!=null&&(l=Math.max(l,f)),g!=null&&(a=Math.max(a,g))}let c={left:i.left-o,top:i.top-l,right:i.right+s,bottom:i.bottom+a};bue(this.view.scrollDOM,c,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==lr.LTR)}};function Iue(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}let UT=class extends kp{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}};function UF(n){let e=n.observer.selectionRange,t=e.focusNode&&XF(e.focusNode,e.focusOffset,0);if(!t)return null;let i=n.docView.nearest(t);if(!i)return null;if(i instanceof qo){let r=t;for(;r.parentNode!=i.dom;)r=r.parentNode;let o=r.previousSibling;for(;o&&!Ci.get(o);)o=o.previousSibling;let s=o?Ci.get(o).posAtEnd:i.posAtStart;return{from:s,to:s,node:r,text:t}}else{for(;;){let{parent:o}=i;if(!o)return null;if(o instanceof qo)break;i=o}let r=i.posAtStart;return{from:r,to:r+i.length,node:i.dom,text:t}}}function Nue(n,e){let t=UF(n);if(!t)return xn.none;let{from:i,to:r,node:o,text:s}=t,l=e.mapPos(i,1),a=Math.max(l,e.mapPos(r,-1)),{state:c}=n,u=o.nodeType==3?o.nodeValue:new GF([],c).readRange(o.firstChild,null).text;if(a-l<u.length)if(c.doc.sliceString(l,Math.min(c.doc.length,l+u.length),ql)==u)a=l+u.length;else if(c.doc.sliceString(Math.max(0,a-u.length),a,ql)==u)l=a-u.length;else return xn.none;else if(c.doc.sliceString(l,a,ql)!=u)return xn.none;let h=Ci.get(o);return h instanceof wF?h=h.widget.topView:h&&(h.parent=null),xn.set(xn.replace({widget:new Bue(o,s,h),inclusive:!0}).range(l,a))}let Bue=class extends kp{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return wF}};function XF(n,e,t){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0&&t<=0)n=n.childNodes[e-1],e=nv(n);else if(n.nodeType==1&&e<n.childNodes.length&&t>=0)n=n.childNodes[e],e=0;else return null}}function Lue(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let Hue=class{constructor(){this.changes=[]}compareRange(e,t){MC(e,t,this.changes)}comparePoint(e,t){MC(e,t,this.changes)}};function zue(n,e,t){let i=new Hue;return Be.compare(n,e,t,i),i.changes}function Vue(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function Fue(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),o=e-r.from;if(r.length==0)return W.cursor(e);o==0?t=1:o==r.length&&(t=-1);let s=o,l=o;t<0?s=Tt(r.text,o,!1):l=Tt(r.text,o);let a=i(r.text.slice(s,l));for(;s>0;){let c=Tt(r.text,s,!1);if(i(r.text.slice(c,s))!=a)break;s=c}for(;l<r.length;){let c=Tt(r.text,l);if(i(r.text.slice(l,c))!=a)break;l=c}return W.range(s+r.from,l+r.from)}function Wue(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function _ue(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function T1(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function XT(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function YT(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function DC(n,e,t){let i,r,o,s,l,a,c,u;for(let f=n.firstChild;f;f=f.nextSibling){let g=Nf(f);for(let y=0;y<g.length;y++){let v=g[y];r&&T1(r,v)&&(v=XT(YT(v,r.bottom),r.top));let m=Wue(e,v),b=_ue(t,v);if(m==0&&b==0)return f.nodeType==3?QT(f,e,t):DC(f,e,t);(!i||s>b||s==b&&o>m)&&(i=f,r=v,o=m,s=b),m==0?t>v.bottom&&(!c||c.bottom<v.bottom)?(l=f,c=v):t<v.top&&(!u||u.top>v.top)&&(a=f,u=v):c&&T1(c,v)?c=YT(c,v.bottom):u&&T1(u,v)&&(u=XT(u,v.top))}}if(c&&c.bottom>=t?(i=l,r=c):u&&u.top<=t&&(i=a,r=u),!i)return{node:n,offset:0};let h=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return QT(i,h,t);if(!o&&i.contentEditable=="true")return DC(i,h,t);let d=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:d}}function QT(n,e,t){let i=n.nodeValue.length,r=-1,o=1e9,s=0;for(let l=0;l<i;l++){let a=Bf(n,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let h=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<o){let d=e>=(u.left+u.right)/2,f=d;if((ft.chrome||ft.gecko)&&Bf(n,l).getBoundingClientRect().left==u.right&&(f=!d),h<=0)return{node:n,offset:l+(f?1:0)};r=l+(f?1:0),o=h}}}return{node:n,offset:r>-1?r:s>0?n.nodeValue.length:0}}function YF(n,{x:e,y:t},i,r=-1){var o;let s=n.contentDOM.getBoundingClientRect(),l=s.top+n.viewState.paddingTop,a,{docHeight:c}=n.viewState,u=t-l;if(u<0)return 0;if(u>c)return n.state.doc.length;for(let m=n.defaultLineHeight/2,b=!1;a=n.elementAtHeight(u),a.type!=ii.Text;)for(;u=r>0?a.bottom+m:a.top-m,!(u>=0&&u<=c);){if(b)return i?null:0;b=!0,r=-r}t=l+u;let h=a.from;if(h<n.viewport.from)return n.viewport.from==0?0:i?null:JT(n,s,a,e,t);if(h>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:i?null:JT(n,s,a,e,t);let d=n.dom.ownerDocument,f=n.root.elementFromPoint?n.root:d,g=f.elementFromPoint(e,t);g&&!n.contentDOM.contains(g)&&(g=null),g||(e=Math.max(s.left+1,Math.min(s.right-1,e)),g=f.elementFromPoint(e,t),g&&!n.contentDOM.contains(g)&&(g=null));let y,v=-1;if(g&&((o=n.docView.nearest(g))===null||o===void 0?void 0:o.isEditable)!=!1){if(d.caretPositionFromPoint){let m=d.caretPositionFromPoint(e,t);m&&({offsetNode:y,offset:v}=m)}else if(d.caretRangeFromPoint){let m=d.caretRangeFromPoint(e,t);m&&({startContainer:y,startOffset:v}=m,ft.safari&&jue(y,v,e)&&(y=void 0))}}if(!y||!n.docView.dom.contains(y)){let m=qo.find(n.docView,h);if(!m)return u>a.top+a.height/2?a.to:a.from;({node:y,offset:v}=DC(m.dom,e,t))}return n.docView.posFromDOM(y,v)}function JT(n,e,t,i,r){let o=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let l=Math.floor((r-t.top)/n.defaultLineHeight);o+=l*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+pa(s,o,n.state.tabSize)}function jue(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return Bf(n,i-1,i).getBoundingClientRect().left>t}function Kue(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=!i||!n.lineWrapping?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(o){let a=n.dom.getBoundingClientRect(),c=n.textDirectionAt(r.from),u=n.posAtCoords({x:t==(c==lr.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(u!=null)return W.cursor(u,t?-1:1)}let s=qo.find(n.docView,e.head),l=s?t?s.posAtEnd:s.posAtStart:t?r.to:r.from;return W.cursor(l,t?-1:1)}function ZT(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=n.bidiSpans(r),s=n.textDirectionAt(r.from);for(let l=e,a=null;;){let c=Pue(r,o,s,l,t),u=qF;if(!c){if(r.number==(t?n.state.doc.lines:1))return l;u=`
`,r=n.state.doc.line(r.number+(t?1:-1)),o=n.bidiSpans(r),c=W.cursor(t?r.from:r.to)}if(a){if(!a(u))return l}else{if(!i)return c;a=i(u)}l=c}}function que(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return o=>{let s=i(o);return r==ci.Space&&(r=s),r==s}}function Gue(n,e,t,i){let r=e.head,o=t?1:-1;if(r==(t?n.state.doc.length:0))return W.cursor(r,e.assoc);let s=e.goalColumn,l,a=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(r),u=n.documentTop;if(c)s==null&&(s=c.left-a.left),l=o<0?c.top:c.bottom;else{let f=n.viewState.lineBlockAt(r);s==null&&(s=Math.min(a.right-a.left,n.defaultCharacterWidth*(r-f.from))),l=(o<0?f.top:f.bottom)+u}let h=a.left+s,d=i??n.defaultLineHeight>>1;for(let f=0;;f+=10){let g=l+(d+f)*o,y=YF(n,{x:h,y:g},!1,o);if(g<a.top||g>a.bottom||(o<0?y<r:y>r))return W.cursor(y,e.assoc,void 0,s)}}function P1(n,e,t){let i=n.state.facet(FF).map(r=>r(n));for(;;){let r=!1;for(let o of i)o.between(t.from-1,t.from+1,(s,l,a)=>{t.from>s&&t.from<l&&(t=e.from>t.from?W.cursor(s,1):W.cursor(l,-1),r=!0)});if(!r)return t}}let Uue=class{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in Pi){let i=Pi[t];e.contentDOM.addEventListener(t,r=>{!eP(e,r)||this.ignoreDuringComposition(r)||t=="keydown"&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,r)?r.preventDefault():i(e,r))}),this.registeredEvents.push(t)}ft.chrome&&ft.chrome_version>=102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,ft.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var i;let r;this.customHandlers=[];for(let o of t)if(r=(i=o.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:r});for(let s in r)this.registeredEvents.indexOf(s)<0&&s!="scroll"&&(this.registeredEvents.push(s),e.contentDOM.addEventListener(s,l=>{eP(e,l)&&this.runCustomHandlers(s,e,l)&&l.preventDefault()}))}}runCustomHandlers(e,t,i){for(let r of this.customHandlers){let o=r.handlers[e];if(o)try{if(o.call(r.plugin,i,t)||i.defaultPrevented)return!0}catch(s){la(t.state,s)}}return!1}runScrollHandlers(e,t){for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,t,e)}catch(o){la(e.state,o)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(ft.android&&ft.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return ft.ios&&(i=QF.find(r=>r.keyCode==t.keyCode))&&!(t.ctrlKey||t.altKey||t.metaKey)&&!t.synthetic?(this.pendingIOSKey=i,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Fd(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ft.safari&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229||e.type=="compositionend"&&!ft.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};const QF=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Xue=[16,17,18,20,91,92,224,225];let Yue=class{constructor(e,t,i,r){this.view=e,this.style=i,this.mustSelect=r,this.lastEvent=t;let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(rt.allowMultipleSelections)&&Que(e,t),this.dragMove=Jue(e,t),this.dragging=Zue(e,t)&&ik(t)==1?null:!1,this.dragging===!1&&(t.preventDefault(),this.select(t))}move(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}};function Que(n,e){let t=n.state.facet(TF);return t.length?t[0](e):ft.mac?e.metaKey:e.ctrlKey}function Jue(n,e){let t=n.state.facet(PF);return t.length?t[0](e):ft.mac?!e.altKey:!e.ctrlKey}function Zue(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=ev(n.root);if(i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let s=r[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function eP(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=Ci.get(t))&&i.ignoreEvent(e))return!1;return!0}const Pi=Object.create(null),JF=ft.ie&&ft.ie_version<15||ft.ios&&ft.webkit_version<604;function ehe(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),ZF(n,t.value)},50)}function ZF(n,e){let{state:t}=n,i,r=1,o=t.toText(e),s=o.lines==t.selection.ranges.length;if(TC!=null&&t.selection.ranges.every(a=>a.empty)&&TC==o.toString()){let a=-1;i=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==a)return{range:c};a=u.from;let h=t.toText((s?o.line(r++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:h},range:W.cursor(c.from+h.length)}})}else s?i=t.changeByRange(a=>{let c=o.line(r++);return{changes:{from:a.from,to:a.to,insert:c.text},range:W.cursor(a.from+c.length)}}):i=t.replaceSelection(o);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Pi.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),e.keyCode==27?n.inputState.lastEscPress=Date.now():Xue.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)};let e5=0;Pi.touchstart=(n,e)=>{e5=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Pi.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Pi.mousedown=(n,e)=>{if(n.observer.flush(),e5>Date.now()-2e3&&ik(e)==1)return;let t=null;for(let i of n.state.facet(IF))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=ihe(n,e)),t){let i=n.root.activeElement!=n.contentDOM;i&&n.observer.ignore(()=>pF(n.contentDOM)),n.inputState.startMouseSelection(new Yue(n,e,t,i))}};function tP(n,e,t,i){if(i==1)return W.cursor(e,t);if(i==2)return Fue(n.state,e,t);{let r=qo.find(n.docView,e),o=n.state.doc.lineAt(r?r.posAtEnd:e),s=r?r.posAtStart:o.from,l=r?r.posAtEnd:o.to;return l<n.state.doc.length&&l==o.to&&l++,W.range(s,l)}}let t5=(n,e)=>n>=e.top&&n<=e.bottom,nP=(n,e,t)=>t5(e,t)&&n>=t.left&&n<=t.right;function the(n,e,t,i){let r=qo.find(n.docView,e);if(!r)return 1;let o=e-r.posAtStart;if(o==0)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&nP(t,i,s))return-1;let l=r.coordsAt(o,1);return l&&nP(t,i,l)?1:s&&t5(i,s)?-1:1}function iP(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:the(n,t,e.clientX,e.clientY)}}const nhe=ft.ie&&ft.ie_version<=11;let rP=null,oP=0,sP=0;function ik(n){if(!nhe)return n.detail;let e=rP,t=sP;return rP=n,sP=Date.now(),oP=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(oP+1)%3:1}function ihe(n,e){let t=iP(n,e),i=ik(e),r=n.state.selection,o=t,s=e;return{update(l){l.docChanged&&(t&&(t.pos=l.changes.mapPos(t.pos)),r=r.map(l.changes),s=null)},get(l,a,c){let u;if(s&&l.clientX==s.clientX&&l.clientY==s.clientY?u=o:(u=o=iP(n,l),s=l),!u||!t)return r;let h=tP(n,u.pos,u.bias,i);if(t.pos!=u.pos&&!a){let d=tP(n,t.pos,t.bias,i),f=Math.min(d.from,h.from),g=Math.max(d.to,h.to);h=f<h.from?W.range(f,g):W.range(g,f)}return a?r.replaceRange(r.main.extend(h.from,h.to)):c?r.addRange(h):W.create([h])}}}Pi.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function lP(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:o}=n.inputState,s=i&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,l={from:r,insert:t},a=n.state.changes(s?[s,l]:l);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(r,-1),head:a.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"})}Pi.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),r=0,o=()=>{++r==t.length&&lP(n,e,i.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(i[s]=l.result),o()},l.readAsText(t[s])}}else lP(n,e,e.dataTransfer.getData("Text"),!0)};Pi.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=JF?null:e.clipboardData;t?(ZF(n,t.getData("text/plain")),e.preventDefault()):ehe(n)};function rhe(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function ohe(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>r&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),r=s.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let TC=null;Pi.copy=Pi.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=ohe(n.state);if(!t&&!r)return;TC=r?t:null;let o=JF?null:e.clipboardData;o?(e.preventDefault(),o.clearData(),o.setData("text/plain",t)):rhe(n,t),e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};function n5(n){setTimeout(()=>{n.hasFocus!=n.inputState.notifiedFocused&&n.update([])},10)}Pi.focus=n5;Pi.blur=n=>{n.observer.clearSelectionRange(),n5(n)};function i5(n,e){if(n.docView.compositionDeco.size){n.inputState.rapidCompositionStart=e;try{n.update([])}finally{n.inputState.rapidCompositionStart=!1}}}Pi.compositionstart=Pi.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0,n.docView.compositionDeco.size&&(n.observer.flush(),i5(n,!0)))};Pi.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionFirstChange=null,setTimeout(()=>{n.inputState.composing<0&&i5(n,!1)},50)};Pi.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Pi.beforeinput=(n,e)=>{var t;let i;if(ft.chrome&&ft.android&&(i=QF.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const aP=["pre-wrap","normal","pre-line","break-spaces"];let she=class{constructor(){this.doc=Ve.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return aP.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,o){let s=aP.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=t,this.charWidth=i,this.lineLength=r,l){this.heightSamples={};for(let a=0;a<o.length;a++){let c=o[a];c<0?a++:this.heightSamples[Math.floor(c*10)]=!0}}return l}},lhe=class{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}},ou=class r5{constructor(e,t,i,r,o){this.from=e,this.length=t,this.top=i,this.height=r,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new r5(this.from,this.length+e.length,this.top,this.height+e.height,t)}};var vn=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(vn||(vn={}));const Bm=.001;let Ls=class Lm{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Bm&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return Lm.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let o=this;for(let s=r.length-1;s>=0;s--){let{fromA:l,toA:a,fromB:c,toB:u}=r[s],h=o.lineAt(l,vn.ByPosNoHeight,t,0,0),d=h.to>=a?h:o.lineAt(a,vn.ByPosNoHeight,t,0,0);for(u+=d.to-a,a=d.to;s>0&&h.from<=r[s-1].toA;)l=r[s-1].fromA,c=r[s-1].fromB,s--,l<h.from&&(h=o.lineAt(l,vn.ByPosNoHeight,t,0,0));c+=h.from-l,l=h.from;let f=uhe.build(i,e,c,u);o=o.replace(l,a,f)}return o.updateHeight(i,0)}static empty(){return new xs(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,o=0;for(;;)if(t==i)if(r>o*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),i+=1+l.break,r-=l.size}else if(o>r*2){let l=e[i];l.break?e.splice(i,1,l.left,null,l.right):e.splice(i,1,l.left,l.right),i+=2+l.break,o-=l.size}else break;else if(r<o){let l=e[t++];l&&(r+=l.size)}else{let l=e[--i];l&&(o+=l.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,i++),new ahe(Lm.of(e.slice(0,t)),s,Lm.of(e.slice(i)))}};Ls.prototype.size=1;let o5=class extends Ls{constructor(e,t,i){super(e,t),this.type=i}blockAt(e,t,i,r){return new ou(r,this.length,i,this.height,this.type)}lineAt(e,t,i,r,o){return this.blockAt(0,i,r,o)}forEachLine(e,t,i,r,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,i,r,o))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}},xs=class PC extends o5{constructor(e,t){super(e,t,ii.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof PC||r instanceof Eu&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof Eu?r=new PC(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Ls.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},Eu=class Bo extends Ls{constructor(e){super(e,0)}lines(e,t){let i=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:i,lastLine:r,lineHeight:this.height/(r-i+1)}}blockAt(e,t,i,r){let{firstLine:o,lastLine:s,lineHeight:l}=this.lines(t,r),a=Math.max(0,Math.min(s-o,Math.floor((e-i)/l))),{from:c,length:u}=t.line(o+a);return new ou(c,u,i+l*a,l,ii.Text)}lineAt(e,t,i,r,o){if(t==vn.ByHeight)return this.blockAt(e,i,r,o);if(t==vn.ByPosNoHeight){let{from:h,to:d}=i.lineAt(e);return new ou(h,d-h,0,0,ii.Text)}let{firstLine:s,lineHeight:l}=this.lines(i,o),{from:a,length:c,number:u}=i.lineAt(e);return new ou(a,c,r+l*(u-s),l,ii.Text)}forEachLine(e,t,i,r,o,s){let{firstLine:l,lineHeight:a}=this.lines(i,o);for(let c=Math.max(e,o),u=Math.min(o+this.length,t);c<=u;){let h=i.lineAt(c);c==e&&(r+=a*(h.number-l)),s(new ou(h.from,h.length,r,a,ii.Text)),r+=a,c=h.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let o=i[i.length-1];o instanceof Bo?i[i.length-1]=new Bo(o.length+r):i.push(null,new Bo(r-1))}if(e>0){let o=i[0];o instanceof Bo?i[0]=new Bo(e+o.length):i.unshift(new Bo(e-1),null)}return Ls.of(i)}decomposeLeft(e,t){t.push(new Bo(e-1),null)}decomposeRight(e,t){t.push(null,new Bo(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let s=[],l=Math.max(t,r.from),a=-1,c=e.heightChanged;for(r.from>t&&s.push(new Bo(r.from-t-1).updateHeight(e,t));l<=o&&r.more;){let h=e.doc.lineAt(l).length;s.length&&s.push(null);let d=r.heights[r.index++];a==-1?a=d:Math.abs(d-a)>=Bm&&(a=-2);let f=new xs(h,d);f.outdated=!1,s.push(f),l+=h+1}l<=o&&s.push(null,new Bo(o-l).updateHeight(e,l));let u=Ls.of(s);return e.heightChanged=c||a<0||Math.abs(u.height-this.height)>=Bm||Math.abs(a-this.lines(e.doc,t).lineHeight)>=Bm,u}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},ahe=class extends Ls{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let o=i+this.left.height;return e<o?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,i,r,o){let s=r+this.left.height,l=o+this.left.length+this.break,a=t==vn.ByHeight?e<s:e<l,c=a?this.left.lineAt(e,t,i,r,o):this.right.lineAt(e,t,i,s,l);if(this.break||(a?c.to<l:c.from>l))return c;let u=t==vn.ByPosNoHeight?vn.ByPosNoHeight:vn.ByPos;return a?c.join(this.right.lineAt(l,u,i,s,l)):this.left.lineAt(l,u,i,r,o).join(c)}forEachLine(e,t,i,r,o,s){let l=r+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,i,r,o,s),t>=a&&this.right.forEachLine(e,t,i,l,a,s);else{let c=this.lineAt(a,vn.ByPos,i,r,o);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,o,s),c.to>=e&&c.from<=t&&s(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,l,a,s)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let l of i)o.push(l);if(e>0&&cP(o,s-1),t<this.length){let l=o.length;this.decomposeRight(t,o),cP(o,l)}return Ls.of(o)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Ls.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:o,right:s}=this,l=t+o.length+this.break,a=null;return r&&r.from<=t+o.length&&r.more?a=o=o.updateHeight(e,t,i,r):o.updateHeight(e,t,i),r&&r.from<=l+s.length&&r.more?a=s=s.updateHeight(e,l,i,r):s.updateHeight(e,l,i),a?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function cP(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof Eu&&(i=n[e+1])instanceof Eu&&n.splice(e-1,3,new Eu(t.length+1+i.length))}const che=5;let uhe=class s5{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof xs?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new xs(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new o5(o,r,i.type)):(o||r>=che)&&this.addLineDeco(r,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new xs(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new Eu(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof xs)return e;let t=new xs(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==ii.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=ii.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let i=this.ensureLine();i.length+=t,i.collapsed+=t,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof xs)&&!this.isCovered?this.nodes.push(new xs(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof xs&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let o=new s5(i,e);return Be.spans(t,i,r,o,0),o.finish(i)}};function hhe(n,e,t){let i=new dhe;return Be.compare(n,e,t,i,0),i.changes}let dhe=class{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&MC(e,t,this.changes,5)}};function fhe(n,e){let t=n.getBoundingClientRect(),i=Math.max(0,t.left),r=Math.min(innerWidth,t.right),o=Math.max(0,t.top),s=Math.min(innerHeight,t.bottom),l=n.ownerDocument.body;for(let a=n.parentNode;a&&a!=l;)if(a.nodeType==1){let c=a,u=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&u.overflow!="visible"){let h=c.getBoundingClientRect();i=Math.max(i,h.left),r=Math.min(r,h.right),o=Math.max(o,h.top),s=Math.min(s,h.bottom)}a=u.position=="absolute"||u.position=="fixed"?c.offsetParent:c.parentNode}else if(a.nodeType==11)a=a.host;else break;return{left:i-t.left,right:Math.max(i,r)-t.left,top:o-(t.top+e),bottom:Math.max(o,s)-(t.top+e)}}function phe(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}let I1=class{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e){return xn.replace({widget:new ghe(this.size,e)}).range(this.from,this.to)}},ghe=class extends kp{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}},uP=class{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new she,this.scaler=fP,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=lr.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(zf).filter(t=>typeof t!="function"),this.heightMap=Ls.empty().applyChanges(this.stateDeco,Ve.empty,this.heightOracle.setDoc(e.doc),[new Vf(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=xn.set(this.lineGaps.map(t=>t.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:o,to:s})=>r>=o&&r<=s)){let{from:o,to:s}=this.lineBlockAt(r);e.push(new $g(o,s))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?fP:new yhe(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:od(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(zf).filter(c=>typeof c!="function");let r=e.changedRanges,o=Vf.extendWithRanges(r,hhe(i,this.stateDeco,e?e.changes:en.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(e.flags|=2);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let a=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,o=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?lr.RTL:lr.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=s||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;let a=0,c=0,u=parseInt(i.paddingTop)||0,h=parseInt(i.paddingBottom)||0;(this.paddingTop!=u||this.paddingBottom!=h)&&(this.paddingTop=u,this.paddingBottom=h,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);let d=(this.printing?phe:fhe)(t,this.paddingTop),f=d.top-this.pixelViewport.top,g=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView)return 0;let v=t.clientWidth;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=v,this.editorHeight=e.scrollDOM.clientHeight,a|=8),l){let b=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(b)&&(s=!0),s||r.lineWrapping&&Math.abs(v-this.contentDOMWidth)>r.charWidth){let{lineHeight:S,charWidth:w}=e.docView.measureTextSize();s=r.refresh(o,S,w,v/w,b),s&&(e.docView.minWidth=0,a|=8)}f>0&&g>0?c=Math.max(f,g):f<0&&g<0&&(c=Math.min(f,g)),r.heightChanged=!1;for(let S of this.viewports){let w=S.from==this.viewport.from?b:e.docView.measureVisibleLineHeights(S);this.heightMap=this.heightMap.updateHeight(r,0,s,new lhe(S.from,w))}r.heightChanged&&(a|=2)}let m=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(a&2||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.state.doc,{visibleTop:s,visibleBottom:l}=this,a=new $g(r.lineAt(s-i*1e3,vn.ByHeight,o,0,0).from,r.lineAt(l+(1-i)*1e3,vn.ByHeight,o,0,0).to);if(t){let{head:c}=t.range;if(c<a.from||c>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=r.lineAt(c,vn.ByPos,o,0,0),d;t.y=="center"?d=(h.top+h.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<a.from?d=h.top:d=h.bottom-u,a=new $g(r.lineAt(d-1e3/2,vn.ByHeight,o,0,0).from,r.lineAt(d+u+1e3/2,vn.ByHeight,o,0,0).to)}}return a}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new $g(this.heightMap.lineAt(i,vn.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,vn.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,vn.ByPos,this.state.doc,0,0),{bottom:o}=this.heightMap.lineAt(t,vn.ByPos,this.state.doc,0,0),{visibleTop:s,visibleBottom:l}=this;return(e==0||r<=s-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||o>=l+Math.max(10,Math.min(i,250)))&&r>s-2*1e3&&o<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new I1(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e){let t=[];if(this.defaultTextDirection!=lr.LTR)return t;for(let i of this.viewportLines){if(i.length<4e3)continue;let r=mhe(i.from,i.to,this.stateDeco);if(r.total<4e3)continue;let o,s;if(this.heightOracle.lineWrapping){let c=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;o=kg(r,(this.visibleTop-i.top-c)/i.height),s=kg(r,(this.visibleBottom-i.top+c)/i.height)}else{let c=r.total*this.heightOracle.charWidth,u=2e3*this.heightOracle.charWidth;o=kg(r,(this.pixelViewport.left-u)/c),s=kg(r,(this.pixelViewport.right+u)/c)}let l=[];o>i.from&&l.push({from:i.from,to:o}),s<i.to&&l.push({from:s,to:i.to});let a=this.state.selection.main;a.from>=i.from&&a.from<=i.to&&dP(l,a.from-10,a.from+10),!a.empty&&a.to>=i.from&&a.to<=i.to&&dP(l,a.to-10,a.to+10);for(let{from:c,to:u}of l)u-c>1e3&&t.push(vhe(e,h=>h.from>=i.from&&h.to<=i.to&&Math.abs(h.from-c)<1e3&&Math.abs(h.to-u)<1e3)||new I1(c,u,this.gapSize(i,c,u,r)))}return t}gapSize(e,t,i,r){let o=hP(r,i)-hP(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){I1.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=xn.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Be.spans(e,this.viewport.from,this.viewport.to,{span(r,o){t.push({from:r,to:o})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,o)=>r.from!=t[o].from||r.to!=t[o].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||od(this.heightMap.lineAt(e,vn.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return od(this.heightMap.lineAt(this.scaler.fromDOM(e),vn.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return od(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},$g=class{constructor(e,t){this.from=e,this.to=t}};function mhe(n,e,t){let i=[],r=n,o=0;return Be.spans(t,n,e,{span(){},point(s,l){s>r&&(i.push({from:r,to:s}),o+=s-r),r=l}},20),r<e&&(i.push({from:r,to:e}),o+=e-r),{total:o,ranges:i}}function kg({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:o,to:s}=e[r],l=s-o;if(i<=l)return o+i;i-=l}}function hP(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function dP(n,e,t){for(let i=0;i<n.length;i++){let r=n[i];if(r.from<t&&r.to>e){let o=[];r.from<e&&o.push({from:r.from,to:e}),r.to>t&&o.push({from:t,to:r.to}),n.splice(i,1,...o),i+=o.length-1}}}function vhe(n,e){for(let t of n)if(e(t))return t}const fP={toDOM(n){return n},fromDOM(n){return n},scale:1};let yhe=class{constructor(e,t,i){let r=0,o=0,s=0;this.viewports=i.map(({from:l,to:a})=>{let c=t.lineAt(l,vn.ByPos,e,0,0).top,u=t.lineAt(a,vn.ByPos,e,0,0).bottom;return r+=u-c,{from:l,to:a,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let l of this.viewports)l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-i)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);i=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return i+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);i=o.bottom,r=o.domBottom}}};function od(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new ou(n.from,n.length,t,i-t,Array.isArray(n.type)?n.type.map(r=>od(r,e)):n.type)}const Og=ie.define({combine:n=>n.join(" ")}),IC=ie.define({combine:n=>n.indexOf(!0)>-1}),NC=It.newName(),l5=It.newName(),a5=It.newName(),c5={"&light":"."+l5,"&dark":"."+a5};function BC(n,e,t){return new It(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const bhe=BC("."+NC,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},c5),She={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},N1=ft.ie&&ft.ie_version<=11;let whe=class{constructor(e,t,i){this.view=e,this.onChange=t,this.onScrollChanged=i,this.active=!1,this.selectionRange=new Sue,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let o of r)this.queue.push(o);(ft.ie&&ft.ie_version<=11||ft.ios&&e.composing)&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),N1&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,i=this.selectionRange;if(t.state.facet(Op)?t.root.activeElement!=this.dom:!uC(t.dom,i))return;let r=i.anchorNode&&t.docView.nearest(i.anchorNode);r&&r.ignoreEvent(e)||((ft.ie&&ft.ie_version<=11||ft.android&&ft.chrome)&&!t.state.selection.main.empty&&i.focusNode&&tv(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,t=ev(e),i=ft.safari&&e.nodeType==11&&vue()==this.view.contentDOM&&xhe(this.view)||t;return this.selectionRange.eq(i)?!1:(this.selectionRange.setRange(i),this.selectionChanged=!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,She),N1&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),N1&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame(()=>{let i=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||Fd(this.view.contentDOM,i.key,i.keyCode)}),(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let o of this.observer.takeRecords())e.push(o);e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(r=!0),t==-1?{from:t,to:i}=s:(t=Math.min(s.from,t),i=Math.max(s.to,i)))}return{from:t,to:i,typeOver:r}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:i,typeOver:r}=this.processRecords(),o=this.selectionChanged&&uC(this.dom,this.selectionRange);if(t<0&&!o)return;this.selectionChanged=!1;let s=this.view.state,l=this.onChange(t,i,r);return this.view.state==s&&this.view.update([]),l}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let i=pP(t,e.previousSibling||e.target.previousSibling,-1),r=pP(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resize)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}};function pP(n,e,t){for(;e;){let i=Ci.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function xhe(n){let e=null;function t(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),document.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return tv(l.node,l.offset,o,s)&&([i,r,o,s]=[o,s,i,r]),{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:s}}function Che(n,e,t,i){let r,o,s=n.state.selection.main;if(e>-1){let l=n.docView.domBoundsAround(e,t,0);if(!l||n.state.readOnly)return!1;let{from:a,to:c}=l,u=n.docView.impreciseHead||n.docView.impreciseAnchor?[]:Mhe(n),h=new GF(u,n.state);h.readRange(l.startDOM,l.endDOM);let d=s.from,f=null;(n.inputState.lastKeyCode===8&&n.inputState.lastKeyTime>Date.now()-100||ft.android&&h.text.length<c-a)&&(d=s.to,f="end");let g=Ehe(n.state.doc.sliceString(a,c,ql),h.text,d-a,f);g&&(ft.chrome&&n.inputState.lastKeyCode==13&&g.toB==g.from+2&&h.text.slice(g.from,g.toB)==ql+ql&&g.toB--,r={from:a+g.from,to:a+g.toA,insert:Ve.of(h.text.slice(g.from,g.toB).split(ql))}),o=$he(u,a)}else if(n.hasFocus||!n.state.facet(Op)){let l=n.observer.selectionRange,{impreciseHead:a,impreciseAnchor:c}=n.docView,u=a&&a.node==l.focusNode&&a.offset==l.focusOffset||!Qu(n.contentDOM,l.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(l.focusNode,l.focusOffset),h=c&&c.node==l.anchorNode&&c.offset==l.anchorOffset||!Qu(n.contentDOM,l.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(l.anchorNode,l.anchorOffset);(u!=s.head||h!=s.anchor)&&(o=W.single(h,u))}if(!r&&!o)return!1;if(!r&&i&&!s.empty&&o&&o.main.empty?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,s.to))}:(ft.mac||ft.android)&&r&&r.from==r.to&&r.from==s.head-1&&r.insert.toString()=="."&&(r={from:s.from,to:s.to,insert:Ve.of([" "])}),r){let l=n.state;if(ft.ios&&n.inputState.flushIOSKey(n)||ft.android&&(r.from==s.from&&r.to==s.to&&r.insert.length==1&&r.insert.lines==2&&Fd(n.contentDOM,"Enter",13)||r.from==s.from-1&&r.to==s.to&&r.insert.length==0&&Fd(n.contentDOM,"Backspace",8)||r.from==s.from&&r.to==s.to+1&&r.insert.length==0&&Fd(n.contentDOM,"Delete",46)))return!0;let a=r.insert.toString();if(n.state.facet(BF).some(h=>h(n,r.from,r.to,a)))return!0;n.inputState.composing>=0&&n.inputState.composing++;let c;if(r.from>=s.from&&r.to<=s.to&&r.to-r.from>=(s.to-s.from)/3&&(!o||o.main.empty&&o.main.from==r.from+r.insert.length)&&n.inputState.composing<0){let h=s.from<r.from?l.sliceDoc(s.from,r.from):"",d=s.to>r.to?l.sliceDoc(r.to,s.to):"";c=l.replaceSelection(n.state.toText(h+r.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let h=l.changes(r),d=o&&!l.selection.main.eq(o.main)&&o.main.to<=h.newLength?o.main:void 0;if(l.selection.ranges.length>1&&n.inputState.composing>=0&&r.to<=s.to&&r.to>=s.to-10){let f=n.state.sliceDoc(r.from,r.to),g=UF(n)||n.state.doc.lineAt(s.head),y=s.to-r.to,v=s.to-s.from;c=l.changeByRange(m=>{if(m.from==s.from&&m.to==s.to)return{changes:h,range:d||m.map(h)};let b=m.to-y,S=b-f.length;if(m.to-m.from!=v||n.state.sliceDoc(S,b)!=f||g&&m.to>=g.from&&m.from<=g.to)return{range:m};let w=l.changes({from:S,to:b,insert:r.insert}),x=m.to-s.to;return{changes:w,range:d?W.range(Math.max(0,d.anchor+x),Math.max(0,d.head+x)):m.map(w)}})}else c={changes:h,selection:d&&l.selection.replaceRange(d)}}let u="input.type";return n.composing&&(u+=".compose",n.inputState.compositionFirstChange&&(u+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(c,{scrollIntoView:!0,userEvent:u}),!0}else if(o&&!o.main.eq(s)){let l=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(l=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:o,scrollIntoView:l,userEvent:a}),!0}else return!1}function Ehe(n,e,t,i){let r=Math.min(n.length,e.length),o=0;for(;o<r&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==r&&n.length==e.length)return null;let s=n.length,l=e.length;for(;s>0&&l>0&&n.charCodeAt(s-1)==e.charCodeAt(l-1);)s--,l--;if(i=="end"){let a=Math.max(0,o-Math.min(s,l));t-=s+a-o}if(s<o&&n.length<e.length){let a=t<=o&&t>=s?o-t:0;o-=a,l=o+(l-s),s=o}else if(l<o){let a=t<=o&&t>=l?o-t:0;o-=a,s=o+(s-l),l=o}return{from:o,toA:s,toB:l}}function Mhe(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new qT(t,i)),(r!=t||o!=i)&&e.push(new qT(r,o))),e}function $he(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?W.single(t+e,i+e):null}let ln=class u5{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this.root=e.root||wue(e.parent)||document,this.viewState=new uP(e.state||rt.create()),this.plugins=this.state.facet(id).map(t=>new D1(t));for(let t of this.plugins)t.update(this);this.observer=new whe(this,(t,i,r)=>Che(this,t,i,r),t=>{this.inputState.runScrollHandlers(this,t),this.observer.intersecting&&this.measure()}),this.inputState=new Uue(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new GT(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Tn?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,o=this.state;for(let l of e){if(l.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=l.state}if(this.destroyed){this.viewState.state=o;return}if(this.observer.clear(),o.facet(rt.phrases)!=this.state.facet(rt.phrases))return this.setState(o);r=jT.create(this,o,e);let s=this.viewState.scrollTarget;try{this.updateState=2;for(let l of e){if(s&&(s=s.map(l.changes)),l.scrollIntoView){let{main:a}=l.state.selection;s=new WT(a.empty?a:W.cursor(a.head,a.head>a.anchor?-1:1))}for(let a of l.effects)a.is(_T)&&(s=a.value)}this.viewState.update(r,s),this.bidiCache=mP.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(rd)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(l=>l.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Og)!=r.state.facet(Og)&&(this.viewState.mustMeasureContent=!0),(t||i||s||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let l of this.state.facet(kC))l(r)}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new uP(e),this.plugins=e.facet(id).map(i=>new D1(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new GT(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(id),i=e.state.facet(id);if(t!=i){let r=[];for(let o of i){let s=t.indexOf(o);if(s<0)r.push(new D1(o));else{let l=this.plugins[s];l.mustUpdate=e,r.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.flush();let t=null;try{for(let i=0;;i++){this.updateState=1;let r=this.viewport,o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(i>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let s=[];o&4||([this.measureRequests,s]=[s,this.measureRequests]);let l=s.map(h=>{try{return h.read(this)}catch(d){return la(this.state,d),gP}}),a=jT.create(this,this.state,[]),c=!1,u=!1;a.flags|=o,t?t.flags|=o:t=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),c=this.docView.update(a));for(let h=0;h<s.length;h++)if(l[h]!=gP)try{let d=s[h];d.write&&d.write(l[h],this)}catch(d){la(this.state,d)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=!0),c&&this.docView.updateSelection(!0),this.viewport.from==r.from&&this.viewport.to==r.to&&!u&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let i of this.state.facet(kC))i(t)}get themeClasses(){return NC+" "+(this.state.facet(IC)?a5:l5)+" "+this.state.facet(Og)}updateAttrs(){let e=vP(this,zF,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Op)?"true":"false",class:"cm-content",style:`${ft.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),vP(this,VF,t);let i=this.observer.ignore(()=>{let r=EC(this.contentDOM,this.contentAttrs,t),o=EC(this.dom,this.editorAttrs,e);return r||o});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(u5.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(rd),It.mount(this.root,this.styleModules.concat(bhe).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),e){if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return P1(this,e,ZT(this,e,t,i))}moveByGroup(e,t){return P1(this,e,ZT(this,e,t,i=>que(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return Kue(this,e,t,i)}moveVertically(e,t,i){return P1(this,e,Gue(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),YF(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r),s=o[Cu.find(o,e-r.from,-1,t)];return Iy(i,s.dir==lr.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(LF)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>khe)return KF(e.length);let t=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t)return r.order;let i=Tue(e.text,t);return this.bidiCache.push(new mP(e.from,e.to,t,i)),i}get hasFocus(){var e;return(document.hasFocus()||ft.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{pF(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return _T.of(new WT(typeof e=="number"?W.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Ap.define(()=>({}),{eventHandlers:e})}static theme(e,t){let i=It.newName(),r=[Og.of(i),rd.of(BC(`.${i}`,e))];return t&&t.dark&&r.push(IC.of(!0)),r}static baseTheme(e){return Xs.lowest(rd.of(BC("."+NC,e,c5)))}};ln.styleModule=rd;ln.inputHandler=BF;ln.perLineTextDirection=LF;ln.exceptionSink=NF;ln.updateListener=kC;ln.editable=Op;ln.mouseSelectionStyle=IF;ln.dragMovesSelection=PF;ln.clickAddsSelectionRange=TF;ln.decorations=zf;ln.atomicRanges=FF;ln.scrollMargins=WF;ln.darkTheme=IC;ln.contentAttributes=VF;ln.editorAttributes=zF;ln.lineWrapping=ln.contentAttributes.of({class:"cm-lineWrapping"});ln.announce=yt.define();const khe=4096,gP={};let mP=class h5{constructor(e,t,i,r){this.from=e,this.to=t,this.dir=i,this.order=r}static update(e,t){if(t.empty)return e;let i=[],r=e.length?e[e.length-1].dir:lr.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==r&&!t.touchesRange(s.from,s.to)&&i.push(new h5(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.order))}return i}};function vP(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let o=i[r],s=typeof o=="function"?o(n):o;s&&CC(s,t)}return t}const Ohe=!ft.ios,Ahe={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Ohe&&(Ahe[".cm-line"].caretColor="transparent !important");let lc=class extends Qi{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}};lc.prototype.elementClass="";lc.prototype.toDOM=void 0;lc.prototype.mapMode=At.TrackBefore;lc.prototype.startSide=lc.prototype.endSide=-1;lc.prototype.point=!0;const B1=ie.define(),Rhe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Be.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Hm=ie.define();function Dhe(n){return[The(),Hm.of(Object.assign(Object.assign({},Rhe),n))]}const yP=ie.define({combine:n=>n.some(e=>e)});function The(n){return[Phe]}const Phe=Ap.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=n.state.facet(Hm).map(e=>new SP(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(yP),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(yP)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=Be.iter(this.view.state.facet(B1),this.view.viewport.from),i=[],r=this.gutters.map(o=>new Ihe(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks){let s;if(Array.isArray(o.type)){for(let l of o.type)if(l.type==ii.Text){s=l;break}}else s=o.type==ii.Text?o:void 0;if(s){i.length&&(i=[]),d5(t,i,o.from);for(let l of r)l.line(this.view,s,i)}}for(let o of r)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(Hm),t=n.state.facet(Hm),i=n.docChanged||n.heightChanged||n.viewportChanged||!Be.eq(n.startState.facet(B1),n.state.facet(B1),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let o of t){let s=e.indexOf(o);s<0?r.push(new SP(this.view,o)):(this.gutters[s].update(n),r.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),r.indexOf(o)<0&&o.destroy();for(let o of r)this.dom.appendChild(o.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>ln.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==lr.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function bP(n){return Array.isArray(n)?n:[n]}function d5(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class Ihe{constructor(e,t,i){this.gutter=e,this.height=i,this.localMarkers=[],this.i=0,this.cursor=Be.iter(e.markers,t.from)}line(e,t,i){this.localMarkers.length&&(this.localMarkers=[]),d5(this.cursor,this.localMarkers,t.from);let r=i.length?this.localMarkers.concat(i):this.localMarkers,o=this.gutter.config.lineMarker(e,t,r);o&&r.unshift(o);let s=this.gutter;if(r.length==0&&!s.config.renderEmptyElements)return;let l=t.top-this.height;if(this.i==s.elements.length){let a=new f5(e,t.height,l,r);s.elements.push(a),s.dom.appendChild(a.dom)}else s.elements[this.i].update(e,t.height,l,r);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class SP{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let o=e.lineBlockAtHeight(r.clientY-e.documentTop);t.domEventHandlers[i](e,o,r)&&r.preventDefault()});this.markers=bP(t.markers(e)),t.initialSpacer&&(this.spacer=new f5(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=bP(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!Be.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class f5{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),Nhe(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let o=0,s=0;;){let l=s,a=o<t.length?t[o++]:null,c=!1;if(a){let u=a.elementClass;u&&(i+=" "+u);for(let h=s;h<this.markers.length;h++)if(this.markers[h].compare(a)){l=h,c=!0;break}}else l=this.markers.length;for(;s<l;){let u=this.markers[s++];if(u.toDOM){u.destroy(r);let h=r.nextSibling;r.remove(),r=h}}if(!a)break;a.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),c&&s++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function Nhe(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}let Bhe=0;class $s{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=Bhe++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new $s([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new iv;return t=>t.modified.indexOf(e)>-1?t:iv.get(t.base||t,t.modified.concat(e).sort((i,r)=>i.id-r.id))}}let Lhe=0;class iv{constructor(){this.instances=[],this.id=Lhe++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(l=>l.base==e&&Hhe(t,l.modified));if(i)return i;let r=[],o=new $s(r,e,t);for(let l of t)l.instances.push(o);let s=p5(t);for(let l of e.set)for(let a of s)r.push(iv.get(l,a));return o}}function Hhe(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function p5(n){let e=[n];for(let t=0;t<n.length;t++)for(let i of p5(n.slice(0,t).concat(n.slice(t+1))))e.push(i);return e}function zhe(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let o=[],s=2,l=r;for(let h=0;;){if(l=="..."&&h>0&&h+3==r.length){s=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!d)throw new RangeError("Invalid path: "+r);if(o.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),h+=d[0].length,h==r.length)break;let f=r[h++];if(h==r.length&&f=="!"){s=0;break}if(f!="/")throw new RangeError("Invalid path: "+r);l=r.slice(h)}let a=o.length-1,c=o[a];if(!c)throw new RangeError("Invalid path: "+r);let u=new Vhe(i,s,a>0?o.slice(0,a):null);e[c]=u.sort(e[c])}}return g5.add(e)}const g5=new jt;class Vhe{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function m5(n,e){let t=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))t[o.tag.id]=o.class;else for(let s of o.tag)t[s.id]=o.class;let{scope:i,all:r=null}=e||{};return{style:o=>{let s=r;for(let l of o)for(let a of l.set){let c=t[a.id];if(c){s=s?s+" "+c:c;break}}return s},scope:i}}function Fhe(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function Whe(n,e,t,i=0,r=n.length){let o=new _he(i,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),i,r,"",o.highlighters),o.flush(r)}class _he{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,o){let{type:s,from:l,to:a}=e;if(l>=i||a<=t)return;s.isTop&&(o=this.highlighters.filter(f=>!f.scope||f.scope(s)));let c=r,u=s.prop(g5),h=!1;for(;u;){if(!u.context||e.matchContext(u.context)){let f=Fhe(o,u.tags);f&&(c&&(c+=" "),c+=f,u.mode==1?r+=(r?" ":"")+f:u.mode==0&&(h=!0));break}u=u.next}if(this.startSpan(e.from,c),h)return;let d=e.tree&&e.tree.prop(jt.mounted);if(d&&d.overlay){let f=e.node.enter(d.overlay[0].from+l,1),g=this.highlighters.filter(v=>!v.scope||v.scope(d.tree.type)),y=e.firstChild();for(let v=0,m=l;;v++){let b=v<d.overlay.length?d.overlay[v]:null,S=b?b.from+l:a,w=Math.max(t,m),x=Math.min(i,S);if(w<x&&y)for(;e.from<x&&(this.highlightRange(e,w,x,r,o),this.startSpan(Math.min(i,e.to),c),!(e.to>=S||!e.nextSibling())););if(!b||S>i)break;m=b.to+l,m>t&&(this.highlightRange(f.cursor(),Math.max(t,b.from+l),Math.min(i,m),r,g),this.startSpan(m,c))}y&&e.parent()}else if(e.firstChild()){do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,o),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}const De=$s.define,Ag=De(),Tl=De(),wP=De(Tl),xP=De(Tl),Pl=De(),Rg=De(Pl),L1=De(Pl),bs=De(),$a=De(bs),ds=De(),fs=De(),LC=De(),Fh=De(LC),Dg=De(),He={comment:Ag,lineComment:De(Ag),blockComment:De(Ag),docComment:De(Ag),name:Tl,variableName:De(Tl),typeName:wP,tagName:De(wP),propertyName:xP,attributeName:De(xP),className:De(Tl),labelName:De(Tl),namespace:De(Tl),macroName:De(Tl),literal:Pl,string:Rg,docString:De(Rg),character:De(Rg),attributeValue:De(Rg),number:L1,integer:De(L1),float:De(L1),bool:De(Pl),regexp:De(Pl),escape:De(Pl),color:De(Pl),url:De(Pl),keyword:ds,self:De(ds),null:De(ds),atom:De(ds),unit:De(ds),modifier:De(ds),operatorKeyword:De(ds),controlKeyword:De(ds),definitionKeyword:De(ds),moduleKeyword:De(ds),operator:fs,derefOperator:De(fs),arithmeticOperator:De(fs),logicOperator:De(fs),bitwiseOperator:De(fs),compareOperator:De(fs),updateOperator:De(fs),definitionOperator:De(fs),typeOperator:De(fs),controlOperator:De(fs),punctuation:LC,separator:De(LC),bracket:Fh,angleBracket:De(Fh),squareBracket:De(Fh),paren:De(Fh),brace:De(Fh),content:bs,heading:$a,heading1:De($a),heading2:De($a),heading3:De($a),heading4:De($a),heading5:De($a),heading6:De($a),contentSeparator:De(bs),list:De(bs),quote:De(bs),emphasis:De(bs),strong:De(bs),link:De(bs),monospace:De(bs),strikethrough:De(bs),inserted:De(),deleted:De(),changed:De(),invalid:De(),meta:Dg,documentMeta:De(Dg),annotation:De(Dg),processingInstruction:De(Dg),definition:$s.defineModifier(),constant:$s.defineModifier(),function:$s.defineModifier(),standard:$s.defineModifier(),local:$s.defineModifier(),special:$s.defineModifier()};m5([{tag:He.link,class:"tok-link"},{tag:He.heading,class:"tok-heading"},{tag:He.emphasis,class:"tok-emphasis"},{tag:He.strong,class:"tok-strong"},{tag:He.keyword,class:"tok-keyword"},{tag:He.atom,class:"tok-atom"},{tag:He.bool,class:"tok-bool"},{tag:He.url,class:"tok-url"},{tag:He.labelName,class:"tok-labelName"},{tag:He.inserted,class:"tok-inserted"},{tag:He.deleted,class:"tok-deleted"},{tag:He.literal,class:"tok-literal"},{tag:He.string,class:"tok-string"},{tag:He.number,class:"tok-number"},{tag:[He.regexp,He.escape,He.special(He.string)],class:"tok-string2"},{tag:He.variableName,class:"tok-variableName"},{tag:He.local(He.variableName),class:"tok-variableName tok-local"},{tag:He.definition(He.variableName),class:"tok-variableName tok-definition"},{tag:He.special(He.variableName),class:"tok-variableName2"},{tag:He.definition(He.propertyName),class:"tok-propertyName tok-definition"},{tag:He.typeName,class:"tok-typeName"},{tag:He.namespace,class:"tok-namespace"},{tag:He.className,class:"tok-className"},{tag:He.macroName,class:"tok-macroName"},{tag:He.propertyName,class:"tok-propertyName"},{tag:He.operator,class:"tok-operator"},{tag:He.comment,class:"tok-comment"},{tag:He.meta,class:"tok-meta"},{tag:He.invalid,class:"tok-invalid"},{tag:He.punctuation,class:"tok-punctuation"}]);var H1;const rv=new jt;class As{constructor(e,t,i=[]){this.data=e,rt.prototype.hasOwnProperty("tree")||Object.defineProperty(rt.prototype,"tree",{get(){return dr(this)}}),this.parser=t,this.extension=[ma.of(this),rt.languageData.of((r,o,s)=>r.facet(CP(r,o,s)))].concat(i)}isActiveAt(e,t,i=-1){return CP(e,t,i)==this.data}findRegions(e){let t=e.facet(ma);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(o,s)=>{if(o.prop(rv)==this.data){i.push({from:s,to:s+o.length});return}let l=o.prop(jt.mounted);if(l){if(l.tree.prop(rv)==this.data){if(l.overlay)for(let a of l.overlay)i.push({from:a.from+s,to:a.to+s});else i.push({from:s,to:s+o.length});return}else if(l.overlay){let a=i.length;if(r(l.tree,l.overlay[0].from+s),i.length>a)return}}for(let a=0;a<o.children.length;a++){let c=o.children[a];c instanceof sr&&r(c,o.positions[a]+s)}};return r(dr(e),0),i}get allowsNesting(){return!0}}As.setState=yt.define();function CP(n,e,t){let i=n.facet(ma);if(!i)return null;let r=i.data;if(i.allowsNesting)for(let o=dr(n).topNode;o;o=o.enter(e,t,or.ExcludeBuffers))r=o.type.prop(rv)||r;return r}function dr(n){let e=n.field(As.state,!1);return e?e.tree:sr.empty}class jhe{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let Wh=null;class ov{constructor(e,t,i=[],r,o,s,l,a){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=o,this.viewport=s,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new ov(e,t,[],sr.empty,0,i,[],null)}startParse(){return this.parser.startParse(new jhe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=sr.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(Ka.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Ka.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Wh;Wh=this;try{return e()}finally{Wh=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=EP(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:o,viewport:s,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((c,u,h,d)=>a.push({fromA:c,toA:u,fromB:h,toB:d})),i=Ka.applyChanges(i,a),r=sr.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){l=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&l.push({from:u,to:h})}}}return new ov(this.parser,t,i,r,o,s,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:o}=this.skipped[i];r<e.to&&o>e.from&&(this.fragments=EP(this.fragments,r,o),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends gue{createParse(t,i,r){let o=r[0].from,s=r[r.length-1].to;return{parsedPos:o,advance(){let a=Wh;if(a){for(let c of r)a.tempSkipped.push(c);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=s,new sr(Mo.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Wh}}function EP(n,e,t){return Ka.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Ju{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Ju(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=ov.create(e.facet(ma).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new Ju(i)}}As.state=Ji.define({create:Ju.init,update(n,e){for(let t of e.effects)if(t.is(As.setState))return t.value;return e.startState.facet(ma)!=e.state.facet(ma)?Ju.init(e.state):n.apply(e)}});let v5=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(v5=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const z1=typeof navigator<"u"&&(!((H1=navigator.scheduling)===null||H1===void 0)&&H1.isInputPending)?()=>navigator.scheduling.isInputPending():null,Khe=Ap.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(As.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(As.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=v5(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,o=i.field(As.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!z1?Math.max(25,e.timeRemaining()-5):1e9),l=o.context.treeLen<r&&i.doc.length>r+1e3,a=o.context.work(()=>z1&&z1()||Date.now()>s,r+(l?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:As.setState.of(new Ju(o.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>la(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ma=ie.define({combine(n){return n.length?n[0]:null},enables:[As.state,Khe]}),qhe=ie.define(),rk=ie.define({combine:n=>{if(!n.length)return"  ";if(!/^(?: +|\t+)$/.test(n[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return n[0]}});function sv(n){let e=n.facet(rk);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Ff(n,e){let t="",i=n.tabSize;if(n.facet(rk).charCodeAt(0)==9)for(;e>=i;)t+="	",e-=i;for(let r=0;r<e;r++)t+=" ";return t}function ok(n,e){n instanceof rt&&(n=new By(n));for(let i of n.state.facet(qhe)){let r=i(n,e);if(r!=null)return r}let t=dr(n.state);return t?Uhe(n,t,e):null}class By{constructor(e,t={}){this.state=e,this.options=t,this.unit=sv(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return r!=null&&r>=i.from&&r<=i.to?o&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),o=this.countColumn(i,e-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(o+=s-this.countColumn(i,i.search(/\S|$/))),o}countColumn(e,t=e.length){return Mp(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let s=o(r);if(s>-1)return s}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Ghe=new jt;function Uhe(n,e,t){return y5(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,n)}function Xhe(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function Yhe(n){let e=n.type.prop(Ghe);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(jt.closedBy))){let r=n.lastChild,o=r&&i.indexOf(r.name)>-1;return s=>ede(s,!0,1,void 0,o&&!Xhe(s)?r.from:void 0)}return n.parent==null?Qhe:null}function y5(n,e,t){for(;n;n=n.parent){let i=Yhe(n);if(i)return i(sk.create(t,e,n))}return null}function Qhe(){return 0}class sk extends By{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.node=i}static create(e,t,i){return new sk(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(Jhe(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?y5(e,this.pos,this.base):0}}function Jhe(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function Zhe(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,o=n.state.doc.lineAt(t.from),s=r==null||r<=o.from?o.to:Math.min(o.to,r);for(let l=t.to;;){let a=e.childAfter(l);if(!a||a==i)return null;if(!a.type.isSkipped)return a.from<s?t:null;l=a.to}}function ede(n,e,t,i,r){let o=n.textAfter,s=o.match(/^\s*/)[0].length,l=r==n.pos+s,a=Zhe(n);return a?l?n.column(a.from):n.column(a.to):n.baseIndent+(l?0:n.unit*t)}const tde=200;function nde(){return rt.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,r=t.lineAt(i);if(i>r.from+tde)return n;let o=t.sliceString(r.from,i);if(!e.some(c=>c.test(o)))return n;let{state:s}=n,l=-1,a=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==l)continue;l=u.from;let h=ok(s,u.from);if(h==null)continue;let d=/^\s*/.exec(u.text)[0],f=Ff(s,h);d!=f&&a.push({from:u.from,to:u.from+d.length,insert:f})}return a.length?[n,{changes:a,sequential:!0}]:n})}const ide=ie.define(),rde=new jt;function ode(n,e,t){let i=dr(n);if(i.length<t)return null;let r=i.resolveInner(t),o=null;for(let s=r;s;s=s.parent){if(s.to<=t||s.from>t)continue;if(o&&s.from<e)break;let l=s.type.prop(rde);if(l&&(s.to<i.length-50||i.length==n.doc.length||!sde(s))){let a=l(s,n);a&&a.from<=t&&a.from>=e&&a.to>t&&(o=a)}}return o}function sde(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function lv(n,e,t){for(let i of n.facet(ide)){let r=i(n,e,t);if(r)return r}return ode(n,e,t)}function b5(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Ly=yt.define({map:b5}),Rp=yt.define({map:b5});function S5(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const ac=Ji.define({create(){return xn.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)t.is(Ly)&&!lde(n,t.value.from,t.value.to)?n=n.update({add:[gde.range(t.value.from,t.value.to)]}):t.is(Rp)&&(n=n.update({filter:(i,r)=>t.value.from!=i||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:i}=e.selection.main;n.between(i,i,(r,o)=>{r<i&&o>i&&(t=!0)}),t&&(n=n.update({filterFrom:i,filterTo:i,filter:(r,o)=>o<=i||r>=i}))}return n},provide:n=>ln.decorations.from(n)});function av(n,e,t){var i;let r=null;return(i=n.field(ac,!1))===null||i===void 0||i.between(e,t,(o,s)=>{(!r||r.from>o)&&(r={from:o,to:s})}),r}function lde(n,e,t){let i=!1;return n.between(e,e,(r,o)=>{r==e&&o==t&&(i=!0)}),i}function w5(n,e){return n.field(ac,!1)?e:e.concat(yt.appendConfig.of(C5()))}const ade=n=>{for(let e of S5(n)){let t=lv(n.state,e.from,e.to);if(t)return n.dispatch({effects:w5(n.state,[Ly.of(t),x5(n,t)])}),!0}return!1},cde=n=>{if(!n.state.field(ac,!1))return!1;let e=[];for(let t of S5(n)){let i=av(n.state,t.from,t.to);i&&e.push(Rp.of(i),x5(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function x5(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,r=n.state.doc.lineAt(e.to).number;return ln.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${r}.`)}const ude=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let r=n.lineBlockAt(i),o=lv(e,r.from,r.to);o&&t.push(Ly.of(o)),i=(o?n.lineBlockAt(o.to):r).to+1}return t.length&&n.dispatch({effects:w5(n.state,t)}),!!t.length},hde=n=>{let e=n.state.field(ac,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,r)=>{t.push(Rp.of({from:i,to:r}))}),n.dispatch({effects:t}),!0},dde=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:ade},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:cde},{key:"Ctrl-Alt-[",run:ude},{key:"Ctrl-Alt-]",run:hde}],fde={placeholderDOM:null,placeholderText:""},pde=ie.define({combine(n){return xl(n,fde)}});function C5(n){return[ac,yde]}const gde=xn.replace({widget:new class extends kp{toDOM(n){let{state:e}=n,t=e.facet(pde),i=o=>{let s=n.lineBlockAt(n.posAtDOM(o.target)),l=av(n.state,s.from,s.to);l&&n.dispatch({effects:Rp.of(l)}),o.preventDefault()};if(t.placeholderDOM)return t.placeholderDOM(n,i);let r=document.createElement("span");return r.textContent=t.placeholderText,r.setAttribute("aria-label",e.phrase("folded code")),r.title=e.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=i,r}}}),mde={openText:"",closedText:"",markerDOM:null,domEventHandlers:{}};class V1 extends lc{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function vde(n={}){let e=Object.assign(Object.assign({},mde),n),t=new V1(e,!0),i=new V1(e,!1),r=Ap.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(ma)!=s.state.facet(ma)||s.startState.field(ac,!1)!=s.state.field(ac,!1)||dr(s.startState)!=dr(s.state))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let l=new fa;for(let a of s.viewportLineBlocks){let c=av(s.state,a.from,a.to)?i:lv(s.state,a.from,a.to)?t:null;c&&l.add(a.from,a.from,c)}return l.finish()}}),{domEventHandlers:o}=e;return[r,Dhe({class:"cm-foldGutter",markers(s){var l;return((l=s.plugin(r))===null||l===void 0?void 0:l.markers)||Be.empty},initialSpacer(){return new V1(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,l,a)=>{if(o.click&&o.click(s,l,a))return!0;let c=av(s.state,l.from,l.to);if(c)return s.dispatch({effects:Rp.of(c)}),!0;let u=lv(s.state,l.from,l.to);return u?(s.dispatch({effects:Ly.of(u)}),!0):!1}})}),C5()]}const yde=ln.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Hy{constructor(e,t){let i;function r(l){let a=It.newName();return(i||(i=Object.create(null)))["."+a]=l,a}const o=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,s=t.scope;this.scope=s instanceof As?l=>l.prop(rv)==s.data:s?l=>l==s:void 0,this.style=m5(e.map(l=>({tag:l.tag,class:l.class||r(Object.assign({},l,{tag:null}))})),{all:o}).style,this.module=i?new It(i):null,this.themeType=t.themeType}static define(e,t){return new Hy(e,t||{})}}const HC=ie.define(),E5=ie.define({combine(n){return n.length?[n[0]]:null}});function F1(n){let e=n.facet(HC);return e.length?e:n.facet(E5)}function bde(n,e){let t=[wde],i;return n instanceof Hy&&(n.module&&t.push(ln.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(E5.of(n)):i?t.push(HC.computeN([ln.darkTheme],r=>r.facet(ln.darkTheme)==(i=="dark")?[n]:[])):t.push(HC.of(n)),t}class Sde{constructor(e){this.markCache=Object.create(null),this.tree=dr(e.state),this.decorations=this.buildDeco(e,F1(e.state))}update(e){let t=dr(e.state),i=F1(e.state),r=i!=F1(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return xn.none;let i=new fa;for(let{from:r,to:o}of e.visibleRanges)Whe(this.tree,t,(s,l,a)=>{i.add(s,l,this.markCache[a]||(this.markCache[a]=xn.mark({class:a})))},r,o);return i.finish()}}const wde=Xs.high(Ap.fromClass(Sde,{decorations:n=>n.decorations})),xde=Hy.define([{tag:He.meta,color:"#7a757a"},{tag:He.link,textDecoration:"underline"},{tag:He.heading,textDecoration:"underline",fontWeight:"bold"},{tag:He.emphasis,fontStyle:"italic"},{tag:He.strong,fontWeight:"bold"},{tag:He.strikethrough,textDecoration:"line-through"},{tag:He.keyword,color:"#708"},{tag:[He.atom,He.bool,He.url,He.contentSeparator,He.labelName],color:"#219"},{tag:[He.literal,He.inserted],color:"#164"},{tag:[He.string,He.deleted],color:"#a11"},{tag:[He.regexp,He.escape,He.special(He.string)],color:"#e40"},{tag:He.definition(He.variableName),color:"#00f"},{tag:He.local(He.variableName),color:"#30a"},{tag:[He.typeName,He.namespace],color:"#085"},{tag:He.className,color:"#167"},{tag:[He.special(He.variableName),He.macroName],color:"#256"},{tag:He.definition(He.propertyName),color:"#00c"},{tag:He.comment,color:"#940"},{tag:He.invalid,color:"#f00"}]),Cde=ln.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),M5=1e4,$5="()[]{}",k5=ie.define({combine(n){return xl(n,{afterCursor:!0,brackets:$5,maxScanDistance:M5,renderMatch:$de})}}),Ede=xn.mark({class:"cm-matchingBracket"}),Mde=xn.mark({class:"cm-nonmatchingBracket"});function $de(n){let e=[],t=n.matched?Ede:Mde;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const kde=Ji.define({create(){return xn.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(k5);for(let r of e.state.selection.ranges){if(!r.empty)continue;let o=Rs(e.state,r.head,-1,i)||r.head>0&&Rs(e.state,r.head-1,1,i)||i.afterCursor&&(Rs(e.state,r.head,1,i)||r.head<e.state.doc.length&&Rs(e.state,r.head+1,-1,i));o&&(t=t.concat(i.renderMatch(o,e.state)))}return xn.set(t,!0)},provide:n=>ln.decorations.from(n)}),Ode=[kde,Cde];function Ade(n={}){return[k5.of(n),Ode]}function zC(n,e,t){let i=n.prop(e<0?jt.openedBy:jt.closedBy);if(i)return i;if(n.name.length==1){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function Rs(n,e,t,i={}){let r=i.maxScanDistance||M5,o=i.brackets||$5,s=dr(n),l=s.resolveInner(e,t);for(let a=l;a;a=a.parent){let c=zC(a.type,t,o);if(c&&a.from<a.to)return Rde(n,e,t,a,c,o)}return Dde(n,e,t,s,l.type,r,o)}function Rde(n,e,t,i,r,o){let s=i.parent,l={from:i.from,to:i.to},a=0,c=s==null?void 0:s.cursor();if(c&&(t<0?c.childBefore(i.from):c.childAfter(i.to)))do if(t<0?c.to<=i.from:c.from>=i.to){if(a==0&&r.indexOf(c.type.name)>-1&&c.from<c.to)return{start:l,end:{from:c.from,to:c.to},matched:!0};if(zC(c.type,t,o))a++;else if(zC(c.type,-t,o)&&(a--,a==0))return{start:l,end:c.from==c.to?void 0:{from:c.from,to:c.to},matched:!1}}while(t<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function Dde(n,e,t,i,r,o,s){let l=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),a=s.indexOf(l);if(a<0||a%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},u=n.doc.iterRange(e,t>0?n.doc.length:0),h=0;for(let d=0;!u.next().done&&d<=o;){let f=u.value;t<0&&(d+=f.length);let g=e+d*t;for(let y=t>0?0:f.length-1,v=t>0?f.length:-1;y!=v;y+=t){let m=s.indexOf(f[y]);if(!(m<0||i.resolve(g+y,1).type!=r))if(m%2==0==t>0)h++;else{if(h==1)return{start:c,end:{from:g+y,to:g+y+1},matched:m>>1==a>>1};h--}}t>0&&(d+=f.length)}return u.done?{start:c,matched:!1}:null}const Tde=Object.create(null),MP=[Mo.none],$P=[],Pde=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","typeName"],["attribute","propertyName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Pde[n]=Ide(Tde,e);function W1(n,e){$P.indexOf(n)>-1||($P.push(n),console.warn(e))}function Ide(n,e){let t=null;for(let o of e.split(".")){let s=n[o]||He[o];s?typeof s=="function"?t?t=s(t):W1(o,`Modifier ${o} used at start of tag`):t?W1(o,`Tag ${o} used as modifier`):t=s:W1(o,`Unknown highlighting tag ${o}`)}if(!t)return 0;let i=e.replace(/ /g,"_"),r=Mo.define({id:MP.length,name:i,props:[zhe({[i]:t})]});return MP.push(r),r.id}function cv(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Zu(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Nde(){let n=document.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function VC(n,e){if(!e.anchorNode)return!1;try{return Zu(n,e.anchorNode)}catch{return!1}}function Wf(n){return n.nodeType==3?_f(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function uv(n,e,t,i){return t?kP(n,e,t,i,-1)||kP(n,e,t,i,1):!1}function FC(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function kP(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:hv(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=FC(n)+(r<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?hv(n):0}else return!1}}function hv(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}const O5={left:0,right:0,top:0,bottom:0};function zy(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function Bde(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function Lde(n,e,t,i,r,o,s,l){let a=n.ownerDocument,c=a.defaultView;for(let u=n;u;)if(u.nodeType==1){let h,d=u==a.body;if(d)h=Bde(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.parentNode;continue}let y=u.getBoundingClientRect();h={left:y.left,right:y.left+u.clientWidth,top:y.top,bottom:y.top+u.clientHeight}}let f=0,g=0;if(r=="nearest")e.top<h.top?(g=-(h.top-e.top+s),t>0&&e.bottom>h.bottom+g&&(g=e.bottom-h.bottom+g+s)):e.bottom>h.bottom&&(g=e.bottom-h.bottom+s,t<0&&e.top-g<h.top&&(g=-(h.top+g-e.top+s)));else{let y=e.bottom-e.top,v=h.bottom-h.top;g=(r=="center"&&y<=v?e.top+y/2-v/2:r=="start"||r=="center"&&t<0?e.top-s:e.bottom-v+s)-h.top}if(i=="nearest"?e.left<h.left?(f=-(h.left-e.left+o),t>0&&e.right>h.right+f&&(f=e.right-h.right+f+o)):e.right>h.right&&(f=e.right-h.right+o,t<0&&e.left<h.left+f&&(f=-(h.left+f-e.left+o))):f=(i=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:i=="start"==l?e.left-o:e.right-(h.right-h.left)+o)-h.left,f||g)if(d)c.scrollBy(f,g);else{if(g){let y=u.scrollTop;u.scrollTop+=g,g=u.scrollTop-y}if(f){let y=u.scrollLeft;u.scrollLeft+=f,f=u.scrollLeft-y}e={left:e.left-f,top:e.top-g,right:e.right-f,bottom:e.bottom-g}}if(d)break;u=u.assignedSlot||u.parentNode,i=r="nearest"}else if(u.nodeType==11)u=u.host;else break}let Hde=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}},Ic=null;function A5(n){if(n.setActive)return n.setActive();if(Ic)return n.focus(Ic);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Ic==null?{get preventScroll(){return Ic={preventScroll:!0},!0}}:void 0),!Ic){Ic=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],o=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=o&&(i.scrollLeft=o)}}}let OP;function _f(n,e,t=e){let i=OP||(OP=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Wd(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function zde(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function R5(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}let Dr=class WC{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new WC(e.parentNode,FC(e),t)}static after(e,t){return new WC(e.parentNode,FC(e)+1,t)}};const lk=[];let Ei=class _C{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(this.dirty&2){let t=this.dom,i=null,r;for(let o of this.children){if(o.dirty){if(!o.dom&&(r=i?i.nextSibling:t.firstChild)){let s=_C.get(r);(!s||!s.parent&&s.constructor==o.constructor)&&o.reuseDOM(r)}o.sync(e),o.dirty=0}if(r=i?i.nextSibling:t.firstChild,e&&!e.written&&e.node==t&&r!=o.dom&&(e.written=!0),o.dom.parentNode==t)for(;r&&r!=o.dom;)r=AP(r);else t.insertBefore(o.dom,r);i=o.dom}for(r=i?i.nextSibling:t.firstChild,r&&e&&e.node==t&&(e.written=!0);r;)r=AP(r)}else if(this.dirty&1)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=hv(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;r==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?r=-1:r=1),e=o}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!_C.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,o=0;;r++){let s=this.children[r];if(s.dom==i)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,o=-1,s=-1,l=-1;for(let a=0,c=i,u=i;a<this.children.length;a++){let h=this.children[a],d=c+h.length;if(c<e&&d>t)return h.domBoundsAround(e,t,c);if(d>=e&&r==-1&&(r=a,o=c),c>t&&h.dom.parentNode==this.dom){s=a,l=u;break}u=d,c=d+h.breakAfter}return{from:o,to:l<0?i+this.length:l,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=lk){this.markDirty();for(let r=e;r<t;r++){let o=this.children[r];o.parent==this&&o.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new D5(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,i,r,o,s){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}};Ei.prototype.breakAfter=0;function AP(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}let D5=class{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}};function T5(n,e,t,i,r,o,s,l,a){let{children:c}=n,u=c.length?c[e]:null,h=o.length?o[o.length-1]:null,d=h?h.breakAfter:s;if(!(e==i&&u&&!s&&!d&&o.length<2&&u.merge(t,r,o.length?h:null,t==0,l,a))){if(i<c.length){let f=c[i];f&&r<f.length?(e==i&&(f=f.split(r),r=0),!d&&h&&f.merge(0,r,h,!0,0,a)?o[o.length-1]=f:(r&&f.merge(0,r,null,!1,0,a),o.push(f))):f!=null&&f.breakAfter&&(h?h.breakAfter=1:s=1),i++}for(u&&(u.breakAfter=s,t>0&&(!s&&o.length&&u.merge(t,u.length,o[0],!1,l,0)?u.breakAfter=o.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,l,0),e++));e<i&&o.length;)if(c[i-1].become(o[o.length-1]))i--,o.pop(),a=o.length?0:l;else if(c[e].become(o[0]))e++,o.shift(),l=o.length?0:a;else break;!o.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,l,a)&&e--,(e<i||o.length)&&n.replaceChildren(e,i,o)}}function P5(n,e,t,i,r,o){let s=n.childCursor(),{i:l,off:a}=s.findPos(t,1),{i:c,off:u}=s.findPos(e,-1),h=e-t;for(let d of i)h+=d.length;n.length+=h,T5(n,c,u,l,a,i,0,r,o)}let Yr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},jC=typeof document<"u"?document:{documentElement:{style:{}}};const KC=/Edge\/(\d+)/.exec(Yr.userAgent),I5=/MSIE \d/.test(Yr.userAgent),qC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Yr.userAgent),Vy=!!(I5||qC||KC),RP=!Vy&&/gecko\/(\d+)/i.test(Yr.userAgent),_1=!Vy&&/Chrome\/(\d+)/.exec(Yr.userAgent),DP="webkitFontSmoothing"in jC.documentElement.style,N5=!Vy&&/Apple Computer/.test(Yr.vendor),TP=N5&&(/Mobile\/\w+/.test(Yr.userAgent)||Yr.maxTouchPoints>2);var pt={mac:TP||/Mac/.test(Yr.platform),windows:/Win/.test(Yr.platform),linux:/Linux|X11/.test(Yr.platform),ie:Vy,ie_version:I5?jC.documentMode||6:qC?+qC[1]:KC?+KC[1]:0,gecko:RP,gecko_version:RP?+(/Firefox\/(\d+)/.exec(Yr.userAgent)||[0,0])[1]:0,chrome:!!_1,chrome_version:_1?+_1[1]:0,ios:TP,android:/Android\b/.test(Yr.userAgent),webkit:DP,safari:N5,webkit_version:DP?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:jC.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Vde=256;let jf=class GC extends Ei{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return i&&(!(i instanceof GC)||this.length-(t-e)+i.length>Vde)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new GC(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Dr(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return XC(this.dom,e,t)}},cc=class UC extends Ei{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(R5(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,i,r,o,s){return i&&(!(i instanceof UC&&i.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0)?!1:(P5(this,e,t,i?i.children:[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,o=0;for(let l of this.children){let a=i+l.length;a>e&&t.push(i<e?l.split(e-i):l),r<0&&i>=e&&(r=o),i=a,o++}let s=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new UC(this.mark,t,s)}domAtPos(e){return H5(this.dom,this.children,e)}coordsAt(e,t){return V5(this,e,t)}};function XC(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,o=e,s=0;e==0&&t<0||e==i&&t>=0?pt.chrome||pt.gecko||(e?(r--,s=1):o<i&&(o++,s=-1)):t<0?r--:o<i&&o++;let l=_f(n,r,o).getClientRects();if(!l.length)return O5;let a=l[(s?s<0:t>=0)?0:l.length-1];return pt.safari&&!s&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),s?zy(a,s<0):a||null}let ak=class sd extends Ei{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||sd)(e,t,i)}split(e){let t=sd.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,o,s){return i&&(!(i instanceof sd)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof sd&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ve.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):Ve.empty}domAtPos(e){return e==0?Dr.before(this.dom):Dr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.dom.getClientRects(),r=null;if(!i.length)return O5;for(let o=e>0?i.length-1:0;r=i[o],!(e>0?o==0:o==i.length-1||r.top<r.bottom);o+=e>0?-1:1);return e==0&&t>0||e==this.length&&t<=0?r:zy(r,e==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},B5=class extends ak{domAtPos(e){let{topView:t,text:i}=this.widget;return t?YC(e,0,t,i,(r,o)=>r.domAtPos(o),r=>new Dr(i,Math.min(r,i.nodeValue.length))):new Dr(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:r}=this.widget;return i?L5(e,t,i,r):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:r}=this.widget;return i?YC(e,t,i,r,(o,s,l)=>o.coordsAt(s,l),(o,s)=>XC(r,o,s)):XC(r,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}};function YC(n,e,t,i,r,o){if(t instanceof cc){for(let s of t.children){let l=Zu(s.dom,i),a=l?i.nodeValue.length:s.length;if(n<a||n==a&&s.getSide()<=0)return l?YC(n,e,s,i,r,o):r(s,n,e);n-=a}return r(t,t.length,-1)}else return t.dom==i?o(n,e):r(t,n,e)}function L5(n,e,t,i){if(t instanceof cc)for(let r of t.children){let o=0,s=Zu(r.dom,i);if(Zu(r.dom,n))return o+(s?L5(n,e,r,i):r.localPosFromDOM(n,e));o+=s?i.nodeValue.length:r.length}else if(t.dom==i)return Math.min(e,i.nodeValue.length);return t.localPosFromDOM(n,e)}let QC=class JC extends Ei{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof JC&&e.side==this.side}split(){return new JC(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Dr.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),i=Fde(this,this.side>0?-1:1);return i&&i.top<t.bottom&&i.bottom>t.top?{left:t.left,right:t.right,top:i.top,bottom:i.bottom}:t}get overrideDOMText(){return Ve.empty}};jf.prototype.children=ak.prototype.children=QC.prototype.children=lk;function Fde(n,e){let t=n.parent,i=t?t.children.indexOf(n):-1;for(;t&&i>=0;)if(e<0?i>0:i<t.children.length){let r=t.children[i+e];if(r instanceof jf){let o=r.coordsAt(e<0?r.length:0,e);if(o)return o}i+=e}else if(t instanceof cc&&t.parent)i=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent;else{let r=t.dom.lastChild;if(r&&r.nodeName=="BR")return r.getClientRects()[0];break}}function H5(n,e,t){let i=0;for(let r=0;i<e.length;i++){let o=e[i],s=r+o.length;if(!(s==r&&o.getSide()<=0)){if(t>r&&t<s&&o.dom.parentNode==n)return o.domAtPos(t-r);if(t<=r)break;r=s}}for(;i>0;i--){let r=e[i-1].dom;if(r.parentNode==n)return Dr.after(r)}return new Dr(n,0)}function z5(n,e,t){let i,{children:r}=n;t>0&&e instanceof cc&&r.length&&(i=r[r.length-1])instanceof cc&&i.mark.eq(e.mark)?z5(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function V5(n,e,t){for(let o=0,s=0;s<n.children.length;s++){let l=n.children[s],a=o+l.length,c;if((t<=0||a==n.length||l.getSide()>0?a>=e:a>e)&&(e<a||s+1==n.children.length||(c=n.children[s+1]).length||c.getSide()>0)){let u=0;if(a==o){if(l.getSide()<=0)continue;u=t=-l.getSide()}let h=l.coordsAt(Math.max(0,e-o),t);return u&&h?zy(h,t<0):h}o=a}let i=n.dom.lastChild;if(!i)return n.dom.getBoundingClientRect();let r=Wf(i);return r[r.length-1]||null}function ZC(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function ck(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r of t)if(i.indexOf(r)==-1||n[r]!==e[r])return!1;return!0}function e2(n,e,t){let i=null;if(e)for(let r in e)t&&r in t||n.removeAttribute(i=r);if(t)for(let r in t)e&&e[r]==t[r]||n.setAttribute(i=r,t[r]);return!!i}let Fy=class{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}};var vi=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(vi||(vi={}));let _i=class extends Qi{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new F5(e)}static widget(e){let t=e.side||0,i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new Kf(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:o,end:s}=K5(e,t);i=(o?t?-3e8:-1:5e8)-1,r=(s?t?2e8:1:-6e8)+1}return new Kf(e,i,r,t,e.widget||null,!0)}static line(e){return new uk(e)}static set(e,t=!1){return Be.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};_i.none=Be.empty;let F5=class W5 extends _i{constructor(e){let{start:t,end:i}=K5(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof W5&&this.tagName==e.tagName&&this.class==e.class&&ck(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}};F5.prototype.point=!1;let uk=class _5 extends _i{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof _5&&ck(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}};uk.prototype.mapMode=At.TrackBefore;uk.prototype.point=!0;let Kf=class j5 extends _i{constructor(e,t,i,r,o,s){super(t,i,o,e),this.block=r,this.isReplace=s,this.mapMode=r?t<=0?At.TrackBefore:At.TrackAfter:At.TrackDel}get type(){return this.startSide<this.endSide?vi.WidgetRange:this.startSide<=0?vi.WidgetBefore:vi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof j5&&Wde(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}};Kf.prototype.point=!0;function K5(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function Wde(n,e){return n==e||!!(n&&e&&n.compare(e))}function t2(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}let Go=class zm extends Ei{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,o,s){if(i){if(!(i instanceof zm))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),P5(this,e,t,i?i.children:[],o,s),!0}split(e){let t=new zm;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let o=i;o<this.children.length;o++)t.append(this.children[o],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){ck(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){z5(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=ZC(t,this.attrs||{})),i&&(this.attrs=ZC({class:i},this.attrs||{}))}domAtPos(e){return H5(this.dom,this.children,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?this.dirty&4&&(R5(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(e2(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let i=this.dom.lastChild;for(;i&&Ei.get(i)instanceof cc;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((t=Ei.get(i))===null||t===void 0?void 0:t.isEditable)==!1&&(!pt.ios||!this.children.some(r=>r instanceof jf))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof jf))return null;let i=Wf(t.dom);if(i.length!=1)return null;e+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return V5(this,e,t)}become(e){return!1}get type(){return vi.Text}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let o=e.children[i],s=r+o.length;if(s>=t){if(o instanceof zm)return o;if(s>t)break}r=s+o.breakAfter}return null}},n2=class Vm extends Ei{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,o,s){return i&&(!(i instanceof Vm)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Dr.before(this.dom):Dr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Vm(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return lk}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ve.empty}domBoundsAround(){return null}become(e){return e instanceof Vm&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},_de=class q5{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof n2&&e.type==vi.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Go),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(Tg(new QC(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}else this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,i)),this.getLine().append(Tg(new jf(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,o,s){if(this.disallowBlockEffectsFor[s]&&i instanceof Kf){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(i instanceof Kf)if(i.block){let{type:a}=i;a==vi.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new n2(i.widget||new PP("div"),l,a))}else{let a=ak.create(i.widget||new PP("span"),l,i.startSide),c=this.atCursorPos&&!a.isEditable&&o<=r.length&&(e<t||i.startSide>0),u=!a.isEditable&&(e<t||i.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(h.append(Tg(new QC(1),r),o),o=r.length+Math.max(0,o-r.length)),h.append(Tg(a,r),o),this.atCursorPos=u,this.pendingBuffer=u?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,i,r,o){let s=new q5(e,t,i,o);return s.openEnd=Be.spans(r,t,i,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}};function Tg(n,e){for(let t of e)n=new cc(t,[n],n.length);return n}let PP=class extends Fy{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}};const G5=ie.define(),U5=ie.define(),X5=ie.define(),Y5=ie.define(),i2=ie.define(),Q5=ie.define(),J5=ie.define({combine:n=>n.some(e=>e)});let IP=class Z5{constructor(e,t="nearest",i="nearest",r=5,o=5){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=o}map(e){return e.empty?this:new Z5(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}};const NP=yt.define({map:(n,e)=>n.map(e)});function qa(n,e,t){let i=n.facet(Y5);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Dp=ie.define({combine:n=>n.length?n[0]:!0});let jde=0;const ld=ie.define();let Kde=class r2{constructor(e,t,i,r){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=r(this)}static define(e,t){const{eventHandlers:i,provide:r,decorations:o}=t||{};return new r2(jde++,e,i,s=>{let l=[ld.of(s)];return o&&l.push(qf.of(a=>{let c=a.plugin(s);return c?o(c):_i.none})),r&&l.push(r(s)),l})}static fromClass(e,t){return r2.define(i=>new e(i),t)}},j1=class{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(qa(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){qa(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){qa(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}};const eW=ie.define(),tW=ie.define(),qf=ie.define(),nW=ie.define(),iW=ie.define(),ad=ie.define();let Gf=class Fm{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new Fm(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,o=0,s=0,l=0;;r++){let a=r==e.length?null:e[r],c=s-l,u=a?a.fromB:1e9;for(;o<t.length&&t[o]<u;){let h=t[o],d=t[o+1],f=Math.max(l,h),g=Math.min(u,d);if(f<=g&&new Fm(f+c,g+c,f,g).addToSet(i),d>u)break;o+=2}if(!a)return i;new Fm(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),s=a.toA,l=a.toB}}},BP=class rW{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=en.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,l,a,c)=>r.push(new Gf(s,l,a,c))),this.changedRanges=r;let o=e.hasFocus;o!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=o,this.flags|=1)}static create(e,t,i){return new rW(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}};var ar=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(ar||(ar={}));const o2=ar.LTR,qde=ar.RTL;function oW(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const Gde=oW("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ude=oW("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),s2=Object.create(null),ps=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);s2[e]=t,s2[t]=-e}function Xde(n){return n<=247?Gde[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Ude[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203||n==8204?256:1}const Yde=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;let Mu=class{constructor(e,t,i){this.from=e,this.to=t,this.level=i}get dir(){return this.level%2?qde:o2}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let o=-1;for(let s=0;s<e.length;s++){let l=e[s];if(l.from<=t&&l.to>=t){if(l.level==i)return s;(o<0||(r!=0?r<0?l.from<t:l.to>t:e[o].level>l.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}};const Bn=[];function Qde(n,e){let t=n.length,i=e==o2?1:2,r=e==o2?2:1;if(!n||i==1&&!Yde.test(n))return sW(t);for(let s=0,l=i,a=i;s<t;s++){let c=Xde(n.charCodeAt(s));c==512?c=l:c==8&&a==4&&(c=16),Bn[s]=c==4?2:c,c&7&&(a=c),l=c}for(let s=0,l=i,a=i;s<t;s++){let c=Bn[s];if(c==128)s<t-1&&l==Bn[s+1]&&l&24?c=Bn[s]=l:Bn[s]=256;else if(c==64){let u=s+1;for(;u<t&&Bn[u]==64;)u++;let h=s&&l==8||u<t&&Bn[u]==8?a==1?1:8:256;for(let d=s;d<u;d++)Bn[d]=h;s=u-1}else c==8&&a==1&&(Bn[s]=1);l=c,c&7&&(a=c)}for(let s=0,l=0,a=0,c,u,h;s<t;s++)if(u=s2[c=n.charCodeAt(s)])if(u<0){for(let d=l-3;d>=0;d-=3)if(ps[d+1]==-u){let f=ps[d+2],g=f&2?i:f&4?f&1?r:i:0;g&&(Bn[s]=Bn[ps[d]]=g),l=d;break}}else{if(ps.length==189)break;ps[l++]=s,ps[l++]=c,ps[l++]=a}else if((h=Bn[s])==2||h==1){let d=h==i;a=d?0:1;for(let f=l-3;f>=0;f-=3){let g=ps[f+2];if(g&2)break;if(d)ps[f+2]|=2;else{if(g&4)break;ps[f+2]|=4}}}for(let s=0;s<t;s++)if(Bn[s]==256){let l=s+1;for(;l<t&&Bn[l]==256;)l++;let a=(s?Bn[s-1]:i)==1,c=(l<t?Bn[l]:i)==1,u=a==c?a?1:2:i;for(let h=s;h<l;h++)Bn[h]=u;s=l-1}let o=[];if(i==1)for(let s=0;s<t;){let l=s,a=Bn[s++]!=1;for(;s<t&&a==(Bn[s]!=1);)s++;if(a)for(let c=s;c>l;){let u=c,h=Bn[--c]!=2;for(;c>l&&h==(Bn[c-1]!=2);)c--;o.push(new Mu(c,u,h?2:1))}else o.push(new Mu(l,s,0))}else for(let s=0;s<t;){let l=s,a=Bn[s++]==2;for(;s<t&&a==(Bn[s]==2);)s++;o.push(new Mu(l,s,a?1:2))}return o}function sW(n){return[new Mu(0,n,0)]}let lW="";function Jde(n,e,t,i,r){var o;let s=i.head-n.from,l=-1;if(s==0){if(!r||!n.length)return null;e[0].level!=t&&(s=e[0].side(!1,t),l=0)}else if(s==n.length){if(r)return null;let d=e[e.length-1];d.level!=t&&(s=d.side(!0,t),l=e.length-1)}l<0&&(l=Mu.find(e,s,(o=i.bidiLevel)!==null&&o!==void 0?o:-1,i.assoc));let a=e[l];s==a.side(r,t)&&(a=e[l+=r?1:-1],s=a.side(!r,t));let c=r==(a.dir==t),u=Tt(n.text,s,c);if(lW=n.text.slice(Math.min(s,u),Math.max(s,u)),u!=a.side(r,t))return W.cursor(u+n.from,c?-1:1,a.level);let h=l==(r?e.length-1:0)?null:e[l+(r?1:-1)];return!h&&a.level!=t?W.cursor(r?n.to:n.from,r?-1:1,t):h&&h.level<a.level?W.cursor(h.side(!r,t)+n.from,r?1:-1,h.level):W.cursor(u+n.from,r?-1:1,a.level)}const Gl="";let aW=class{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(rt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Gl}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r),this.readNode(r);let o=r.nextSibling;if(o==t)break;let s=Ei.get(r),l=Ei.get(o);(s&&l?s.breakAfter:(s?s.breakAfter:LP(r))||LP(o)&&(r.nodeName!="BR"||r.cmIgnore))&&this.lineBreak(),r=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,l;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,i),s=this.lineSeparator.length):(l=r.exec(t))&&(o=l.index,s=l[0].length),this.append(t.slice(i,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=s-1);i=o+s}}readNode(e){if(e.cmIgnore)return;let t=Ei.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}};function LP(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}let HP=class{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}},zP=class extends Ei{constructor(e){super(),this.view=e,this.compositionDeco=_i.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Go],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Gf(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:s,toA:l})=>l<this.minWidthFrom||s>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=_i.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=efe(this.view,e.changes)),(pt.ie||pt.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,r=this.updateDeco(),o=rfe(i,r,e.changes);return t=Gf.extendWithRanges(t,o),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=pt.chrome||pt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(o),this.dirty=0,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof n2&&o.widget instanceof VP&&r.push(o.dom);i.updateGaps(r)}updateChildren(e,t){let i=this.childCursor(t);for(let r=e.length-1;;r--){let o=r>=0?e[r]:null;if(!o)break;let{fromA:s,toA:l,fromB:a,toB:c}=o,{content:u,breakAtStart:h,openStart:d,openEnd:f}=_de.build(this.view.state.doc,a,c,this.decorations,this.dynamicDecorationMap),{i:g,off:y}=i.findPos(l,1),{i:v,off:m}=i.findPos(s,-1);T5(this,v,m,g,y,u,h,d,f)}}updateSelection(e=!1,t=!1){if(e&&this.view.observer.readSelectionRange(),!(t||this.mayControlSelection())||pt.ios&&this.view.inputState.rapidCompositionStart)return;let i=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,o=this.domAtPos(r.anchor),s=r.empty?o:this.domAtPos(r.head);if(pt.gecko&&r.empty&&Zde(o)){let a=document.createTextNode("");this.view.observer.ignore(()=>o.node.insertBefore(a,o.node.childNodes[o.offset]||null)),o=s=new Dr(a,0),i=!0}let l=this.view.observer.selectionRange;(i||!l.focusNode||!uv(o.node,o.offset,l.anchorNode,l.anchorOffset)||!uv(s.node,s.offset,l.focusNode,l.focusOffset))&&(this.view.observer.ignore(()=>{pt.android&&pt.chrome&&this.dom.contains(l.focusNode)&&ofe(l.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=cv(this.root);if(r.empty){if(pt.gecko){let c=nfe(o.node,o.offset);if(c&&c!=3){let u=uW(o.node,o.offset,c==1?1:-1);u&&(o=new Dr(u,c==1?0:u.nodeValue.length))}}a.collapse(o.node,o.offset),r.bidiLevel!=null&&l.cursorBidiLevel!=null&&(l.cursorBidiLevel=r.bidiLevel)}else if(a.extend)a.collapse(o.node,o.offset),a.extend(s.node,s.offset);else{let c=document.createRange();r.anchor>r.head&&([o,s]=[s,o]),c.setEnd(s.node,s.offset),c.setStart(o.node,o.offset),a.removeAllRanges(),a.addRange(c)}}),this.view.observer.setSelectionRange(o,s)),this.impreciseAnchor=o.precise?null:new Dr(l.anchorNode,l.anchorOffset),this.impreciseHead=s.precise?null:new Dr(l.focusNode,l.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=cv(this.root);if(!e.empty||!e.assoc||!t.modify)return;let i=Go.find(this,e.head);if(!i)return;let r=i.posAtStart;if(e.head==r||e.head==r+i.length)return;let o=this.coordsAt(e.head,-1),s=this.coordsAt(e.head,1);if(!o||!s||o.bottom>s.top)return;let l=this.domAtPos(e.head+e.assoc);t.collapse(l.node,l.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Dp)?this.root.activeElement==this.dom:VC(this.dom,this.view.observer.selectionRange)}nearest(e){for(let t=e;t;){let i=Ei.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof Go)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,r=this.children.length-1;;r--){let o=this.children[r],s=i-o.breakAfter-o.length;if(e>s||e==s&&o.type!=vi.WidgetBefore&&o.type!=vi.WidgetAfter&&(!r||t==2||this.children[r-1].breakAfter||this.children[r-1].type==vi.WidgetBefore&&t>-2))return o.coordsAt(e-s,t);i=s}}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==ar.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],d=c+h.length;if(d>r)break;if(c>=i){let f=h.dom.getBoundingClientRect();if(t.push(f.height),s){let g=h.dom.lastChild,y=g?Wf(g):[];if(y.length){let v=y[y.length-1],m=a?v.right-f.left:f.right-v.left;m>l&&(l=m,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?ar.RTL:ar.LTR}measureTextSize(){for(let r of this.children)if(r instanceof Go){let o=r.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i;return e.className="cm-line",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=Wf(e.firstChild)[0];t=e.getBoundingClientRect().height,i=r?r.width/27:7,e.remove()}),{lineHeight:t,charWidth:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new D5(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],s=o?o.from-1:this.length;if(s>i){let l=t.lineBlockAt(s).bottom-t.lineBlockAt(i).top;e.push(_i.replace({widget:new VP(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,s))}if(!o)break;i=o.to+1}return _i.set(e)}updateDeco(){let e=this.view.state.facet(qf).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let o=0,s=0,l=0,a=0;for(let u of this.view.state.facet(iW).map(h=>h(this.view)))if(u){let{left:h,right:d,top:f,bottom:g}=u;h!=null&&(o=Math.max(o,h)),d!=null&&(s=Math.max(s,d)),f!=null&&(l=Math.max(l,f)),g!=null&&(a=Math.max(a,g))}let c={left:i.left-o,top:i.top-l,right:i.right+s,bottom:i.bottom+a};Lde(this.view.scrollDOM,c,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==ar.LTR)}};function Zde(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}let VP=class extends Fy{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}};function cW(n){let e=n.observer.selectionRange,t=e.focusNode&&uW(e.focusNode,e.focusOffset,0);if(!t)return null;let i=n.docView.nearest(t);if(!i)return null;if(i instanceof Go){let r=t;for(;r.parentNode!=i.dom;)r=r.parentNode;let o=r.previousSibling;for(;o&&!Ei.get(o);)o=o.previousSibling;let s=o?Ei.get(o).posAtEnd:i.posAtStart;return{from:s,to:s,node:r,text:t}}else{for(;;){let{parent:o}=i;if(!o)return null;if(o instanceof Go)break;i=o}let r=i.posAtStart;return{from:r,to:r+i.length,node:i.dom,text:t}}}function efe(n,e){let t=cW(n);if(!t)return _i.none;let{from:i,to:r,node:o,text:s}=t,l=e.mapPos(i,1),a=Math.max(l,e.mapPos(r,-1)),{state:c}=n,u=o.nodeType==3?o.nodeValue:new aW([],c).readRange(o.firstChild,null).text;if(a-l<u.length)if(c.doc.sliceString(l,Math.min(c.doc.length,l+u.length),Gl)==u)a=l+u.length;else if(c.doc.sliceString(Math.max(0,a-u.length),a,Gl)==u)l=a-u.length;else return _i.none;else if(c.doc.sliceString(l,a,Gl)!=u)return _i.none;let h=Ei.get(o);return h instanceof B5?h=h.widget.topView:h&&(h.parent=null),_i.set(_i.replace({widget:new tfe(o,s,h),inclusive:!0}).range(l,a))}let tfe=class extends Fy{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return B5}};function uW(n,e,t){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0&&t<=0)n=n.childNodes[e-1],e=hv(n);else if(n.nodeType==1&&e<n.childNodes.length&&t>=0)n=n.childNodes[e],e=0;else return null}}function nfe(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let ife=class{constructor(){this.changes=[]}compareRange(e,t){t2(e,t,this.changes)}comparePoint(e,t){t2(e,t,this.changes)}};function rfe(n,e,t){let i=new ife;return Be.compare(n,e,t,i),i.changes}function ofe(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function sfe(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),o=e-r.from;if(r.length==0)return W.cursor(e);o==0?t=1:o==r.length&&(t=-1);let s=o,l=o;t<0?s=Tt(r.text,o,!1):l=Tt(r.text,o);let a=i(r.text.slice(s,l));for(;s>0;){let c=Tt(r.text,s,!1);if(i(r.text.slice(c,s))!=a)break;s=c}for(;l<r.length;){let c=Tt(r.text,l);if(i(r.text.slice(l,c))!=a)break;l=c}return W.range(s+r.from,l+r.from)}function lfe(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function afe(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function K1(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function FP(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function WP(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function l2(n,e,t){let i,r,o,s,l,a,c,u;for(let f=n.firstChild;f;f=f.nextSibling){let g=Wf(f);for(let y=0;y<g.length;y++){let v=g[y];r&&K1(r,v)&&(v=FP(WP(v,r.bottom),r.top));let m=lfe(e,v),b=afe(t,v);if(m==0&&b==0)return f.nodeType==3?_P(f,e,t):l2(f,e,t);(!i||s>b||s==b&&o>m)&&(i=f,r=v,o=m,s=b),m==0?t>v.bottom&&(!c||c.bottom<v.bottom)?(l=f,c=v):t<v.top&&(!u||u.top>v.top)&&(a=f,u=v):c&&K1(c,v)?c=WP(c,v.bottom):u&&K1(u,v)&&(u=FP(u,v.top))}}if(c&&c.bottom>=t?(i=l,r=c):u&&u.top<=t&&(i=a,r=u),!i)return{node:n,offset:0};let h=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return _P(i,h,t);if(!o&&i.contentEditable=="true")return l2(i,h,t);let d=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:d}}function _P(n,e,t){let i=n.nodeValue.length,r=-1,o=1e9,s=0;for(let l=0;l<i;l++){let a=_f(n,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let h=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<o){let d=e>=(u.left+u.right)/2,f=d;if((pt.chrome||pt.gecko)&&_f(n,l).getBoundingClientRect().left==u.right&&(f=!d),h<=0)return{node:n,offset:l+(f?1:0)};r=l+(f?1:0),o=h}}}return{node:n,offset:r>-1?r:s>0?n.nodeValue.length:0}}function hW(n,{x:e,y:t},i,r=-1){var o;let s=n.contentDOM.getBoundingClientRect(),l=s.top+n.viewState.paddingTop,a,{docHeight:c}=n.viewState,u=t-l;if(u<0)return 0;if(u>c)return n.state.doc.length;for(let m=n.defaultLineHeight/2,b=!1;a=n.elementAtHeight(u),a.type!=vi.Text;)for(;u=r>0?a.bottom+m:a.top-m,!(u>=0&&u<=c);){if(b)return i?null:0;b=!0,r=-r}t=l+u;let h=a.from;if(h<n.viewport.from)return n.viewport.from==0?0:i?null:jP(n,s,a,e,t);if(h>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:i?null:jP(n,s,a,e,t);let d=n.dom.ownerDocument,f=n.root.elementFromPoint?n.root:d,g=f.elementFromPoint(e,t);g&&!n.contentDOM.contains(g)&&(g=null),g||(e=Math.max(s.left+1,Math.min(s.right-1,e)),g=f.elementFromPoint(e,t),g&&!n.contentDOM.contains(g)&&(g=null));let y,v=-1;if(g&&((o=n.docView.nearest(g))===null||o===void 0?void 0:o.isEditable)!=!1){if(d.caretPositionFromPoint){let m=d.caretPositionFromPoint(e,t);m&&({offsetNode:y,offset:v}=m)}else if(d.caretRangeFromPoint){let m=d.caretRangeFromPoint(e,t);m&&({startContainer:y,startOffset:v}=m,pt.safari&&cfe(y,v,e)&&(y=void 0))}}if(!y||!n.docView.dom.contains(y)){let m=Go.find(n.docView,h);if(!m)return u>a.top+a.height/2?a.to:a.from;({node:y,offset:v}=l2(m.dom,e,t))}return n.docView.posFromDOM(y,v)}function jP(n,e,t,i,r){let o=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let l=Math.floor((r-t.top)/n.defaultLineHeight);o+=l*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+pa(s,o,n.state.tabSize)}function cfe(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return _f(n,i-1,i).getBoundingClientRect().left>t}function ufe(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=!i||!n.lineWrapping?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(o){let a=n.dom.getBoundingClientRect(),c=n.textDirectionAt(r.from),u=n.posAtCoords({x:t==(c==ar.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(u!=null)return W.cursor(u,t?-1:1)}let s=Go.find(n.docView,e.head),l=s?t?s.posAtEnd:s.posAtStart:t?r.to:r.from;return W.cursor(l,t?-1:1)}function KP(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=n.bidiSpans(r),s=n.textDirectionAt(r.from);for(let l=e,a=null;;){let c=Jde(r,o,s,l,t),u=lW;if(!c){if(r.number==(t?n.state.doc.lines:1))return l;u=`
`,r=n.state.doc.line(r.number+(t?1:-1)),o=n.bidiSpans(r),c=W.cursor(t?r.from:r.to)}if(a){if(!a(u))return l}else{if(!i)return c;a=i(u)}l=c}}function hfe(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return o=>{let s=i(o);return r==ci.Space&&(r=s),r==s}}function dfe(n,e,t,i){let r=e.head,o=t?1:-1;if(r==(t?n.state.doc.length:0))return W.cursor(r,e.assoc);let s=e.goalColumn,l,a=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(r),u=n.documentTop;if(c)s==null&&(s=c.left-a.left),l=o<0?c.top:c.bottom;else{let f=n.viewState.lineBlockAt(r);s==null&&(s=Math.min(a.right-a.left,n.defaultCharacterWidth*(r-f.from))),l=(o<0?f.top:f.bottom)+u}let h=a.left+s,d=i??n.defaultLineHeight>>1;for(let f=0;;f+=10){let g=l+(d+f)*o,y=hW(n,{x:h,y:g},!1,o);if(g<a.top||g>a.bottom||(o<0?y<r:y>r))return W.cursor(y,e.assoc,void 0,s)}}function q1(n,e,t){let i=n.state.facet(nW).map(r=>r(n));for(;;){let r=!1;for(let o of i)o.between(t.from-1,t.from+1,(s,l,a)=>{t.from>s&&t.from<l&&(t=e.from>t.from?W.cursor(s,1):W.cursor(l,-1),r=!0)});if(!r)return t}}let ffe=class{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in Ii){let i=Ii[t];e.contentDOM.addEventListener(t,r=>{!qP(e,r)||this.ignoreDuringComposition(r)||t=="keydown"&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,r)?r.preventDefault():i(e,r))}),this.registeredEvents.push(t)}pt.chrome&&pt.chrome_version>=102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,pt.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var i;let r;this.customHandlers=[];for(let o of t)if(r=(i=o.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:r});for(let s in r)this.registeredEvents.indexOf(s)<0&&s!="scroll"&&(this.registeredEvents.push(s),e.contentDOM.addEventListener(s,l=>{qP(e,l)&&this.runCustomHandlers(s,e,l)&&l.preventDefault()}))}}runCustomHandlers(e,t,i){for(let r of this.customHandlers){let o=r.handlers[e];if(o)try{if(o.call(r.plugin,i,t)||i.defaultPrevented)return!0}catch(s){qa(t.state,s)}}return!1}runScrollHandlers(e,t){for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,t,e)}catch(o){qa(e.state,o)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(pt.android&&pt.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return pt.ios&&(i=dW.find(r=>r.keyCode==t.keyCode))&&!(t.ctrlKey||t.altKey||t.metaKey)&&!t.synthetic?(this.pendingIOSKey=i,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Wd(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:pt.safari&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229||e.type=="compositionend"&&!pt.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};const dW=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],pfe=[16,17,18,20,91,92,224,225];let gfe=class{constructor(e,t,i,r){this.view=e,this.style=i,this.mustSelect=r,this.lastEvent=t;let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(rt.allowMultipleSelections)&&mfe(e,t),this.dragMove=vfe(e,t),this.dragging=yfe(e,t)&&hk(t)==1?null:!1,this.dragging===!1&&(t.preventDefault(),this.select(t))}move(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}};function mfe(n,e){let t=n.state.facet(G5);return t.length?t[0](e):pt.mac?e.metaKey:e.ctrlKey}function vfe(n,e){let t=n.state.facet(U5);return t.length?t[0](e):pt.mac?!e.altKey:!e.ctrlKey}function yfe(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=cv(n.root);if(i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let s=r[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function qP(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=Ei.get(t))&&i.ignoreEvent(e))return!1;return!0}const Ii=Object.create(null),fW=pt.ie&&pt.ie_version<15||pt.ios&&pt.webkit_version<604;function bfe(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),pW(n,t.value)},50)}function pW(n,e){let{state:t}=n,i,r=1,o=t.toText(e),s=o.lines==t.selection.ranges.length;if(a2!=null&&t.selection.ranges.every(a=>a.empty)&&a2==o.toString()){let a=-1;i=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==a)return{range:c};a=u.from;let h=t.toText((s?o.line(r++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:h},range:W.cursor(c.from+h.length)}})}else s?i=t.changeByRange(a=>{let c=o.line(r++);return{changes:{from:a.from,to:a.to,insert:c.text},range:W.cursor(a.from+c.length)}}):i=t.replaceSelection(o);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Ii.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),e.keyCode==27?n.inputState.lastEscPress=Date.now():pfe.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)};let gW=0;Ii.touchstart=(n,e)=>{gW=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Ii.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Ii.mousedown=(n,e)=>{if(n.observer.flush(),gW>Date.now()-2e3&&hk(e)==1)return;let t=null;for(let i of n.state.facet(X5))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=xfe(n,e)),t){let i=n.root.activeElement!=n.contentDOM;i&&n.observer.ignore(()=>A5(n.contentDOM)),n.inputState.startMouseSelection(new gfe(n,e,t,i))}};function GP(n,e,t,i){if(i==1)return W.cursor(e,t);if(i==2)return sfe(n.state,e,t);{let r=Go.find(n.docView,e),o=n.state.doc.lineAt(r?r.posAtEnd:e),s=r?r.posAtStart:o.from,l=r?r.posAtEnd:o.to;return l<n.state.doc.length&&l==o.to&&l++,W.range(s,l)}}let mW=(n,e)=>n>=e.top&&n<=e.bottom,UP=(n,e,t)=>mW(e,t)&&n>=t.left&&n<=t.right;function Sfe(n,e,t,i){let r=Go.find(n.docView,e);if(!r)return 1;let o=e-r.posAtStart;if(o==0)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&UP(t,i,s))return-1;let l=r.coordsAt(o,1);return l&&UP(t,i,l)?1:s&&mW(i,s)?-1:1}function XP(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Sfe(n,t,e.clientX,e.clientY)}}const wfe=pt.ie&&pt.ie_version<=11;let YP=null,QP=0,JP=0;function hk(n){if(!wfe)return n.detail;let e=YP,t=JP;return YP=n,JP=Date.now(),QP=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(QP+1)%3:1}function xfe(n,e){let t=XP(n,e),i=hk(e),r=n.state.selection,o=t,s=e;return{update(l){l.docChanged&&(t&&(t.pos=l.changes.mapPos(t.pos)),r=r.map(l.changes),s=null)},get(l,a,c){let u;if(s&&l.clientX==s.clientX&&l.clientY==s.clientY?u=o:(u=o=XP(n,l),s=l),!u||!t)return r;let h=GP(n,u.pos,u.bias,i);if(t.pos!=u.pos&&!a){let d=GP(n,t.pos,t.bias,i),f=Math.min(d.from,h.from),g=Math.max(d.to,h.to);h=f<h.from?W.range(f,g):W.range(g,f)}return a?r.replaceRange(r.main.extend(h.from,h.to)):c?r.addRange(h):W.create([h])}}}Ii.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function ZP(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:o}=n.inputState,s=i&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,l={from:r,insert:t},a=n.state.changes(s?[s,l]:l);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(r,-1),head:a.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"})}Ii.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),r=0,o=()=>{++r==t.length&&ZP(n,e,i.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(i[s]=l.result),o()},l.readAsText(t[s])}}else ZP(n,e,e.dataTransfer.getData("Text"),!0)};Ii.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=fW?null:e.clipboardData;t?(pW(n,t.getData("text/plain")),e.preventDefault()):bfe(n)};function Cfe(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function Efe(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>r&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),r=s.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let a2=null;Ii.copy=Ii.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=Efe(n.state);if(!t&&!r)return;a2=r?t:null;let o=fW?null:e.clipboardData;o?(e.preventDefault(),o.clearData(),o.setData("text/plain",t)):Cfe(n,t),e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};function vW(n){setTimeout(()=>{n.hasFocus!=n.inputState.notifiedFocused&&n.update([])},10)}Ii.focus=vW;Ii.blur=n=>{n.observer.clearSelectionRange(),vW(n)};function yW(n,e){if(n.docView.compositionDeco.size){n.inputState.rapidCompositionStart=e;try{n.update([])}finally{n.inputState.rapidCompositionStart=!1}}}Ii.compositionstart=Ii.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0,n.docView.compositionDeco.size&&(n.observer.flush(),yW(n,!0)))};Ii.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionFirstChange=null,setTimeout(()=>{n.inputState.composing<0&&yW(n,!1)},50)};Ii.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Ii.beforeinput=(n,e)=>{var t;let i;if(pt.chrome&&pt.android&&(i=dW.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const eI=["pre-wrap","normal","pre-line","break-spaces"];let Mfe=class{constructor(){this.doc=Ve.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return eI.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,o){let s=eI.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=t,this.charWidth=i,this.lineLength=r,l){this.heightSamples={};for(let a=0;a<o.length;a++){let c=o[a];c<0?a++:this.heightSamples[Math.floor(c*10)]=!0}}return l}},$fe=class{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}},su=class bW{constructor(e,t,i,r,o){this.from=e,this.length=t,this.top=i,this.height=r,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new bW(this.from,this.length+e.length,this.top,this.height+e.height,t)}};var yn=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(yn||(yn={}));const Wm=.001;let Hs=class _m{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Wm&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return _m.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let o=this;for(let s=r.length-1;s>=0;s--){let{fromA:l,toA:a,fromB:c,toB:u}=r[s],h=o.lineAt(l,yn.ByPosNoHeight,t,0,0),d=h.to>=a?h:o.lineAt(a,yn.ByPosNoHeight,t,0,0);for(u+=d.to-a,a=d.to;s>0&&h.from<=r[s-1].toA;)l=r[s-1].fromA,c=r[s-1].fromB,s--,l<h.from&&(h=o.lineAt(l,yn.ByPosNoHeight,t,0,0));c+=h.from-l,l=h.from;let f=Afe.build(i,e,c,u);o=o.replace(l,a,f)}return o.updateHeight(i,0)}static empty(){return new Cs(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,o=0;for(;;)if(t==i)if(r>o*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),i+=1+l.break,r-=l.size}else if(o>r*2){let l=e[i];l.break?e.splice(i,1,l.left,null,l.right):e.splice(i,1,l.left,l.right),i+=2+l.break,o-=l.size}else break;else if(r<o){let l=e[t++];l&&(r+=l.size)}else{let l=e[--i];l&&(o+=l.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,i++),new kfe(_m.of(e.slice(0,t)),s,_m.of(e.slice(i)))}};Hs.prototype.size=1;let SW=class extends Hs{constructor(e,t,i){super(e,t),this.type=i}blockAt(e,t,i,r){return new su(r,this.length,i,this.height,this.type)}lineAt(e,t,i,r,o){return this.blockAt(0,i,r,o)}forEachLine(e,t,i,r,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,i,r,o))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}},Cs=class c2 extends SW{constructor(e,t){super(e,t,vi.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof c2||r instanceof $u&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof $u?r=new c2(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Hs.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},$u=class Lo extends Hs{constructor(e){super(e,0)}lines(e,t){let i=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:i,lastLine:r,lineHeight:this.height/(r-i+1)}}blockAt(e,t,i,r){let{firstLine:o,lastLine:s,lineHeight:l}=this.lines(t,r),a=Math.max(0,Math.min(s-o,Math.floor((e-i)/l))),{from:c,length:u}=t.line(o+a);return new su(c,u,i+l*a,l,vi.Text)}lineAt(e,t,i,r,o){if(t==yn.ByHeight)return this.blockAt(e,i,r,o);if(t==yn.ByPosNoHeight){let{from:h,to:d}=i.lineAt(e);return new su(h,d-h,0,0,vi.Text)}let{firstLine:s,lineHeight:l}=this.lines(i,o),{from:a,length:c,number:u}=i.lineAt(e);return new su(a,c,r+l*(u-s),l,vi.Text)}forEachLine(e,t,i,r,o,s){let{firstLine:l,lineHeight:a}=this.lines(i,o);for(let c=Math.max(e,o),u=Math.min(o+this.length,t);c<=u;){let h=i.lineAt(c);c==e&&(r+=a*(h.number-l)),s(new su(h.from,h.length,r,a,vi.Text)),r+=a,c=h.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let o=i[i.length-1];o instanceof Lo?i[i.length-1]=new Lo(o.length+r):i.push(null,new Lo(r-1))}if(e>0){let o=i[0];o instanceof Lo?i[0]=new Lo(e+o.length):i.unshift(new Lo(e-1),null)}return Hs.of(i)}decomposeLeft(e,t){t.push(new Lo(e-1),null)}decomposeRight(e,t){t.push(null,new Lo(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let s=[],l=Math.max(t,r.from),a=-1,c=e.heightChanged;for(r.from>t&&s.push(new Lo(r.from-t-1).updateHeight(e,t));l<=o&&r.more;){let h=e.doc.lineAt(l).length;s.length&&s.push(null);let d=r.heights[r.index++];a==-1?a=d:Math.abs(d-a)>=Wm&&(a=-2);let f=new Cs(h,d);f.outdated=!1,s.push(f),l+=h+1}l<=o&&s.push(null,new Lo(o-l).updateHeight(e,l));let u=Hs.of(s);return e.heightChanged=c||a<0||Math.abs(u.height-this.height)>=Wm||Math.abs(a-this.lines(e.doc,t).lineHeight)>=Wm,u}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},kfe=class extends Hs{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let o=i+this.left.height;return e<o?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,i,r,o){let s=r+this.left.height,l=o+this.left.length+this.break,a=t==yn.ByHeight?e<s:e<l,c=a?this.left.lineAt(e,t,i,r,o):this.right.lineAt(e,t,i,s,l);if(this.break||(a?c.to<l:c.from>l))return c;let u=t==yn.ByPosNoHeight?yn.ByPosNoHeight:yn.ByPos;return a?c.join(this.right.lineAt(l,u,i,s,l)):this.left.lineAt(l,u,i,r,o).join(c)}forEachLine(e,t,i,r,o,s){let l=r+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,i,r,o,s),t>=a&&this.right.forEachLine(e,t,i,l,a,s);else{let c=this.lineAt(a,yn.ByPos,i,r,o);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,o,s),c.to>=e&&c.from<=t&&s(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,l,a,s)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let l of i)o.push(l);if(e>0&&tI(o,s-1),t<this.length){let l=o.length;this.decomposeRight(t,o),tI(o,l)}return Hs.of(o)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Hs.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:o,right:s}=this,l=t+o.length+this.break,a=null;return r&&r.from<=t+o.length&&r.more?a=o=o.updateHeight(e,t,i,r):o.updateHeight(e,t,i),r&&r.from<=l+s.length&&r.more?a=s=s.updateHeight(e,l,i,r):s.updateHeight(e,l,i),a?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function tI(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof $u&&(i=n[e+1])instanceof $u&&n.splice(e-1,3,new $u(t.length+1+i.length))}const Ofe=5;let Afe=class wW{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Cs?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Cs(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new SW(o,r,i.type)):(o||r>=Ofe)&&this.addLineDeco(r,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Cs(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new $u(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Cs)return e;let t=new Cs(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==vi.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=vi.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let i=this.ensureLine();i.length+=t,i.collapsed+=t,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Cs)&&!this.isCovered?this.nodes.push(new Cs(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof Cs&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let o=new wW(i,e);return Be.spans(t,i,r,o,0),o.finish(i)}};function Rfe(n,e,t){let i=new Dfe;return Be.compare(n,e,t,i,0),i.changes}let Dfe=class{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&t2(e,t,this.changes,5)}};function Tfe(n,e){let t=n.getBoundingClientRect(),i=Math.max(0,t.left),r=Math.min(innerWidth,t.right),o=Math.max(0,t.top),s=Math.min(innerHeight,t.bottom),l=n.ownerDocument.body;for(let a=n.parentNode;a&&a!=l;)if(a.nodeType==1){let c=a,u=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&u.overflow!="visible"){let h=c.getBoundingClientRect();i=Math.max(i,h.left),r=Math.min(r,h.right),o=Math.max(o,h.top),s=Math.min(s,h.bottom)}a=u.position=="absolute"||u.position=="fixed"?c.offsetParent:c.parentNode}else if(a.nodeType==11)a=a.host;else break;return{left:i-t.left,right:Math.max(i,r)-t.left,top:o-(t.top+e),bottom:Math.max(o,s)-(t.top+e)}}function Pfe(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}let G1=class{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e){return _i.replace({widget:new Ife(this.size,e)}).range(this.from,this.to)}},Ife=class extends Fy{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}},nI=class{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new Mfe,this.scaler=oI,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ar.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(qf).filter(t=>typeof t!="function"),this.heightMap=Hs.empty().applyChanges(this.stateDeco,Ve.empty,this.heightOracle.setDoc(e.doc),[new Gf(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=_i.set(this.lineGaps.map(t=>t.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:o,to:s})=>r>=o&&r<=s)){let{from:o,to:s}=this.lineBlockAt(r);e.push(new Pg(o,s))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?oI:new Lfe(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:cd(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(qf).filter(c=>typeof c!="function");let r=e.changedRanges,o=Gf.extendWithRanges(r,Rfe(i,this.stateDeco,e?e.changes:en.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(e.flags|=2);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let a=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,o=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?ar.RTL:ar.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=s||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;let a=0,c=0,u=parseInt(i.paddingTop)||0,h=parseInt(i.paddingBottom)||0;(this.paddingTop!=u||this.paddingBottom!=h)&&(this.paddingTop=u,this.paddingBottom=h,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);let d=(this.printing?Pfe:Tfe)(t,this.paddingTop),f=d.top-this.pixelViewport.top,g=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView)return 0;let v=t.clientWidth;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=v,this.editorHeight=e.scrollDOM.clientHeight,a|=8),l){let b=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(b)&&(s=!0),s||r.lineWrapping&&Math.abs(v-this.contentDOMWidth)>r.charWidth){let{lineHeight:S,charWidth:w}=e.docView.measureTextSize();s=r.refresh(o,S,w,v/w,b),s&&(e.docView.minWidth=0,a|=8)}f>0&&g>0?c=Math.max(f,g):f<0&&g<0&&(c=Math.min(f,g)),r.heightChanged=!1;for(let S of this.viewports){let w=S.from==this.viewport.from?b:e.docView.measureVisibleLineHeights(S);this.heightMap=this.heightMap.updateHeight(r,0,s,new $fe(S.from,w))}r.heightChanged&&(a|=2)}let m=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(a&2||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.state.doc,{visibleTop:s,visibleBottom:l}=this,a=new Pg(r.lineAt(s-i*1e3,yn.ByHeight,o,0,0).from,r.lineAt(l+(1-i)*1e3,yn.ByHeight,o,0,0).to);if(t){let{head:c}=t.range;if(c<a.from||c>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=r.lineAt(c,yn.ByPos,o,0,0),d;t.y=="center"?d=(h.top+h.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<a.from?d=h.top:d=h.bottom-u,a=new Pg(r.lineAt(d-1e3/2,yn.ByHeight,o,0,0).from,r.lineAt(d+u+1e3/2,yn.ByHeight,o,0,0).to)}}return a}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Pg(this.heightMap.lineAt(i,yn.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,yn.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,yn.ByPos,this.state.doc,0,0),{bottom:o}=this.heightMap.lineAt(t,yn.ByPos,this.state.doc,0,0),{visibleTop:s,visibleBottom:l}=this;return(e==0||r<=s-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||o>=l+Math.max(10,Math.min(i,250)))&&r>s-2*1e3&&o<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new G1(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e){let t=[];if(this.defaultTextDirection!=ar.LTR)return t;for(let i of this.viewportLines){if(i.length<4e3)continue;let r=Nfe(i.from,i.to,this.stateDeco);if(r.total<4e3)continue;let o,s;if(this.heightOracle.lineWrapping){let c=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;o=Ig(r,(this.visibleTop-i.top-c)/i.height),s=Ig(r,(this.visibleBottom-i.top+c)/i.height)}else{let c=r.total*this.heightOracle.charWidth,u=2e3*this.heightOracle.charWidth;o=Ig(r,(this.pixelViewport.left-u)/c),s=Ig(r,(this.pixelViewport.right+u)/c)}let l=[];o>i.from&&l.push({from:i.from,to:o}),s<i.to&&l.push({from:s,to:i.to});let a=this.state.selection.main;a.from>=i.from&&a.from<=i.to&&rI(l,a.from-10,a.from+10),!a.empty&&a.to>=i.from&&a.to<=i.to&&rI(l,a.to-10,a.to+10);for(let{from:c,to:u}of l)u-c>1e3&&t.push(Bfe(e,h=>h.from>=i.from&&h.to<=i.to&&Math.abs(h.from-c)<1e3&&Math.abs(h.to-u)<1e3)||new G1(c,u,this.gapSize(i,c,u,r)))}return t}gapSize(e,t,i,r){let o=iI(r,i)-iI(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){G1.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=_i.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Be.spans(e,this.viewport.from,this.viewport.to,{span(r,o){t.push({from:r,to:o})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,o)=>r.from!=t[o].from||r.to!=t[o].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||cd(this.heightMap.lineAt(e,yn.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return cd(this.heightMap.lineAt(this.scaler.fromDOM(e),yn.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return cd(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},Pg=class{constructor(e,t){this.from=e,this.to=t}};function Nfe(n,e,t){let i=[],r=n,o=0;return Be.spans(t,n,e,{span(){},point(s,l){s>r&&(i.push({from:r,to:s}),o+=s-r),r=l}},20),r<e&&(i.push({from:r,to:e}),o+=e-r),{total:o,ranges:i}}function Ig({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:o,to:s}=e[r],l=s-o;if(i<=l)return o+i;i-=l}}function iI(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function rI(n,e,t){for(let i=0;i<n.length;i++){let r=n[i];if(r.from<t&&r.to>e){let o=[];r.from<e&&o.push({from:r.from,to:e}),r.to>t&&o.push({from:t,to:r.to}),n.splice(i,1,...o),i+=o.length-1}}}function Bfe(n,e){for(let t of n)if(e(t))return t}const oI={toDOM(n){return n},fromDOM(n){return n},scale:1};let Lfe=class{constructor(e,t,i){let r=0,o=0,s=0;this.viewports=i.map(({from:l,to:a})=>{let c=t.lineAt(l,yn.ByPos,e,0,0).top,u=t.lineAt(a,yn.ByPos,e,0,0).bottom;return r+=u-c,{from:l,to:a,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let l of this.viewports)l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-i)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);i=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return i+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);i=o.bottom,r=o.domBottom}}};function cd(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new su(n.from,n.length,t,i-t,Array.isArray(n.type)?n.type.map(r=>cd(r,e)):n.type)}const Ng=ie.define({combine:n=>n.join(" ")}),u2=ie.define({combine:n=>n.indexOf(!0)>-1}),h2=It.newName(),xW=It.newName(),CW=It.newName(),EW={"&light":"."+xW,"&dark":"."+CW};function d2(n,e,t){return new It(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const Hfe=d2("."+h2,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},EW),zfe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},U1=pt.ie&&pt.ie_version<=11;let Vfe=class{constructor(e,t,i){this.view=e,this.onChange=t,this.onScrollChanged=i,this.active=!1,this.selectionRange=new Hde,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let o of r)this.queue.push(o);(pt.ie&&pt.ie_version<=11||pt.ios&&e.composing)&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),U1&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,i=this.selectionRange;if(t.state.facet(Dp)?t.root.activeElement!=this.dom:!VC(t.dom,i))return;let r=i.anchorNode&&t.docView.nearest(i.anchorNode);r&&r.ignoreEvent(e)||((pt.ie&&pt.ie_version<=11||pt.android&&pt.chrome)&&!t.state.selection.main.empty&&i.focusNode&&uv(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,t=cv(e),i=pt.safari&&e.nodeType==11&&Nde()==this.view.contentDOM&&Ffe(this.view)||t;return this.selectionRange.eq(i)?!1:(this.selectionRange.setRange(i),this.selectionChanged=!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,zfe),U1&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),U1&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame(()=>{let i=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||Wd(this.view.contentDOM,i.key,i.keyCode)}),(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let o of this.observer.takeRecords())e.push(o);e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(r=!0),t==-1?{from:t,to:i}=s:(t=Math.min(s.from,t),i=Math.max(s.to,i)))}return{from:t,to:i,typeOver:r}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:i,typeOver:r}=this.processRecords(),o=this.selectionChanged&&VC(this.dom,this.selectionRange);if(t<0&&!o)return;this.selectionChanged=!1;let s=this.view.state,l=this.onChange(t,i,r);return this.view.state==s&&this.view.update([]),l}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let i=sI(t,e.previousSibling||e.target.previousSibling,-1),r=sI(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resize)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}};function sI(n,e,t){for(;e;){let i=Ei.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function Ffe(n){let e=null;function t(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),document.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return uv(l.node,l.offset,o,s)&&([i,r,o,s]=[o,s,i,r]),{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:s}}function Wfe(n,e,t,i){let r,o,s=n.state.selection.main;if(e>-1){let l=n.docView.domBoundsAround(e,t,0);if(!l||n.state.readOnly)return!1;let{from:a,to:c}=l,u=n.docView.impreciseHead||n.docView.impreciseAnchor?[]:jfe(n),h=new aW(u,n.state);h.readRange(l.startDOM,l.endDOM);let d=s.from,f=null;(n.inputState.lastKeyCode===8&&n.inputState.lastKeyTime>Date.now()-100||pt.android&&h.text.length<c-a)&&(d=s.to,f="end");let g=_fe(n.state.doc.sliceString(a,c,Gl),h.text,d-a,f);g&&(pt.chrome&&n.inputState.lastKeyCode==13&&g.toB==g.from+2&&h.text.slice(g.from,g.toB)==Gl+Gl&&g.toB--,r={from:a+g.from,to:a+g.toA,insert:Ve.of(h.text.slice(g.from,g.toB).split(Gl))}),o=Kfe(u,a)}else if(n.hasFocus||!n.state.facet(Dp)){let l=n.observer.selectionRange,{impreciseHead:a,impreciseAnchor:c}=n.docView,u=a&&a.node==l.focusNode&&a.offset==l.focusOffset||!Zu(n.contentDOM,l.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(l.focusNode,l.focusOffset),h=c&&c.node==l.anchorNode&&c.offset==l.anchorOffset||!Zu(n.contentDOM,l.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(l.anchorNode,l.anchorOffset);(u!=s.head||h!=s.anchor)&&(o=W.single(h,u))}if(!r&&!o)return!1;if(!r&&i&&!s.empty&&o&&o.main.empty?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,s.to))}:(pt.mac||pt.android)&&r&&r.from==r.to&&r.from==s.head-1&&r.insert.toString()=="."&&(r={from:s.from,to:s.to,insert:Ve.of([" "])}),r){let l=n.state;if(pt.ios&&n.inputState.flushIOSKey(n)||pt.android&&(r.from==s.from&&r.to==s.to&&r.insert.length==1&&r.insert.lines==2&&Wd(n.contentDOM,"Enter",13)||r.from==s.from-1&&r.to==s.to&&r.insert.length==0&&Wd(n.contentDOM,"Backspace",8)||r.from==s.from&&r.to==s.to+1&&r.insert.length==0&&Wd(n.contentDOM,"Delete",46)))return!0;let a=r.insert.toString();if(n.state.facet(Q5).some(h=>h(n,r.from,r.to,a)))return!0;n.inputState.composing>=0&&n.inputState.composing++;let c;if(r.from>=s.from&&r.to<=s.to&&r.to-r.from>=(s.to-s.from)/3&&(!o||o.main.empty&&o.main.from==r.from+r.insert.length)&&n.inputState.composing<0){let h=s.from<r.from?l.sliceDoc(s.from,r.from):"",d=s.to>r.to?l.sliceDoc(r.to,s.to):"";c=l.replaceSelection(n.state.toText(h+r.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let h=l.changes(r),d=o&&!l.selection.main.eq(o.main)&&o.main.to<=h.newLength?o.main:void 0;if(l.selection.ranges.length>1&&n.inputState.composing>=0&&r.to<=s.to&&r.to>=s.to-10){let f=n.state.sliceDoc(r.from,r.to),g=cW(n)||n.state.doc.lineAt(s.head),y=s.to-r.to,v=s.to-s.from;c=l.changeByRange(m=>{if(m.from==s.from&&m.to==s.to)return{changes:h,range:d||m.map(h)};let b=m.to-y,S=b-f.length;if(m.to-m.from!=v||n.state.sliceDoc(S,b)!=f||g&&m.to>=g.from&&m.from<=g.to)return{range:m};let w=l.changes({from:S,to:b,insert:r.insert}),x=m.to-s.to;return{changes:w,range:d?W.range(Math.max(0,d.anchor+x),Math.max(0,d.head+x)):m.map(w)}})}else c={changes:h,selection:d&&l.selection.replaceRange(d)}}let u="input.type";return n.composing&&(u+=".compose",n.inputState.compositionFirstChange&&(u+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(c,{scrollIntoView:!0,userEvent:u}),!0}else if(o&&!o.main.eq(s)){let l=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(l=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:o,scrollIntoView:l,userEvent:a}),!0}else return!1}function _fe(n,e,t,i){let r=Math.min(n.length,e.length),o=0;for(;o<r&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==r&&n.length==e.length)return null;let s=n.length,l=e.length;for(;s>0&&l>0&&n.charCodeAt(s-1)==e.charCodeAt(l-1);)s--,l--;if(i=="end"){let a=Math.max(0,o-Math.min(s,l));t-=s+a-o}if(s<o&&n.length<e.length){let a=t<=o&&t>=s?o-t:0;o-=a,l=o+(l-s),s=o}else if(l<o){let a=t<=o&&t>=l?o-t:0;o-=a,s=o+(s-l),l=o}return{from:o,toA:s,toB:l}}function jfe(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new HP(t,i)),(r!=t||o!=i)&&e.push(new HP(r,o))),e}function Kfe(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?W.single(t+e,i+e):null}let Jn=class MW{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this.root=e.root||zde(e.parent)||document,this.viewState=new nI(e.state||rt.create()),this.plugins=this.state.facet(ld).map(t=>new j1(t));for(let t of this.plugins)t.update(this);this.observer=new Vfe(this,(t,i,r)=>Wfe(this,t,i,r),t=>{this.inputState.runScrollHandlers(this,t),this.observer.intersecting&&this.measure()}),this.inputState=new ffe(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new zP(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Tn?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,o=this.state;for(let l of e){if(l.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=l.state}if(this.destroyed){this.viewState.state=o;return}if(this.observer.clear(),o.facet(rt.phrases)!=this.state.facet(rt.phrases))return this.setState(o);r=BP.create(this,o,e);let s=this.viewState.scrollTarget;try{this.updateState=2;for(let l of e){if(s&&(s=s.map(l.changes)),l.scrollIntoView){let{main:a}=l.state.selection;s=new IP(a.empty?a:W.cursor(a.head,a.head>a.anchor?-1:1))}for(let a of l.effects)a.is(NP)&&(s=a.value)}this.viewState.update(r,s),this.bidiCache=aI.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(ad)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(l=>l.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Ng)!=r.state.facet(Ng)&&(this.viewState.mustMeasureContent=!0),(t||i||s||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let l of this.state.facet(i2))l(r)}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new nI(e),this.plugins=e.facet(ld).map(i=>new j1(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new zP(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(ld),i=e.state.facet(ld);if(t!=i){let r=[];for(let o of i){let s=t.indexOf(o);if(s<0)r.push(new j1(o));else{let l=this.plugins[s];l.mustUpdate=e,r.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.flush();let t=null;try{for(let i=0;;i++){this.updateState=1;let r=this.viewport,o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(i>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let s=[];o&4||([this.measureRequests,s]=[s,this.measureRequests]);let l=s.map(h=>{try{return h.read(this)}catch(d){return qa(this.state,d),lI}}),a=BP.create(this,this.state,[]),c=!1,u=!1;a.flags|=o,t?t.flags|=o:t=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),c=this.docView.update(a));for(let h=0;h<s.length;h++)if(l[h]!=lI)try{let d=s[h];d.write&&d.write(l[h],this)}catch(d){qa(this.state,d)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=!0),c&&this.docView.updateSelection(!0),this.viewport.from==r.from&&this.viewport.to==r.to&&!u&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let i of this.state.facet(i2))i(t)}get themeClasses(){return h2+" "+(this.state.facet(u2)?CW:xW)+" "+this.state.facet(Ng)}updateAttrs(){let e=cI(this,eW,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Dp)?"true":"false",class:"cm-content",style:`${pt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),cI(this,tW,t);let i=this.observer.ignore(()=>{let r=e2(this.contentDOM,this.contentAttrs,t),o=e2(this.dom,this.editorAttrs,e);return r||o});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(MW.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(ad),It.mount(this.root,this.styleModules.concat(Hfe).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),e){if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return q1(this,e,KP(this,e,t,i))}moveByGroup(e,t){return q1(this,e,KP(this,e,t,i=>hfe(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return ufe(this,e,t,i)}moveVertically(e,t,i){return q1(this,e,dfe(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),hW(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r),s=o[Mu.find(o,e-r.from,-1,t)];return zy(i,s.dir==ar.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(J5)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>qfe)return sW(e.length);let t=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t)return r.order;let i=Qde(e.text,t);return this.bidiCache.push(new aI(e.from,e.to,t,i)),i}get hasFocus(){var e;return(document.hasFocus()||pt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{A5(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return NP.of(new IP(typeof e=="number"?W.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Kde.define(()=>({}),{eventHandlers:e})}static theme(e,t){let i=It.newName(),r=[Ng.of(i),ad.of(d2(`.${i}`,e))];return t&&t.dark&&r.push(u2.of(!0)),r}static baseTheme(e){return Xs.lowest(ad.of(d2("."+h2,e,EW)))}};Jn.styleModule=ad;Jn.inputHandler=Q5;Jn.perLineTextDirection=J5;Jn.exceptionSink=Y5;Jn.updateListener=i2;Jn.editable=Dp;Jn.mouseSelectionStyle=X5;Jn.dragMovesSelection=U5;Jn.clickAddsSelectionRange=G5;Jn.decorations=qf;Jn.atomicRanges=nW;Jn.scrollMargins=iW;Jn.darkTheme=u2;Jn.contentAttributes=tW;Jn.editorAttributes=eW;Jn.lineWrapping=Jn.contentAttributes.of({class:"cm-lineWrapping"});Jn.announce=yt.define();const qfe=4096,lI={};let aI=class $W{constructor(e,t,i,r){this.from=e,this.to=t,this.dir=i,this.order=r}static update(e,t){if(t.empty)return e;let i=[],r=e.length?e[e.length-1].dir:ar.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==r&&!t.touchesRange(s.from,s.to)&&i.push(new $W(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.order))}return i}};function cI(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let o=i[r],s=typeof o=="function"?o(n):o;s&&ZC(s,t)}return t}const Gfe=!pt.ios,Ufe={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Gfe&&(Ufe[".cm-line"].caretColor="transparent !important");let eh=class extends Qi{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}};eh.prototype.elementClass="";eh.prototype.toDOM=void 0;eh.prototype.mapMode=At.TrackBefore;eh.prototype.startSide=eh.prototype.endSide=-1;eh.prototype.point=!0;const Xfe=n=>{let e=fk(n.state);return e.line?Yfe(n):e.block?Jfe(n):!1};function dk(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return r?(i(t.update(r)),!0):!1}}const Yfe=dk(tpe,0),Qfe=dk(kW,0),Jfe=dk((n,e)=>kW(n,e,epe(e)),0);function fk(n,e=n.selection.main.head){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const _h=50;function Zfe(n,{open:e,close:t},i,r){let o=n.sliceDoc(i-_h,i),s=n.sliceDoc(r,r+_h),l=/\s*$/.exec(o)[0].length,a=/^\s*/.exec(s)[0].length,c=o.length-l;if(o.slice(c-e.length,c)==e&&s.slice(a,a+t.length)==t)return{open:{pos:i-l,margin:l&&1},close:{pos:r+a,margin:a&&1}};let u,h;r-i<=2*_h?u=h=n.sliceDoc(i,r):(u=n.sliceDoc(i,i+_h),h=n.sliceDoc(r-_h,r));let d=/^\s*/.exec(u)[0].length,f=/\s*$/.exec(h)[0].length,g=h.length-f-t.length;return u.slice(d,d+e.length)==e&&h.slice(g,g+t.length)==t?{open:{pos:i+d+e.length,margin:/\s/.test(u.charAt(d+e.length))?1:0},close:{pos:r-f-t.length,margin:/\s/.test(h.charAt(g-1))?1:0}}:null}function epe(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to),o=e.length-1;o>=0&&e[o].to>i.from?e[o].to=r.to:e.push({from:i.from,to:r.to})}return e}function kW(n,e,t=e.selection.ranges){let i=t.map(o=>fk(e,o.from).block);if(!i.every(o=>o))return null;let r=t.map((o,s)=>Zfe(e,i[s],o.from,o.to));if(n!=2&&!r.every(o=>o))return{changes:e.changes(t.map((o,s)=>r[s]?[]:[{from:o.from,insert:i[s].open+" "},{from:o.to,insert:" "+i[s].close}]))};if(n!=1&&r.some(o=>o)){let o=[];for(let s=0,l;s<r.length;s++)if(l=r[s]){let a=i[s],{open:c,close:u}=l;o.push({from:c.pos-a.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+a.close.length})}return{changes:o}}return null}function tpe(n,e,t=e.selection.ranges){let i=[],r=-1;for(let{from:o,to:s}of t){let l=i.length,a=1e9;for(let c=o;c<=s;){let u=e.doc.lineAt(c);if(u.from>r&&(o==s||s>u.from)){r=u.from;let h=fk(e,c).line;if(!h)continue;let d=/^\s*/.exec(u.text)[0].length,f=d==u.length,g=u.text.slice(d,d+h.length)==h?d:-1;d<u.text.length&&d<a&&(a=d),i.push({line:u,comment:g,token:h,indent:d,empty:f,single:!1})}c=u.to+1}if(a<1e9)for(let c=l;c<i.length;c++)i[c].indent<i[c].line.text.length&&(i[c].indent=a);i.length==l+1&&(i[l].single=!0)}if(n!=2&&i.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:l,token:a,indent:c,empty:u,single:h}of i)(h||!u)&&o.push({from:l.from+c,insert:a+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(n!=1&&i.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:l,token:a}of i)if(l>=0){let c=s.from+l,u=c+a.length;s.text[u-s.from]==" "&&u++,o.push({from:c,to:u})}return{changes:o}}return null}const f2=bc.define(),npe=bc.define(),ipe=ie.define(),OW=ie.define({combine(n){return xl(n,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});function rpe(n){let e=0;return n.iterChangedRanges((t,i)=>e=i),e}const AW=Ji.define({create(){return Ds.empty},update(n,e){let t=e.state.facet(OW),i=e.annotation(f2);if(i){let a=e.docChanged?W.single(rpe(e.changes)):void 0,c=Tr.fromTransaction(e,a),u=i.side,h=u==0?n.undone:n.done;return c?h=dv(h,h.length,t.minDepth,c):h=PW(h,e.startState.selection),new Ds(u==0?i.rest:h,u==0?h:i.rest)}let r=e.annotation(npe);if((r=="full"||r=="before")&&(n=n.isolate()),e.annotation(Tn.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let o=Tr.fromTransaction(e),s=e.annotation(Tn.time),l=e.annotation(Tn.userEvent);return o?n=n.addChanges(o,s,l,t.newGroupDelay,t.minDepth):e.selection&&(n=n.addSelection(e.startState.selection,s,l,t.newGroupDelay)),(r=="full"||r=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new Ds(n.done.map(Tr.fromJSON),n.undone.map(Tr.fromJSON))}});function ope(n={}){return[AW,OW.of(n),Jn.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?RW:e.inputType=="historyRedo"?DW:null;return i?(e.preventDefault(),i(t)):!1}})]}function Wy(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let r=t.field(AW,!1);if(!r)return!1;let o=r.pop(n,t,e);return o?(i(o),!0):!1}}const RW=Wy(0,!1),DW=Wy(1,!1),spe=Wy(0,!0),lpe=Wy(1,!0);class Tr{constructor(e,t,i,r,o){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=o}setSelAfter(e){return new Tr(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new Tr(e.changes&&en.fromJSON(e.changes),[],e.mapped&&Ns.fromJSON(e.mapped),e.startSelection&&W.fromJSON(e.startSelection),e.selectionsAfter.map(W.fromJSON))}static fromTransaction(e,t){let i=bo;for(let r of e.startState.facet(ipe)){let o=r(e);o.length&&(i=i.concat(o))}return!i.length&&e.changes.empty?null:new Tr(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,bo)}static selection(e){return new Tr(void 0,bo,void 0,void 0,e)}}function dv(n,e,t,i){let r=e+1>t+20?e-t-1:0,o=n.slice(r,e);return o.push(i),o}function ape(n,e){let t=[],i=!1;return n.iterChangedRanges((r,o)=>t.push(r,o)),e.iterChangedRanges((r,o,s,l)=>{for(let a=0;a<t.length;){let c=t[a++],u=t[a++];l>=c&&s<=u&&(i=!0)}}),i}function cpe(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function TW(n,e){return n.length?e.length?n.concat(e):n:e}const bo=[],upe=200;function PW(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-upe));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),dv(n,n.length-1,1e9,t.setSelAfter(i)))}else return[Tr.selection([e])]}function hpe(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function X1(n,e){if(!n.length)return n;let t=n.length,i=bo;for(;t;){let r=dpe(n[t-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let o=n.slice(0,t);return o[t-1]=r,o}else e=r.mapped,t--,i=r.selectionsAfter}return i.length?[Tr.selection(i)]:bo}function dpe(n,e,t){let i=TW(n.selectionsAfter.length?n.selectionsAfter.map(l=>l.map(e)):bo,t);if(!n.changes)return Tr.selection(i);let r=n.changes.map(e),o=e.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(o):o;return new Tr(r,yt.mapEffects(n.effects,e),s,n.startSelection.map(o),i)}const fpe=/^(input\.type|delete)($|\.)/;class Ds{constructor(e,t,i=0,r=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new Ds(this.done,this.undone):this}addChanges(e,t,i,r,o){let s=this.done,l=s[s.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!i||fpe.test(i))&&(!l.selectionsAfter.length&&t-this.prevTime<r&&ape(l.changes,e.changes)||i=="input.type.compose")?s=dv(s,s.length-1,o,new Tr(e.changes.compose(l.changes),TW(e.effects,l.effects),l.mapped,l.startSelection,bo)):s=dv(s,s.length,o,e),new Ds(s,bo,t,i)}addSelection(e,t,i,r){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:bo;return o.length>0&&t-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&cpe(o[o.length-1],e)?this:new Ds(PW(this.done,e),this.undone,t,i)}addMapping(e){return new Ds(X1(this.done,e),X1(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let o=r[r.length-1];if(i&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:f2.of({side:e,rest:hpe(r)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let s=r.length==1?bo:r.slice(0,r.length-1);return o.mapped&&(s=X1(s,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:f2.of({side:e,rest:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Ds.empty=new Ds(bo,bo);const ppe=[{key:"Mod-z",run:RW,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:DW,preventDefault:!0},{key:"Mod-u",run:spe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:lpe,preventDefault:!0}];function Eh(n,e){return W.create(n.ranges.map(e),n.mainIndex)}function Ys(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Cl({state:n,dispatch:e},t){let i=Eh(n.selection,t);return i.eq(n.selection)?!1:(e(Ys(n,i)),!0)}function _y(n,e){return W.cursor(e?n.to:n.from)}function IW(n,e){return Cl(n,t=>t.empty?n.moveByChar(t,e):_y(t,e))}function Oo(n){return n.textDirectionAt(n.state.selection.main.head)==ar.LTR}const NW=n=>IW(n,!Oo(n)),BW=n=>IW(n,Oo(n));function LW(n,e){return Cl(n,t=>t.empty?n.moveByGroup(t,e):_y(t,e))}const gpe=n=>LW(n,!Oo(n)),mpe=n=>LW(n,Oo(n));function vpe(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function jy(n,e,t){let i=dr(n).resolveInner(e.head),r=t?jt.closedBy:jt.openedBy;for(let a=e.head;;){let c=t?i.childAfter(a):i.childBefore(a);if(!c)break;vpe(n,c,r)?i=c:a=t?c.to:c.from}let o=i.type.prop(r),s,l;return o&&(s=t?Rs(n,i.from,1):Rs(n,i.to,-1))&&s.matched?l=t?s.end.to:s.end.from:l=t?i.to:i.from,W.cursor(l,t?-1:1)}const ype=n=>Cl(n,e=>jy(n.state,e,!Oo(n))),bpe=n=>Cl(n,e=>jy(n.state,e,Oo(n)));function HW(n,e){return Cl(n,t=>{if(!t.empty)return _y(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const zW=n=>HW(n,!1),VW=n=>HW(n,!0);function FW(n,e){let{state:t}=n,i=Eh(t.selection,l=>l.empty?n.moveVertically(l,e,Math.min(n.dom.clientHeight,innerHeight)):_y(l,e));if(i.eq(t.selection))return!1;let r=n.coordsAtPos(t.selection.main.head),o=n.scrollDOM.getBoundingClientRect(),s;return r&&r.top>o.top&&r.bottom<o.bottom&&r.top-o.top<=n.scrollDOM.scrollHeight-n.scrollDOM.scrollTop-n.scrollDOM.clientHeight&&(s=Jn.scrollIntoView(i.main.head,{y:"start",yMargin:r.top-o.top})),n.dispatch(Ys(t,i),{effects:s}),!0}const uI=n=>FW(n,!1),p2=n=>FW(n,!0);function Ky(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let o=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;o&&e.head!=i.from+o&&(r=W.cursor(i.from+o))}return r}const hI=n=>Cl(n,e=>Ky(n,e,!0)),dI=n=>Cl(n,e=>Ky(n,e,!1)),Spe=n=>Cl(n,e=>W.cursor(n.lineBlockAt(e.head).from,1)),wpe=n=>Cl(n,e=>W.cursor(n.lineBlockAt(e.head).to,-1));function xpe(n,e,t){let i=!1,r=Eh(n.selection,o=>{let s=Rs(n,o.head,-1)||Rs(n,o.head,1)||o.head>0&&Rs(n,o.head-1,1)||o.head<n.doc.length&&Rs(n,o.head+1,-1);if(!s||!s.end)return o;i=!0;let l=s.start.from==o.head?s.end.to:s.end.from;return W.cursor(l)});return i?(e(Ys(n,r)),!0):!1}const Cpe=({state:n,dispatch:e})=>xpe(n,e);function Qs(n,e){let t=Eh(n.state.selection,i=>{let r=e(i);return W.range(i.anchor,r.head,r.goalColumn)});return t.eq(n.state.selection)?!1:(n.dispatch(Ys(n.state,t)),!0)}function WW(n,e){return Qs(n,t=>n.moveByChar(t,e))}const _W=n=>WW(n,!Oo(n)),jW=n=>WW(n,Oo(n));function KW(n,e){return Qs(n,t=>n.moveByGroup(t,e))}const Epe=n=>KW(n,!Oo(n)),Mpe=n=>KW(n,Oo(n)),$pe=n=>Qs(n,e=>jy(n.state,e,!Oo(n))),kpe=n=>Qs(n,e=>jy(n.state,e,Oo(n)));function qW(n,e){return Qs(n,t=>n.moveVertically(t,e))}const GW=n=>qW(n,!1),UW=n=>qW(n,!0);function XW(n,e){return Qs(n,t=>n.moveVertically(t,e,Math.min(n.dom.clientHeight,innerHeight)))}const fI=n=>XW(n,!1),pI=n=>XW(n,!0),gI=n=>Qs(n,e=>Ky(n,e,!0)),mI=n=>Qs(n,e=>Ky(n,e,!1)),Ope=n=>Qs(n,e=>W.cursor(n.lineBlockAt(e.head).from)),Ape=n=>Qs(n,e=>W.cursor(n.lineBlockAt(e.head).to)),vI=({state:n,dispatch:e})=>(e(Ys(n,{anchor:0})),!0),yI=({state:n,dispatch:e})=>(e(Ys(n,{anchor:n.doc.length})),!0),bI=({state:n,dispatch:e})=>(e(Ys(n,{anchor:n.selection.main.anchor,head:0})),!0),SI=({state:n,dispatch:e})=>(e(Ys(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),Rpe=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),Dpe=({state:n,dispatch:e})=>{let t=Uy(n).map(({from:i,to:r})=>W.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:W.create(t),userEvent:"select"})),!0},Tpe=({state:n,dispatch:e})=>{let t=Eh(n.selection,i=>{var r;let o=dr(n).resolveInner(i.head,1);for(;!(o.from<i.from&&o.to>=i.to||o.to>i.to&&o.from<=i.from||!(!((r=o.parent)===null||r===void 0)&&r.parent));)o=o.parent;return W.range(o.to,o.from)});return e(Ys(n,t)),!0},Ppe=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=W.create([t.main]):t.main.empty||(i=W.create([W.cursor(t.main.head)])),i?(e(Ys(n,i)),!0):!1};function qy({state:n,dispatch:e},t){if(n.readOnly)return!1;let i="delete.selection",r=n.changeByRange(o=>{let{from:s,to:l}=o;if(s==l){let a=t(s);a<s?i="delete.backward":a>s&&(i="delete.forward"),s=Math.min(s,a),l=Math.max(l,a)}return s==l?{range:o}:{changes:{from:s,to:l},range:W.cursor(s)}});return r.changes.empty?!1:(e(n.update(r,{scrollIntoView:!0,userEvent:i})),!0)}function Gy(n,e,t){if(n instanceof Jn)for(let i of n.state.facet(Jn.atomicRanges).map(r=>r(n)))i.between(e,e,(r,o)=>{r<e&&o>e&&(e=t?o:r)});return e}const YW=(n,e)=>qy(n,t=>{let{state:i}=n,r=i.doc.lineAt(t),o,s;if(!e&&t>r.from&&t<r.from+200&&!/[^ \t]/.test(o=r.text.slice(0,t-r.from))){if(o[o.length-1]=="	")return t-1;let l=Mp(o,i.tabSize),a=l%sv(i)||sv(i);for(let c=0;c<a&&o[o.length-1-c]==" ";c++)t--;s=t}else s=Tt(r.text,t-r.from,e,e)+r.from,s==t&&r.number!=(e?i.doc.lines:1)&&(s+=e?1:-1);return Gy(n,s,e)}),g2=n=>YW(n,!1),QW=n=>YW(n,!0),JW=(n,e)=>qy(n,t=>{let i=t,{state:r}=n,o=r.doc.lineAt(i),s=r.charCategorizer(i);for(let l=null;;){if(i==(e?o.to:o.from)){i==t&&o.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let a=Tt(o.text,i-o.from,e)+o.from,c=o.text.slice(Math.min(i,a)-o.from,Math.max(i,a)-o.from),u=s(c);if(l!=null&&u!=l)break;(c!=" "||i!=t)&&(l=u),i=a}return Gy(n,i,e)}),ZW=n=>JW(n,!1),Ipe=n=>JW(n,!0),e_=n=>qy(n,e=>{let t=n.lineBlockAt(e).to;return Gy(n,e<t?t:Math.min(n.state.doc.length,e+1),!0)}),Npe=n=>qy(n,e=>{let t=n.lineBlockAt(e).from;return Gy(n,e>t?t:Math.max(0,e-1),!1)}),Bpe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Ve.of(["",""])},range:W.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},Lpe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,o=n.doc.lineAt(r),s=r==o.from?r-1:Tt(o.text,r-o.from,!1)+o.from,l=r==o.to?r+1:Tt(o.text,r-o.from,!0)+o.from;return{changes:{from:s,to:l,insert:n.doc.slice(r,l).append(n.doc.slice(s,r))},range:W.cursor(l)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Uy(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),o=n.doc.lineAt(i.to);if(!i.empty&&i.to==o.from&&(o=n.doc.lineAt(i.to-1)),t>=r.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(i)}else e.push({from:r.from,to:o.to,ranges:[i]});t=o.number+1}return e}function t_(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let o of Uy(n)){if(t?o.to==n.doc.length:o.from==0)continue;let s=n.doc.lineAt(t?o.to+1:o.from-1),l=s.length+1;if(t){i.push({from:o.to,to:s.to},{from:o.from,insert:s.text+n.lineBreak});for(let a of o.ranges)r.push(W.range(Math.min(n.doc.length,a.anchor+l),Math.min(n.doc.length,a.head+l)))}else{i.push({from:s.from,to:o.from},{from:o.to,insert:n.lineBreak+s.text});for(let a of o.ranges)r.push(W.range(a.anchor-l,a.head-l))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:W.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Hpe=({state:n,dispatch:e})=>t_(n,e,!1),zpe=({state:n,dispatch:e})=>t_(n,e,!0);function n_(n,e,t){if(n.readOnly)return!1;let i=[];for(let r of Uy(n))t?i.push({from:r.from,insert:n.doc.slice(r.from,r.to)+n.lineBreak}):i.push({from:r.to,insert:n.lineBreak+n.doc.slice(r.from,r.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Vpe=({state:n,dispatch:e})=>n_(n,e,!1),Fpe=({state:n,dispatch:e})=>n_(n,e,!0),Wpe=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Uy(e).map(({from:r,to:o})=>(r>0?r--:o<e.doc.length&&o++,{from:r,to:o}))),i=Eh(e.selection,r=>n.moveVertically(r,!0)).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function _pe(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=dr(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e),o;return i&&r&&i.to<=e&&r.from>=e&&(o=i.type.prop(jt.closedBy))&&o.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from?{from:i.to,to:r.from}:null}const jpe=i_(!1),Kpe=i_(!0);function i_(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:o,to:s}=r,l=e.doc.lineAt(o),a=!n&&o==s&&_pe(e,o);n&&(o=s=(s<=l.to?l:e.doc.lineAt(s)).to);let c=new By(e,{simulateBreak:o,simulateDoubleBreak:!!a}),u=ok(c,o);for(u==null&&(u=/^\s*/.exec(e.doc.lineAt(o).text)[0].length);s<l.to&&/\s/.test(l.text[s-l.from]);)s++;a?{from:o,to:s}=a:o>l.from&&o<l.from+100&&!/\S/.test(l.text.slice(0,o))&&(o=l.from);let h=["",Ff(e,u)];return a&&h.push(Ff(e,c.lineIndent(l.from,-1))),{changes:{from:o,to:s,insert:Ve.of(h)},range:W.cursor(o+1+h[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function pk(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let s=i.from;s<=i.to;){let l=n.doc.lineAt(s);l.number>t&&(i.empty||i.to>l.from)&&(e(l,r,i),t=l.number),s=l.to+1}let o=n.changes(r);return{changes:r,range:W.range(o.mapPos(i.anchor,1),o.mapPos(i.head,1))}})}const qpe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new By(n,{overrideIndentation:o=>{let s=t[o];return s??-1}}),r=pk(n,(o,s,l)=>{let a=ok(i,o.from);if(a==null)return;/\S/.test(o.text)||(a=0);let c=/^\s*/.exec(o.text)[0],u=Ff(n,a);(c!=u||l.from<o.from+c.length)&&(t[o.from]=a,s.push({from:o.from,to:o.from+c.length,insert:u}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0},Gpe=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(pk(n,(t,i)=>{i.push({from:t.from,insert:n.facet(rk)})}),{userEvent:"input.indent"})),!0),Upe=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(pk(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let o=Mp(r,n.tabSize),s=0,l=Ff(n,Math.max(0,o-sv(n)));for(;s<r.length&&s<l.length&&r.charCodeAt(s)==l.charCodeAt(s);)s++;i.push({from:t.from+s,to:t.from+r.length,insert:l.slice(s)})}),{userEvent:"delete.dedent"})),!0),Xpe=[{key:"Ctrl-b",run:NW,shift:_W,preventDefault:!0},{key:"Ctrl-f",run:BW,shift:jW},{key:"Ctrl-p",run:zW,shift:GW},{key:"Ctrl-n",run:VW,shift:UW},{key:"Ctrl-a",run:Spe,shift:Ope},{key:"Ctrl-e",run:wpe,shift:Ape},{key:"Ctrl-d",run:QW},{key:"Ctrl-h",run:g2},{key:"Ctrl-k",run:e_},{key:"Ctrl-Alt-h",run:ZW},{key:"Ctrl-o",run:Bpe},{key:"Ctrl-t",run:Lpe},{key:"Ctrl-v",run:p2}],Ype=[{key:"ArrowLeft",run:NW,shift:_W,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:gpe,shift:Epe},{mac:"Cmd-ArrowLeft",run:dI,shift:mI},{key:"ArrowRight",run:BW,shift:jW,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:mpe,shift:Mpe},{mac:"Cmd-ArrowRight",run:hI,shift:gI},{key:"ArrowUp",run:zW,shift:GW,preventDefault:!0},{mac:"Cmd-ArrowUp",run:vI,shift:bI},{mac:"Ctrl-ArrowUp",run:uI,shift:fI},{key:"ArrowDown",run:VW,shift:UW,preventDefault:!0},{mac:"Cmd-ArrowDown",run:yI,shift:SI},{mac:"Ctrl-ArrowDown",run:p2,shift:pI},{key:"PageUp",run:uI,shift:fI},{key:"PageDown",run:p2,shift:pI},{key:"Home",run:dI,shift:mI,preventDefault:!0},{key:"Mod-Home",run:vI,shift:bI},{key:"End",run:hI,shift:gI,preventDefault:!0},{key:"Mod-End",run:yI,shift:SI},{key:"Enter",run:jpe},{key:"Mod-a",run:Rpe},{key:"Backspace",run:g2,shift:g2},{key:"Delete",run:QW},{key:"Mod-Backspace",mac:"Alt-Backspace",run:ZW},{key:"Mod-Delete",mac:"Alt-Delete",run:Ipe},{mac:"Mod-Backspace",run:Npe},{mac:"Mod-Delete",run:e_}].concat(Xpe.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),Qpe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:ype,shift:$pe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:bpe,shift:kpe},{key:"Alt-ArrowUp",run:Hpe},{key:"Shift-Alt-ArrowUp",run:Vpe},{key:"Alt-ArrowDown",run:zpe},{key:"Shift-Alt-ArrowDown",run:Fpe},{key:"Escape",run:Ppe},{key:"Mod-Enter",run:Kpe},{key:"Alt-l",mac:"Ctrl-l",run:Dpe},{key:"Mod-i",run:Tpe,preventDefault:!0},{key:"Mod-[",run:Upe},{key:"Mod-]",run:Gpe},{key:"Mod-Alt-\\",run:qpe},{key:"Shift-Mod-k",run:Wpe},{key:"Shift-Mod-\\",run:Cpe},{key:"Mod-/",run:Xfe},{key:"Alt-A",run:Qfe}].concat(Ype);function fv(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function th(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Jpe(){let n=document.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function m2(n,e){if(!e.anchorNode)return!1;try{return th(n,e.anchorNode)}catch{return!1}}function Uf(n){return n.nodeType==3?Xf(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function pv(n,e,t,i){return t?wI(n,e,t,i,-1)||wI(n,e,t,i,1):!1}function v2(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function wI(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:gv(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=v2(n)+(r<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?gv(n):0}else return!1}}function gv(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}const r_={left:0,right:0,top:0,bottom:0};function Xy(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function Zpe(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function ege(n,e,t,i,r,o,s,l){let a=n.ownerDocument,c=a.defaultView;for(let u=n;u;)if(u.nodeType==1){let h,d=u==a.body;if(d)h=Zpe(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.parentNode;continue}let y=u.getBoundingClientRect();h={left:y.left,right:y.left+u.clientWidth,top:y.top,bottom:y.top+u.clientHeight}}let f=0,g=0;if(r=="nearest")e.top<h.top?(g=-(h.top-e.top+s),t>0&&e.bottom>h.bottom+g&&(g=e.bottom-h.bottom+g+s)):e.bottom>h.bottom&&(g=e.bottom-h.bottom+s,t<0&&e.top-g<h.top&&(g=-(h.top+g-e.top+s)));else{let y=e.bottom-e.top,v=h.bottom-h.top;g=(r=="center"&&y<=v?e.top+y/2-v/2:r=="start"||r=="center"&&t<0?e.top-s:e.bottom-v+s)-h.top}if(i=="nearest"?e.left<h.left?(f=-(h.left-e.left+o),t>0&&e.right>h.right+f&&(f=e.right-h.right+f+o)):e.right>h.right&&(f=e.right-h.right+o,t<0&&e.left<h.left+f&&(f=-(h.left+f-e.left+o))):f=(i=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:i=="start"==l?e.left-o:e.right-(h.right-h.left)+o)-h.left,f||g)if(d)c.scrollBy(f,g);else{if(g){let y=u.scrollTop;u.scrollTop+=g,g=u.scrollTop-y}if(f){let y=u.scrollLeft;u.scrollLeft+=f,f=u.scrollLeft-y}e={left:e.left-f,top:e.top-g,right:e.right-f,bottom:e.bottom-g}}if(d)break;u=u.assignedSlot||u.parentNode,i=r="nearest"}else if(u.nodeType==11)u=u.host;else break}let tge=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}},Nc=null;function o_(n){if(n.setActive)return n.setActive();if(Nc)return n.focus(Nc);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Nc==null?{get preventScroll(){return Nc={preventScroll:!0},!0}}:void 0),!Nc){Nc=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],o=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=o&&(i.scrollLeft=o)}}}let xI;function Xf(n,e,t=e){let i=xI||(xI=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function _d(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function nge(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function s_(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}let Pr=class y2{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new y2(e.parentNode,v2(e),t)}static after(e,t){return new y2(e.parentNode,v2(e)+1,t)}};const gk=[];let Mi=class b2{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(this.dirty&2){let t=this.dom,i=null,r;for(let o of this.children){if(o.dirty){if(!o.dom&&(r=i?i.nextSibling:t.firstChild)){let s=b2.get(r);(!s||!s.parent&&s.constructor==o.constructor)&&o.reuseDOM(r)}o.sync(e),o.dirty=0}if(r=i?i.nextSibling:t.firstChild,e&&!e.written&&e.node==t&&r!=o.dom&&(e.written=!0),o.dom.parentNode==t)for(;r&&r!=o.dom;)r=CI(r);else t.insertBefore(o.dom,r);i=o.dom}for(r=i?i.nextSibling:t.firstChild,r&&e&&e.node==t&&(e.written=!0);r;)r=CI(r)}else if(this.dirty&1)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=gv(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;r==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?r=-1:r=1),e=o}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!b2.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,o=0;;r++){let s=this.children[r];if(s.dom==i)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,o=-1,s=-1,l=-1;for(let a=0,c=i,u=i;a<this.children.length;a++){let h=this.children[a],d=c+h.length;if(c<e&&d>t)return h.domBoundsAround(e,t,c);if(d>=e&&r==-1&&(r=a,o=c),c>t&&h.dom.parentNode==this.dom){s=a,l=u;break}u=d,c=d+h.breakAfter}return{from:o,to:l<0?i+this.length:l,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=gk){this.markDirty();for(let r=e;r<t;r++){let o=this.children[r];o.parent==this&&o.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new l_(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,i,r,o,s){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}};Mi.prototype.breakAfter=0;function CI(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}let l_=class{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}};function a_(n,e,t,i,r,o,s,l,a){let{children:c}=n,u=c.length?c[e]:null,h=o.length?o[o.length-1]:null,d=h?h.breakAfter:s;if(!(e==i&&u&&!s&&!d&&o.length<2&&u.merge(t,r,o.length?h:null,t==0,l,a))){if(i<c.length){let f=c[i];f&&r<f.length?(e==i&&(f=f.split(r),r=0),!d&&h&&f.merge(0,r,h,!0,0,a)?o[o.length-1]=f:(r&&f.merge(0,r,null,!1,0,a),o.push(f))):f!=null&&f.breakAfter&&(h?h.breakAfter=1:s=1),i++}for(u&&(u.breakAfter=s,t>0&&(!s&&o.length&&u.merge(t,u.length,o[0],!1,l,0)?u.breakAfter=o.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,l,0),e++));e<i&&o.length;)if(c[i-1].become(o[o.length-1]))i--,o.pop(),a=o.length?0:l;else if(c[e].become(o[0]))e++,o.shift(),l=o.length?0:a;else break;!o.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,l,a)&&e--,(e<i||o.length)&&n.replaceChildren(e,i,o)}}function c_(n,e,t,i,r,o){let s=n.childCursor(),{i:l,off:a}=s.findPos(t,1),{i:c,off:u}=s.findPos(e,-1),h=e-t;for(let d of i)h+=d.length;n.length+=h,a_(n,c,u,l,a,i,0,r,o)}let Qr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},S2=typeof document<"u"?document:{documentElement:{style:{}}};const w2=/Edge\/(\d+)/.exec(Qr.userAgent),u_=/MSIE \d/.test(Qr.userAgent),x2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Qr.userAgent),Yy=!!(u_||x2||w2),EI=!Yy&&/gecko\/(\d+)/i.test(Qr.userAgent),Y1=!Yy&&/Chrome\/(\d+)/.exec(Qr.userAgent),MI="webkitFontSmoothing"in S2.documentElement.style,h_=!Yy&&/Apple Computer/.test(Qr.vendor),$I=h_&&(/Mobile\/\w+/.test(Qr.userAgent)||Qr.maxTouchPoints>2);var ut={mac:$I||/Mac/.test(Qr.platform),windows:/Win/.test(Qr.platform),linux:/Linux|X11/.test(Qr.platform),ie:Yy,ie_version:u_?S2.documentMode||6:x2?+x2[1]:w2?+w2[1]:0,gecko:EI,gecko_version:EI?+(/Firefox\/(\d+)/.exec(Qr.userAgent)||[0,0])[1]:0,chrome:!!Y1,chrome_version:Y1?+Y1[1]:0,ios:$I,android:/Android\b/.test(Qr.userAgent),webkit:MI,safari:h_,webkit_version:MI?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:S2.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const ige=256;let Yf=class C2 extends Mi{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return i&&(!(i instanceof C2)||this.length-(t-e)+i.length>ige)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new C2(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Pr(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return M2(this.dom,e,t)}},uc=class E2 extends Mi{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(s_(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,i,r,o,s){return i&&(!(i instanceof E2&&i.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0)?!1:(c_(this,e,t,i?i.children:[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,o=0;for(let l of this.children){let a=i+l.length;a>e&&t.push(i<e?l.split(e-i):l),r<0&&i>=e&&(r=o),i=a,o++}let s=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new E2(this.mark,t,s)}domAtPos(e){return p_(this.dom,this.children,e)}coordsAt(e,t){return m_(this,e,t)}};function M2(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,o=e,s=0;e==0&&t<0||e==i&&t>=0?ut.chrome||ut.gecko||(e?(r--,s=1):o<i&&(o++,s=-1)):t<0?r--:o<i&&o++;let l=Xf(n,r,o).getClientRects();if(!l.length)return r_;let a=l[(s?s<0:t>=0)?0:l.length-1];return ut.safari&&!s&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),s?Xy(a,s<0):a||null}let mk=class ud extends Mi{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||ud)(e,t,i)}split(e){let t=ud.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,o,s){return i&&(!(i instanceof ud)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof ud&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ve.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):Ve.empty}domAtPos(e){return e==0?Pr.before(this.dom):Pr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.dom.getClientRects(),r=null;if(!i.length)return r_;for(let o=e>0?i.length-1:0;r=i[o],!(e>0?o==0:o==i.length-1||r.top<r.bottom);o+=e>0?-1:1);return e==0&&t>0||e==this.length&&t<=0?r:Xy(r,e==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},d_=class extends mk{domAtPos(e){let{topView:t,text:i}=this.widget;return t?$2(e,0,t,i,(r,o)=>r.domAtPos(o),r=>new Pr(i,Math.min(r,i.nodeValue.length))):new Pr(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:r}=this.widget;return i?f_(e,t,i,r):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:r}=this.widget;return i?$2(e,t,i,r,(o,s,l)=>o.coordsAt(s,l),(o,s)=>M2(r,o,s)):M2(r,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}};function $2(n,e,t,i,r,o){if(t instanceof uc){for(let s of t.children){let l=th(s.dom,i),a=l?i.nodeValue.length:s.length;if(n<a||n==a&&s.getSide()<=0)return l?$2(n,e,s,i,r,o):r(s,n,e);n-=a}return r(t,t.length,-1)}else return t.dom==i?o(n,e):r(t,n,e)}function f_(n,e,t,i){if(t instanceof uc)for(let r of t.children){let o=0,s=th(r.dom,i);if(th(r.dom,n))return o+(s?f_(n,e,r,i):r.localPosFromDOM(n,e));o+=s?i.nodeValue.length:r.length}else if(t.dom==i)return Math.min(e,i.nodeValue.length);return t.localPosFromDOM(n,e)}let k2=class O2 extends Mi{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof O2&&e.side==this.side}split(){return new O2(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Pr.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),i=rge(this,this.side>0?-1:1);return i&&i.top<t.bottom&&i.bottom>t.top?{left:t.left,right:t.right,top:i.top,bottom:i.bottom}:t}get overrideDOMText(){return Ve.empty}};Yf.prototype.children=mk.prototype.children=k2.prototype.children=gk;function rge(n,e){let t=n.parent,i=t?t.children.indexOf(n):-1;for(;t&&i>=0;)if(e<0?i>0:i<t.children.length){let r=t.children[i+e];if(r instanceof Yf){let o=r.coordsAt(e<0?r.length:0,e);if(o)return o}i+=e}else if(t instanceof uc&&t.parent)i=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent;else{let r=t.dom.lastChild;if(r&&r.nodeName=="BR")return r.getClientRects()[0];break}}function p_(n,e,t){let i=0;for(let r=0;i<e.length;i++){let o=e[i],s=r+o.length;if(!(s==r&&o.getSide()<=0)){if(t>r&&t<s&&o.dom.parentNode==n)return o.domAtPos(t-r);if(t<=r)break;r=s}}for(;i>0;i--){let r=e[i-1].dom;if(r.parentNode==n)return Pr.after(r)}return new Pr(n,0)}function g_(n,e,t){let i,{children:r}=n;t>0&&e instanceof uc&&r.length&&(i=r[r.length-1])instanceof uc&&i.mark.eq(e.mark)?g_(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function m_(n,e,t){for(let o=0,s=0;s<n.children.length;s++){let l=n.children[s],a=o+l.length,c;if((t<=0||a==n.length||l.getSide()>0?a>=e:a>e)&&(e<a||s+1==n.children.length||(c=n.children[s+1]).length||c.getSide()>0)){let u=0;if(a==o){if(l.getSide()<=0)continue;u=t=-l.getSide()}let h=l.coordsAt(Math.max(0,e-o),t);return u&&h?Xy(h,t<0):h}o=a}let i=n.dom.lastChild;if(!i)return n.dom.getBoundingClientRect();let r=Uf(i);return r[r.length-1]||null}function A2(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function vk(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r of t)if(i.indexOf(r)==-1||n[r]!==e[r])return!1;return!0}function R2(n,e,t){let i=null;if(e)for(let r in e)t&&r in t||n.removeAttribute(i=r);if(t)for(let r in t)e&&e[r]==t[r]||n.setAttribute(i=r,t[r]);return!!i}let Qy=class{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}};var yi=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(yi||(yi={}));let Qt=class extends Qi{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new v_(e)}static widget(e){let t=e.side||0,i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new Qf(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:o,end:s}=w_(e,t);i=(o?t?-3e8:-1:5e8)-1,r=(s?t?2e8:1:-6e8)+1}return new Qf(e,i,r,t,e.widget||null,!0)}static line(e){return new yk(e)}static set(e,t=!1){return Be.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};Qt.none=Be.empty;let v_=class y_ extends Qt{constructor(e){let{start:t,end:i}=w_(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof y_&&this.tagName==e.tagName&&this.class==e.class&&vk(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}};v_.prototype.point=!1;let yk=class b_ extends Qt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof b_&&vk(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}};yk.prototype.mapMode=At.TrackBefore;yk.prototype.point=!0;let Qf=class S_ extends Qt{constructor(e,t,i,r,o,s){super(t,i,o,e),this.block=r,this.isReplace=s,this.mapMode=r?t<=0?At.TrackBefore:At.TrackAfter:At.TrackDel}get type(){return this.startSide<this.endSide?yi.WidgetRange:this.startSide<=0?yi.WidgetBefore:yi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof S_&&oge(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}};Qf.prototype.point=!0;function w_(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function oge(n,e){return n==e||!!(n&&e&&n.compare(e))}function D2(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}let Uo=class jm extends Mi{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,o,s){if(i){if(!(i instanceof jm))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),c_(this,e,t,i?i.children:[],o,s),!0}split(e){let t=new jm;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let o=i;o<this.children.length;o++)t.append(this.children[o],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){vk(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){g_(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=A2(t,this.attrs||{})),i&&(this.attrs=A2({class:i},this.attrs||{}))}domAtPos(e){return p_(this.dom,this.children,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?this.dirty&4&&(s_(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(R2(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let i=this.dom.lastChild;for(;i&&Mi.get(i)instanceof uc;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((t=Mi.get(i))===null||t===void 0?void 0:t.isEditable)==!1&&(!ut.ios||!this.children.some(r=>r instanceof Yf))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof Yf))return null;let i=Uf(t.dom);if(i.length!=1)return null;e+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return m_(this,e,t)}become(e){return!1}get type(){return yi.Text}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let o=e.children[i],s=r+o.length;if(s>=t){if(o instanceof jm)return o;if(s>t)break}r=s+o.breakAfter}return null}},T2=class Km extends Mi{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,o,s){return i&&(!(i instanceof Km)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Pr.before(this.dom):Pr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Km(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return gk}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ve.empty}domBoundsAround(){return null}become(e){return e instanceof Km&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},sge=class x_{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof T2&&e.type==yi.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Uo),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(Bg(new k2(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}else this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,i)),this.getLine().append(Bg(new Yf(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,o,s){if(this.disallowBlockEffectsFor[s]&&i instanceof Qf){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(i instanceof Qf)if(i.block){let{type:a}=i;a==yi.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new T2(i.widget||new kI("div"),l,a))}else{let a=mk.create(i.widget||new kI("span"),l,i.startSide),c=this.atCursorPos&&!a.isEditable&&o<=r.length&&(e<t||i.startSide>0),u=!a.isEditable&&(e<t||i.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(h.append(Bg(new k2(1),r),o),o=r.length+Math.max(0,o-r.length)),h.append(Bg(a,r),o),this.atCursorPos=u,this.pendingBuffer=u?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,i,r,o){let s=new x_(e,t,i,o);return s.openEnd=Be.spans(r,t,i,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}};function Bg(n,e){for(let t of e)n=new uc(t,[n],n.length);return n}let kI=class extends Qy{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}};const C_=ie.define(),E_=ie.define(),M_=ie.define(),$_=ie.define(),P2=ie.define(),k_=ie.define(),O_=ie.define({combine:n=>n.some(e=>e)});let OI=class A_{constructor(e,t="nearest",i="nearest",r=5,o=5){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=o}map(e){return e.empty?this:new A_(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}};const AI=yt.define({map:(n,e)=>n.map(e)});function Ga(n,e,t){let i=n.facet($_);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Tp=ie.define({combine:n=>n.length?n[0]:!0});let lge=0;const hd=ie.define();let Jy=class I2{constructor(e,t,i,r){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=r(this)}static define(e,t){const{eventHandlers:i,provide:r,decorations:o}=t||{};return new I2(lge++,e,i,s=>{let l=[hd.of(s)];return o&&l.push(Jf.of(a=>{let c=a.plugin(s);return c?o(c):Qt.none})),r&&l.push(r(s)),l})}static fromClass(e,t){return I2.define(i=>new e(i),t)}},Q1=class{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Ga(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Ga(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Ga(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}};const R_=ie.define(),D_=ie.define(),Jf=ie.define(),T_=ie.define(),P_=ie.define(),dd=ie.define();let Zf=class qm{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new qm(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,o=0,s=0,l=0;;r++){let a=r==e.length?null:e[r],c=s-l,u=a?a.fromB:1e9;for(;o<t.length&&t[o]<u;){let h=t[o],d=t[o+1],f=Math.max(l,h),g=Math.min(u,d);if(f<=g&&new qm(f+c,g+c,f,g).addToSet(i),d>u)break;o+=2}if(!a)return i;new qm(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),s=a.toA,l=a.toB}}},RI=class I_{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=en.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,l,a,c)=>r.push(new Zf(s,l,a,c))),this.changedRanges=r;let o=e.hasFocus;o!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=o,this.flags|=1)}static create(e,t,i){return new I_(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}};var mr=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(mr||(mr={}));const N2=mr.LTR,age=mr.RTL;function N_(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const cge=N_("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),uge=N_("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),B2=Object.create(null),gs=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);B2[e]=t,B2[t]=-e}function hge(n){return n<=247?cge[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?uge[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203||n==8204?256:1}const dge=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;let ku=class{constructor(e,t,i){this.from=e,this.to=t,this.level=i}get dir(){return this.level%2?age:N2}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let o=-1;for(let s=0;s<e.length;s++){let l=e[s];if(l.from<=t&&l.to>=t){if(l.level==i)return s;(o<0||(r!=0?r<0?l.from<t:l.to>t:e[o].level>l.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}};const Ln=[];function fge(n,e){let t=n.length,i=e==N2?1:2,r=e==N2?2:1;if(!n||i==1&&!dge.test(n))return B_(t);for(let s=0,l=i,a=i;s<t;s++){let c=hge(n.charCodeAt(s));c==512?c=l:c==8&&a==4&&(c=16),Ln[s]=c==4?2:c,c&7&&(a=c),l=c}for(let s=0,l=i,a=i;s<t;s++){let c=Ln[s];if(c==128)s<t-1&&l==Ln[s+1]&&l&24?c=Ln[s]=l:Ln[s]=256;else if(c==64){let u=s+1;for(;u<t&&Ln[u]==64;)u++;let h=s&&l==8||u<t&&Ln[u]==8?a==1?1:8:256;for(let d=s;d<u;d++)Ln[d]=h;s=u-1}else c==8&&a==1&&(Ln[s]=1);l=c,c&7&&(a=c)}for(let s=0,l=0,a=0,c,u,h;s<t;s++)if(u=B2[c=n.charCodeAt(s)])if(u<0){for(let d=l-3;d>=0;d-=3)if(gs[d+1]==-u){let f=gs[d+2],g=f&2?i:f&4?f&1?r:i:0;g&&(Ln[s]=Ln[gs[d]]=g),l=d;break}}else{if(gs.length==189)break;gs[l++]=s,gs[l++]=c,gs[l++]=a}else if((h=Ln[s])==2||h==1){let d=h==i;a=d?0:1;for(let f=l-3;f>=0;f-=3){let g=gs[f+2];if(g&2)break;if(d)gs[f+2]|=2;else{if(g&4)break;gs[f+2]|=4}}}for(let s=0;s<t;s++)if(Ln[s]==256){let l=s+1;for(;l<t&&Ln[l]==256;)l++;let a=(s?Ln[s-1]:i)==1,c=(l<t?Ln[l]:i)==1,u=a==c?a?1:2:i;for(let h=s;h<l;h++)Ln[h]=u;s=l-1}let o=[];if(i==1)for(let s=0;s<t;){let l=s,a=Ln[s++]!=1;for(;s<t&&a==(Ln[s]!=1);)s++;if(a)for(let c=s;c>l;){let u=c,h=Ln[--c]!=2;for(;c>l&&h==(Ln[c-1]!=2);)c--;o.push(new ku(c,u,h?2:1))}else o.push(new ku(l,s,0))}else for(let s=0;s<t;){let l=s,a=Ln[s++]==2;for(;s<t&&a==(Ln[s]==2);)s++;o.push(new ku(l,s,a?1:2))}return o}function B_(n){return[new ku(0,n,0)]}let L_="";function pge(n,e,t,i,r){var o;let s=i.head-n.from,l=-1;if(s==0){if(!r||!n.length)return null;e[0].level!=t&&(s=e[0].side(!1,t),l=0)}else if(s==n.length){if(r)return null;let d=e[e.length-1];d.level!=t&&(s=d.side(!0,t),l=e.length-1)}l<0&&(l=ku.find(e,s,(o=i.bidiLevel)!==null&&o!==void 0?o:-1,i.assoc));let a=e[l];s==a.side(r,t)&&(a=e[l+=r?1:-1],s=a.side(!r,t));let c=r==(a.dir==t),u=Tt(n.text,s,c);if(L_=n.text.slice(Math.min(s,u),Math.max(s,u)),u!=a.side(r,t))return W.cursor(u+n.from,c?-1:1,a.level);let h=l==(r?e.length-1:0)?null:e[l+(r?1:-1)];return!h&&a.level!=t?W.cursor(r?n.to:n.from,r?-1:1,t):h&&h.level<a.level?W.cursor(h.side(!r,t)+n.from,r?1:-1,h.level):W.cursor(u+n.from,r?-1:1,a.level)}const Ul="";let H_=class{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(rt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ul}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r),this.readNode(r);let o=r.nextSibling;if(o==t)break;let s=Mi.get(r),l=Mi.get(o);(s&&l?s.breakAfter:(s?s.breakAfter:DI(r))||DI(o)&&(r.nodeName!="BR"||r.cmIgnore))&&this.lineBreak(),r=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,l;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,i),s=this.lineSeparator.length):(l=r.exec(t))&&(o=l.index,s=l[0].length),this.append(t.slice(i,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=s-1);i=o+s}}readNode(e){if(e.cmIgnore)return;let t=Mi.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}};function DI(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}let TI=class{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}},PI=class extends Mi{constructor(e){super(),this.view=e,this.compositionDeco=Qt.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Uo],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Zf(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:s,toA:l})=>l<this.minWidthFrom||s>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Qt.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=mge(this.view,e.changes)),(ut.ie||ut.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,r=this.updateDeco(),o=Sge(i,r,e.changes);return t=Zf.extendWithRanges(t,o),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=ut.chrome||ut.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(o),this.dirty=0,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof T2&&o.widget instanceof II&&r.push(o.dom);i.updateGaps(r)}updateChildren(e,t){let i=this.childCursor(t);for(let r=e.length-1;;r--){let o=r>=0?e[r]:null;if(!o)break;let{fromA:s,toA:l,fromB:a,toB:c}=o,{content:u,breakAtStart:h,openStart:d,openEnd:f}=sge.build(this.view.state.doc,a,c,this.decorations,this.dynamicDecorationMap),{i:g,off:y}=i.findPos(l,1),{i:v,off:m}=i.findPos(s,-1);a_(this,v,m,g,y,u,h,d,f)}}updateSelection(e=!1,t=!1){if(e&&this.view.observer.readSelectionRange(),!(t||this.mayControlSelection())||ut.ios&&this.view.inputState.rapidCompositionStart)return;let i=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,o=this.domAtPos(r.anchor),s=r.empty?o:this.domAtPos(r.head);if(ut.gecko&&r.empty&&gge(o)){let a=document.createTextNode("");this.view.observer.ignore(()=>o.node.insertBefore(a,o.node.childNodes[o.offset]||null)),o=s=new Pr(a,0),i=!0}let l=this.view.observer.selectionRange;(i||!l.focusNode||!pv(o.node,o.offset,l.anchorNode,l.anchorOffset)||!pv(s.node,s.offset,l.focusNode,l.focusOffset))&&(this.view.observer.ignore(()=>{ut.android&&ut.chrome&&this.dom.contains(l.focusNode)&&wge(l.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=fv(this.root);if(r.empty){if(ut.gecko){let c=yge(o.node,o.offset);if(c&&c!=3){let u=V_(o.node,o.offset,c==1?1:-1);u&&(o=new Pr(u,c==1?0:u.nodeValue.length))}}a.collapse(o.node,o.offset),r.bidiLevel!=null&&l.cursorBidiLevel!=null&&(l.cursorBidiLevel=r.bidiLevel)}else if(a.extend)a.collapse(o.node,o.offset),a.extend(s.node,s.offset);else{let c=document.createRange();r.anchor>r.head&&([o,s]=[s,o]),c.setEnd(s.node,s.offset),c.setStart(o.node,o.offset),a.removeAllRanges(),a.addRange(c)}}),this.view.observer.setSelectionRange(o,s)),this.impreciseAnchor=o.precise?null:new Pr(l.anchorNode,l.anchorOffset),this.impreciseHead=s.precise?null:new Pr(l.focusNode,l.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=fv(this.root);if(!e.empty||!e.assoc||!t.modify)return;let i=Uo.find(this,e.head);if(!i)return;let r=i.posAtStart;if(e.head==r||e.head==r+i.length)return;let o=this.coordsAt(e.head,-1),s=this.coordsAt(e.head,1);if(!o||!s||o.bottom>s.top)return;let l=this.domAtPos(e.head+e.assoc);t.collapse(l.node,l.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Tp)?this.root.activeElement==this.dom:m2(this.dom,this.view.observer.selectionRange)}nearest(e){for(let t=e;t;){let i=Mi.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof Uo)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,r=this.children.length-1;;r--){let o=this.children[r],s=i-o.breakAfter-o.length;if(e>s||e==s&&o.type!=yi.WidgetBefore&&o.type!=yi.WidgetAfter&&(!r||t==2||this.children[r-1].breakAfter||this.children[r-1].type==yi.WidgetBefore&&t>-2))return o.coordsAt(e-s,t);i=s}}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==mr.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],d=c+h.length;if(d>r)break;if(c>=i){let f=h.dom.getBoundingClientRect();if(t.push(f.height),s){let g=h.dom.lastChild,y=g?Uf(g):[];if(y.length){let v=y[y.length-1],m=a?v.right-f.left:f.right-v.left;m>l&&(l=m,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?mr.RTL:mr.LTR}measureTextSize(){for(let r of this.children)if(r instanceof Uo){let o=r.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i;return e.className="cm-line",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=Uf(e.firstChild)[0];t=e.getBoundingClientRect().height,i=r?r.width/27:7,e.remove()}),{lineHeight:t,charWidth:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new l_(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],s=o?o.from-1:this.length;if(s>i){let l=t.lineBlockAt(s).bottom-t.lineBlockAt(i).top;e.push(Qt.replace({widget:new II(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,s))}if(!o)break;i=o.to+1}return Qt.set(e)}updateDeco(){let e=this.view.state.facet(Jf).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let o=0,s=0,l=0,a=0;for(let u of this.view.state.facet(P_).map(h=>h(this.view)))if(u){let{left:h,right:d,top:f,bottom:g}=u;h!=null&&(o=Math.max(o,h)),d!=null&&(s=Math.max(s,d)),f!=null&&(l=Math.max(l,f)),g!=null&&(a=Math.max(a,g))}let c={left:i.left-o,top:i.top-l,right:i.right+s,bottom:i.bottom+a};ege(this.view.scrollDOM,c,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==mr.LTR)}};function gge(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}let II=class extends Qy{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}};function z_(n){let e=n.observer.selectionRange,t=e.focusNode&&V_(e.focusNode,e.focusOffset,0);if(!t)return null;let i=n.docView.nearest(t);if(!i)return null;if(i instanceof Uo){let r=t;for(;r.parentNode!=i.dom;)r=r.parentNode;let o=r.previousSibling;for(;o&&!Mi.get(o);)o=o.previousSibling;let s=o?Mi.get(o).posAtEnd:i.posAtStart;return{from:s,to:s,node:r,text:t}}else{for(;;){let{parent:o}=i;if(!o)return null;if(o instanceof Uo)break;i=o}let r=i.posAtStart;return{from:r,to:r+i.length,node:i.dom,text:t}}}function mge(n,e){let t=z_(n);if(!t)return Qt.none;let{from:i,to:r,node:o,text:s}=t,l=e.mapPos(i,1),a=Math.max(l,e.mapPos(r,-1)),{state:c}=n,u=o.nodeType==3?o.nodeValue:new H_([],c).readRange(o.firstChild,null).text;if(a-l<u.length)if(c.doc.sliceString(l,Math.min(c.doc.length,l+u.length),Ul)==u)a=l+u.length;else if(c.doc.sliceString(Math.max(0,a-u.length),a,Ul)==u)l=a-u.length;else return Qt.none;else if(c.doc.sliceString(l,a,Ul)!=u)return Qt.none;let h=Mi.get(o);return h instanceof d_?h=h.widget.topView:h&&(h.parent=null),Qt.set(Qt.replace({widget:new vge(o,s,h),inclusive:!0}).range(l,a))}let vge=class extends Qy{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return d_}};function V_(n,e,t){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0&&t<=0)n=n.childNodes[e-1],e=gv(n);else if(n.nodeType==1&&e<n.childNodes.length&&t>=0)n=n.childNodes[e],e=0;else return null}}function yge(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let bge=class{constructor(){this.changes=[]}compareRange(e,t){D2(e,t,this.changes)}comparePoint(e,t){D2(e,t,this.changes)}};function Sge(n,e,t){let i=new bge;return Be.compare(n,e,t,i),i.changes}function wge(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function xge(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),o=e-r.from;if(r.length==0)return W.cursor(e);o==0?t=1:o==r.length&&(t=-1);let s=o,l=o;t<0?s=Tt(r.text,o,!1):l=Tt(r.text,o);let a=i(r.text.slice(s,l));for(;s>0;){let c=Tt(r.text,s,!1);if(i(r.text.slice(c,s))!=a)break;s=c}for(;l<r.length;){let c=Tt(r.text,l);if(i(r.text.slice(l,c))!=a)break;l=c}return W.range(s+r.from,l+r.from)}function Cge(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function Ege(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function J1(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function NI(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function BI(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function L2(n,e,t){let i,r,o,s,l,a,c,u;for(let f=n.firstChild;f;f=f.nextSibling){let g=Uf(f);for(let y=0;y<g.length;y++){let v=g[y];r&&J1(r,v)&&(v=NI(BI(v,r.bottom),r.top));let m=Cge(e,v),b=Ege(t,v);if(m==0&&b==0)return f.nodeType==3?LI(f,e,t):L2(f,e,t);(!i||s>b||s==b&&o>m)&&(i=f,r=v,o=m,s=b),m==0?t>v.bottom&&(!c||c.bottom<v.bottom)?(l=f,c=v):t<v.top&&(!u||u.top>v.top)&&(a=f,u=v):c&&J1(c,v)?c=BI(c,v.bottom):u&&J1(u,v)&&(u=NI(u,v.top))}}if(c&&c.bottom>=t?(i=l,r=c):u&&u.top<=t&&(i=a,r=u),!i)return{node:n,offset:0};let h=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return LI(i,h,t);if(!o&&i.contentEditable=="true")return L2(i,h,t);let d=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:d}}function LI(n,e,t){let i=n.nodeValue.length,r=-1,o=1e9,s=0;for(let l=0;l<i;l++){let a=Xf(n,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let h=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<o){let d=e>=(u.left+u.right)/2,f=d;if((ut.chrome||ut.gecko)&&Xf(n,l).getBoundingClientRect().left==u.right&&(f=!d),h<=0)return{node:n,offset:l+(f?1:0)};r=l+(f?1:0),o=h}}}return{node:n,offset:r>-1?r:s>0?n.nodeValue.length:0}}function F_(n,{x:e,y:t},i,r=-1){var o;let s=n.contentDOM.getBoundingClientRect(),l=s.top+n.viewState.paddingTop,a,{docHeight:c}=n.viewState,u=t-l;if(u<0)return 0;if(u>c)return n.state.doc.length;for(let m=n.defaultLineHeight/2,b=!1;a=n.elementAtHeight(u),a.type!=yi.Text;)for(;u=r>0?a.bottom+m:a.top-m,!(u>=0&&u<=c);){if(b)return i?null:0;b=!0,r=-r}t=l+u;let h=a.from;if(h<n.viewport.from)return n.viewport.from==0?0:i?null:HI(n,s,a,e,t);if(h>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:i?null:HI(n,s,a,e,t);let d=n.dom.ownerDocument,f=n.root.elementFromPoint?n.root:d,g=f.elementFromPoint(e,t);g&&!n.contentDOM.contains(g)&&(g=null),g||(e=Math.max(s.left+1,Math.min(s.right-1,e)),g=f.elementFromPoint(e,t),g&&!n.contentDOM.contains(g)&&(g=null));let y,v=-1;if(g&&((o=n.docView.nearest(g))===null||o===void 0?void 0:o.isEditable)!=!1){if(d.caretPositionFromPoint){let m=d.caretPositionFromPoint(e,t);m&&({offsetNode:y,offset:v}=m)}else if(d.caretRangeFromPoint){let m=d.caretRangeFromPoint(e,t);m&&({startContainer:y,startOffset:v}=m,ut.safari&&Mge(y,v,e)&&(y=void 0))}}if(!y||!n.docView.dom.contains(y)){let m=Uo.find(n.docView,h);if(!m)return u>a.top+a.height/2?a.to:a.from;({node:y,offset:v}=L2(m.dom,e,t))}return n.docView.posFromDOM(y,v)}function HI(n,e,t,i,r){let o=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let l=Math.floor((r-t.top)/n.defaultLineHeight);o+=l*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+pa(s,o,n.state.tabSize)}function Mge(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return Xf(n,i-1,i).getBoundingClientRect().left>t}function $ge(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=!i||!n.lineWrapping?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(o){let a=n.dom.getBoundingClientRect(),c=n.textDirectionAt(r.from),u=n.posAtCoords({x:t==(c==mr.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(u!=null)return W.cursor(u,t?-1:1)}let s=Uo.find(n.docView,e.head),l=s?t?s.posAtEnd:s.posAtStart:t?r.to:r.from;return W.cursor(l,t?-1:1)}function zI(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=n.bidiSpans(r),s=n.textDirectionAt(r.from);for(let l=e,a=null;;){let c=pge(r,o,s,l,t),u=L_;if(!c){if(r.number==(t?n.state.doc.lines:1))return l;u=`
`,r=n.state.doc.line(r.number+(t?1:-1)),o=n.bidiSpans(r),c=W.cursor(t?r.from:r.to)}if(a){if(!a(u))return l}else{if(!i)return c;a=i(u)}l=c}}function kge(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return o=>{let s=i(o);return r==ci.Space&&(r=s),r==s}}function Oge(n,e,t,i){let r=e.head,o=t?1:-1;if(r==(t?n.state.doc.length:0))return W.cursor(r,e.assoc);let s=e.goalColumn,l,a=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(r),u=n.documentTop;if(c)s==null&&(s=c.left-a.left),l=o<0?c.top:c.bottom;else{let f=n.viewState.lineBlockAt(r);s==null&&(s=Math.min(a.right-a.left,n.defaultCharacterWidth*(r-f.from))),l=(o<0?f.top:f.bottom)+u}let h=a.left+s,d=i??n.defaultLineHeight>>1;for(let f=0;;f+=10){let g=l+(d+f)*o,y=F_(n,{x:h,y:g},!1,o);if(g<a.top||g>a.bottom||(o<0?y<r:y>r))return W.cursor(y,e.assoc,void 0,s)}}function Z1(n,e,t){let i=n.state.facet(T_).map(r=>r(n));for(;;){let r=!1;for(let o of i)o.between(t.from-1,t.from+1,(s,l,a)=>{t.from>s&&t.from<l&&(t=e.from>t.from?W.cursor(s,1):W.cursor(l,-1),r=!0)});if(!r)return t}}let Age=class{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in Ni){let i=Ni[t];e.contentDOM.addEventListener(t,r=>{!VI(e,r)||this.ignoreDuringComposition(r)||t=="keydown"&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,r)?r.preventDefault():i(e,r))}),this.registeredEvents.push(t)}ut.chrome&&ut.chrome_version>=102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,ut.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var i;let r;this.customHandlers=[];for(let o of t)if(r=(i=o.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:r});for(let s in r)this.registeredEvents.indexOf(s)<0&&s!="scroll"&&(this.registeredEvents.push(s),e.contentDOM.addEventListener(s,l=>{VI(e,l)&&this.runCustomHandlers(s,e,l)&&l.preventDefault()}))}}runCustomHandlers(e,t,i){for(let r of this.customHandlers){let o=r.handlers[e];if(o)try{if(o.call(r.plugin,i,t)||i.defaultPrevented)return!0}catch(s){Ga(t.state,s)}}return!1}runScrollHandlers(e,t){for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,t,e)}catch(o){Ga(e.state,o)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(ut.android&&ut.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return ut.ios&&(i=W_.find(r=>r.keyCode==t.keyCode))&&!(t.ctrlKey||t.altKey||t.metaKey)&&!t.synthetic?(this.pendingIOSKey=i,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,_d(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ut.safari&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229||e.type=="compositionend"&&!ut.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};const W_=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],__=[16,17,18,20,91,92,224,225];let Rge=class{constructor(e,t,i,r){this.view=e,this.style=i,this.mustSelect=r,this.lastEvent=t;let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(rt.allowMultipleSelections)&&Dge(e,t),this.dragMove=Tge(e,t),this.dragging=Pge(e,t)&&bk(t)==1?null:!1,this.dragging===!1&&(t.preventDefault(),this.select(t))}move(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}};function Dge(n,e){let t=n.state.facet(C_);return t.length?t[0](e):ut.mac?e.metaKey:e.ctrlKey}function Tge(n,e){let t=n.state.facet(E_);return t.length?t[0](e):ut.mac?!e.altKey:!e.ctrlKey}function Pge(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=fv(n.root);if(i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let s=r[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function VI(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=Mi.get(t))&&i.ignoreEvent(e))return!1;return!0}const Ni=Object.create(null),j_=ut.ie&&ut.ie_version<15||ut.ios&&ut.webkit_version<604;function Ige(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),K_(n,t.value)},50)}function K_(n,e){let{state:t}=n,i,r=1,o=t.toText(e),s=o.lines==t.selection.ranges.length;if(H2!=null&&t.selection.ranges.every(a=>a.empty)&&H2==o.toString()){let a=-1;i=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==a)return{range:c};a=u.from;let h=t.toText((s?o.line(r++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:h},range:W.cursor(c.from+h.length)}})}else s?i=t.changeByRange(a=>{let c=o.line(r++);return{changes:{from:a.from,to:a.to,insert:c.text},range:W.cursor(a.from+c.length)}}):i=t.replaceSelection(o);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Ni.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),e.keyCode==27?n.inputState.lastEscPress=Date.now():__.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)};let q_=0;Ni.touchstart=(n,e)=>{q_=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Ni.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Ni.mousedown=(n,e)=>{if(n.observer.flush(),q_>Date.now()-2e3&&bk(e)==1)return;let t=null;for(let i of n.state.facet(M_))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=Lge(n,e)),t){let i=n.root.activeElement!=n.contentDOM;i&&n.observer.ignore(()=>o_(n.contentDOM)),n.inputState.startMouseSelection(new Rge(n,e,t,i))}};function FI(n,e,t,i){if(i==1)return W.cursor(e,t);if(i==2)return xge(n.state,e,t);{let r=Uo.find(n.docView,e),o=n.state.doc.lineAt(r?r.posAtEnd:e),s=r?r.posAtStart:o.from,l=r?r.posAtEnd:o.to;return l<n.state.doc.length&&l==o.to&&l++,W.range(s,l)}}let G_=(n,e)=>n>=e.top&&n<=e.bottom,WI=(n,e,t)=>G_(e,t)&&n>=t.left&&n<=t.right;function Nge(n,e,t,i){let r=Uo.find(n.docView,e);if(!r)return 1;let o=e-r.posAtStart;if(o==0)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&WI(t,i,s))return-1;let l=r.coordsAt(o,1);return l&&WI(t,i,l)?1:s&&G_(i,s)?-1:1}function _I(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Nge(n,t,e.clientX,e.clientY)}}const Bge=ut.ie&&ut.ie_version<=11;let jI=null,KI=0,qI=0;function bk(n){if(!Bge)return n.detail;let e=jI,t=qI;return jI=n,qI=Date.now(),KI=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(KI+1)%3:1}function Lge(n,e){let t=_I(n,e),i=bk(e),r=n.state.selection,o=t,s=e;return{update(l){l.docChanged&&(t&&(t.pos=l.changes.mapPos(t.pos)),r=r.map(l.changes),s=null)},get(l,a,c){let u;if(s&&l.clientX==s.clientX&&l.clientY==s.clientY?u=o:(u=o=_I(n,l),s=l),!u||!t)return r;let h=FI(n,u.pos,u.bias,i);if(t.pos!=u.pos&&!a){let d=FI(n,t.pos,t.bias,i),f=Math.min(d.from,h.from),g=Math.max(d.to,h.to);h=f<h.from?W.range(f,g):W.range(g,f)}return a?r.replaceRange(r.main.extend(h.from,h.to)):c?r.addRange(h):W.create([h])}}}Ni.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function GI(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:o}=n.inputState,s=i&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,l={from:r,insert:t},a=n.state.changes(s?[s,l]:l);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(r,-1),head:a.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"})}Ni.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),r=0,o=()=>{++r==t.length&&GI(n,e,i.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(i[s]=l.result),o()},l.readAsText(t[s])}}else GI(n,e,e.dataTransfer.getData("Text"),!0)};Ni.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=j_?null:e.clipboardData;t?(K_(n,t.getData("text/plain")),e.preventDefault()):Ige(n)};function Hge(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function zge(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>r&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),r=s.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let H2=null;Ni.copy=Ni.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=zge(n.state);if(!t&&!r)return;H2=r?t:null;let o=j_?null:e.clipboardData;o?(e.preventDefault(),o.clearData(),o.setData("text/plain",t)):Hge(n,t),e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};function U_(n){setTimeout(()=>{n.hasFocus!=n.inputState.notifiedFocused&&n.update([])},10)}Ni.focus=U_;Ni.blur=n=>{n.observer.clearSelectionRange(),U_(n)};function X_(n,e){if(n.docView.compositionDeco.size){n.inputState.rapidCompositionStart=e;try{n.update([])}finally{n.inputState.rapidCompositionStart=!1}}}Ni.compositionstart=Ni.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0,n.docView.compositionDeco.size&&(n.observer.flush(),X_(n,!0)))};Ni.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionFirstChange=null,setTimeout(()=>{n.inputState.composing<0&&X_(n,!1)},50)};Ni.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Ni.beforeinput=(n,e)=>{var t;let i;if(ut.chrome&&ut.android&&(i=W_.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const UI=["pre-wrap","normal","pre-line","break-spaces"];let Vge=class{constructor(){this.doc=Ve.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return UI.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,o){let s=UI.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=t,this.charWidth=i,this.lineLength=r,l){this.heightSamples={};for(let a=0;a<o.length;a++){let c=o[a];c<0?a++:this.heightSamples[Math.floor(c*10)]=!0}}return l}},Fge=class{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}},lu=class Y_{constructor(e,t,i,r,o){this.from=e,this.length=t,this.top=i,this.height=r,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Y_(this.from,this.length+e.length,this.top,this.height+e.height,t)}};var bn=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(bn||(bn={}));const Gm=.001;let zs=class Um{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Gm&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return Um.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let o=this;for(let s=r.length-1;s>=0;s--){let{fromA:l,toA:a,fromB:c,toB:u}=r[s],h=o.lineAt(l,bn.ByPosNoHeight,t,0,0),d=h.to>=a?h:o.lineAt(a,bn.ByPosNoHeight,t,0,0);for(u+=d.to-a,a=d.to;s>0&&h.from<=r[s-1].toA;)l=r[s-1].fromA,c=r[s-1].fromB,s--,l<h.from&&(h=o.lineAt(l,bn.ByPosNoHeight,t,0,0));c+=h.from-l,l=h.from;let f=jge.build(i,e,c,u);o=o.replace(l,a,f)}return o.updateHeight(i,0)}static empty(){return new Es(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,o=0;for(;;)if(t==i)if(r>o*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),i+=1+l.break,r-=l.size}else if(o>r*2){let l=e[i];l.break?e.splice(i,1,l.left,null,l.right):e.splice(i,1,l.left,l.right),i+=2+l.break,o-=l.size}else break;else if(r<o){let l=e[t++];l&&(r+=l.size)}else{let l=e[--i];l&&(o+=l.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,i++),new Wge(Um.of(e.slice(0,t)),s,Um.of(e.slice(i)))}};zs.prototype.size=1;let Q_=class extends zs{constructor(e,t,i){super(e,t),this.type=i}blockAt(e,t,i,r){return new lu(r,this.length,i,this.height,this.type)}lineAt(e,t,i,r,o){return this.blockAt(0,i,r,o)}forEachLine(e,t,i,r,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,i,r,o))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}},Es=class z2 extends Q_{constructor(e,t){super(e,t,yi.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof z2||r instanceof Ou&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof Ou?r=new z2(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):zs.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},Ou=class Ho extends zs{constructor(e){super(e,0)}lines(e,t){let i=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:i,lastLine:r,lineHeight:this.height/(r-i+1)}}blockAt(e,t,i,r){let{firstLine:o,lastLine:s,lineHeight:l}=this.lines(t,r),a=Math.max(0,Math.min(s-o,Math.floor((e-i)/l))),{from:c,length:u}=t.line(o+a);return new lu(c,u,i+l*a,l,yi.Text)}lineAt(e,t,i,r,o){if(t==bn.ByHeight)return this.blockAt(e,i,r,o);if(t==bn.ByPosNoHeight){let{from:h,to:d}=i.lineAt(e);return new lu(h,d-h,0,0,yi.Text)}let{firstLine:s,lineHeight:l}=this.lines(i,o),{from:a,length:c,number:u}=i.lineAt(e);return new lu(a,c,r+l*(u-s),l,yi.Text)}forEachLine(e,t,i,r,o,s){let{firstLine:l,lineHeight:a}=this.lines(i,o);for(let c=Math.max(e,o),u=Math.min(o+this.length,t);c<=u;){let h=i.lineAt(c);c==e&&(r+=a*(h.number-l)),s(new lu(h.from,h.length,r,a,yi.Text)),r+=a,c=h.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let o=i[i.length-1];o instanceof Ho?i[i.length-1]=new Ho(o.length+r):i.push(null,new Ho(r-1))}if(e>0){let o=i[0];o instanceof Ho?i[0]=new Ho(e+o.length):i.unshift(new Ho(e-1),null)}return zs.of(i)}decomposeLeft(e,t){t.push(new Ho(e-1),null)}decomposeRight(e,t){t.push(null,new Ho(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let s=[],l=Math.max(t,r.from),a=-1,c=e.heightChanged;for(r.from>t&&s.push(new Ho(r.from-t-1).updateHeight(e,t));l<=o&&r.more;){let h=e.doc.lineAt(l).length;s.length&&s.push(null);let d=r.heights[r.index++];a==-1?a=d:Math.abs(d-a)>=Gm&&(a=-2);let f=new Es(h,d);f.outdated=!1,s.push(f),l+=h+1}l<=o&&s.push(null,new Ho(o-l).updateHeight(e,l));let u=zs.of(s);return e.heightChanged=c||a<0||Math.abs(u.height-this.height)>=Gm||Math.abs(a-this.lines(e.doc,t).lineHeight)>=Gm,u}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},Wge=class extends zs{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let o=i+this.left.height;return e<o?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,i,r,o){let s=r+this.left.height,l=o+this.left.length+this.break,a=t==bn.ByHeight?e<s:e<l,c=a?this.left.lineAt(e,t,i,r,o):this.right.lineAt(e,t,i,s,l);if(this.break||(a?c.to<l:c.from>l))return c;let u=t==bn.ByPosNoHeight?bn.ByPosNoHeight:bn.ByPos;return a?c.join(this.right.lineAt(l,u,i,s,l)):this.left.lineAt(l,u,i,r,o).join(c)}forEachLine(e,t,i,r,o,s){let l=r+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,i,r,o,s),t>=a&&this.right.forEachLine(e,t,i,l,a,s);else{let c=this.lineAt(a,bn.ByPos,i,r,o);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,o,s),c.to>=e&&c.from<=t&&s(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,l,a,s)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let l of i)o.push(l);if(e>0&&XI(o,s-1),t<this.length){let l=o.length;this.decomposeRight(t,o),XI(o,l)}return zs.of(o)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?zs.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:o,right:s}=this,l=t+o.length+this.break,a=null;return r&&r.from<=t+o.length&&r.more?a=o=o.updateHeight(e,t,i,r):o.updateHeight(e,t,i),r&&r.from<=l+s.length&&r.more?a=s=s.updateHeight(e,l,i,r):s.updateHeight(e,l,i),a?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function XI(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof Ou&&(i=n[e+1])instanceof Ou&&n.splice(e-1,3,new Ou(t.length+1+i.length))}const _ge=5;let jge=class J_{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Es?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Es(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new Q_(o,r,i.type)):(o||r>=_ge)&&this.addLineDeco(r,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Es(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new Ou(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Es)return e;let t=new Es(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==yi.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=yi.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let i=this.ensureLine();i.length+=t,i.collapsed+=t,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Es)&&!this.isCovered?this.nodes.push(new Es(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof Es&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let o=new J_(i,e);return Be.spans(t,i,r,o,0),o.finish(i)}};function Kge(n,e,t){let i=new qge;return Be.compare(n,e,t,i,0),i.changes}let qge=class{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&D2(e,t,this.changes,5)}};function Gge(n,e){let t=n.getBoundingClientRect(),i=Math.max(0,t.left),r=Math.min(innerWidth,t.right),o=Math.max(0,t.top),s=Math.min(innerHeight,t.bottom),l=n.ownerDocument.body;for(let a=n.parentNode;a&&a!=l;)if(a.nodeType==1){let c=a,u=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&u.overflow!="visible"){let h=c.getBoundingClientRect();i=Math.max(i,h.left),r=Math.min(r,h.right),o=Math.max(o,h.top),s=Math.min(s,h.bottom)}a=u.position=="absolute"||u.position=="fixed"?c.offsetParent:c.parentNode}else if(a.nodeType==11)a=a.host;else break;return{left:i-t.left,right:Math.max(i,r)-t.left,top:o-(t.top+e),bottom:Math.max(o,s)-(t.top+e)}}function Uge(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}let eS=class{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e){return Qt.replace({widget:new Xge(this.size,e)}).range(this.from,this.to)}},Xge=class extends Qy{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}},YI=class{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new Vge,this.scaler=ZI,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=mr.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(Jf).filter(t=>typeof t!="function"),this.heightMap=zs.empty().applyChanges(this.stateDeco,Ve.empty,this.heightOracle.setDoc(e.doc),[new Zf(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Qt.set(this.lineGaps.map(t=>t.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:o,to:s})=>r>=o&&r<=s)){let{from:o,to:s}=this.lineBlockAt(r);e.push(new Lg(o,s))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?ZI:new Jge(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:fd(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Jf).filter(c=>typeof c!="function");let r=e.changedRanges,o=Zf.extendWithRanges(r,Kge(i,this.stateDeco,e?e.changes:en.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(e.flags|=2);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let a=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,o=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?mr.RTL:mr.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=s||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;let a=0,c=0,u=parseInt(i.paddingTop)||0,h=parseInt(i.paddingBottom)||0;(this.paddingTop!=u||this.paddingBottom!=h)&&(this.paddingTop=u,this.paddingBottom=h,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);let d=(this.printing?Uge:Gge)(t,this.paddingTop),f=d.top-this.pixelViewport.top,g=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView)return 0;let v=t.clientWidth;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=v,this.editorHeight=e.scrollDOM.clientHeight,a|=8),l){let b=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(b)&&(s=!0),s||r.lineWrapping&&Math.abs(v-this.contentDOMWidth)>r.charWidth){let{lineHeight:S,charWidth:w}=e.docView.measureTextSize();s=r.refresh(o,S,w,v/w,b),s&&(e.docView.minWidth=0,a|=8)}f>0&&g>0?c=Math.max(f,g):f<0&&g<0&&(c=Math.min(f,g)),r.heightChanged=!1;for(let S of this.viewports){let w=S.from==this.viewport.from?b:e.docView.measureVisibleLineHeights(S);this.heightMap=this.heightMap.updateHeight(r,0,s,new Fge(S.from,w))}r.heightChanged&&(a|=2)}let m=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(a&2||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.state.doc,{visibleTop:s,visibleBottom:l}=this,a=new Lg(r.lineAt(s-i*1e3,bn.ByHeight,o,0,0).from,r.lineAt(l+(1-i)*1e3,bn.ByHeight,o,0,0).to);if(t){let{head:c}=t.range;if(c<a.from||c>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=r.lineAt(c,bn.ByPos,o,0,0),d;t.y=="center"?d=(h.top+h.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<a.from?d=h.top:d=h.bottom-u,a=new Lg(r.lineAt(d-1e3/2,bn.ByHeight,o,0,0).from,r.lineAt(d+u+1e3/2,bn.ByHeight,o,0,0).to)}}return a}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Lg(this.heightMap.lineAt(i,bn.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,bn.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,bn.ByPos,this.state.doc,0,0),{bottom:o}=this.heightMap.lineAt(t,bn.ByPos,this.state.doc,0,0),{visibleTop:s,visibleBottom:l}=this;return(e==0||r<=s-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||o>=l+Math.max(10,Math.min(i,250)))&&r>s-2*1e3&&o<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new eS(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e){let t=[];if(this.defaultTextDirection!=mr.LTR)return t;for(let i of this.viewportLines){if(i.length<4e3)continue;let r=Yge(i.from,i.to,this.stateDeco);if(r.total<4e3)continue;let o,s;if(this.heightOracle.lineWrapping){let c=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;o=Hg(r,(this.visibleTop-i.top-c)/i.height),s=Hg(r,(this.visibleBottom-i.top+c)/i.height)}else{let c=r.total*this.heightOracle.charWidth,u=2e3*this.heightOracle.charWidth;o=Hg(r,(this.pixelViewport.left-u)/c),s=Hg(r,(this.pixelViewport.right+u)/c)}let l=[];o>i.from&&l.push({from:i.from,to:o}),s<i.to&&l.push({from:s,to:i.to});let a=this.state.selection.main;a.from>=i.from&&a.from<=i.to&&JI(l,a.from-10,a.from+10),!a.empty&&a.to>=i.from&&a.to<=i.to&&JI(l,a.to-10,a.to+10);for(let{from:c,to:u}of l)u-c>1e3&&t.push(Qge(e,h=>h.from>=i.from&&h.to<=i.to&&Math.abs(h.from-c)<1e3&&Math.abs(h.to-u)<1e3)||new eS(c,u,this.gapSize(i,c,u,r)))}return t}gapSize(e,t,i,r){let o=QI(r,i)-QI(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){eS.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Qt.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Be.spans(e,this.viewport.from,this.viewport.to,{span(r,o){t.push({from:r,to:o})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,o)=>r.from!=t[o].from||r.to!=t[o].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||fd(this.heightMap.lineAt(e,bn.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return fd(this.heightMap.lineAt(this.scaler.fromDOM(e),bn.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return fd(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},Lg=class{constructor(e,t){this.from=e,this.to=t}};function Yge(n,e,t){let i=[],r=n,o=0;return Be.spans(t,n,e,{span(){},point(s,l){s>r&&(i.push({from:r,to:s}),o+=s-r),r=l}},20),r<e&&(i.push({from:r,to:e}),o+=e-r),{total:o,ranges:i}}function Hg({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:o,to:s}=e[r],l=s-o;if(i<=l)return o+i;i-=l}}function QI(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function JI(n,e,t){for(let i=0;i<n.length;i++){let r=n[i];if(r.from<t&&r.to>e){let o=[];r.from<e&&o.push({from:r.from,to:e}),r.to>t&&o.push({from:t,to:r.to}),n.splice(i,1,...o),i+=o.length-1}}}function Qge(n,e){for(let t of n)if(e(t))return t}const ZI={toDOM(n){return n},fromDOM(n){return n},scale:1};let Jge=class{constructor(e,t,i){let r=0,o=0,s=0;this.viewports=i.map(({from:l,to:a})=>{let c=t.lineAt(l,bn.ByPos,e,0,0).top,u=t.lineAt(a,bn.ByPos,e,0,0).bottom;return r+=u-c,{from:l,to:a,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let l of this.viewports)l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-i)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);i=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return i+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);i=o.bottom,r=o.domBottom}}};function fd(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new lu(n.from,n.length,t,i-t,Array.isArray(n.type)?n.type.map(r=>fd(r,e)):n.type)}const zg=ie.define({combine:n=>n.join(" ")}),V2=ie.define({combine:n=>n.indexOf(!0)>-1}),F2=It.newName(),Z_=It.newName(),e6=It.newName(),t6={"&light":"."+Z_,"&dark":"."+e6};function W2(n,e,t){return new It(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const Zge=W2("."+F2,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},t6),eme={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},tS=ut.ie&&ut.ie_version<=11;let tme=class{constructor(e,t,i){this.view=e,this.onChange=t,this.onScrollChanged=i,this.active=!1,this.selectionRange=new tge,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let o of r)this.queue.push(o);(ut.ie&&ut.ie_version<=11||ut.ios&&e.composing)&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),tS&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,i=this.selectionRange;if(t.state.facet(Tp)?t.root.activeElement!=this.dom:!m2(t.dom,i))return;let r=i.anchorNode&&t.docView.nearest(i.anchorNode);r&&r.ignoreEvent(e)||((ut.ie&&ut.ie_version<=11||ut.android&&ut.chrome)&&!t.state.selection.main.empty&&i.focusNode&&pv(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,t=fv(e),i=ut.safari&&e.nodeType==11&&Jpe()==this.view.contentDOM&&nme(this.view)||t;return this.selectionRange.eq(i)?!1:(this.selectionRange.setRange(i),this.selectionChanged=!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,eme),tS&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),tS&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame(()=>{let i=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||_d(this.view.contentDOM,i.key,i.keyCode)}),(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let o of this.observer.takeRecords())e.push(o);e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(r=!0),t==-1?{from:t,to:i}=s:(t=Math.min(s.from,t),i=Math.max(s.to,i)))}return{from:t,to:i,typeOver:r}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:i,typeOver:r}=this.processRecords(),o=this.selectionChanged&&m2(this.dom,this.selectionRange);if(t<0&&!o)return;this.selectionChanged=!1;let s=this.view.state,l=this.onChange(t,i,r);return this.view.state==s&&this.view.update([]),l}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let i=eN(t,e.previousSibling||e.target.previousSibling,-1),r=eN(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resize)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}};function eN(n,e,t){for(;e;){let i=Mi.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function nme(n){let e=null;function t(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),document.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return pv(l.node,l.offset,o,s)&&([i,r,o,s]=[o,s,i,r]),{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:s}}function ime(n,e,t,i){let r,o,s=n.state.selection.main;if(e>-1){let l=n.docView.domBoundsAround(e,t,0);if(!l||n.state.readOnly)return!1;let{from:a,to:c}=l,u=n.docView.impreciseHead||n.docView.impreciseAnchor?[]:ome(n),h=new H_(u,n.state);h.readRange(l.startDOM,l.endDOM);let d=s.from,f=null;(n.inputState.lastKeyCode===8&&n.inputState.lastKeyTime>Date.now()-100||ut.android&&h.text.length<c-a)&&(d=s.to,f="end");let g=rme(n.state.doc.sliceString(a,c,Ul),h.text,d-a,f);g&&(ut.chrome&&n.inputState.lastKeyCode==13&&g.toB==g.from+2&&h.text.slice(g.from,g.toB)==Ul+Ul&&g.toB--,r={from:a+g.from,to:a+g.toA,insert:Ve.of(h.text.slice(g.from,g.toB).split(Ul))}),o=sme(u,a)}else if(n.hasFocus||!n.state.facet(Tp)){let l=n.observer.selectionRange,{impreciseHead:a,impreciseAnchor:c}=n.docView,u=a&&a.node==l.focusNode&&a.offset==l.focusOffset||!th(n.contentDOM,l.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(l.focusNode,l.focusOffset),h=c&&c.node==l.anchorNode&&c.offset==l.anchorOffset||!th(n.contentDOM,l.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(l.anchorNode,l.anchorOffset);(u!=s.head||h!=s.anchor)&&(o=W.single(h,u))}if(!r&&!o)return!1;if(!r&&i&&!s.empty&&o&&o.main.empty?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,s.to))}:(ut.mac||ut.android)&&r&&r.from==r.to&&r.from==s.head-1&&r.insert.toString()=="."&&(r={from:s.from,to:s.to,insert:Ve.of([" "])}),r){let l=n.state;if(ut.ios&&n.inputState.flushIOSKey(n)||ut.android&&(r.from==s.from&&r.to==s.to&&r.insert.length==1&&r.insert.lines==2&&_d(n.contentDOM,"Enter",13)||r.from==s.from-1&&r.to==s.to&&r.insert.length==0&&_d(n.contentDOM,"Backspace",8)||r.from==s.from&&r.to==s.to+1&&r.insert.length==0&&_d(n.contentDOM,"Delete",46)))return!0;let a=r.insert.toString();if(n.state.facet(k_).some(h=>h(n,r.from,r.to,a)))return!0;n.inputState.composing>=0&&n.inputState.composing++;let c;if(r.from>=s.from&&r.to<=s.to&&r.to-r.from>=(s.to-s.from)/3&&(!o||o.main.empty&&o.main.from==r.from+r.insert.length)&&n.inputState.composing<0){let h=s.from<r.from?l.sliceDoc(s.from,r.from):"",d=s.to>r.to?l.sliceDoc(r.to,s.to):"";c=l.replaceSelection(n.state.toText(h+r.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let h=l.changes(r),d=o&&!l.selection.main.eq(o.main)&&o.main.to<=h.newLength?o.main:void 0;if(l.selection.ranges.length>1&&n.inputState.composing>=0&&r.to<=s.to&&r.to>=s.to-10){let f=n.state.sliceDoc(r.from,r.to),g=z_(n)||n.state.doc.lineAt(s.head),y=s.to-r.to,v=s.to-s.from;c=l.changeByRange(m=>{if(m.from==s.from&&m.to==s.to)return{changes:h,range:d||m.map(h)};let b=m.to-y,S=b-f.length;if(m.to-m.from!=v||n.state.sliceDoc(S,b)!=f||g&&m.to>=g.from&&m.from<=g.to)return{range:m};let w=l.changes({from:S,to:b,insert:r.insert}),x=m.to-s.to;return{changes:w,range:d?W.range(Math.max(0,d.anchor+x),Math.max(0,d.head+x)):m.map(w)}})}else c={changes:h,selection:d&&l.selection.replaceRange(d)}}let u="input.type";return n.composing&&(u+=".compose",n.inputState.compositionFirstChange&&(u+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(c,{scrollIntoView:!0,userEvent:u}),!0}else if(o&&!o.main.eq(s)){let l=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(l=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:o,scrollIntoView:l,userEvent:a}),!0}else return!1}function rme(n,e,t,i){let r=Math.min(n.length,e.length),o=0;for(;o<r&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==r&&n.length==e.length)return null;let s=n.length,l=e.length;for(;s>0&&l>0&&n.charCodeAt(s-1)==e.charCodeAt(l-1);)s--,l--;if(i=="end"){let a=Math.max(0,o-Math.min(s,l));t-=s+a-o}if(s<o&&n.length<e.length){let a=t<=o&&t>=s?o-t:0;o-=a,l=o+(l-s),s=o}else if(l<o){let a=t<=o&&t>=l?o-t:0;o-=a,s=o+(s-l),l=o}return{from:o,toA:s,toB:l}}function ome(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new TI(t,i)),(r!=t||o!=i)&&e.push(new TI(r,o))),e}function sme(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?W.single(t+e,i+e):null}let En=class n6{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this.root=e.root||nge(e.parent)||document,this.viewState=new YI(e.state||rt.create()),this.plugins=this.state.facet(hd).map(t=>new Q1(t));for(let t of this.plugins)t.update(this);this.observer=new tme(this,(t,i,r)=>ime(this,t,i,r),t=>{this.inputState.runScrollHandlers(this,t),this.observer.intersecting&&this.measure()}),this.inputState=new Age(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new PI(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Tn?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,o=this.state;for(let l of e){if(l.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=l.state}if(this.destroyed){this.viewState.state=o;return}if(this.observer.clear(),o.facet(rt.phrases)!=this.state.facet(rt.phrases))return this.setState(o);r=RI.create(this,o,e);let s=this.viewState.scrollTarget;try{this.updateState=2;for(let l of e){if(s&&(s=s.map(l.changes)),l.scrollIntoView){let{main:a}=l.state.selection;s=new OI(a.empty?a:W.cursor(a.head,a.head>a.anchor?-1:1))}for(let a of l.effects)a.is(AI)&&(s=a.value)}this.viewState.update(r,s),this.bidiCache=nN.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(dd)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(l=>l.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(zg)!=r.state.facet(zg)&&(this.viewState.mustMeasureContent=!0),(t||i||s||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let l of this.state.facet(P2))l(r)}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new YI(e),this.plugins=e.facet(hd).map(i=>new Q1(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new PI(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(hd),i=e.state.facet(hd);if(t!=i){let r=[];for(let o of i){let s=t.indexOf(o);if(s<0)r.push(new Q1(o));else{let l=this.plugins[s];l.mustUpdate=e,r.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.flush();let t=null;try{for(let i=0;;i++){this.updateState=1;let r=this.viewport,o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(i>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let s=[];o&4||([this.measureRequests,s]=[s,this.measureRequests]);let l=s.map(h=>{try{return h.read(this)}catch(d){return Ga(this.state,d),tN}}),a=RI.create(this,this.state,[]),c=!1,u=!1;a.flags|=o,t?t.flags|=o:t=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),c=this.docView.update(a));for(let h=0;h<s.length;h++)if(l[h]!=tN)try{let d=s[h];d.write&&d.write(l[h],this)}catch(d){Ga(this.state,d)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=!0),c&&this.docView.updateSelection(!0),this.viewport.from==r.from&&this.viewport.to==r.to&&!u&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let i of this.state.facet(P2))i(t)}get themeClasses(){return F2+" "+(this.state.facet(V2)?e6:Z_)+" "+this.state.facet(zg)}updateAttrs(){let e=iN(this,R_,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Tp)?"true":"false",class:"cm-content",style:`${ut.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),iN(this,D_,t);let i=this.observer.ignore(()=>{let r=R2(this.contentDOM,this.contentAttrs,t),o=R2(this.dom,this.editorAttrs,e);return r||o});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(n6.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(dd),It.mount(this.root,this.styleModules.concat(Zge).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),e){if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Z1(this,e,zI(this,e,t,i))}moveByGroup(e,t){return Z1(this,e,zI(this,e,t,i=>kge(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return $ge(this,e,t,i)}moveVertically(e,t,i){return Z1(this,e,Oge(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),F_(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r),s=o[ku.find(o,e-r.from,-1,t)];return Xy(i,s.dir==mr.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(O_)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>lme)return B_(e.length);let t=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t)return r.order;let i=fge(e.text,t);return this.bidiCache.push(new nN(e.from,e.to,t,i)),i}get hasFocus(){var e;return(document.hasFocus()||ut.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{o_(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return AI.of(new OI(typeof e=="number"?W.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Jy.define(()=>({}),{eventHandlers:e})}static theme(e,t){let i=It.newName(),r=[zg.of(i),dd.of(W2(`.${i}`,e))];return t&&t.dark&&r.push(V2.of(!0)),r}static baseTheme(e){return Xs.lowest(dd.of(W2("."+F2,e,t6)))}};En.styleModule=dd;En.inputHandler=k_;En.perLineTextDirection=O_;En.exceptionSink=$_;En.updateListener=P2;En.editable=Tp;En.mouseSelectionStyle=M_;En.dragMovesSelection=E_;En.clickAddsSelectionRange=C_;En.decorations=Jf;En.atomicRanges=T_;En.scrollMargins=P_;En.darkTheme=V2;En.contentAttributes=D_;En.editorAttributes=R_;En.lineWrapping=En.contentAttributes.of({class:"cm-lineWrapping"});En.announce=yt.define();const lme=4096,tN={};let nN=class i6{constructor(e,t,i,r){this.from=e,this.to=t,this.dir=i,this.order=r}static update(e,t){if(t.empty)return e;let i=[],r=e.length?e[e.length-1].dir:mr.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==r&&!t.touchesRange(s.from,s.to)&&i.push(new i6(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.order))}return i}};function iN(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let o=i[r],s=typeof o=="function"?o(n):o;s&&A2(s,t)}return t}const ame=ut.mac?"mac":ut.windows?"win":ut.linux?"linux":"key";function cme(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,o,s,l;for(let a=0;a<t.length-1;++a){const c=t[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(i="Alt-"+i),o&&(i="Ctrl-"+i),l&&(i="Meta-"+i),s&&(i="Shift-"+i),i}function nS(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const ume=En.domEventHandlers({keydown(n,e){return o6(r6(e.state),n,e,"editor")}}),hme=ie.define({enables:ume}),rN=new WeakMap;function r6(n){let e=n.facet(hme),t=rN.get(e);return t||rN.set(e,t=pme(e.reduce((i,r)=>i.concat(r),[]))),t}function dme(n,e,t){return o6(r6(n.state),e,n,t)}let Ll=null;const fme=4e3;function pme(n,e=ame){let t=Object.create(null),i=Object.create(null),r=(s,l)=>{let a=i[s];if(a==null)i[s]=l;else if(a!=l)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,l,a,c)=>{let u=t[s]||(t[s]=Object.create(null)),h=l.split(/ (?!$)/).map(g=>cme(g,e));for(let g=1;g<h.length;g++){let y=h.slice(0,g).join(" ");r(y,!0),u[y]||(u[y]={preventDefault:!0,commands:[v=>{let m=Ll={view:v,prefix:y,scope:s};return setTimeout(()=>{Ll==m&&(Ll=null)},fme),!0}]})}let d=h.join(" ");r(d,!1);let f=u[d]||(u[d]={preventDefault:!1,commands:[]});f.commands.push(a),c&&(f.preventDefault=!0)};for(let s of n){let l=s[e]||s.key;if(l)for(let a of s.scope?s.scope.split(" "):["editor"])o(a,l,s.run,s.preventDefault),s.shift&&o(a,"Shift-"+l,s.shift,s.preventDefault)}return t}function o6(n,e,t,i){let r=j$(e),o=r.length==1&&r!=" ",s="",l=!1;Ll&&Ll.view==t&&Ll.scope==i&&(s=Ll.prefix+" ",(l=__.indexOf(e.keyCode)<0)&&(Ll=null));let a=h=>{if(h){for(let d of h.commands)if(d(t))return!0;h.preventDefault&&(l=!0)}return!1},c=n[i],u;if(c){if(a(c[s+nS(r,e,!o)]))return!0;if(o&&(e.shiftKey||e.altKey||e.metaKey)&&(u=js[e.keyCode])&&u!=r){if(a(c[s+nS(u,e,!0)]))return!0}else if(o&&e.shiftKey&&a(c[s+nS(r,e,!0)]))return!0}return l}const gme=!ut.ios,mme={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};gme&&(mme[".cm-line"].caretColor="transparent !important");const oN=ie.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function mv(n,e){let t=n.plugin(s6),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const s6=Jy.fromClass(class{constructor(n){this.input=n.state.facet(vv),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(oN);this.top=new Vg(n,!0,e.topContainer),this.bottom=new Vg(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(oN);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Vg(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Vg(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(vv);if(t!=this.input){let i=t.filter(a=>a),r=[],o=[],s=[],l=[];for(let a of i){let c=this.specs.indexOf(a),u;c<0?(u=a(n.view),l.push(u)):(u=this.panels[c],u.update&&u.update(n)),r.push(u),(u.top?o:s).push(u)}this.specs=i,this.panels=r,this.top.sync(o),this.bottom.sync(s);for(let a of l)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>En.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});let Vg=class{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=sN(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=sN(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}};function sN(n){let e=n.nextSibling;return n.remove(),e}const vv=ie.define({enables:s6});let nh=class extends Qi{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}};nh.prototype.elementClass="";nh.prototype.toDOM=void 0;nh.prototype.mapMode=At.TrackBefore;nh.prototype.startSide=nh.prototype.endSide=-1;nh.prototype.point=!0;function kn(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];typeof r=="string"?n.setAttribute(i,r):r!=null&&(n[i]=r)}e++}for(;e<arguments.length;e++)l6(n,arguments[e]);return n}function l6(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)l6(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const lN=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class ih{constructor(e,t,i=0,r=e.length,o){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=o?s=>o(lN(s)):lN,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return rr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=V$(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=mo(e);let r=this.normalize(t);for(let o=0,s=i;;o++){let l=r.charCodeAt(o),a=this.match(l,s);if(a)return this.value=a,this;if(o==r.length-1)break;s==i&&o<t.length&&t.charCodeAt(o)==l&&s++}}}match(e,t){let i=null;for(let r=0;r<this.matches.length;r+=2){let o=this.matches[r],s=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[r+1],to:t+1}:(this.matches[r]++,s=!0)),s||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:t+1}:this.matches.push(1,t)),i}}typeof Symbol<"u"&&(ih.prototype[Symbol.iterator]=function(){return this});const a6={from:-1,to:-1,match:/.*/.exec("")},Sk="gm"+(/x/.unicode==null?"":"u");class c6{constructor(e,t,i,r=0,o=e.length){if(this.to=o,this.curLine="",this.done=!1,this.value=a6,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new u6(e,t,i,r,o);this.re=new RegExp(t,Sk+(i!=null&&i.ignoreCase?"i":"")),this.iter=e.iter();let s=e.lineAt(r);this.curLineStart=s.from,this.matchPos=r,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=r+(i==r?1:0),i==this.curLine.length&&this.nextLine(),i<r||i>this.value.to)return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const iS=new WeakMap;class Au{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=iS.get(e);if(!r||r.from>=i||r.to<=t){let l=new Au(t,e.sliceString(t,i));return iS.set(e,l),l}if(r.from==t&&r.to==i)return r;let{text:o,from:s}=r;return s>t&&(o=e.sliceString(t,s)+o,s=t),r.to<i&&(o+=e.sliceString(r.to,i)),iS.set(e,new Au(s,o)),new Au(t,o.slice(t-s,i-s))}}class u6{constructor(e,t,i,r,o){this.text=e,this.to=o,this.done=!1,this.value=a6,this.matchPos=r,this.re=new RegExp(t,Sk+(i!=null&&i.ignoreCase?"i":"")),this.flat=Au.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t&&this.flat.to<this.to&&t.index+t[0].length>this.flat.text.length-10&&(t=null),t){let i=this.flat.from+t.index,r=i+t[0].length;return this.value={from:i,to:r,match:t},this.matchPos=r+(i==r?1:0),this}else{if(this.flat.to==this.to)return this.done=!0,this;this.flat=Au.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}}typeof Symbol<"u"&&(c6.prototype[Symbol.iterator]=u6.prototype[Symbol.iterator]=function(){return this});function vme(n){try{return new RegExp(n,Sk),!0}catch{return!1}}function _2(n){let e=kn("input",{class:"cm-textfield",name:"line"}),t=kn("form",{class:"cm-gotoLine",onkeydown:r=>{r.keyCode==27?(r.preventDefault(),n.dispatch({effects:yv.of(!1)}),n.focus()):r.keyCode==13&&(r.preventDefault(),i())},onsubmit:r=>{r.preventDefault(),i()}},kn("label",n.state.phrase("Go to line"),": ",e)," ",kn("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function i(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!r)return;let{state:o}=n,s=o.doc.lineAt(o.selection.main.head),[,l,a,c,u]=r,h=c?+c.slice(1):0,d=a?+a:s.number;if(a&&u){let g=d/100;l&&(g=g*(l=="-"?-1:1)+s.number/o.doc.lines),d=Math.round(o.doc.lines*g)}else a&&l&&(d=d*(l=="-"?-1:1)+s.number);let f=o.doc.line(Math.max(1,Math.min(o.doc.lines,d)));n.dispatch({effects:yv.of(!1),selection:W.cursor(f.from+Math.max(0,Math.min(h,f.length))),scrollIntoView:!0}),n.focus()}return{dom:t}}const yv=yt.define(),aN=Ji.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(yv)&&(n=t.value);return n},provide:n=>vv.from(n,e=>e?_2:null)}),yme=n=>{let e=mv(n,_2);if(!e){let t=[yv.of(!0)];n.state.field(aN,!1)==null&&t.push(yt.appendConfig.of([aN,bme])),n.dispatch({effects:t}),e=mv(n,_2)}return e&&e.dom.querySelector("input").focus(),!0},bme=En.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Sme={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},wme=ie.define({combine(n){return xl(n,Sme,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function xme(n){return[kme,$me]}const Cme=Qt.mark({class:"cm-selectionMatch"}),Eme=Qt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function cN(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=ci.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=ci.Word)}function Mme(n,e,t,i){return n(e.sliceDoc(t,t+1))==ci.Word&&n(e.sliceDoc(i-1,i))==ci.Word}const $me=Jy.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(wme),{state:t}=n,i=t.selection;if(i.ranges.length>1)return Qt.none;let r=i.main,o,s=null;if(r.empty){if(!e.highlightWordAroundCursor)return Qt.none;let a=t.wordAt(r.head);if(!a)return Qt.none;s=t.charCategorizer(r.head),o=t.sliceDoc(a.from,a.to)}else{let a=r.to-r.from;if(a<e.minSelectionLength||a>200)return Qt.none;if(e.wholeWords){if(o=t.sliceDoc(r.from,r.to),s=t.charCategorizer(r.head),!(cN(s,t,r.from,r.to)&&Mme(s,t,r.from,r.to)))return Qt.none}else if(o=t.sliceDoc(r.from,r.to).trim(),!o)return Qt.none}let l=[];for(let a of n.visibleRanges){let c=new ih(t.doc,o,a.from,a.to);for(;!c.next().done;){let{from:u,to:h}=c.value;if((!s||cN(s,t,u,h))&&(r.empty&&u<=r.from&&h>=r.to?l.push(Eme.range(u,h)):(u>=r.to||h<=r.from)&&l.push(Cme.range(u,h)),l.length>e.maxMatches))return Qt.none}}return Qt.set(l)}},{decorations:n=>n.decorations}),kme=En.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Ome=({state:n,dispatch:e})=>{let{selection:t}=n,i=W.create(t.ranges.map(r=>n.wordAt(r.head)||W.cursor(r.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function Ame(n,e){let{main:t,ranges:i}=n.selection,r=n.wordAt(t.head),o=r&&r.from==t.from&&r.to==t.to;for(let s=!1,l=new ih(n.doc,e,i[i.length-1].to);;)if(l.next(),l.done){if(s)return null;l=new ih(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),s=!0}else{if(s&&i.some(a=>a.from==l.value.from))continue;if(o){let a=n.wordAt(l.value.from);if(!a||a.from!=l.value.from||a.to!=l.value.to)continue}return l.value}}const Rme=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(o=>o.from===o.to))return Ome({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=i))return!1;let r=Ame(n,i);return r?(e(n.update({selection:n.selection.addRange(W.range(r.from,r.to),!1),effects:En.scrollIntoView(r.to)})),!0):!1},wk=ie.define({combine(n){var e;return{top:n.reduce((t,i)=>t??i.top,void 0)||!1,caseSensitive:n.reduce((t,i)=>t??i.caseSensitive,void 0)||!1,createPanel:((e=n.find(t=>t.createPanel))===null||e===void 0?void 0:e.createPanel)||(t=>new Vme(t))}}});class h6{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||vme(this.search)),this.unquoted=e.literal?this.search:this.search.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}create(){return this.regexp?new Tme(this):new Dme(this)}getCursor(e,t=0,i=e.length){return this.regexp?Fc(this,e,t,i):Vc(this,e,t,i)}}let d6=class{constructor(e){this.spec=e}};function Vc(n,e,t,i){return new ih(e,n.unquoted,t,i,n.caseSensitive?void 0:r=>r.toLowerCase())}class Dme extends d6{constructor(e){super(e)}nextMatch(e,t,i){let r=Vc(this.spec,e,i,e.length).nextOverlapping();return r.done&&(r=Vc(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let o=Math.max(t,r-1e4-this.spec.unquoted.length),s=Vc(this.spec,e,o,r),l=null;for(;!s.nextOverlapping().done;)l=s.value;if(l)return l;if(o==t)return null;r-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.length)}getReplacement(e){return this.spec.replace}matchAll(e,t){let i=Vc(this.spec,e,0,e.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let o=Vc(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}function Fc(n,e,t,i){return new c6(e,n.search,n.caseSensitive?void 0:{ignoreCase:!0},t,i)}class Tme extends d6{nextMatch(e,t,i){let r=Fc(this.spec,e,i,e.length).next();return r.done&&(r=Fc(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let o=Math.max(t,i-r*1e4),s=Fc(this.spec,e,o,i),l=null;for(;!s.next().done;)l=s.value;if(l&&(o==t||l.from>o+10))return l;if(o==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.length)}getReplacement(e){return this.spec.replace.replace(/\$([$&\d+])/g,(t,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:t)}matchAll(e,t){let i=Fc(this.spec,e,0,e.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let o=Fc(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}const ep=yt.define(),xk=yt.define(),aa=Ji.define({create(n){return new rS(j2(n).create(),null)},update(n,e){for(let t of e.effects)t.is(ep)?n=new rS(t.value.create(),n.panel):t.is(xk)&&(n=new rS(n.query,t.value?Ck:null));return n},provide:n=>vv.from(n,e=>e.panel)});class rS{constructor(e,t){this.query=e,this.panel=t}}const Pme=Qt.mark({class:"cm-searchMatch"}),Ime=Qt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Nme=Jy.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(aa))}update(n){let e=n.state.field(aa);(e!=n.startState.field(aa)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Qt.none;let{view:t}=this,i=new fa;for(let r=0,o=t.visibleRanges,s=o.length;r<s;r++){let{from:l,to:a}=o[r];for(;r<s-1&&a>o[r+1].from-2*250;)a=o[++r].to;n.highlight(t.state.doc,l,a,(c,u)=>{let h=t.state.selection.ranges.some(d=>d.from==c&&d.to==u);i.add(c,u,h?Ime:Pme)})}return i.finish()}},{decorations:n=>n.decorations});function Pp(n){return e=>{let t=e.state.field(aa,!1);return t&&t.query.spec.valid?n(e,t):f6(e)}}const bv=Pp((n,{query:e})=>{let{from:t,to:i}=n.state.selection.main,r=e.nextMatch(n.state.doc,t,i);return!r||r.from==t&&r.to==i?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:Ek(n,r),userEvent:"select.search"}),!0)}),Sv=Pp((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main,o=e.prevMatch(t.doc,i,r);return o?(n.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:Ek(n,o),userEvent:"select.search"}),!0):!1}),Bme=Pp((n,{query:e})=>{let t=e.matchAll(n.state.doc,1e3);return!t||!t.length?!1:(n.dispatch({selection:W.create(t.map(i=>W.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),Lme=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:r}=t.main,o=[],s=0;for(let l=new ih(n.doc,n.sliceDoc(i,r));!l.next().done;){if(o.length>1e3)return!1;l.value.from==i&&(s=o.length),o.push(W.range(l.value.from,l.value.to))}return e(n.update({selection:W.create(o,s),userEvent:"select.search.matches"})),!0},uN=Pp((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main;if(t.readOnly)return!1;let o=e.nextMatch(t.doc,i,i);if(!o)return!1;let s=[],l,a;if(o.from==i&&o.to==r&&(a=t.toText(e.getReplacement(o)),s.push({from:o.from,to:o.to,insert:a}),o=e.nextMatch(t.doc,o.from,o.to)),o){let c=s.length==0||s[0].from>=o.to?0:o.to-o.from-a.length;l={anchor:o.from-c,head:o.to-c}}return n.dispatch({changes:s,selection:l,scrollIntoView:!!l,effects:o?Ek(n,o):void 0,userEvent:"input.replace"}),!0}),Hme=Pp((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state.doc,1e9).map(i=>{let{from:r,to:o}=i;return{from:r,to:o,insert:e.getReplacement(i)}});return t.length?(n.dispatch({changes:t,userEvent:"input.replace.all"}),!0):!1});function Ck(n){return n.state.facet(wk).createPanel(n)}function j2(n,e){var t;let i=n.selection.main,r=i.empty||i.to>i.from+100?"":n.sliceDoc(i.from,i.to),o=(t=e==null?void 0:e.caseSensitive)!==null&&t!==void 0?t:n.facet(wk).caseSensitive;return e&&!r?e:new h6({search:r.replace(/\n/g,"\\n"),caseSensitive:o})}const f6=n=>{let e=n.state.field(aa,!1);if(e&&e.panel){let t=mv(n,Ck);if(!t)return!1;let i=t.dom.querySelector("[name=search]");if(i!=n.root.activeElement){let r=j2(n.state,e.query.spec);r.valid&&n.dispatch({effects:ep.of(r)}),i.focus(),i.select()}}else n.dispatch({effects:[xk.of(!0),e?ep.of(j2(n.state,e.query.spec)):yt.appendConfig.of(Wme)]});return!0},p6=n=>{let e=n.state.field(aa,!1);if(!e||!e.panel)return!1;let t=mv(n,Ck);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:xk.of(!1)}),!0},zme=[{key:"Mod-f",run:f6,scope:"editor search-panel"},{key:"F3",run:bv,shift:Sv,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:bv,shift:Sv,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:p6,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Lme},{key:"Alt-g",run:yme},{key:"Mod-d",run:Rme,preventDefault:!0}];class Vme{constructor(e){this.view=e;let t=this.query=e.state.field(aa).query.spec;this.commit=this.commit.bind(this),this.searchField=kn("input",{value:t.search,placeholder:fo(e,"Find"),"aria-label":fo(e,"Find"),class:"cm-textfield",name:"search",onchange:this.commit,onkeyup:this.commit}),this.replaceField=kn("input",{value:t.replace,placeholder:fo(e,"Replace"),"aria-label":fo(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=kn("input",{type:"checkbox",name:"case",checked:t.caseSensitive,onchange:this.commit}),this.reField=kn("input",{type:"checkbox",name:"re",checked:t.regexp,onchange:this.commit});function i(r,o,s){return kn("button",{class:"cm-button",name:r,onclick:o,type:"button"},s)}this.dom=kn("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>bv(e),[fo(e,"next")]),i("prev",()=>Sv(e),[fo(e,"previous")]),i("select",()=>Bme(e),[fo(e,"all")]),kn("label",null,[this.caseField,fo(e,"match case")]),kn("label",null,[this.reField,fo(e,"regexp")]),...e.state.readOnly?[]:[kn("br"),this.replaceField,i("replace",()=>uN(e),[fo(e,"replace")]),i("replaceAll",()=>Hme(e),[fo(e,"replace all")]),kn("button",{name:"close",onclick:()=>p6(e),"aria-label":fo(e,"close"),type:"button"},[""])]])}commit(){let e=new h6({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:ep.of(e)}))}keydown(e){dme(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Sv:bv)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),uN(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(ep)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(wk).top}}function fo(n,e){return n.state.phrase(e)}const Fg=30,Wg=/[\s\.,:;?!]/;function Ek(n,{from:e,to:t}){let i=n.state.doc.lineAt(e).from,r=n.state.doc.lineAt(t).to,o=Math.max(i,e-Fg),s=Math.min(r,t+Fg),l=n.state.sliceDoc(o,s);if(o!=i){for(let a=0;a<Fg;a++)if(!Wg.test(l[a+1])&&Wg.test(l[a])){l=l.slice(a);break}}if(s!=r){for(let a=l.length-1;a>l.length-Fg;a--)if(!Wg.test(l[a-1])&&Wg.test(l[a])){l=l.slice(0,a);break}}return En.announce.of(`${n.state.phrase("current match")}. ${l} ${n.state.phrase("on line")} ${n.state.doc.lineAt(e).number}`)}const Fme=En.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Wme=[aa,Xs.lowest(Nme),Fme];function wv(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function rh(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function _me(){let n=document.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function K2(n,e){if(!e.anchorNode)return!1;try{return rh(n,e.anchorNode)}catch{return!1}}function tp(n){return n.nodeType==3?np(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function xv(n,e,t,i){return t?hN(n,e,t,i,-1)||hN(n,e,t,i,1):!1}function q2(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function hN(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:Cv(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=q2(n)+(r<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?Cv(n):0}else return!1}}function Cv(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}const g6={left:0,right:0,top:0,bottom:0};function Zy(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function jme(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function Kme(n,e,t,i,r,o,s,l){let a=n.ownerDocument,c=a.defaultView;for(let u=n;u;)if(u.nodeType==1){let h,d=u==a.body;if(d)h=jme(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.parentNode;continue}let y=u.getBoundingClientRect();h={left:y.left,right:y.left+u.clientWidth,top:y.top,bottom:y.top+u.clientHeight}}let f=0,g=0;if(r=="nearest")e.top<h.top?(g=-(h.top-e.top+s),t>0&&e.bottom>h.bottom+g&&(g=e.bottom-h.bottom+g+s)):e.bottom>h.bottom&&(g=e.bottom-h.bottom+s,t<0&&e.top-g<h.top&&(g=-(h.top+g-e.top+s)));else{let y=e.bottom-e.top,v=h.bottom-h.top;g=(r=="center"&&y<=v?e.top+y/2-v/2:r=="start"||r=="center"&&t<0?e.top-s:e.bottom-v+s)-h.top}if(i=="nearest"?e.left<h.left?(f=-(h.left-e.left+o),t>0&&e.right>h.right+f&&(f=e.right-h.right+f+o)):e.right>h.right&&(f=e.right-h.right+o,t<0&&e.left<h.left+f&&(f=-(h.left+f-e.left+o))):f=(i=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:i=="start"==l?e.left-o:e.right-(h.right-h.left)+o)-h.left,f||g)if(d)c.scrollBy(f,g);else{if(g){let y=u.scrollTop;u.scrollTop+=g,g=u.scrollTop-y}if(f){let y=u.scrollLeft;u.scrollLeft+=f,f=u.scrollLeft-y}e={left:e.left-f,top:e.top-g,right:e.right-f,bottom:e.bottom-g}}if(d)break;u=u.assignedSlot||u.parentNode,i=r="nearest"}else if(u.nodeType==11)u=u.host;else break}let qme=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}},Bc=null;function m6(n){if(n.setActive)return n.setActive();if(Bc)return n.focus(Bc);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Bc==null?{get preventScroll(){return Bc={preventScroll:!0},!0}}:void 0),!Bc){Bc=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],o=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=o&&(i.scrollLeft=o)}}}let dN;function np(n,e,t=e){let i=dN||(dN=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function jd(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function Gme(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function v6(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}let Ir=class G2{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new G2(e.parentNode,q2(e),t)}static after(e,t){return new G2(e.parentNode,q2(e)+1,t)}};const Mk=[];let $i=class U2{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(this.dirty&2){let t=this.dom,i=null,r;for(let o of this.children){if(o.dirty){if(!o.dom&&(r=i?i.nextSibling:t.firstChild)){let s=U2.get(r);(!s||!s.parent&&s.constructor==o.constructor)&&o.reuseDOM(r)}o.sync(e),o.dirty=0}if(r=i?i.nextSibling:t.firstChild,e&&!e.written&&e.node==t&&r!=o.dom&&(e.written=!0),o.dom.parentNode==t)for(;r&&r!=o.dom;)r=fN(r);else t.insertBefore(o.dom,r);i=o.dom}for(r=i?i.nextSibling:t.firstChild,r&&e&&e.node==t&&(e.written=!0);r;)r=fN(r)}else if(this.dirty&1)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=Cv(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;r==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?r=-1:r=1),e=o}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!U2.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,o=0;;r++){let s=this.children[r];if(s.dom==i)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,o=-1,s=-1,l=-1;for(let a=0,c=i,u=i;a<this.children.length;a++){let h=this.children[a],d=c+h.length;if(c<e&&d>t)return h.domBoundsAround(e,t,c);if(d>=e&&r==-1&&(r=a,o=c),c>t&&h.dom.parentNode==this.dom){s=a,l=u;break}u=d,c=d+h.breakAfter}return{from:o,to:l<0?i+this.length:l,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=Mk){this.markDirty();for(let r=e;r<t;r++){let o=this.children[r];o.parent==this&&o.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new y6(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,i,r,o,s){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}};$i.prototype.breakAfter=0;function fN(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}let y6=class{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}};function b6(n,e,t,i,r,o,s,l,a){let{children:c}=n,u=c.length?c[e]:null,h=o.length?o[o.length-1]:null,d=h?h.breakAfter:s;if(!(e==i&&u&&!s&&!d&&o.length<2&&u.merge(t,r,o.length?h:null,t==0,l,a))){if(i<c.length){let f=c[i];f&&r<f.length?(e==i&&(f=f.split(r),r=0),!d&&h&&f.merge(0,r,h,!0,0,a)?o[o.length-1]=f:(r&&f.merge(0,r,null,!1,0,a),o.push(f))):f!=null&&f.breakAfter&&(h?h.breakAfter=1:s=1),i++}for(u&&(u.breakAfter=s,t>0&&(!s&&o.length&&u.merge(t,u.length,o[0],!1,l,0)?u.breakAfter=o.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,l,0),e++));e<i&&o.length;)if(c[i-1].become(o[o.length-1]))i--,o.pop(),a=o.length?0:l;else if(c[e].become(o[0]))e++,o.shift(),l=o.length?0:a;else break;!o.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,l,a)&&e--,(e<i||o.length)&&n.replaceChildren(e,i,o)}}function S6(n,e,t,i,r,o){let s=n.childCursor(),{i:l,off:a}=s.findPos(t,1),{i:c,off:u}=s.findPos(e,-1),h=e-t;for(let d of i)h+=d.length;n.length+=h,b6(n,c,u,l,a,i,0,r,o)}let Jr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},X2=typeof document<"u"?document:{documentElement:{style:{}}};const Y2=/Edge\/(\d+)/.exec(Jr.userAgent),w6=/MSIE \d/.test(Jr.userAgent),Q2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Jr.userAgent),eb=!!(w6||Q2||Y2),pN=!eb&&/gecko\/(\d+)/i.test(Jr.userAgent),oS=!eb&&/Chrome\/(\d+)/.exec(Jr.userAgent),gN="webkitFontSmoothing"in X2.documentElement.style,x6=!eb&&/Apple Computer/.test(Jr.vendor),mN=x6&&(/Mobile\/\w+/.test(Jr.userAgent)||Jr.maxTouchPoints>2);var ot={mac:mN||/Mac/.test(Jr.platform),windows:/Win/.test(Jr.platform),linux:/Linux|X11/.test(Jr.platform),ie:eb,ie_version:w6?X2.documentMode||6:Q2?+Q2[1]:Y2?+Y2[1]:0,gecko:pN,gecko_version:pN?+(/Firefox\/(\d+)/.exec(Jr.userAgent)||[0,0])[1]:0,chrome:!!oS,chrome_version:oS?+oS[1]:0,ios:mN,android:/Android\b/.test(Jr.userAgent),webkit:gN,safari:x6,webkit_version:gN?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:X2.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Ume=256;let ip=class J2 extends $i{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return i&&(!(i instanceof J2)||this.length-(t-e)+i.length>Ume)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new J2(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Ir(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return eE(this.dom,e,t)}},hc=class Z2 extends $i{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(v6(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,i,r,o,s){return i&&(!(i instanceof Z2&&i.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0)?!1:(S6(this,e,t,i?i.children:[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,o=0;for(let l of this.children){let a=i+l.length;a>e&&t.push(i<e?l.split(e-i):l),r<0&&i>=e&&(r=o),i=a,o++}let s=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Z2(this.mark,t,s)}domAtPos(e){return M6(this.dom,this.children,e)}coordsAt(e,t){return k6(this,e,t)}};function eE(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,o=e,s=0;e==0&&t<0||e==i&&t>=0?ot.chrome||ot.gecko||(e?(r--,s=1):o<i&&(o++,s=-1)):t<0?r--:o<i&&o++;let l=np(n,r,o).getClientRects();if(!l.length)return g6;let a=l[(s?s<0:t>=0)?0:l.length-1];return ot.safari&&!s&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),s?Zy(a,s<0):a||null}let $k=class pd extends $i{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||pd)(e,t,i)}split(e){let t=pd.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,o,s){return i&&(!(i instanceof pd)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof pd&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ve.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):Ve.empty}domAtPos(e){return e==0?Ir.before(this.dom):Ir.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.dom.getClientRects(),r=null;if(!i.length)return g6;for(let o=e>0?i.length-1:0;r=i[o],!(e>0?o==0:o==i.length-1||r.top<r.bottom);o+=e>0?-1:1);return e==0&&t>0||e==this.length&&t<=0?r:Zy(r,e==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},C6=class extends $k{domAtPos(e){let{topView:t,text:i}=this.widget;return t?tE(e,0,t,i,(r,o)=>r.domAtPos(o),r=>new Ir(i,Math.min(r,i.nodeValue.length))):new Ir(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:r}=this.widget;return i?E6(e,t,i,r):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:r}=this.widget;return i?tE(e,t,i,r,(o,s,l)=>o.coordsAt(s,l),(o,s)=>eE(r,o,s)):eE(r,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}};function tE(n,e,t,i,r,o){if(t instanceof hc){for(let s of t.children){let l=rh(s.dom,i),a=l?i.nodeValue.length:s.length;if(n<a||n==a&&s.getSide()<=0)return l?tE(n,e,s,i,r,o):r(s,n,e);n-=a}return r(t,t.length,-1)}else return t.dom==i?o(n,e):r(t,n,e)}function E6(n,e,t,i){if(t instanceof hc)for(let r of t.children){let o=0,s=rh(r.dom,i);if(rh(r.dom,n))return o+(s?E6(n,e,r,i):r.localPosFromDOM(n,e));o+=s?i.nodeValue.length:r.length}else if(t.dom==i)return Math.min(e,i.nodeValue.length);return t.localPosFromDOM(n,e)}let nE=class iE extends $i{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof iE&&e.side==this.side}split(){return new iE(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Ir.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),i=Xme(this,this.side>0?-1:1);return i&&i.top<t.bottom&&i.bottom>t.top?{left:t.left,right:t.right,top:i.top,bottom:i.bottom}:t}get overrideDOMText(){return Ve.empty}};ip.prototype.children=$k.prototype.children=nE.prototype.children=Mk;function Xme(n,e){let t=n.parent,i=t?t.children.indexOf(n):-1;for(;t&&i>=0;)if(e<0?i>0:i<t.children.length){let r=t.children[i+e];if(r instanceof ip){let o=r.coordsAt(e<0?r.length:0,e);if(o)return o}i+=e}else if(t instanceof hc&&t.parent)i=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent;else{let r=t.dom.lastChild;if(r&&r.nodeName=="BR")return r.getClientRects()[0];break}}function M6(n,e,t){let i=0;for(let r=0;i<e.length;i++){let o=e[i],s=r+o.length;if(!(s==r&&o.getSide()<=0)){if(t>r&&t<s&&o.dom.parentNode==n)return o.domAtPos(t-r);if(t<=r)break;r=s}}for(;i>0;i--){let r=e[i-1].dom;if(r.parentNode==n)return Ir.after(r)}return new Ir(n,0)}function $6(n,e,t){let i,{children:r}=n;t>0&&e instanceof hc&&r.length&&(i=r[r.length-1])instanceof hc&&i.mark.eq(e.mark)?$6(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function k6(n,e,t){for(let o=0,s=0;s<n.children.length;s++){let l=n.children[s],a=o+l.length,c;if((t<=0||a==n.length||l.getSide()>0?a>=e:a>e)&&(e<a||s+1==n.children.length||(c=n.children[s+1]).length||c.getSide()>0)){let u=0;if(a==o){if(l.getSide()<=0)continue;u=t=-l.getSide()}let h=l.coordsAt(Math.max(0,e-o),t);return u&&h?Zy(h,t<0):h}o=a}let i=n.dom.lastChild;if(!i)return n.dom.getBoundingClientRect();let r=tp(i);return r[r.length-1]||null}function rE(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function kk(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r of t)if(i.indexOf(r)==-1||n[r]!==e[r])return!1;return!0}function oE(n,e,t){let i=null;if(e)for(let r in e)t&&r in t||n.removeAttribute(i=r);if(t)for(let r in t)e&&e[r]==t[r]||n.setAttribute(i=r,t[r]);return!!i}let tb=class{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}};var bi=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(bi||(bi={}));let ji=class extends Qi{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new O6(e)}static widget(e){let t=e.side||0,i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new rp(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:o,end:s}=T6(e,t);i=(o?t?-3e8:-1:5e8)-1,r=(s?t?2e8:1:-6e8)+1}return new rp(e,i,r,t,e.widget||null,!0)}static line(e){return new Ok(e)}static set(e,t=!1){return Be.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};ji.none=Be.empty;let O6=class A6 extends ji{constructor(e){let{start:t,end:i}=T6(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof A6&&this.tagName==e.tagName&&this.class==e.class&&kk(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}};O6.prototype.point=!1;let Ok=class R6 extends ji{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof R6&&kk(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}};Ok.prototype.mapMode=At.TrackBefore;Ok.prototype.point=!0;let rp=class D6 extends ji{constructor(e,t,i,r,o,s){super(t,i,o,e),this.block=r,this.isReplace=s,this.mapMode=r?t<=0?At.TrackBefore:At.TrackAfter:At.TrackDel}get type(){return this.startSide<this.endSide?bi.WidgetRange:this.startSide<=0?bi.WidgetBefore:bi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof D6&&Yme(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}};rp.prototype.point=!0;function T6(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function Yme(n,e){return n==e||!!(n&&e&&n.compare(e))}function sE(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}let Xo=class Xm extends $i{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,o,s){if(i){if(!(i instanceof Xm))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),S6(this,e,t,i?i.children:[],o,s),!0}split(e){let t=new Xm;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let o=i;o<this.children.length;o++)t.append(this.children[o],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){kk(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){$6(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=rE(t,this.attrs||{})),i&&(this.attrs=rE({class:i},this.attrs||{}))}domAtPos(e){return M6(this.dom,this.children,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?this.dirty&4&&(v6(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(oE(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let i=this.dom.lastChild;for(;i&&$i.get(i)instanceof hc;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((t=$i.get(i))===null||t===void 0?void 0:t.isEditable)==!1&&(!ot.ios||!this.children.some(r=>r instanceof ip))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof ip))return null;let i=tp(t.dom);if(i.length!=1)return null;e+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return k6(this,e,t)}become(e){return!1}get type(){return bi.Text}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let o=e.children[i],s=r+o.length;if(s>=t){if(o instanceof Xm)return o;if(s>t)break}r=s+o.breakAfter}return null}},lE=class Ym extends $i{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,o,s){return i&&(!(i instanceof Ym)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Ir.before(this.dom):Ir.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Ym(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return Mk}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ve.empty}domBoundsAround(){return null}become(e){return e instanceof Ym&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},Qme=class P6{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof lE&&e.type==bi.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Xo),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(_g(new nE(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}else this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,i)),this.getLine().append(_g(new ip(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,o,s){if(this.disallowBlockEffectsFor[s]&&i instanceof rp){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(i instanceof rp)if(i.block){let{type:a}=i;a==bi.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new lE(i.widget||new vN("div"),l,a))}else{let a=$k.create(i.widget||new vN("span"),l,i.startSide),c=this.atCursorPos&&!a.isEditable&&o<=r.length&&(e<t||i.startSide>0),u=!a.isEditable&&(e<t||i.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(h.append(_g(new nE(1),r),o),o=r.length+Math.max(0,o-r.length)),h.append(_g(a,r),o),this.atCursorPos=u,this.pendingBuffer=u?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,i,r,o){let s=new P6(e,t,i,o);return s.openEnd=Be.spans(r,t,i,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}};function _g(n,e){for(let t of e)n=new hc(t,[n],n.length);return n}let vN=class extends tb{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}};const I6=ie.define(),N6=ie.define(),B6=ie.define(),L6=ie.define(),aE=ie.define(),H6=ie.define(),z6=ie.define({combine:n=>n.some(e=>e)});let yN=class V6{constructor(e,t="nearest",i="nearest",r=5,o=5){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=o}map(e){return e.empty?this:new V6(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}};const bN=yt.define({map:(n,e)=>n.map(e)});function Vs(n,e,t){let i=n.facet(L6);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Ip=ie.define({combine:n=>n.length?n[0]:!0});let Jme=0;const gd=ie.define();let Ak=class cE{constructor(e,t,i,r){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=r(this)}static define(e,t){const{eventHandlers:i,provide:r,decorations:o}=t||{};return new cE(Jme++,e,i,s=>{let l=[gd.of(s)];return o&&l.push(op.of(a=>{let c=a.plugin(s);return c?o(c):ji.none})),r&&l.push(r(s)),l})}static fromClass(e,t){return cE.define(i=>new e(i),t)}},sS=class{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Vs(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Vs(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Vs(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}};const F6=ie.define(),W6=ie.define(),op=ie.define(),_6=ie.define(),j6=ie.define(),md=ie.define();let sp=class Qm{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new Qm(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,o=0,s=0,l=0;;r++){let a=r==e.length?null:e[r],c=s-l,u=a?a.fromB:1e9;for(;o<t.length&&t[o]<u;){let h=t[o],d=t[o+1],f=Math.max(l,h),g=Math.min(u,d);if(f<=g&&new Qm(f+c,g+c,f,g).addToSet(i),d>u)break;o+=2}if(!a)return i;new Qm(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),s=a.toA,l=a.toB}}},SN=class K6{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=en.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,l,a,c)=>r.push(new sp(s,l,a,c))),this.changedRanges=r;let o=e.hasFocus;o!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=o,this.flags|=1)}static create(e,t,i){return new K6(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}};var Ki=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Ki||(Ki={}));const uE=Ki.LTR,Zme=Ki.RTL;function q6(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const e0e=q6("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),t0e=q6("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),hE=Object.create(null),ms=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);hE[e]=t,hE[t]=-e}function n0e(n){return n<=247?e0e[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?t0e[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203||n==8204?256:1}const i0e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;let Ru=class{constructor(e,t,i){this.from=e,this.to=t,this.level=i}get dir(){return this.level%2?Zme:uE}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let o=-1;for(let s=0;s<e.length;s++){let l=e[s];if(l.from<=t&&l.to>=t){if(l.level==i)return s;(o<0||(r!=0?r<0?l.from<t:l.to>t:e[o].level>l.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}};const Hn=[];function r0e(n,e){let t=n.length,i=e==uE?1:2,r=e==uE?2:1;if(!n||i==1&&!i0e.test(n))return G6(t);for(let s=0,l=i,a=i;s<t;s++){let c=n0e(n.charCodeAt(s));c==512?c=l:c==8&&a==4&&(c=16),Hn[s]=c==4?2:c,c&7&&(a=c),l=c}for(let s=0,l=i,a=i;s<t;s++){let c=Hn[s];if(c==128)s<t-1&&l==Hn[s+1]&&l&24?c=Hn[s]=l:Hn[s]=256;else if(c==64){let u=s+1;for(;u<t&&Hn[u]==64;)u++;let h=s&&l==8||u<t&&Hn[u]==8?a==1?1:8:256;for(let d=s;d<u;d++)Hn[d]=h;s=u-1}else c==8&&a==1&&(Hn[s]=1);l=c,c&7&&(a=c)}for(let s=0,l=0,a=0,c,u,h;s<t;s++)if(u=hE[c=n.charCodeAt(s)])if(u<0){for(let d=l-3;d>=0;d-=3)if(ms[d+1]==-u){let f=ms[d+2],g=f&2?i:f&4?f&1?r:i:0;g&&(Hn[s]=Hn[ms[d]]=g),l=d;break}}else{if(ms.length==189)break;ms[l++]=s,ms[l++]=c,ms[l++]=a}else if((h=Hn[s])==2||h==1){let d=h==i;a=d?0:1;for(let f=l-3;f>=0;f-=3){let g=ms[f+2];if(g&2)break;if(d)ms[f+2]|=2;else{if(g&4)break;ms[f+2]|=4}}}for(let s=0;s<t;s++)if(Hn[s]==256){let l=s+1;for(;l<t&&Hn[l]==256;)l++;let a=(s?Hn[s-1]:i)==1,c=(l<t?Hn[l]:i)==1,u=a==c?a?1:2:i;for(let h=s;h<l;h++)Hn[h]=u;s=l-1}let o=[];if(i==1)for(let s=0;s<t;){let l=s,a=Hn[s++]!=1;for(;s<t&&a==(Hn[s]!=1);)s++;if(a)for(let c=s;c>l;){let u=c,h=Hn[--c]!=2;for(;c>l&&h==(Hn[c-1]!=2);)c--;o.push(new Ru(c,u,h?2:1))}else o.push(new Ru(l,s,0))}else for(let s=0;s<t;){let l=s,a=Hn[s++]==2;for(;s<t&&a==(Hn[s]==2);)s++;o.push(new Ru(l,s,a?1:2))}return o}function G6(n){return[new Ru(0,n,0)]}let U6="";function o0e(n,e,t,i,r){var o;let s=i.head-n.from,l=-1;if(s==0){if(!r||!n.length)return null;e[0].level!=t&&(s=e[0].side(!1,t),l=0)}else if(s==n.length){if(r)return null;let d=e[e.length-1];d.level!=t&&(s=d.side(!0,t),l=e.length-1)}l<0&&(l=Ru.find(e,s,(o=i.bidiLevel)!==null&&o!==void 0?o:-1,i.assoc));let a=e[l];s==a.side(r,t)&&(a=e[l+=r?1:-1],s=a.side(!r,t));let c=r==(a.dir==t),u=Tt(n.text,s,c);if(U6=n.text.slice(Math.min(s,u),Math.max(s,u)),u!=a.side(r,t))return W.cursor(u+n.from,c?-1:1,a.level);let h=l==(r?e.length-1:0)?null:e[l+(r?1:-1)];return!h&&a.level!=t?W.cursor(r?n.to:n.from,r?-1:1,t):h&&h.level<a.level?W.cursor(h.side(!r,t)+n.from,r?1:-1,h.level):W.cursor(u+n.from,r?-1:1,a.level)}const Xl="";let X6=class{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(rt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Xl}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r),this.readNode(r);let o=r.nextSibling;if(o==t)break;let s=$i.get(r),l=$i.get(o);(s&&l?s.breakAfter:(s?s.breakAfter:wN(r))||wN(o)&&(r.nodeName!="BR"||r.cmIgnore))&&this.lineBreak(),r=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,l;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,i),s=this.lineSeparator.length):(l=r.exec(t))&&(o=l.index,s=l[0].length),this.append(t.slice(i,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=s-1);i=o+s}}readNode(e){if(e.cmIgnore)return;let t=$i.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}};function wN(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}let xN=class{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}},CN=class extends $i{constructor(e){super(),this.view=e,this.compositionDeco=ji.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Xo],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new sp(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:s,toA:l})=>l<this.minWidthFrom||s>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=ji.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=l0e(this.view,e.changes)),(ot.ie||ot.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,r=this.updateDeco(),o=h0e(i,r,e.changes);return t=sp.extendWithRanges(t,o),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=ot.chrome||ot.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(o),this.dirty=0,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof lE&&o.widget instanceof EN&&r.push(o.dom);i.updateGaps(r)}updateChildren(e,t){let i=this.childCursor(t);for(let r=e.length-1;;r--){let o=r>=0?e[r]:null;if(!o)break;let{fromA:s,toA:l,fromB:a,toB:c}=o,{content:u,breakAtStart:h,openStart:d,openEnd:f}=Qme.build(this.view.state.doc,a,c,this.decorations,this.dynamicDecorationMap),{i:g,off:y}=i.findPos(l,1),{i:v,off:m}=i.findPos(s,-1);b6(this,v,m,g,y,u,h,d,f)}}updateSelection(e=!1,t=!1){if(e&&this.view.observer.readSelectionRange(),!(t||this.mayControlSelection())||ot.ios&&this.view.inputState.rapidCompositionStart)return;let i=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,o=this.domAtPos(r.anchor),s=r.empty?o:this.domAtPos(r.head);if(ot.gecko&&r.empty&&s0e(o)){let a=document.createTextNode("");this.view.observer.ignore(()=>o.node.insertBefore(a,o.node.childNodes[o.offset]||null)),o=s=new Ir(a,0),i=!0}let l=this.view.observer.selectionRange;(i||!l.focusNode||!xv(o.node,o.offset,l.anchorNode,l.anchorOffset)||!xv(s.node,s.offset,l.focusNode,l.focusOffset))&&(this.view.observer.ignore(()=>{ot.android&&ot.chrome&&this.dom.contains(l.focusNode)&&d0e(l.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=wv(this.root);if(r.empty){if(ot.gecko){let c=c0e(o.node,o.offset);if(c&&c!=3){let u=Q6(o.node,o.offset,c==1?1:-1);u&&(o=new Ir(u,c==1?0:u.nodeValue.length))}}a.collapse(o.node,o.offset),r.bidiLevel!=null&&l.cursorBidiLevel!=null&&(l.cursorBidiLevel=r.bidiLevel)}else if(a.extend)a.collapse(o.node,o.offset),a.extend(s.node,s.offset);else{let c=document.createRange();r.anchor>r.head&&([o,s]=[s,o]),c.setEnd(s.node,s.offset),c.setStart(o.node,o.offset),a.removeAllRanges(),a.addRange(c)}}),this.view.observer.setSelectionRange(o,s)),this.impreciseAnchor=o.precise?null:new Ir(l.anchorNode,l.anchorOffset),this.impreciseHead=s.precise?null:new Ir(l.focusNode,l.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=wv(this.root);if(!e.empty||!e.assoc||!t.modify)return;let i=Xo.find(this,e.head);if(!i)return;let r=i.posAtStart;if(e.head==r||e.head==r+i.length)return;let o=this.coordsAt(e.head,-1),s=this.coordsAt(e.head,1);if(!o||!s||o.bottom>s.top)return;let l=this.domAtPos(e.head+e.assoc);t.collapse(l.node,l.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Ip)?this.root.activeElement==this.dom:K2(this.dom,this.view.observer.selectionRange)}nearest(e){for(let t=e;t;){let i=$i.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof Xo)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,r=this.children.length-1;;r--){let o=this.children[r],s=i-o.breakAfter-o.length;if(e>s||e==s&&o.type!=bi.WidgetBefore&&o.type!=bi.WidgetAfter&&(!r||t==2||this.children[r-1].breakAfter||this.children[r-1].type==bi.WidgetBefore&&t>-2))return o.coordsAt(e-s,t);i=s}}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==Ki.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],d=c+h.length;if(d>r)break;if(c>=i){let f=h.dom.getBoundingClientRect();if(t.push(f.height),s){let g=h.dom.lastChild,y=g?tp(g):[];if(y.length){let v=y[y.length-1],m=a?v.right-f.left:f.right-v.left;m>l&&(l=m,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Ki.RTL:Ki.LTR}measureTextSize(){for(let r of this.children)if(r instanceof Xo){let o=r.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i;return e.className="cm-line",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=tp(e.firstChild)[0];t=e.getBoundingClientRect().height,i=r?r.width/27:7,e.remove()}),{lineHeight:t,charWidth:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new y6(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],s=o?o.from-1:this.length;if(s>i){let l=t.lineBlockAt(s).bottom-t.lineBlockAt(i).top;e.push(ji.replace({widget:new EN(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,s))}if(!o)break;i=o.to+1}return ji.set(e)}updateDeco(){let e=this.view.state.facet(op).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let o=0,s=0,l=0,a=0;for(let u of this.view.state.facet(j6).map(h=>h(this.view)))if(u){let{left:h,right:d,top:f,bottom:g}=u;h!=null&&(o=Math.max(o,h)),d!=null&&(s=Math.max(s,d)),f!=null&&(l=Math.max(l,f)),g!=null&&(a=Math.max(a,g))}let c={left:i.left-o,top:i.top-l,right:i.right+s,bottom:i.bottom+a};Kme(this.view.scrollDOM,c,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Ki.LTR)}};function s0e(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}let EN=class extends tb{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}};function Y6(n){let e=n.observer.selectionRange,t=e.focusNode&&Q6(e.focusNode,e.focusOffset,0);if(!t)return null;let i=n.docView.nearest(t);if(!i)return null;if(i instanceof Xo){let r=t;for(;r.parentNode!=i.dom;)r=r.parentNode;let o=r.previousSibling;for(;o&&!$i.get(o);)o=o.previousSibling;let s=o?$i.get(o).posAtEnd:i.posAtStart;return{from:s,to:s,node:r,text:t}}else{for(;;){let{parent:o}=i;if(!o)return null;if(o instanceof Xo)break;i=o}let r=i.posAtStart;return{from:r,to:r+i.length,node:i.dom,text:t}}}function l0e(n,e){let t=Y6(n);if(!t)return ji.none;let{from:i,to:r,node:o,text:s}=t,l=e.mapPos(i,1),a=Math.max(l,e.mapPos(r,-1)),{state:c}=n,u=o.nodeType==3?o.nodeValue:new X6([],c).readRange(o.firstChild,null).text;if(a-l<u.length)if(c.doc.sliceString(l,Math.min(c.doc.length,l+u.length),Xl)==u)a=l+u.length;else if(c.doc.sliceString(Math.max(0,a-u.length),a,Xl)==u)l=a-u.length;else return ji.none;else if(c.doc.sliceString(l,a,Xl)!=u)return ji.none;let h=$i.get(o);return h instanceof C6?h=h.widget.topView:h&&(h.parent=null),ji.set(ji.replace({widget:new a0e(o,s,h),inclusive:!0}).range(l,a))}let a0e=class extends tb{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return C6}};function Q6(n,e,t){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0&&t<=0)n=n.childNodes[e-1],e=Cv(n);else if(n.nodeType==1&&e<n.childNodes.length&&t>=0)n=n.childNodes[e],e=0;else return null}}function c0e(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let u0e=class{constructor(){this.changes=[]}compareRange(e,t){sE(e,t,this.changes)}comparePoint(e,t){sE(e,t,this.changes)}};function h0e(n,e,t){let i=new u0e;return Be.compare(n,e,t,i),i.changes}function d0e(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function f0e(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),o=e-r.from;if(r.length==0)return W.cursor(e);o==0?t=1:o==r.length&&(t=-1);let s=o,l=o;t<0?s=Tt(r.text,o,!1):l=Tt(r.text,o);let a=i(r.text.slice(s,l));for(;s>0;){let c=Tt(r.text,s,!1);if(i(r.text.slice(c,s))!=a)break;s=c}for(;l<r.length;){let c=Tt(r.text,l);if(i(r.text.slice(l,c))!=a)break;l=c}return W.range(s+r.from,l+r.from)}function p0e(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function g0e(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function lS(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function MN(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function $N(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function dE(n,e,t){let i,r,o,s,l,a,c,u;for(let f=n.firstChild;f;f=f.nextSibling){let g=tp(f);for(let y=0;y<g.length;y++){let v=g[y];r&&lS(r,v)&&(v=MN($N(v,r.bottom),r.top));let m=p0e(e,v),b=g0e(t,v);if(m==0&&b==0)return f.nodeType==3?kN(f,e,t):dE(f,e,t);(!i||s>b||s==b&&o>m)&&(i=f,r=v,o=m,s=b),m==0?t>v.bottom&&(!c||c.bottom<v.bottom)?(l=f,c=v):t<v.top&&(!u||u.top>v.top)&&(a=f,u=v):c&&lS(c,v)?c=$N(c,v.bottom):u&&lS(u,v)&&(u=MN(u,v.top))}}if(c&&c.bottom>=t?(i=l,r=c):u&&u.top<=t&&(i=a,r=u),!i)return{node:n,offset:0};let h=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return kN(i,h,t);if(!o&&i.contentEditable=="true")return dE(i,h,t);let d=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:d}}function kN(n,e,t){let i=n.nodeValue.length,r=-1,o=1e9,s=0;for(let l=0;l<i;l++){let a=np(n,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let h=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<o){let d=e>=(u.left+u.right)/2,f=d;if((ot.chrome||ot.gecko)&&np(n,l).getBoundingClientRect().left==u.right&&(f=!d),h<=0)return{node:n,offset:l+(f?1:0)};r=l+(f?1:0),o=h}}}return{node:n,offset:r>-1?r:s>0?n.nodeValue.length:0}}function J6(n,{x:e,y:t},i,r=-1){var o;let s=n.contentDOM.getBoundingClientRect(),l=s.top+n.viewState.paddingTop,a,{docHeight:c}=n.viewState,u=t-l;if(u<0)return 0;if(u>c)return n.state.doc.length;for(let m=n.defaultLineHeight/2,b=!1;a=n.elementAtHeight(u),a.type!=bi.Text;)for(;u=r>0?a.bottom+m:a.top-m,!(u>=0&&u<=c);){if(b)return i?null:0;b=!0,r=-r}t=l+u;let h=a.from;if(h<n.viewport.from)return n.viewport.from==0?0:i?null:ON(n,s,a,e,t);if(h>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:i?null:ON(n,s,a,e,t);let d=n.dom.ownerDocument,f=n.root.elementFromPoint?n.root:d,g=f.elementFromPoint(e,t);g&&!n.contentDOM.contains(g)&&(g=null),g||(e=Math.max(s.left+1,Math.min(s.right-1,e)),g=f.elementFromPoint(e,t),g&&!n.contentDOM.contains(g)&&(g=null));let y,v=-1;if(g&&((o=n.docView.nearest(g))===null||o===void 0?void 0:o.isEditable)!=!1){if(d.caretPositionFromPoint){let m=d.caretPositionFromPoint(e,t);m&&({offsetNode:y,offset:v}=m)}else if(d.caretRangeFromPoint){let m=d.caretRangeFromPoint(e,t);m&&({startContainer:y,startOffset:v}=m,ot.safari&&m0e(y,v,e)&&(y=void 0))}}if(!y||!n.docView.dom.contains(y)){let m=Xo.find(n.docView,h);if(!m)return u>a.top+a.height/2?a.to:a.from;({node:y,offset:v}=dE(m.dom,e,t))}return n.docView.posFromDOM(y,v)}function ON(n,e,t,i,r){let o=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let l=Math.floor((r-t.top)/n.defaultLineHeight);o+=l*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+pa(s,o,n.state.tabSize)}function m0e(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return np(n,i-1,i).getBoundingClientRect().left>t}function v0e(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=!i||!n.lineWrapping?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(o){let a=n.dom.getBoundingClientRect(),c=n.textDirectionAt(r.from),u=n.posAtCoords({x:t==(c==Ki.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(u!=null)return W.cursor(u,t?-1:1)}let s=Xo.find(n.docView,e.head),l=s?t?s.posAtEnd:s.posAtStart:t?r.to:r.from;return W.cursor(l,t?-1:1)}function AN(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=n.bidiSpans(r),s=n.textDirectionAt(r.from);for(let l=e,a=null;;){let c=o0e(r,o,s,l,t),u=U6;if(!c){if(r.number==(t?n.state.doc.lines:1))return l;u=`
`,r=n.state.doc.line(r.number+(t?1:-1)),o=n.bidiSpans(r),c=W.cursor(t?r.from:r.to)}if(a){if(!a(u))return l}else{if(!i)return c;a=i(u)}l=c}}function y0e(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return o=>{let s=i(o);return r==ci.Space&&(r=s),r==s}}function b0e(n,e,t,i){let r=e.head,o=t?1:-1;if(r==(t?n.state.doc.length:0))return W.cursor(r,e.assoc);let s=e.goalColumn,l,a=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(r),u=n.documentTop;if(c)s==null&&(s=c.left-a.left),l=o<0?c.top:c.bottom;else{let f=n.viewState.lineBlockAt(r);s==null&&(s=Math.min(a.right-a.left,n.defaultCharacterWidth*(r-f.from))),l=(o<0?f.top:f.bottom)+u}let h=a.left+s,d=i??n.defaultLineHeight>>1;for(let f=0;;f+=10){let g=l+(d+f)*o,y=J6(n,{x:h,y:g},!1,o);if(g<a.top||g>a.bottom||(o<0?y<r:y>r))return W.cursor(y,e.assoc,void 0,s)}}function aS(n,e,t){let i=n.state.facet(_6).map(r=>r(n));for(;;){let r=!1;for(let o of i)o.between(t.from-1,t.from+1,(s,l,a)=>{t.from>s&&t.from<l&&(t=e.from>t.from?W.cursor(s,1):W.cursor(l,-1),r=!0)});if(!r)return t}}let S0e=class{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in Bi){let i=Bi[t];e.contentDOM.addEventListener(t,r=>{!RN(e,r)||this.ignoreDuringComposition(r)||t=="keydown"&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,r)?r.preventDefault():i(e,r))}),this.registeredEvents.push(t)}ot.chrome&&ot.chrome_version>=102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,ot.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var i;let r;this.customHandlers=[];for(let o of t)if(r=(i=o.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:r});for(let s in r)this.registeredEvents.indexOf(s)<0&&s!="scroll"&&(this.registeredEvents.push(s),e.contentDOM.addEventListener(s,l=>{RN(e,l)&&this.runCustomHandlers(s,e,l)&&l.preventDefault()}))}}runCustomHandlers(e,t,i){for(let r of this.customHandlers){let o=r.handlers[e];if(o)try{if(o.call(r.plugin,i,t)||i.defaultPrevented)return!0}catch(s){Vs(t.state,s)}}return!1}runScrollHandlers(e,t){for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,t,e)}catch(o){Vs(e.state,o)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(ot.android&&ot.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return ot.ios&&(i=Z6.find(r=>r.keyCode==t.keyCode))&&!(t.ctrlKey||t.altKey||t.metaKey)&&!t.synthetic?(this.pendingIOSKey=i,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,jd(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ot.safari&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229||e.type=="compositionend"&&!ot.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};const Z6=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],ej=[16,17,18,20,91,92,224,225];let w0e=class{constructor(e,t,i,r){this.view=e,this.style=i,this.mustSelect=r,this.lastEvent=t;let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(rt.allowMultipleSelections)&&x0e(e,t),this.dragMove=C0e(e,t),this.dragging=E0e(e,t)&&Rk(t)==1?null:!1,this.dragging===!1&&(t.preventDefault(),this.select(t))}move(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}};function x0e(n,e){let t=n.state.facet(I6);return t.length?t[0](e):ot.mac?e.metaKey:e.ctrlKey}function C0e(n,e){let t=n.state.facet(N6);return t.length?t[0](e):ot.mac?!e.altKey:!e.ctrlKey}function E0e(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=wv(n.root);if(i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let s=r[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function RN(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=$i.get(t))&&i.ignoreEvent(e))return!1;return!0}const Bi=Object.create(null),tj=ot.ie&&ot.ie_version<15||ot.ios&&ot.webkit_version<604;function M0e(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),nj(n,t.value)},50)}function nj(n,e){let{state:t}=n,i,r=1,o=t.toText(e),s=o.lines==t.selection.ranges.length;if(fE!=null&&t.selection.ranges.every(a=>a.empty)&&fE==o.toString()){let a=-1;i=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==a)return{range:c};a=u.from;let h=t.toText((s?o.line(r++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:h},range:W.cursor(c.from+h.length)}})}else s?i=t.changeByRange(a=>{let c=o.line(r++);return{changes:{from:a.from,to:a.to,insert:c.text},range:W.cursor(a.from+c.length)}}):i=t.replaceSelection(o);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Bi.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),e.keyCode==27?n.inputState.lastEscPress=Date.now():ej.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)};let ij=0;Bi.touchstart=(n,e)=>{ij=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Bi.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Bi.mousedown=(n,e)=>{if(n.observer.flush(),ij>Date.now()-2e3&&Rk(e)==1)return;let t=null;for(let i of n.state.facet(B6))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=O0e(n,e)),t){let i=n.root.activeElement!=n.contentDOM;i&&n.observer.ignore(()=>m6(n.contentDOM)),n.inputState.startMouseSelection(new w0e(n,e,t,i))}};function DN(n,e,t,i){if(i==1)return W.cursor(e,t);if(i==2)return f0e(n.state,e,t);{let r=Xo.find(n.docView,e),o=n.state.doc.lineAt(r?r.posAtEnd:e),s=r?r.posAtStart:o.from,l=r?r.posAtEnd:o.to;return l<n.state.doc.length&&l==o.to&&l++,W.range(s,l)}}let rj=(n,e)=>n>=e.top&&n<=e.bottom,TN=(n,e,t)=>rj(e,t)&&n>=t.left&&n<=t.right;function $0e(n,e,t,i){let r=Xo.find(n.docView,e);if(!r)return 1;let o=e-r.posAtStart;if(o==0)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&TN(t,i,s))return-1;let l=r.coordsAt(o,1);return l&&TN(t,i,l)?1:s&&rj(i,s)?-1:1}function PN(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:$0e(n,t,e.clientX,e.clientY)}}const k0e=ot.ie&&ot.ie_version<=11;let IN=null,NN=0,BN=0;function Rk(n){if(!k0e)return n.detail;let e=IN,t=BN;return IN=n,BN=Date.now(),NN=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(NN+1)%3:1}function O0e(n,e){let t=PN(n,e),i=Rk(e),r=n.state.selection,o=t,s=e;return{update(l){l.docChanged&&(t&&(t.pos=l.changes.mapPos(t.pos)),r=r.map(l.changes),s=null)},get(l,a,c){let u;if(s&&l.clientX==s.clientX&&l.clientY==s.clientY?u=o:(u=o=PN(n,l),s=l),!u||!t)return r;let h=DN(n,u.pos,u.bias,i);if(t.pos!=u.pos&&!a){let d=DN(n,t.pos,t.bias,i),f=Math.min(d.from,h.from),g=Math.max(d.to,h.to);h=f<h.from?W.range(f,g):W.range(g,f)}return a?r.replaceRange(r.main.extend(h.from,h.to)):c?r.addRange(h):W.create([h])}}}Bi.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function LN(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:o}=n.inputState,s=i&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,l={from:r,insert:t},a=n.state.changes(s?[s,l]:l);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(r,-1),head:a.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"})}Bi.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),r=0,o=()=>{++r==t.length&&LN(n,e,i.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(i[s]=l.result),o()},l.readAsText(t[s])}}else LN(n,e,e.dataTransfer.getData("Text"),!0)};Bi.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=tj?null:e.clipboardData;t?(nj(n,t.getData("text/plain")),e.preventDefault()):M0e(n)};function A0e(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function R0e(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>r&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),r=s.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let fE=null;Bi.copy=Bi.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=R0e(n.state);if(!t&&!r)return;fE=r?t:null;let o=tj?null:e.clipboardData;o?(e.preventDefault(),o.clearData(),o.setData("text/plain",t)):A0e(n,t),e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};function oj(n){setTimeout(()=>{n.hasFocus!=n.inputState.notifiedFocused&&n.update([])},10)}Bi.focus=oj;Bi.blur=n=>{n.observer.clearSelectionRange(),oj(n)};function sj(n,e){if(n.docView.compositionDeco.size){n.inputState.rapidCompositionStart=e;try{n.update([])}finally{n.inputState.rapidCompositionStart=!1}}}Bi.compositionstart=Bi.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0,n.docView.compositionDeco.size&&(n.observer.flush(),sj(n,!0)))};Bi.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionFirstChange=null,setTimeout(()=>{n.inputState.composing<0&&sj(n,!1)},50)};Bi.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Bi.beforeinput=(n,e)=>{var t;let i;if(ot.chrome&&ot.android&&(i=Z6.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const HN=["pre-wrap","normal","pre-line","break-spaces"];let D0e=class{constructor(){this.doc=Ve.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return HN.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,o){let s=HN.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=t,this.charWidth=i,this.lineLength=r,l){this.heightSamples={};for(let a=0;a<o.length;a++){let c=o[a];c<0?a++:this.heightSamples[Math.floor(c*10)]=!0}}return l}},T0e=class{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}},au=class lj{constructor(e,t,i,r,o){this.from=e,this.length=t,this.top=i,this.height=r,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new lj(this.from,this.length+e.length,this.top,this.height+e.height,t)}};var Sn=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Sn||(Sn={}));const Jm=.001;let Fs=class Zm{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Jm&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return Zm.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let o=this;for(let s=r.length-1;s>=0;s--){let{fromA:l,toA:a,fromB:c,toB:u}=r[s],h=o.lineAt(l,Sn.ByPosNoHeight,t,0,0),d=h.to>=a?h:o.lineAt(a,Sn.ByPosNoHeight,t,0,0);for(u+=d.to-a,a=d.to;s>0&&h.from<=r[s-1].toA;)l=r[s-1].fromA,c=r[s-1].fromB,s--,l<h.from&&(h=o.lineAt(l,Sn.ByPosNoHeight,t,0,0));c+=h.from-l,l=h.from;let f=N0e.build(i,e,c,u);o=o.replace(l,a,f)}return o.updateHeight(i,0)}static empty(){return new Ms(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,o=0;for(;;)if(t==i)if(r>o*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),i+=1+l.break,r-=l.size}else if(o>r*2){let l=e[i];l.break?e.splice(i,1,l.left,null,l.right):e.splice(i,1,l.left,l.right),i+=2+l.break,o-=l.size}else break;else if(r<o){let l=e[t++];l&&(r+=l.size)}else{let l=e[--i];l&&(o+=l.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,i++),new P0e(Zm.of(e.slice(0,t)),s,Zm.of(e.slice(i)))}};Fs.prototype.size=1;let aj=class extends Fs{constructor(e,t,i){super(e,t),this.type=i}blockAt(e,t,i,r){return new au(r,this.length,i,this.height,this.type)}lineAt(e,t,i,r,o){return this.blockAt(0,i,r,o)}forEachLine(e,t,i,r,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,i,r,o))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}},Ms=class pE extends aj{constructor(e,t){super(e,t,bi.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof pE||r instanceof Du&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof Du?r=new pE(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Fs.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},Du=class zo extends Fs{constructor(e){super(e,0)}lines(e,t){let i=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:i,lastLine:r,lineHeight:this.height/(r-i+1)}}blockAt(e,t,i,r){let{firstLine:o,lastLine:s,lineHeight:l}=this.lines(t,r),a=Math.max(0,Math.min(s-o,Math.floor((e-i)/l))),{from:c,length:u}=t.line(o+a);return new au(c,u,i+l*a,l,bi.Text)}lineAt(e,t,i,r,o){if(t==Sn.ByHeight)return this.blockAt(e,i,r,o);if(t==Sn.ByPosNoHeight){let{from:h,to:d}=i.lineAt(e);return new au(h,d-h,0,0,bi.Text)}let{firstLine:s,lineHeight:l}=this.lines(i,o),{from:a,length:c,number:u}=i.lineAt(e);return new au(a,c,r+l*(u-s),l,bi.Text)}forEachLine(e,t,i,r,o,s){let{firstLine:l,lineHeight:a}=this.lines(i,o);for(let c=Math.max(e,o),u=Math.min(o+this.length,t);c<=u;){let h=i.lineAt(c);c==e&&(r+=a*(h.number-l)),s(new au(h.from,h.length,r,a,bi.Text)),r+=a,c=h.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let o=i[i.length-1];o instanceof zo?i[i.length-1]=new zo(o.length+r):i.push(null,new zo(r-1))}if(e>0){let o=i[0];o instanceof zo?i[0]=new zo(e+o.length):i.unshift(new zo(e-1),null)}return Fs.of(i)}decomposeLeft(e,t){t.push(new zo(e-1),null)}decomposeRight(e,t){t.push(null,new zo(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let s=[],l=Math.max(t,r.from),a=-1,c=e.heightChanged;for(r.from>t&&s.push(new zo(r.from-t-1).updateHeight(e,t));l<=o&&r.more;){let h=e.doc.lineAt(l).length;s.length&&s.push(null);let d=r.heights[r.index++];a==-1?a=d:Math.abs(d-a)>=Jm&&(a=-2);let f=new Ms(h,d);f.outdated=!1,s.push(f),l+=h+1}l<=o&&s.push(null,new zo(o-l).updateHeight(e,l));let u=Fs.of(s);return e.heightChanged=c||a<0||Math.abs(u.height-this.height)>=Jm||Math.abs(a-this.lines(e.doc,t).lineHeight)>=Jm,u}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},P0e=class extends Fs{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let o=i+this.left.height;return e<o?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,i,r,o){let s=r+this.left.height,l=o+this.left.length+this.break,a=t==Sn.ByHeight?e<s:e<l,c=a?this.left.lineAt(e,t,i,r,o):this.right.lineAt(e,t,i,s,l);if(this.break||(a?c.to<l:c.from>l))return c;let u=t==Sn.ByPosNoHeight?Sn.ByPosNoHeight:Sn.ByPos;return a?c.join(this.right.lineAt(l,u,i,s,l)):this.left.lineAt(l,u,i,r,o).join(c)}forEachLine(e,t,i,r,o,s){let l=r+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,i,r,o,s),t>=a&&this.right.forEachLine(e,t,i,l,a,s);else{let c=this.lineAt(a,Sn.ByPos,i,r,o);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,o,s),c.to>=e&&c.from<=t&&s(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,l,a,s)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let l of i)o.push(l);if(e>0&&zN(o,s-1),t<this.length){let l=o.length;this.decomposeRight(t,o),zN(o,l)}return Fs.of(o)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Fs.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:o,right:s}=this,l=t+o.length+this.break,a=null;return r&&r.from<=t+o.length&&r.more?a=o=o.updateHeight(e,t,i,r):o.updateHeight(e,t,i),r&&r.from<=l+s.length&&r.more?a=s=s.updateHeight(e,l,i,r):s.updateHeight(e,l,i),a?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function zN(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof Du&&(i=n[e+1])instanceof Du&&n.splice(e-1,3,new Du(t.length+1+i.length))}const I0e=5;let N0e=class cj{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Ms?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Ms(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new aj(o,r,i.type)):(o||r>=I0e)&&this.addLineDeco(r,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ms(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new Du(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ms)return e;let t=new Ms(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==bi.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=bi.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let i=this.ensureLine();i.length+=t,i.collapsed+=t,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Ms)&&!this.isCovered?this.nodes.push(new Ms(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof Ms&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let o=new cj(i,e);return Be.spans(t,i,r,o,0),o.finish(i)}};function B0e(n,e,t){let i=new L0e;return Be.compare(n,e,t,i,0),i.changes}let L0e=class{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&sE(e,t,this.changes,5)}};function H0e(n,e){let t=n.getBoundingClientRect(),i=Math.max(0,t.left),r=Math.min(innerWidth,t.right),o=Math.max(0,t.top),s=Math.min(innerHeight,t.bottom),l=n.ownerDocument.body;for(let a=n.parentNode;a&&a!=l;)if(a.nodeType==1){let c=a,u=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&u.overflow!="visible"){let h=c.getBoundingClientRect();i=Math.max(i,h.left),r=Math.min(r,h.right),o=Math.max(o,h.top),s=Math.min(s,h.bottom)}a=u.position=="absolute"||u.position=="fixed"?c.offsetParent:c.parentNode}else if(a.nodeType==11)a=a.host;else break;return{left:i-t.left,right:Math.max(i,r)-t.left,top:o-(t.top+e),bottom:Math.max(o,s)-(t.top+e)}}function z0e(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}let cS=class{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e){return ji.replace({widget:new V0e(this.size,e)}).range(this.from,this.to)}},V0e=class extends tb{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}},VN=class{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new D0e,this.scaler=_N,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ki.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(op).filter(t=>typeof t!="function"),this.heightMap=Fs.empty().applyChanges(this.stateDeco,Ve.empty,this.heightOracle.setDoc(e.doc),[new sp(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ji.set(this.lineGaps.map(t=>t.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:o,to:s})=>r>=o&&r<=s)){let{from:o,to:s}=this.lineBlockAt(r);e.push(new jg(o,s))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?_N:new _0e(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:vd(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(op).filter(c=>typeof c!="function");let r=e.changedRanges,o=sp.extendWithRanges(r,B0e(i,this.stateDeco,e?e.changes:en.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(e.flags|=2);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let a=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,o=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Ki.RTL:Ki.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=s||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;let a=0,c=0,u=parseInt(i.paddingTop)||0,h=parseInt(i.paddingBottom)||0;(this.paddingTop!=u||this.paddingBottom!=h)&&(this.paddingTop=u,this.paddingBottom=h,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);let d=(this.printing?z0e:H0e)(t,this.paddingTop),f=d.top-this.pixelViewport.top,g=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView)return 0;let v=t.clientWidth;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=v,this.editorHeight=e.scrollDOM.clientHeight,a|=8),l){let b=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(b)&&(s=!0),s||r.lineWrapping&&Math.abs(v-this.contentDOMWidth)>r.charWidth){let{lineHeight:S,charWidth:w}=e.docView.measureTextSize();s=r.refresh(o,S,w,v/w,b),s&&(e.docView.minWidth=0,a|=8)}f>0&&g>0?c=Math.max(f,g):f<0&&g<0&&(c=Math.min(f,g)),r.heightChanged=!1;for(let S of this.viewports){let w=S.from==this.viewport.from?b:e.docView.measureVisibleLineHeights(S);this.heightMap=this.heightMap.updateHeight(r,0,s,new T0e(S.from,w))}r.heightChanged&&(a|=2)}let m=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(a&2||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.state.doc,{visibleTop:s,visibleBottom:l}=this,a=new jg(r.lineAt(s-i*1e3,Sn.ByHeight,o,0,0).from,r.lineAt(l+(1-i)*1e3,Sn.ByHeight,o,0,0).to);if(t){let{head:c}=t.range;if(c<a.from||c>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=r.lineAt(c,Sn.ByPos,o,0,0),d;t.y=="center"?d=(h.top+h.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<a.from?d=h.top:d=h.bottom-u,a=new jg(r.lineAt(d-1e3/2,Sn.ByHeight,o,0,0).from,r.lineAt(d+u+1e3/2,Sn.ByHeight,o,0,0).to)}}return a}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new jg(this.heightMap.lineAt(i,Sn.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,Sn.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Sn.ByPos,this.state.doc,0,0),{bottom:o}=this.heightMap.lineAt(t,Sn.ByPos,this.state.doc,0,0),{visibleTop:s,visibleBottom:l}=this;return(e==0||r<=s-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||o>=l+Math.max(10,Math.min(i,250)))&&r>s-2*1e3&&o<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new cS(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e){let t=[];if(this.defaultTextDirection!=Ki.LTR)return t;for(let i of this.viewportLines){if(i.length<4e3)continue;let r=F0e(i.from,i.to,this.stateDeco);if(r.total<4e3)continue;let o,s;if(this.heightOracle.lineWrapping){let c=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;o=Kg(r,(this.visibleTop-i.top-c)/i.height),s=Kg(r,(this.visibleBottom-i.top+c)/i.height)}else{let c=r.total*this.heightOracle.charWidth,u=2e3*this.heightOracle.charWidth;o=Kg(r,(this.pixelViewport.left-u)/c),s=Kg(r,(this.pixelViewport.right+u)/c)}let l=[];o>i.from&&l.push({from:i.from,to:o}),s<i.to&&l.push({from:s,to:i.to});let a=this.state.selection.main;a.from>=i.from&&a.from<=i.to&&WN(l,a.from-10,a.from+10),!a.empty&&a.to>=i.from&&a.to<=i.to&&WN(l,a.to-10,a.to+10);for(let{from:c,to:u}of l)u-c>1e3&&t.push(W0e(e,h=>h.from>=i.from&&h.to<=i.to&&Math.abs(h.from-c)<1e3&&Math.abs(h.to-u)<1e3)||new cS(c,u,this.gapSize(i,c,u,r)))}return t}gapSize(e,t,i,r){let o=FN(r,i)-FN(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){cS.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ji.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Be.spans(e,this.viewport.from,this.viewport.to,{span(r,o){t.push({from:r,to:o})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,o)=>r.from!=t[o].from||r.to!=t[o].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||vd(this.heightMap.lineAt(e,Sn.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return vd(this.heightMap.lineAt(this.scaler.fromDOM(e),Sn.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return vd(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},jg=class{constructor(e,t){this.from=e,this.to=t}};function F0e(n,e,t){let i=[],r=n,o=0;return Be.spans(t,n,e,{span(){},point(s,l){s>r&&(i.push({from:r,to:s}),o+=s-r),r=l}},20),r<e&&(i.push({from:r,to:e}),o+=e-r),{total:o,ranges:i}}function Kg({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:o,to:s}=e[r],l=s-o;if(i<=l)return o+i;i-=l}}function FN(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function WN(n,e,t){for(let i=0;i<n.length;i++){let r=n[i];if(r.from<t&&r.to>e){let o=[];r.from<e&&o.push({from:r.from,to:e}),r.to>t&&o.push({from:t,to:r.to}),n.splice(i,1,...o),i+=o.length-1}}}function W0e(n,e){for(let t of n)if(e(t))return t}const _N={toDOM(n){return n},fromDOM(n){return n},scale:1};let _0e=class{constructor(e,t,i){let r=0,o=0,s=0;this.viewports=i.map(({from:l,to:a})=>{let c=t.lineAt(l,Sn.ByPos,e,0,0).top,u=t.lineAt(a,Sn.ByPos,e,0,0).bottom;return r+=u-c,{from:l,to:a,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let l of this.viewports)l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-i)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);i=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return i+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);i=o.bottom,r=o.domBottom}}};function vd(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new au(n.from,n.length,t,i-t,Array.isArray(n.type)?n.type.map(r=>vd(r,e)):n.type)}const qg=ie.define({combine:n=>n.join(" ")}),gE=ie.define({combine:n=>n.indexOf(!0)>-1}),mE=It.newName(),uj=It.newName(),hj=It.newName(),dj={"&light":"."+uj,"&dark":"."+hj};function vE(n,e,t){return new It(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const j0e=vE("."+mE,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},dj),K0e={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},uS=ot.ie&&ot.ie_version<=11;let q0e=class{constructor(e,t,i){this.view=e,this.onChange=t,this.onScrollChanged=i,this.active=!1,this.selectionRange=new qme,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let o of r)this.queue.push(o);(ot.ie&&ot.ie_version<=11||ot.ios&&e.composing)&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),uS&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,i=this.selectionRange;if(t.state.facet(Ip)?t.root.activeElement!=this.dom:!K2(t.dom,i))return;let r=i.anchorNode&&t.docView.nearest(i.anchorNode);r&&r.ignoreEvent(e)||((ot.ie&&ot.ie_version<=11||ot.android&&ot.chrome)&&!t.state.selection.main.empty&&i.focusNode&&xv(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,t=wv(e),i=ot.safari&&e.nodeType==11&&_me()==this.view.contentDOM&&G0e(this.view)||t;return this.selectionRange.eq(i)?!1:(this.selectionRange.setRange(i),this.selectionChanged=!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,K0e),uS&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),uS&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame(()=>{let i=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||jd(this.view.contentDOM,i.key,i.keyCode)}),(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let o of this.observer.takeRecords())e.push(o);e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(r=!0),t==-1?{from:t,to:i}=s:(t=Math.min(s.from,t),i=Math.max(s.to,i)))}return{from:t,to:i,typeOver:r}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:i,typeOver:r}=this.processRecords(),o=this.selectionChanged&&K2(this.dom,this.selectionRange);if(t<0&&!o)return;this.selectionChanged=!1;let s=this.view.state,l=this.onChange(t,i,r);return this.view.state==s&&this.view.update([]),l}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let i=jN(t,e.previousSibling||e.target.previousSibling,-1),r=jN(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resize)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}};function jN(n,e,t){for(;e;){let i=$i.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function G0e(n){let e=null;function t(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),document.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return xv(l.node,l.offset,o,s)&&([i,r,o,s]=[o,s,i,r]),{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:s}}function U0e(n,e,t,i){let r,o,s=n.state.selection.main;if(e>-1){let l=n.docView.domBoundsAround(e,t,0);if(!l||n.state.readOnly)return!1;let{from:a,to:c}=l,u=n.docView.impreciseHead||n.docView.impreciseAnchor?[]:Y0e(n),h=new X6(u,n.state);h.readRange(l.startDOM,l.endDOM);let d=s.from,f=null;(n.inputState.lastKeyCode===8&&n.inputState.lastKeyTime>Date.now()-100||ot.android&&h.text.length<c-a)&&(d=s.to,f="end");let g=X0e(n.state.doc.sliceString(a,c,Xl),h.text,d-a,f);g&&(ot.chrome&&n.inputState.lastKeyCode==13&&g.toB==g.from+2&&h.text.slice(g.from,g.toB)==Xl+Xl&&g.toB--,r={from:a+g.from,to:a+g.toA,insert:Ve.of(h.text.slice(g.from,g.toB).split(Xl))}),o=Q0e(u,a)}else if(n.hasFocus||!n.state.facet(Ip)){let l=n.observer.selectionRange,{impreciseHead:a,impreciseAnchor:c}=n.docView,u=a&&a.node==l.focusNode&&a.offset==l.focusOffset||!rh(n.contentDOM,l.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(l.focusNode,l.focusOffset),h=c&&c.node==l.anchorNode&&c.offset==l.anchorOffset||!rh(n.contentDOM,l.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(l.anchorNode,l.anchorOffset);(u!=s.head||h!=s.anchor)&&(o=W.single(h,u))}if(!r&&!o)return!1;if(!r&&i&&!s.empty&&o&&o.main.empty?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,s.to))}:(ot.mac||ot.android)&&r&&r.from==r.to&&r.from==s.head-1&&r.insert.toString()=="."&&(r={from:s.from,to:s.to,insert:Ve.of([" "])}),r){let l=n.state;if(ot.ios&&n.inputState.flushIOSKey(n)||ot.android&&(r.from==s.from&&r.to==s.to&&r.insert.length==1&&r.insert.lines==2&&jd(n.contentDOM,"Enter",13)||r.from==s.from-1&&r.to==s.to&&r.insert.length==0&&jd(n.contentDOM,"Backspace",8)||r.from==s.from&&r.to==s.to+1&&r.insert.length==0&&jd(n.contentDOM,"Delete",46)))return!0;let a=r.insert.toString();if(n.state.facet(H6).some(h=>h(n,r.from,r.to,a)))return!0;n.inputState.composing>=0&&n.inputState.composing++;let c;if(r.from>=s.from&&r.to<=s.to&&r.to-r.from>=(s.to-s.from)/3&&(!o||o.main.empty&&o.main.from==r.from+r.insert.length)&&n.inputState.composing<0){let h=s.from<r.from?l.sliceDoc(s.from,r.from):"",d=s.to>r.to?l.sliceDoc(r.to,s.to):"";c=l.replaceSelection(n.state.toText(h+r.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let h=l.changes(r),d=o&&!l.selection.main.eq(o.main)&&o.main.to<=h.newLength?o.main:void 0;if(l.selection.ranges.length>1&&n.inputState.composing>=0&&r.to<=s.to&&r.to>=s.to-10){let f=n.state.sliceDoc(r.from,r.to),g=Y6(n)||n.state.doc.lineAt(s.head),y=s.to-r.to,v=s.to-s.from;c=l.changeByRange(m=>{if(m.from==s.from&&m.to==s.to)return{changes:h,range:d||m.map(h)};let b=m.to-y,S=b-f.length;if(m.to-m.from!=v||n.state.sliceDoc(S,b)!=f||g&&m.to>=g.from&&m.from<=g.to)return{range:m};let w=l.changes({from:S,to:b,insert:r.insert}),x=m.to-s.to;return{changes:w,range:d?W.range(Math.max(0,d.anchor+x),Math.max(0,d.head+x)):m.map(w)}})}else c={changes:h,selection:d&&l.selection.replaceRange(d)}}let u="input.type";return n.composing&&(u+=".compose",n.inputState.compositionFirstChange&&(u+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(c,{scrollIntoView:!0,userEvent:u}),!0}else if(o&&!o.main.eq(s)){let l=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(l=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:o,scrollIntoView:l,userEvent:a}),!0}else return!1}function X0e(n,e,t,i){let r=Math.min(n.length,e.length),o=0;for(;o<r&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==r&&n.length==e.length)return null;let s=n.length,l=e.length;for(;s>0&&l>0&&n.charCodeAt(s-1)==e.charCodeAt(l-1);)s--,l--;if(i=="end"){let a=Math.max(0,o-Math.min(s,l));t-=s+a-o}if(s<o&&n.length<e.length){let a=t<=o&&t>=s?o-t:0;o-=a,l=o+(l-s),s=o}else if(l<o){let a=t<=o&&t>=l?o-t:0;o-=a,s=o+(s-l),l=o}return{from:o,toA:s,toB:l}}function Y0e(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new xN(t,i)),(r!=t||o!=i)&&e.push(new xN(r,o))),e}function Q0e(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?W.single(t+e,i+e):null}let jn=class fj{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this.root=e.root||Gme(e.parent)||document,this.viewState=new VN(e.state||rt.create()),this.plugins=this.state.facet(gd).map(t=>new sS(t));for(let t of this.plugins)t.update(this);this.observer=new q0e(this,(t,i,r)=>U0e(this,t,i,r),t=>{this.inputState.runScrollHandlers(this,t),this.observer.intersecting&&this.measure()}),this.inputState=new S0e(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new CN(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Tn?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,o=this.state;for(let l of e){if(l.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=l.state}if(this.destroyed){this.viewState.state=o;return}if(this.observer.clear(),o.facet(rt.phrases)!=this.state.facet(rt.phrases))return this.setState(o);r=SN.create(this,o,e);let s=this.viewState.scrollTarget;try{this.updateState=2;for(let l of e){if(s&&(s=s.map(l.changes)),l.scrollIntoView){let{main:a}=l.state.selection;s=new yN(a.empty?a:W.cursor(a.head,a.head>a.anchor?-1:1))}for(let a of l.effects)a.is(bN)&&(s=a.value)}this.viewState.update(r,s),this.bidiCache=qN.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(md)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(l=>l.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(qg)!=r.state.facet(qg)&&(this.viewState.mustMeasureContent=!0),(t||i||s||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let l of this.state.facet(aE))l(r)}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new VN(e),this.plugins=e.facet(gd).map(i=>new sS(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new CN(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(gd),i=e.state.facet(gd);if(t!=i){let r=[];for(let o of i){let s=t.indexOf(o);if(s<0)r.push(new sS(o));else{let l=this.plugins[s];l.mustUpdate=e,r.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.flush();let t=null;try{for(let i=0;;i++){this.updateState=1;let r=this.viewport,o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(i>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let s=[];o&4||([this.measureRequests,s]=[s,this.measureRequests]);let l=s.map(h=>{try{return h.read(this)}catch(d){return Vs(this.state,d),KN}}),a=SN.create(this,this.state,[]),c=!1,u=!1;a.flags|=o,t?t.flags|=o:t=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),c=this.docView.update(a));for(let h=0;h<s.length;h++)if(l[h]!=KN)try{let d=s[h];d.write&&d.write(l[h],this)}catch(d){Vs(this.state,d)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=!0),c&&this.docView.updateSelection(!0),this.viewport.from==r.from&&this.viewport.to==r.to&&!u&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let i of this.state.facet(aE))i(t)}get themeClasses(){return mE+" "+(this.state.facet(gE)?hj:uj)+" "+this.state.facet(qg)}updateAttrs(){let e=GN(this,F6,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ip)?"true":"false",class:"cm-content",style:`${ot.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),GN(this,W6,t);let i=this.observer.ignore(()=>{let r=oE(this.contentDOM,this.contentAttrs,t),o=oE(this.dom,this.editorAttrs,e);return r||o});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(fj.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(md),It.mount(this.root,this.styleModules.concat(j0e).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),e){if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return aS(this,e,AN(this,e,t,i))}moveByGroup(e,t){return aS(this,e,AN(this,e,t,i=>y0e(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return v0e(this,e,t,i)}moveVertically(e,t,i){return aS(this,e,b0e(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),J6(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r),s=o[Ru.find(o,e-r.from,-1,t)];return Zy(i,s.dir==Ki.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(z6)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>J0e)return G6(e.length);let t=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t)return r.order;let i=r0e(e.text,t);return this.bidiCache.push(new qN(e.from,e.to,t,i)),i}get hasFocus(){var e;return(document.hasFocus()||ot.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{m6(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return bN.of(new yN(typeof e=="number"?W.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Ak.define(()=>({}),{eventHandlers:e})}static theme(e,t){let i=It.newName(),r=[qg.of(i),md.of(vE(`.${i}`,e))];return t&&t.dark&&r.push(gE.of(!0)),r}static baseTheme(e){return Xs.lowest(md.of(vE("."+mE,e,dj)))}};jn.styleModule=md;jn.inputHandler=H6;jn.perLineTextDirection=z6;jn.exceptionSink=L6;jn.updateListener=aE;jn.editable=Ip;jn.mouseSelectionStyle=B6;jn.dragMovesSelection=N6;jn.clickAddsSelectionRange=I6;jn.decorations=op;jn.atomicRanges=_6;jn.scrollMargins=j6;jn.darkTheme=gE;jn.contentAttributes=W6;jn.editorAttributes=F6;jn.lineWrapping=jn.contentAttributes.of({class:"cm-lineWrapping"});jn.announce=yt.define();const J0e=4096,KN={};let qN=class pj{constructor(e,t,i,r){this.from=e,this.to=t,this.dir=i,this.order=r}static update(e,t){if(t.empty)return e;let i=[],r=e.length?e[e.length-1].dir:Ki.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==r&&!t.touchesRange(s.from,s.to)&&i.push(new pj(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.order))}return i}};function GN(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let o=i[r],s=typeof o=="function"?o(n):o;s&&rE(s,t)}return t}const Z0e=ot.mac?"mac":ot.windows?"win":ot.linux?"linux":"key";function eve(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,o,s,l;for(let a=0;a<t.length-1;++a){const c=t[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(i="Alt-"+i),o&&(i="Ctrl-"+i),l&&(i="Meta-"+i),s&&(i="Shift-"+i),i}function hS(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const tve=jn.domEventHandlers({keydown(n,e){return ove(nve(e.state),n,e,"editor")}}),gj=ie.define({enables:tve}),UN=new WeakMap;function nve(n){let e=n.facet(gj),t=UN.get(e);return t||UN.set(e,t=rve(e.reduce((i,r)=>i.concat(r),[]))),t}let Hl=null;const ive=4e3;function rve(n,e=Z0e){let t=Object.create(null),i=Object.create(null),r=(s,l)=>{let a=i[s];if(a==null)i[s]=l;else if(a!=l)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,l,a,c)=>{let u=t[s]||(t[s]=Object.create(null)),h=l.split(/ (?!$)/).map(g=>eve(g,e));for(let g=1;g<h.length;g++){let y=h.slice(0,g).join(" ");r(y,!0),u[y]||(u[y]={preventDefault:!0,commands:[v=>{let m=Hl={view:v,prefix:y,scope:s};return setTimeout(()=>{Hl==m&&(Hl=null)},ive),!0}]})}let d=h.join(" ");r(d,!1);let f=u[d]||(u[d]={preventDefault:!1,commands:[]});f.commands.push(a),c&&(f.preventDefault=!0)};for(let s of n){let l=s[e]||s.key;if(l)for(let a of s.scope?s.scope.split(" "):["editor"])o(a,l,s.run,s.preventDefault),s.shift&&o(a,"Shift-"+l,s.shift,s.preventDefault)}return t}function ove(n,e,t,i){let r=j$(e),o=r.length==1&&r!=" ",s="",l=!1;Hl&&Hl.view==t&&Hl.scope==i&&(s=Hl.prefix+" ",(l=ej.indexOf(e.keyCode)<0)&&(Hl=null));let a=h=>{if(h){for(let d of h.commands)if(d(t))return!0;h.preventDefault&&(l=!0)}return!1},c=n[i],u;if(c){if(a(c[s+hS(r,e,!o)]))return!0;if(o&&(e.shiftKey||e.altKey||e.metaKey)&&(u=js[e.keyCode])&&u!=r){if(a(c[s+hS(u,e,!0)]))return!0}else if(o&&e.shiftKey&&a(c[s+hS(r,e,!0)]))return!0}return l}const sve=!ot.ios,lve={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};sve&&(lve[".cm-line"].caretColor="transparent !important");const dS="-10000px";let ave=class{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(i)}update(e){let t=e.state.facet(this.facet),i=t.filter(o=>o);if(t===this.input){for(let o of this.tooltipViews)o.update&&o.update(e);return!1}let r=[];for(let o=0;o<i.length;o++){let s=i[o],l=-1;if(s){for(let a=0;a<this.tooltips.length;a++){let c=this.tooltips[a];c&&c.create==s.create&&(l=a)}if(l<0)r[o]=this.createTooltipView(s);else{let a=r[o]=this.tooltipViews[l];a.update&&a.update(e)}}}for(let o of this.tooltipViews)r.indexOf(o)<0&&o.dom.remove();return this.input=t,this.tooltips=i,this.tooltipViews=r,!0}};function cve(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const fS=ie.define({combine:n=>{var e,t,i;return{position:ot.ios?"absolute":((e=n.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||cve}}}),mj=Ak.fromClass(class{constructor(n){var e;this.view=n,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let t=n.state.facet(fS);this.position=t.position,this.parent=t.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new ave(n,vj,i=>this.createTooltip(i)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(i=>{Date.now()>this.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),(e=n.dom.ownerDocument.defaultView)===null||e===void 0||e.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(fS);if(i.position!=this.position){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=dS,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;(n=this.view.dom.ownerDocument.defaultView)===null||n===void 0||n.removeEventListener("resize",this.measureSoon);for(let{dom:t}of this.manager.tooltipViews)t.remove();(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((e,t)=>{let i=this.manager.tooltipViews[t];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(fS).tooltipSpace(this.view)}}writeMeasure(n){let{editor:e,space:t}=n,i=[];for(let r=0;r<this.manager.tooltips.length;r++){let o=this.manager.tooltips[r],s=this.manager.tooltipViews[r],{dom:l}=s,a=n.pos[r],c=n.size[r];if(!a||a.bottom<=Math.max(e.top,t.top)||a.top>=Math.min(e.bottom,t.bottom)||a.right<Math.max(e.left,t.left)-.1||a.left>Math.min(e.right,t.right)+.1){l.style.top=dS;continue}let u=o.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,h=u?7:0,d=c.right-c.left,f=c.bottom-c.top,g=s.offset||hve,y=this.view.textDirection==Ki.LTR,v=c.width>t.right-t.left?y?t.left:t.right-c.width:y?Math.min(a.left-(u?14:0)+g.x,t.right-d):Math.max(t.left,a.left-d+(u?14:0)-g.x),m=!!o.above;!o.strictSide&&(m?a.top-(c.bottom-c.top)-g.y<t.top:a.bottom+(c.bottom-c.top)+g.y>t.bottom)&&m==t.bottom-a.bottom>a.top-t.top&&(m=!m);let b=m?a.top-f-h-g.y:a.bottom+h+g.y,S=v+d;if(s.overlap!==!0)for(let w of i)w.left<S&&w.right>v&&w.top<b+f&&w.bottom>b&&(b=m?w.top-f-2-h:w.bottom+h+2);this.position=="absolute"?(l.style.top=b-n.parent.top+"px",l.style.left=v-n.parent.left+"px"):(l.style.top=b+"px",l.style.left=v+"px"),u&&(u.style.left=`${a.left+(y?g.x:-g.x)-(v+14-7)}px`),s.overlap!==!0&&i.push({left:v,top:b,right:S,bottom:b+f}),l.classList.toggle("cm-tooltip-above",m),l.classList.toggle("cm-tooltip-below",!m),s.positioned&&s.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=dS}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),uve=jn.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),hve={x:0,y:0},vj=ie.define({enables:[mj,uve]});function dve(n,e){let t=n.plugin(mj);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}let oh=class extends Qi{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}};oh.prototype.elementClass="";oh.prototype.toDOM=void 0;oh.prototype.mapMode=At.TrackBefore;oh.prototype.startSide=oh.prototype.endSide=-1;oh.prototype.point=!0;class yj{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=dr(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),o=r.search(bj(e,!1));return o<0?null:{from:i+o,to:this.pos,text:r.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function XN(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function fve(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let o=1;o<r.length;o++)t[r[o]]=!0}let i=XN(e)+XN(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function pve(n){let e=n.map(r=>typeof r=="string"?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:fve(e);return r=>{let o=r.matchBefore(i);return o||r.explicit?{from:o?o.from:r.pos,options:e,validFor:t}:null}}class YN{constructor(e,t,i){this.completion=e,this.source=t,this.match=i}}function ca(n){return n.selection.main.head}function bj(n,e){var t;let{source:i}=n,r=e&&i[0]!="^",o=i[i.length-1]!="$";return!r&&!o?n:new RegExp(`${r?"^":""}(?:${i})${o?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}function gve(n,e,t,i){return Object.assign(Object.assign({},n.changeByRange(r=>{if(r==n.selection.main)return{changes:{from:t,to:i,insert:e},range:W.cursor(t+e.length)};let o=i-t;return!r.empty||o&&n.sliceDoc(r.from-o,r.from)!=n.sliceDoc(t,i)?{range:r}:{changes:{from:r.from-o,to:r.from,insert:e},range:W.cursor(r.from-o+e.length)}})),{userEvent:"input.complete"})}function Sj(n,e){const t=e.completion.apply||e.completion.label;let i=e.source;typeof t=="string"?n.dispatch(gve(n.state,t,i.from,i.to)):t(n,e.completion,i.from,i.to)}const QN=new WeakMap;function mve(n){if(!Array.isArray(n))return n;let e=QN.get(n);return e||QN.set(n,e=pve(n)),e}class vve{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let i=rr(e,t),r=mo(i);this.chars.push(i);let o=e.slice(t,t+r),s=o.toUpperCase();this.folded.push(rr(s==o?o.toLowerCase():s,0)),t+=r}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:r,precise:o,byWord:s}=this;if(t.length==1){let b=rr(e,0);return b==t[0]?[0,0,mo(b)]:b==i[0]?[-200,0,mo(b)]:null}let l=e.indexOf(this.pattern);if(l==0)return[0,0,this.pattern.length];let a=t.length,c=0;if(l<0){for(let b=0,S=Math.min(e.length,200);b<S&&c<a;){let w=rr(e,b);(w==t[c]||w==i[c])&&(r[c++]=b),b+=mo(w)}if(c<a)return null}let u=0,h=0,d=!1,f=0,g=-1,y=-1,v=/[a-z]/.test(e),m=!0;for(let b=0,S=Math.min(e.length,200),w=0;b<S&&h<a;){let x=rr(e,b);l<0&&(u<a&&x==t[u]&&(o[u++]=b),f<a&&(x==t[f]||x==i[f]?(f==0&&(g=b),y=b+1,f++):f=0));let E,C=x<255?x>=48&&x<=57||x>=97&&x<=122?2:x>=65&&x<=90?1:0:(E=V$(x))!=E.toLowerCase()?1:E!=E.toUpperCase()?2:0;(!b||C==1&&v||w==0&&C!=0)&&(t[h]==x||i[h]==x&&(d=!0)?s[h++]=b:s.length&&(m=!1)),w=C,b+=mo(x)}return h==a&&s[0]==0&&m?this.result(-100+(d?-200:0),s,e):f==a&&g==0?[-200-e.length,0,y]:l>-1?[-700-e.length,l,l+this.pattern.length]:f==a?[-900-e.length,g,y]:h==a?this.result(-100+(d?-200:0)+-700+(m?0:-1100),s,e):t.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,i){let r=[e-i.length],o=1;for(let s of t){let l=s+(this.astral?mo(rr(i,s)):1);o>1&&r[o-1]==s?r[o-1]=l:(r[o++]=s,r[o++]=l)}return r}}const va=ie.define({combine(n){return xl(n,{activateOnTyping:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,optionClass:(e,t)=>i=>yve(e(i),t(i)),addToOptions:(e,t)=>e.concat(t)})}});function yve(n,e){return n?e?n+" "+e:n:e}function bve(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,r){let o=document.createElement("span");o.className="cm-completionLabel";let{label:s}=t,l=0;for(let a=1;a<r.length;){let c=r[a++],u=r[a++];c>l&&o.appendChild(document.createTextNode(s.slice(l,c)));let h=o.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(s.slice(c,u))),h.className="cm-completionMatchedText",l=u}return l<s.length&&o.appendChild(document.createTextNode(s.slice(l))),o},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function JN(n,e,t){if(n<=t)return{from:0,to:n};if(e<=n>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class Sve{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:l=>this.positionInfo(l),key:this};let i=e.state.field(t),{options:r,selected:o}=i.open,s=e.state.facet(va);this.optionContent=bve(s),this.optionClass=s.optionClass,this.range=JN(r.length,o,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",l=>{for(let a=l.target,c;a&&a!=this.dom;a=a.parentNode)if(a.nodeName=="LI"&&(c=/-(\d+)$/.exec(a.id))&&+c[1]<r.length){Sj(e,r[+c[1]]),l.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(r,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=JN(t.options.length,t.selected,this.view.state.facet(va).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:i}=t.options[t.selected],{info:r}=i;if(!r)return;let o=typeof r=="string"?document.createTextNode(r):r(i);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s)}).catch(s=>Vs(this.view.state,s,"completion info")):this.addInfoPane(o)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&xve(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect();if(r.top>Math.min(innerHeight,t.bottom)-10||r.bottom<Math.max(0,t.top)+10)return null;let o=Math.max(0,Math.min(r.top,innerHeight-i.height))-t.top,s=this.view.textDirection==Ki.RTL,l=t.left,a=innerWidth-t.right;return s&&l<Math.min(i.width,a)?s=!1:!s&&a<Math.min(i.width,l)&&(s=!0),{top:o,left:s}}positionInfo(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let o=i.from;o<i.to;o++){let{completion:s,match:l}=e[o];const a=r.appendChild(document.createElement("li"));a.id=t+"-"+o,a.setAttribute("role","option");let c=this.optionClass(s);c&&(a.className=c);for(let u of this.optionContent){let h=u(s,this.view.state,l);h&&a.appendChild(h)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}function wve(n){return e=>new Sve(e,n)}function xve(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<t.top?n.scrollTop-=t.top-i.top:i.bottom>t.bottom&&(n.scrollTop+=i.bottom-t.bottom)}function ZN(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function Cve(n,e){let t=[],i=0;for(let s of n)if(s.hasResult())if(s.result.filter===!1){let l=s.result.getMatch;for(let a of s.result.options){let c=[1e9-i++];if(l)for(let u of l(a))c.push(u);t.push(new YN(a,s,c))}}else{let l=new vve(e.sliceDoc(s.from,s.to)),a;for(let c of s.result.options)(a=l.match(c.label))&&(c.boost!=null&&(a[0]+=c.boost),t.push(new YN(c,s,a)))}let r=[],o=null;for(let s of t.sort(kve))!o||o.label!=s.completion.label||o.detail!=s.completion.detail||o.type!=null&&s.completion.type!=null&&o.type!=s.completion.type||o.apply!=s.completion.apply?r.push(s):ZN(s.completion)>ZN(o)&&(r[r.length-1]=s),o=s.completion;return r}class Kd{constructor(e,t,i,r,o){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Kd(this.options,eB(t,e),this.tooltip,this.timestamp,e)}static build(e,t,i,r,o){let s=Cve(e,t);if(!s.length)return null;let l=0;if(r&&r.selected){let a=r.options[r.selected].completion;for(let c=0;c<s.length;c++)if(s[c].completion==a){l=c;break}}return new Kd(s,eB(i,l),{pos:e.reduce((a,c)=>c.hasResult()?Math.min(a,c.from):a,1e8),create:wve(vo),above:o.aboveCursor},r?r.timestamp:Date.now(),l)}map(e){return new Kd(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class Ev{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new Ev($ve,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(va),o=(i.override||t.languageDataAt("autocomplete",ca(t)).map(mve)).map(l=>(this.active.find(c=>c.source==l)||new kr(l,this.active.some(c=>c.state!=0)?1:0)).update(e,i));o.length==this.active.length&&o.every((l,a)=>l==this.active[a])&&(o=this.active);let s=e.selection||o.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!Eve(o,this.active)?Kd.build(o,t,this.id,this.open,i):this.open&&e.docChanged?this.open.map(e.changes):this.open;!s&&o.every(l=>l.state!=1)&&o.some(l=>l.hasResult())&&(o=o.map(l=>l.hasResult()?new kr(l.source,0):l));for(let l of e.effects)l.is(xj)&&(s=s&&s.setSelected(l.value,this.id));return o==this.active&&s==this.open?this:new Ev(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Mve}}function Eve(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;i<e.length&&!e[i].hasResult;)i++;let r=t==n.length,o=i==e.length;if(r||o)return r==o;if(n[t++].result!=e[i++].result)return!1}}const Mve={"aria-autocomplete":"list"};function eB(n,e){return{"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":n+"-"+e,"aria-controls":n}}const $ve=[];function kve(n,e){let t=e.match[0]-n.match[0];return t||n.completion.label.localeCompare(e.completion.label)}function yE(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class kr{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=yE(e),r=this;i?r=r.handleUserEvent(e,i,t):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new kr(r.source,0));for(let o of e.effects)if(o.is(Dk))r=new kr(r.source,1,o.value?ca(e.state):-1);else if(o.is(Mv))r=new kr(r.source,0);else if(o.is(wj))for(let s of o.value)s.source==r.source&&(r=s);return r}handleUserEvent(e,t,i){return t=="delete"||!i.activateOnTyping?this.map(e.changes):new kr(this.source,1)}handleChange(e){return e.changes.touchesRange(ca(e.startState))?new kr(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new kr(this.source,this.state,e.mapPos(this.explicitPos))}}class qd extends kr{constructor(e,t,i,r,o){super(e,2,t),this.result=i,this.from=r,this.to=o}hasResult(){return!0}handleUserEvent(e,t,i){var r;let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),l=ca(e.state);if((this.explicitPos<0?l<=o:l<this.from)||l>s||t=="delete"&&ca(e.startState)==this.from)return new kr(this.source,t=="input"&&i.activateOnTyping?1:0);let a=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),c;return Ove(this.result.validFor,e.state,o,s)?new qd(this.source,a,this.result,o,s):this.result.update&&(c=this.result.update(this.result,o,s,new yj(e.state,l,a>=0)))?new qd(this.source,a,c,c.from,(r=c.to)!==null&&r!==void 0?r:ca(e.state)):new kr(this.source,1,a)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new kr(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new qd(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function Ove(n,e,t,i){if(!n)return!1;let r=e.sliceDoc(t,i);return typeof n=="function"?n(r,t,i,e):bj(n,!0).test(r)}const Dk=yt.define(),Mv=yt.define(),wj=yt.define({map(n,e){return n.map(t=>t.map(e))}}),xj=yt.define(),vo=Ji.define({create(){return Ev.start()},update(n,e){return n.update(e)},provide:n=>[vj.from(n,e=>e.tooltip),jn.contentAttributes.from(n,e=>e.attrs)]}),Cj=75;function Gg(n,e="option"){return t=>{let i=t.state.field(vo,!1);if(!i||!i.open||Date.now()-i.open.timestamp<Cj)return!1;let r=1,o;e=="page"&&(o=dve(t,i.open.tooltip))&&(r=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let s=i.open.selected+r*(n?1:-1),{length:l}=i.open.options;return s<0?s=e=="page"?0:l-1:s>=l&&(s=e=="page"?l-1:0),t.dispatch({effects:xj.of(s)}),!0}}const Ave=n=>{let e=n.state.field(vo,!1);return n.state.readOnly||!e||!e.open||Date.now()-e.open.timestamp<Cj?!1:(Sj(n,e.open.options[e.open.selected]),!0)},Rve=n=>n.state.field(vo,!1)?(n.dispatch({effects:Dk.of(!0)}),!0):!1,Dve=n=>{let e=n.state.field(vo,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Mv.of(null)}),!0)};class Tve{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const tB=50,Pve=50,Ive=1e3,Nve=Ak.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(vo).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(vo);if(!n.selectionSet&&!n.docChanged&&n.startState.field(vo)==e)return;let t=n.transactions.some(i=>(i.selection||i.docChanged)&&!yE(i));for(let i=0;i<this.running.length;i++){let r=this.running[i];if(t||r.updates.length+n.transactions.length>Pve&&Date.now()-r.time>Ive){for(let o of r.context.abortListeners)try{o()}catch(s){Vs(this.view.state,s)}r.context.abortListeners=null,this.running.splice(i--,1)}else r.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(r=>r.active.source==i.source))?setTimeout(()=>this.startUpdate(),tB):-1,this.composing!=0)for(let i of n.transactions)yE(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(vo);for(let t of e.active)t.state==1&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=ca(e),i=new yj(e,t,n.explicitPos==t),r=new Tve(n,i);this.running.push(r),Promise.resolve(n.source(i)).then(o=>{r.context.aborted||(r.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Mv.of(null)}),Vs(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),tB))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(va);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let s=new qd(r.active.source,r.active.explicitPos,r.done,r.done.from,(n=r.done.to)!==null&&n!==void 0?n:ca(r.updates.length?r.updates[0].startState:this.view.state));for(let l of r.updates)s=s.update(l,t);if(s.hasResult()){e.push(s);continue}}let o=this.view.state.field(vo).active.find(s=>s.source==r.active.source);if(o&&o.state==1)if(r.done==null){let s=new kr(r.active.source,0);for(let l of r.updates)s=s.update(l,t);s.state!=1&&e.push(s)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:wj.of(e)})}},{eventHandlers:{blur(){let n=this.view.state.field(vo,!1);n&&n.tooltip&&this.view.state.facet(va).closeOnBlur&&this.view.dispatch({effects:Mv.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Dk.of(!1)}),20),this.composing=0}}}),Bve=jn.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),$v={brackets:["(","[","{","'",'"'],before:")]}:;>"},za=yt.define({map(n,e){let t=e.mapPos(n,-1,At.TrackAfter);return t??void 0}}),Tk=yt.define({map(n,e){return e.mapPos(n)}}),Pk=new class extends Qi{};Pk.startSide=1;Pk.endSide=-1;const Ej=Ji.define({create(){return Be.empty},update(n,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,i=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(i,-1)&&(n=Be.empty)}n=n.map(e.changes);for(let t of e.effects)t.is(za)?n=n.update({add:[Pk.range(t.value,t.value+1)]}):t.is(Tk)&&(n=n.update({filter:i=>i!=t.value}));return n}});function Lve(){return[zve,Ej]}const pS="()[]{}<>";function Mj(n){for(let e=0;e<pS.length;e+=2)if(pS.charCodeAt(e)==n)return pS.charAt(e+1);return V$(n<128?n:n+1)}function $j(n,e){return n.languageDataAt("closeBrackets",e)[0]||$v}const Hve=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),zve=jn.inputHandler.of((n,e,t,i)=>{if((Hve?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(i.length>2||i.length==2&&mo(rr(i,0))==1||e!=r.from||t!=r.to)return!1;let o=Wve(n.state,i);return o?(n.dispatch(o),!0):!1}),Vve=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=$j(n,n.selection.main.head).brackets||$v.brackets,r=null,o=n.changeByRange(s=>{if(s.empty){let l=_ve(n.doc,s.head);for(let a of i)if(a==l&&nb(n.doc,s.head)==Mj(rr(a,0)))return{changes:{from:s.head-a.length,to:s.head+a.length},range:W.cursor(s.head-a.length),userEvent:"delete.backward"}}return{range:r=s}});return r||e(n.update(o,{scrollIntoView:!0})),!r},Fve=[{key:"Backspace",run:Vve}];function Wve(n,e){let t=$j(n,n.selection.main.head),i=t.brackets||$v.brackets;for(let r of i){let o=Mj(rr(r,0));if(e==r)return o==r?qve(n,r,i.indexOf(r+r+r)>-1):jve(n,r,o,t.before||$v.before);if(e==o&&kj(n,n.selection.main.from))return Kve(n,r,o)}return null}function kj(n,e){let t=!1;return n.field(Ej).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function nb(n,e){let t=n.sliceString(e,e+2);return t.slice(0,mo(rr(t,0)))}function _ve(n,e){let t=n.sliceString(e-2,e);return mo(rr(t,0))==t.length?t:t.slice(1)}function jve(n,e,t,i){let r=null,o=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:t,from:s.to}],effects:za.of(s.to+e.length),range:W.range(s.anchor+e.length,s.head+e.length)};let l=nb(n.doc,s.head);return!l||/\s/.test(l)||i.indexOf(l)>-1?{changes:{insert:e+t,from:s.head},effects:za.of(s.head+e.length),range:W.cursor(s.head+e.length)}:{range:r=s}});return r?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Kve(n,e,t){let i=null,r=n.selection.ranges.map(o=>o.empty&&nb(n.doc,o.head)==t?W.cursor(o.head+t.length):i=o);return i?null:n.update({selection:W.create(r,n.selection.mainIndex),scrollIntoView:!0,effects:n.selection.ranges.map(({from:o})=>Tk.of(o))})}function qve(n,e,t){let i=null,r=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:za.of(o.to+e.length),range:W.range(o.anchor+e.length,o.head+e.length)};let s=o.head,l=nb(n.doc,s);if(l==e){if(nB(n,s))return{changes:{insert:e+e,from:s},effects:za.of(s+e.length),range:W.cursor(s+e.length)};if(kj(n,s)){let a=t&&n.sliceDoc(s,s+e.length*3)==e+e+e;return{range:W.cursor(s+e.length*(a?3:1)),effects:Tk.of(s)}}}else{if(t&&n.sliceDoc(s-2*e.length,s)==e+e&&nB(n,s-2*e.length))return{changes:{insert:e+e+e+e,from:s},effects:za.of(s+e.length),range:W.cursor(s+e.length)};if(n.charCategorizer(s)(l)!=ci.Word){let a=n.sliceDoc(s-1,s);if(a!=e&&n.charCategorizer(s)(a)!=ci.Word&&!Gve(n,s,e))return{changes:{insert:e+e,from:s},effects:za.of(s+e.length),range:W.cursor(s+e.length)}}}return{range:i=o}});return i?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function nB(n,e){let t=dr(n).resolveInner(e+1);return t.parent&&t.from==e}function Gve(n,e,t){let i=dr(n).resolveInner(e,-1);for(let r=0;r<5;r++){if(n.sliceDoc(i.from,i.from+t.length)==t)return!0;let o=i.to==e&&i.parent;if(!o)break;i=o}return!1}function Uve(n={}){return[vo,va.of(n),Nve,Xve,Bve]}const Oj=[{key:"Ctrl-Space",run:Rve},{key:"Escape",run:Dve},{key:"ArrowDown",run:Gg(!0)},{key:"ArrowUp",run:Gg(!1)},{key:"PageDown",run:Gg(!0,"page")},{key:"PageUp",run:Gg(!1,"page")},{key:"Enter",run:Ave}],Xve=Xs.highest(gj.computeN([va],n=>n.facet(va).defaultKeymap?[Oj]:[]));function kv(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function sh(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Yve(){let n=document.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function bE(n,e){if(!e.anchorNode)return!1;try{return sh(n,e.anchorNode)}catch{return!1}}function lp(n){return n.nodeType==3?ap(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Ov(n,e,t,i){return t?iB(n,e,t,i,-1)||iB(n,e,t,i,1):!1}function SE(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function iB(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:Av(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=SE(n)+(r<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?Av(n):0}else return!1}}function Av(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}const Aj={left:0,right:0,top:0,bottom:0};function ib(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function Qve(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function Jve(n,e,t,i,r,o,s,l){let a=n.ownerDocument,c=a.defaultView;for(let u=n;u;)if(u.nodeType==1){let h,d=u==a.body;if(d)h=Qve(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.parentNode;continue}let y=u.getBoundingClientRect();h={left:y.left,right:y.left+u.clientWidth,top:y.top,bottom:y.top+u.clientHeight}}let f=0,g=0;if(r=="nearest")e.top<h.top?(g=-(h.top-e.top+s),t>0&&e.bottom>h.bottom+g&&(g=e.bottom-h.bottom+g+s)):e.bottom>h.bottom&&(g=e.bottom-h.bottom+s,t<0&&e.top-g<h.top&&(g=-(h.top+g-e.top+s)));else{let y=e.bottom-e.top,v=h.bottom-h.top;g=(r=="center"&&y<=v?e.top+y/2-v/2:r=="start"||r=="center"&&t<0?e.top-s:e.bottom-v+s)-h.top}if(i=="nearest"?e.left<h.left?(f=-(h.left-e.left+o),t>0&&e.right>h.right+f&&(f=e.right-h.right+f+o)):e.right>h.right&&(f=e.right-h.right+o,t<0&&e.left<h.left+f&&(f=-(h.left+f-e.left+o))):f=(i=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:i=="start"==l?e.left-o:e.right-(h.right-h.left)+o)-h.left,f||g)if(d)c.scrollBy(f,g);else{if(g){let y=u.scrollTop;u.scrollTop+=g,g=u.scrollTop-y}if(f){let y=u.scrollLeft;u.scrollLeft+=f,f=u.scrollLeft-y}e={left:e.left-f,top:e.top-g,right:e.right-f,bottom:e.bottom-g}}if(d)break;u=u.assignedSlot||u.parentNode,i=r="nearest"}else if(u.nodeType==11)u=u.host;else break}class Zve{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let Lc=null;function Rj(n){if(n.setActive)return n.setActive();if(Lc)return n.focus(Lc);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Lc==null?{get preventScroll(){return Lc={preventScroll:!0},!0}}:void 0),!Lc){Lc=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],o=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=o&&(i.scrollLeft=o)}}}let rB;function ap(n,e,t=e){let i=rB||(rB=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Gd(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function eye(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function Dj(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}class qi{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new qi(e.parentNode,SE(e),t)}static after(e,t){return new qi(e.parentNode,SE(e)+1,t)}}const Ik=[];class Qn{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(this.dirty&2){let t=this.dom,i=null,r;for(let o of this.children){if(o.dirty){if(!o.dom&&(r=i?i.nextSibling:t.firstChild)){let s=Qn.get(r);(!s||!s.parent&&s.constructor==o.constructor)&&o.reuseDOM(r)}o.sync(e),o.dirty=0}if(r=i?i.nextSibling:t.firstChild,e&&!e.written&&e.node==t&&r!=o.dom&&(e.written=!0),o.dom.parentNode==t)for(;r&&r!=o.dom;)r=oB(r);else t.insertBefore(o.dom,r);i=o.dom}for(r=i?i.nextSibling:t.firstChild,r&&e&&e.node==t&&(e.written=!0);r;)r=oB(r)}else if(this.dirty&1)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=Av(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;r==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?r=-1:r=1),e=o}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Qn.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,o=0;;r++){let s=this.children[r];if(s.dom==i)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,o=-1,s=-1,l=-1;for(let a=0,c=i,u=i;a<this.children.length;a++){let h=this.children[a],d=c+h.length;if(c<e&&d>t)return h.domBoundsAround(e,t,c);if(d>=e&&r==-1&&(r=a,o=c),c>t&&h.dom.parentNode==this.dom){s=a,l=u;break}u=d,c=d+h.breakAfter}return{from:o,to:l<0?i+this.length:l,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=Ik){this.markDirty();for(let r=e;r<t;r++){let o=this.children[r];o.parent==this&&o.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Tj(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,i,r,o,s){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}Qn.prototype.breakAfter=0;function oB(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Tj{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function Pj(n,e,t,i,r,o,s,l,a){let{children:c}=n,u=c.length?c[e]:null,h=o.length?o[o.length-1]:null,d=h?h.breakAfter:s;if(!(e==i&&u&&!s&&!d&&o.length<2&&u.merge(t,r,o.length?h:null,t==0,l,a))){if(i<c.length){let f=c[i];f&&r<f.length?(e==i&&(f=f.split(r),r=0),!d&&h&&f.merge(0,r,h,!0,0,a)?o[o.length-1]=f:(r&&f.merge(0,r,null,!1,0,a),o.push(f))):f!=null&&f.breakAfter&&(h?h.breakAfter=1:s=1),i++}for(u&&(u.breakAfter=s,t>0&&(!s&&o.length&&u.merge(t,u.length,o[0],!1,l,0)?u.breakAfter=o.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,l,0),e++));e<i&&o.length;)if(c[i-1].become(o[o.length-1]))i--,o.pop(),a=o.length?0:l;else if(c[e].become(o[0]))e++,o.shift(),l=o.length?0:a;else break;!o.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,l,a)&&e--,(e<i||o.length)&&n.replaceChildren(e,i,o)}}function Ij(n,e,t,i,r,o){let s=n.childCursor(),{i:l,off:a}=s.findPos(t,1),{i:c,off:u}=s.findPos(e,-1),h=e-t;for(let d of i)h+=d.length;n.length+=h,Pj(n,c,u,l,a,i,0,r,o)}let Zr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},wE=typeof document<"u"?document:{documentElement:{style:{}}};const xE=/Edge\/(\d+)/.exec(Zr.userAgent),Nj=/MSIE \d/.test(Zr.userAgent),CE=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Zr.userAgent),rb=!!(Nj||CE||xE),sB=!rb&&/gecko\/(\d+)/i.test(Zr.userAgent),gS=!rb&&/Chrome\/(\d+)/.exec(Zr.userAgent),lB="webkitFontSmoothing"in wE.documentElement.style,Bj=!rb&&/Apple Computer/.test(Zr.vendor),aB=Bj&&(/Mobile\/\w+/.test(Zr.userAgent)||Zr.maxTouchPoints>2);var dt={mac:aB||/Mac/.test(Zr.platform),windows:/Win/.test(Zr.platform),linux:/Linux|X11/.test(Zr.platform),ie:rb,ie_version:Nj?wE.documentMode||6:CE?+CE[1]:xE?+xE[1]:0,gecko:sB,gecko_version:sB?+(/Firefox\/(\d+)/.exec(Zr.userAgent)||[0,0])[1]:0,chrome:!!gS,chrome_version:gS?+gS[1]:0,ios:aB,android:/Android\b/.test(Zr.userAgent),webkit:lB,safari:Bj,webkit_version:lB?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:wE.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const tye=256;class ya extends Qn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return i&&(!(i instanceof ya)||this.length-(t-e)+i.length>tye)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new ya(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new qi(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return EE(this.dom,e,t)}}class Ks extends Qn{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(Dj(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,i,r,o,s){return i&&(!(i instanceof Ks&&i.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0)?!1:(Ij(this,e,t,i?i.children:[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,o=0;for(let l of this.children){let a=i+l.length;a>e&&t.push(i<e?l.split(e-i):l),r<0&&i>=e&&(r=o),i=a,o++}let s=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Ks(this.mark,t,s)}domAtPos(e){return zj(this.dom,this.children,e)}coordsAt(e,t){return Fj(this,e,t)}}function EE(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,o=e,s=0;e==0&&t<0||e==i&&t>=0?dt.chrome||dt.gecko||(e?(r--,s=1):o<i&&(o++,s=-1)):t<0?r--:o<i&&o++;let l=ap(n,r,o).getClientRects();if(!l.length)return Aj;let a=l[(s?s<0:t>=0)?0:l.length-1];return dt.safari&&!s&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),s?ib(a,s<0):a||null}class Yl extends Qn{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||Yl)(e,t,i)}split(e){let t=Yl.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,o,s){return i&&(!(i instanceof Yl)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof Yl&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ve.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):Ve.empty}domAtPos(e){return e==0?qi.before(this.dom):qi.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.dom.getClientRects(),r=null;if(!i.length)return Aj;for(let o=e>0?i.length-1:0;r=i[o],!(e>0?o==0:o==i.length-1||r.top<r.bottom);o+=e>0?-1:1);return e==0&&t>0||e==this.length&&t<=0?r:ib(r,e==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Lj extends Yl{domAtPos(e){let{topView:t,text:i}=this.widget;return t?ME(e,0,t,i,(r,o)=>r.domAtPos(o),r=>new qi(i,Math.min(r,i.nodeValue.length))):new qi(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:r}=this.widget;return i?Hj(e,t,i,r):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:r}=this.widget;return i?ME(e,t,i,r,(o,s,l)=>o.coordsAt(s,l),(o,s)=>EE(r,o,s)):EE(r,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}}function ME(n,e,t,i,r,o){if(t instanceof Ks){for(let s of t.children){let l=sh(s.dom,i),a=l?i.nodeValue.length:s.length;if(n<a||n==a&&s.getSide()<=0)return l?ME(n,e,s,i,r,o):r(s,n,e);n-=a}return r(t,t.length,-1)}else return t.dom==i?o(n,e):r(t,n,e)}function Hj(n,e,t,i){if(t instanceof Ks)for(let r of t.children){let o=0,s=sh(r.dom,i);if(sh(r.dom,n))return o+(s?Hj(n,e,r,i):r.localPosFromDOM(n,e));o+=s?i.nodeValue.length:r.length}else if(t.dom==i)return Math.min(e,i.nodeValue.length);return t.localPosFromDOM(n,e)}class lh extends Qn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof lh&&e.side==this.side}split(){return new lh(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return qi.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),i=nye(this,this.side>0?-1:1);return i&&i.top<t.bottom&&i.bottom>t.top?{left:t.left,right:t.right,top:i.top,bottom:i.bottom}:t}get overrideDOMText(){return Ve.empty}}ya.prototype.children=Yl.prototype.children=lh.prototype.children=Ik;function nye(n,e){let t=n.parent,i=t?t.children.indexOf(n):-1;for(;t&&i>=0;)if(e<0?i>0:i<t.children.length){let r=t.children[i+e];if(r instanceof ya){let o=r.coordsAt(e<0?r.length:0,e);if(o)return o}i+=e}else if(t instanceof Ks&&t.parent)i=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent;else{let r=t.dom.lastChild;if(r&&r.nodeName=="BR")return r.getClientRects()[0];break}}function zj(n,e,t){let i=0;for(let r=0;i<e.length;i++){let o=e[i],s=r+o.length;if(!(s==r&&o.getSide()<=0)){if(t>r&&t<s&&o.dom.parentNode==n)return o.domAtPos(t-r);if(t<=r)break;r=s}}for(;i>0;i--){let r=e[i-1].dom;if(r.parentNode==n)return qi.after(r)}return new qi(n,0)}function Vj(n,e,t){let i,{children:r}=n;t>0&&e instanceof Ks&&r.length&&(i=r[r.length-1])instanceof Ks&&i.mark.eq(e.mark)?Vj(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function Fj(n,e,t){for(let o=0,s=0;s<n.children.length;s++){let l=n.children[s],a=o+l.length,c;if((t<=0||a==n.length||l.getSide()>0?a>=e:a>e)&&(e<a||s+1==n.children.length||(c=n.children[s+1]).length||c.getSide()>0)){let u=0;if(a==o){if(l.getSide()<=0)continue;u=t=-l.getSide()}let h=l.coordsAt(Math.max(0,e-o),t);return u&&h?ib(h,t<0):h}o=a}let i=n.dom.lastChild;if(!i)return n.dom.getBoundingClientRect();let r=lp(i);return r[r.length-1]||null}function $E(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function Nk(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r of t)if(i.indexOf(r)==-1||n[r]!==e[r])return!1;return!0}function kE(n,e,t){let i=null;if(e)for(let r in e)t&&r in t||n.removeAttribute(i=r);if(t)for(let r in t)e&&e[r]==t[r]||n.setAttribute(i=r,t[r]);return!!i}class Np{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var Si=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Si||(Si={}));class Rn extends Qi{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new ob(e)}static widget(e){let t=e.side||0,i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new dc(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:o,end:s}=Wj(e,t);i=(o?t?-3e8:-1:5e8)-1,r=(s?t?2e8:1:-6e8)+1}return new dc(e,i,r,t,e.widget||null,!0)}static line(e){return new Bp(e)}static set(e,t=!1){return Be.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Rn.none=Be.empty;class ob extends Rn{constructor(e){let{start:t,end:i}=Wj(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof ob&&this.tagName==e.tagName&&this.class==e.class&&Nk(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}ob.prototype.point=!1;class Bp extends Rn{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Bp&&Nk(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Bp.prototype.mapMode=At.TrackBefore;Bp.prototype.point=!0;class dc extends Rn{constructor(e,t,i,r,o,s){super(t,i,o,e),this.block=r,this.isReplace=s,this.mapMode=r?t<=0?At.TrackBefore:At.TrackAfter:At.TrackDel}get type(){return this.startSide<this.endSide?Si.WidgetRange:this.startSide<=0?Si.WidgetBefore:Si.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof dc&&iye(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}dc.prototype.point=!0;function Wj(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function iye(n,e){return n==e||!!(n&&e&&n.compare(e))}function OE(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}class vr extends Qn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,o,s){if(i){if(!(i instanceof vr))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),Ij(this,e,t,i?i.children:[],o,s),!0}split(e){let t=new vr;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let o=i;o<this.children.length;o++)t.append(this.children[o],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Nk(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Vj(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=$E(t,this.attrs||{})),i&&(this.attrs=$E({class:i},this.attrs||{}))}domAtPos(e){return zj(this.dom,this.children,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?this.dirty&4&&(Dj(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(kE(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let i=this.dom.lastChild;for(;i&&Qn.get(i)instanceof Ks;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((t=Qn.get(i))===null||t===void 0?void 0:t.isEditable)==!1&&(!dt.ios||!this.children.some(r=>r instanceof ya))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof ya))return null;let i=lp(t.dom);if(i.length!=1)return null;e+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return Fj(this,e,t)}become(e){return!1}get type(){return Si.Text}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let o=e.children[i],s=r+o.length;if(s>=t){if(o instanceof vr)return o;if(s>t)break}r=s+o.breakAfter}return null}}class Ua extends Qn{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,o,s){return i&&(!(i instanceof Ua)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?qi.before(this.dom):qi.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Ua(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return Ik}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ve.empty}domBoundsAround(){return null}become(e){return e instanceof Ua&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Bk{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Ua&&e.type==Si.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new vr),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(Ug(new lh(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}else this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,i)),this.getLine().append(Ug(new ya(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,o,s){if(this.disallowBlockEffectsFor[s]&&i instanceof dc){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(i instanceof dc)if(i.block){let{type:a}=i;a==Si.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ua(i.widget||new cB("div"),l,a))}else{let a=Yl.create(i.widget||new cB("span"),l,i.startSide),c=this.atCursorPos&&!a.isEditable&&o<=r.length&&(e<t||i.startSide>0),u=!a.isEditable&&(e<t||i.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(h.append(Ug(new lh(1),r),o),o=r.length+Math.max(0,o-r.length)),h.append(Ug(a,r),o),this.atCursorPos=u,this.pendingBuffer=u?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,i,r,o){let s=new Bk(e,t,i,o);return s.openEnd=Be.spans(r,t,i,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function Ug(n,e){for(let t of e)n=new Ks(t,[n],n.length);return n}class cB extends Np{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const _j=ie.define(),jj=ie.define(),Kj=ie.define(),qj=ie.define(),AE=ie.define(),Gj=ie.define(),Uj=ie.define({combine:n=>n.some(e=>e)});class Rv{constructor(e,t="nearest",i="nearest",r=5,o=5){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=o}map(e){return e.empty?this:new Rv(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const uB=yt.define({map:(n,e)=>n.map(e)});function hl(n,e,t){let i=n.facet(qj);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Lp=ie.define({combine:n=>n.length?n[0]:!0});let rye=0;const yd=ie.define();class ba{constructor(e,t,i,r){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=r(this)}static define(e,t){const{eventHandlers:i,provide:r,decorations:o}=t||{};return new ba(rye++,e,i,s=>{let l=[yd.of(s)];return o&&l.push(cp.of(a=>{let c=a.plugin(s);return c?o(c):Rn.none})),r&&l.push(r(s)),l})}static fromClass(e,t){return ba.define(i=>new e(i),t)}}class mS{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(hl(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){hl(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){hl(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Xj=ie.define(),Yj=ie.define(),cp=ie.define(),Qj=ie.define(),Jj=ie.define(),bd=ie.define();class dl{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new dl(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,o=0,s=0,l=0;;r++){let a=r==e.length?null:e[r],c=s-l,u=a?a.fromB:1e9;for(;o<t.length&&t[o]<u;){let h=t[o],d=t[o+1],f=Math.max(l,h),g=Math.min(u,d);if(f<=g&&new dl(f+c,g+c,f,g).addToSet(i),d>u)break;o+=2}if(!a)return i;new dl(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),s=a.toA,l=a.toB}}}class Dv{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=en.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,l,a,c)=>r.push(new dl(s,l,a,c))),this.changedRanges=r;let o=e.hasFocus;o!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=o,this.flags|=1)}static create(e,t,i){return new Dv(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Gi=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Gi||(Gi={}));const RE=Gi.LTR,oye=Gi.RTL;function Zj(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const sye=Zj("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),lye=Zj("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),DE=Object.create(null),vs=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);DE[e]=t,DE[t]=-e}function aye(n){return n<=247?sye[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?lye[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203||n==8204?256:1}const cye=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class Tu{constructor(e,t,i){this.from=e,this.to=t,this.level=i}get dir(){return this.level%2?oye:RE}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let o=-1;for(let s=0;s<e.length;s++){let l=e[s];if(l.from<=t&&l.to>=t){if(l.level==i)return s;(o<0||(r!=0?r<0?l.from<t:l.to>t:e[o].level>l.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}const zn=[];function uye(n,e){let t=n.length,i=e==RE?1:2,r=e==RE?2:1;if(!n||i==1&&!cye.test(n))return e9(t);for(let s=0,l=i,a=i;s<t;s++){let c=aye(n.charCodeAt(s));c==512?c=l:c==8&&a==4&&(c=16),zn[s]=c==4?2:c,c&7&&(a=c),l=c}for(let s=0,l=i,a=i;s<t;s++){let c=zn[s];if(c==128)s<t-1&&l==zn[s+1]&&l&24?c=zn[s]=l:zn[s]=256;else if(c==64){let u=s+1;for(;u<t&&zn[u]==64;)u++;let h=s&&l==8||u<t&&zn[u]==8?a==1?1:8:256;for(let d=s;d<u;d++)zn[d]=h;s=u-1}else c==8&&a==1&&(zn[s]=1);l=c,c&7&&(a=c)}for(let s=0,l=0,a=0,c,u,h;s<t;s++)if(u=DE[c=n.charCodeAt(s)])if(u<0){for(let d=l-3;d>=0;d-=3)if(vs[d+1]==-u){let f=vs[d+2],g=f&2?i:f&4?f&1?r:i:0;g&&(zn[s]=zn[vs[d]]=g),l=d;break}}else{if(vs.length==189)break;vs[l++]=s,vs[l++]=c,vs[l++]=a}else if((h=zn[s])==2||h==1){let d=h==i;a=d?0:1;for(let f=l-3;f>=0;f-=3){let g=vs[f+2];if(g&2)break;if(d)vs[f+2]|=2;else{if(g&4)break;vs[f+2]|=4}}}for(let s=0;s<t;s++)if(zn[s]==256){let l=s+1;for(;l<t&&zn[l]==256;)l++;let a=(s?zn[s-1]:i)==1,c=(l<t?zn[l]:i)==1,u=a==c?a?1:2:i;for(let h=s;h<l;h++)zn[h]=u;s=l-1}let o=[];if(i==1)for(let s=0;s<t;){let l=s,a=zn[s++]!=1;for(;s<t&&a==(zn[s]!=1);)s++;if(a)for(let c=s;c>l;){let u=c,h=zn[--c]!=2;for(;c>l&&h==(zn[c-1]!=2);)c--;o.push(new Tu(c,u,h?2:1))}else o.push(new Tu(l,s,0))}else for(let s=0;s<t;){let l=s,a=zn[s++]==2;for(;s<t&&a==(zn[s]==2);)s++;o.push(new Tu(l,s,a?1:2))}return o}function e9(n){return[new Tu(0,n,0)]}let t9="";function hye(n,e,t,i,r){var o;let s=i.head-n.from,l=-1;if(s==0){if(!r||!n.length)return null;e[0].level!=t&&(s=e[0].side(!1,t),l=0)}else if(s==n.length){if(r)return null;let d=e[e.length-1];d.level!=t&&(s=d.side(!0,t),l=e.length-1)}l<0&&(l=Tu.find(e,s,(o=i.bidiLevel)!==null&&o!==void 0?o:-1,i.assoc));let a=e[l];s==a.side(r,t)&&(a=e[l+=r?1:-1],s=a.side(!r,t));let c=r==(a.dir==t),u=Tt(n.text,s,c);if(t9=n.text.slice(Math.min(s,u),Math.max(s,u)),u!=a.side(r,t))return W.cursor(u+n.from,c?-1:1,a.level);let h=l==(r?e.length-1:0)?null:e[l+(r?1:-1)];return!h&&a.level!=t?W.cursor(r?n.to:n.from,r?-1:1,t):h&&h.level<a.level?W.cursor(h.side(!r,t)+n.from,r?1:-1,h.level):W.cursor(u+n.from,r?-1:1,a.level)}const Ql="";class n9{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(rt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ql}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r),this.readNode(r);let o=r.nextSibling;if(o==t)break;let s=Qn.get(r),l=Qn.get(o);(s&&l?s.breakAfter:(s?s.breakAfter:hB(r))||hB(o)&&(r.nodeName!="BR"||r.cmIgnore))&&this.lineBreak(),r=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,l;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,i),s=this.lineSeparator.length):(l=r.exec(t))&&(o=l.index,s=l[0].length),this.append(t.slice(i,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=s-1);i=o+s}}readNode(e){if(e.cmIgnore)return;let t=Qn.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}}function hB(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class dB{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class fB extends Qn{constructor(e){super(),this.view=e,this.compositionDeco=Rn.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new vr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new dl(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:s,toA:l})=>l<this.minWidthFrom||s>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Rn.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=fye(this.view,e.changes)),(dt.ie||dt.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,r=this.updateDeco(),o=vye(i,r,e.changes);return t=dl.extendWithRanges(t,o),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=dt.chrome||dt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(o),this.dirty=0,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Ua&&o.widget instanceof pB&&r.push(o.dom);i.updateGaps(r)}updateChildren(e,t){let i=this.childCursor(t);for(let r=e.length-1;;r--){let o=r>=0?e[r]:null;if(!o)break;let{fromA:s,toA:l,fromB:a,toB:c}=o,{content:u,breakAtStart:h,openStart:d,openEnd:f}=Bk.build(this.view.state.doc,a,c,this.decorations,this.dynamicDecorationMap),{i:g,off:y}=i.findPos(l,1),{i:v,off:m}=i.findPos(s,-1);Pj(this,v,m,g,y,u,h,d,f)}}updateSelection(e=!1,t=!1){if(e&&this.view.observer.readSelectionRange(),!(t||this.mayControlSelection())||dt.ios&&this.view.inputState.rapidCompositionStart)return;let i=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,o=this.domAtPos(r.anchor),s=r.empty?o:this.domAtPos(r.head);if(dt.gecko&&r.empty&&dye(o)){let a=document.createTextNode("");this.view.observer.ignore(()=>o.node.insertBefore(a,o.node.childNodes[o.offset]||null)),o=s=new qi(a,0),i=!0}let l=this.view.observer.selectionRange;(i||!l.focusNode||!Ov(o.node,o.offset,l.anchorNode,l.anchorOffset)||!Ov(s.node,s.offset,l.focusNode,l.focusOffset))&&(this.view.observer.ignore(()=>{dt.android&&dt.chrome&&this.dom.contains(l.focusNode)&&yye(l.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=kv(this.root);if(r.empty){if(dt.gecko){let c=gye(o.node,o.offset);if(c&&c!=3){let u=r9(o.node,o.offset,c==1?1:-1);u&&(o=new qi(u,c==1?0:u.nodeValue.length))}}a.collapse(o.node,o.offset),r.bidiLevel!=null&&l.cursorBidiLevel!=null&&(l.cursorBidiLevel=r.bidiLevel)}else if(a.extend)a.collapse(o.node,o.offset),a.extend(s.node,s.offset);else{let c=document.createRange();r.anchor>r.head&&([o,s]=[s,o]),c.setEnd(s.node,s.offset),c.setStart(o.node,o.offset),a.removeAllRanges(),a.addRange(c)}}),this.view.observer.setSelectionRange(o,s)),this.impreciseAnchor=o.precise?null:new qi(l.anchorNode,l.anchorOffset),this.impreciseHead=s.precise?null:new qi(l.focusNode,l.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=kv(this.root);if(!e.empty||!e.assoc||!t.modify)return;let i=vr.find(this,e.head);if(!i)return;let r=i.posAtStart;if(e.head==r||e.head==r+i.length)return;let o=this.coordsAt(e.head,-1),s=this.coordsAt(e.head,1);if(!o||!s||o.bottom>s.top)return;let l=this.domAtPos(e.head+e.assoc);t.collapse(l.node,l.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Lp)?this.root.activeElement==this.dom:bE(this.dom,this.view.observer.selectionRange)}nearest(e){for(let t=e;t;){let i=Qn.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof vr)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,r=this.children.length-1;;r--){let o=this.children[r],s=i-o.breakAfter-o.length;if(e>s||e==s&&o.type!=Si.WidgetBefore&&o.type!=Si.WidgetAfter&&(!r||t==2||this.children[r-1].breakAfter||this.children[r-1].type==Si.WidgetBefore&&t>-2))return o.coordsAt(e-s,t);i=s}}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==Gi.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],d=c+h.length;if(d>r)break;if(c>=i){let f=h.dom.getBoundingClientRect();if(t.push(f.height),s){let g=h.dom.lastChild,y=g?lp(g):[];if(y.length){let v=y[y.length-1],m=a?v.right-f.left:f.right-v.left;m>l&&(l=m,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Gi.RTL:Gi.LTR}measureTextSize(){for(let r of this.children)if(r instanceof vr){let o=r.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i;return e.className="cm-line",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=lp(e.firstChild)[0];t=e.getBoundingClientRect().height,i=r?r.width/27:7,e.remove()}),{lineHeight:t,charWidth:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Tj(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],s=o?o.from-1:this.length;if(s>i){let l=t.lineBlockAt(s).bottom-t.lineBlockAt(i).top;e.push(Rn.replace({widget:new pB(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,s))}if(!o)break;i=o.to+1}return Rn.set(e)}updateDeco(){let e=this.view.state.facet(cp).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let o=0,s=0,l=0,a=0;for(let u of this.view.state.facet(Jj).map(h=>h(this.view)))if(u){let{left:h,right:d,top:f,bottom:g}=u;h!=null&&(o=Math.max(o,h)),d!=null&&(s=Math.max(s,d)),f!=null&&(l=Math.max(l,f)),g!=null&&(a=Math.max(a,g))}let c={left:i.left-o,top:i.top-l,right:i.right+s,bottom:i.bottom+a};Jve(this.view.scrollDOM,c,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Gi.LTR)}}function dye(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class pB extends Np{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function i9(n){let e=n.observer.selectionRange,t=e.focusNode&&r9(e.focusNode,e.focusOffset,0);if(!t)return null;let i=n.docView.nearest(t);if(!i)return null;if(i instanceof vr){let r=t;for(;r.parentNode!=i.dom;)r=r.parentNode;let o=r.previousSibling;for(;o&&!Qn.get(o);)o=o.previousSibling;let s=o?Qn.get(o).posAtEnd:i.posAtStart;return{from:s,to:s,node:r,text:t}}else{for(;;){let{parent:o}=i;if(!o)return null;if(o instanceof vr)break;i=o}let r=i.posAtStart;return{from:r,to:r+i.length,node:i.dom,text:t}}}function fye(n,e){let t=i9(n);if(!t)return Rn.none;let{from:i,to:r,node:o,text:s}=t,l=e.mapPos(i,1),a=Math.max(l,e.mapPos(r,-1)),{state:c}=n,u=o.nodeType==3?o.nodeValue:new n9([],c).readRange(o.firstChild,null).text;if(a-l<u.length)if(c.doc.sliceString(l,Math.min(c.doc.length,l+u.length),Ql)==u)a=l+u.length;else if(c.doc.sliceString(Math.max(0,a-u.length),a,Ql)==u)l=a-u.length;else return Rn.none;else if(c.doc.sliceString(l,a,Ql)!=u)return Rn.none;let h=Qn.get(o);return h instanceof Lj?h=h.widget.topView:h&&(h.parent=null),Rn.set(Rn.replace({widget:new pye(o,s,h),inclusive:!0}).range(l,a))}class pye extends Np{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Lj}}function r9(n,e,t){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0&&t<=0)n=n.childNodes[e-1],e=Av(n);else if(n.nodeType==1&&e<n.childNodes.length&&t>=0)n=n.childNodes[e],e=0;else return null}}function gye(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}class mye{constructor(){this.changes=[]}compareRange(e,t){OE(e,t,this.changes)}comparePoint(e,t){OE(e,t,this.changes)}}function vye(n,e,t){let i=new mye;return Be.compare(n,e,t,i),i.changes}function yye(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function bye(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),o=e-r.from;if(r.length==0)return W.cursor(e);o==0?t=1:o==r.length&&(t=-1);let s=o,l=o;t<0?s=Tt(r.text,o,!1):l=Tt(r.text,o);let a=i(r.text.slice(s,l));for(;s>0;){let c=Tt(r.text,s,!1);if(i(r.text.slice(c,s))!=a)break;s=c}for(;l<r.length;){let c=Tt(r.text,l);if(i(r.text.slice(l,c))!=a)break;l=c}return W.range(s+r.from,l+r.from)}function Sye(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function wye(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function vS(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function gB(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function mB(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function TE(n,e,t){let i,r,o,s,l,a,c,u;for(let f=n.firstChild;f;f=f.nextSibling){let g=lp(f);for(let y=0;y<g.length;y++){let v=g[y];r&&vS(r,v)&&(v=gB(mB(v,r.bottom),r.top));let m=Sye(e,v),b=wye(t,v);if(m==0&&b==0)return f.nodeType==3?vB(f,e,t):TE(f,e,t);(!i||s>b||s==b&&o>m)&&(i=f,r=v,o=m,s=b),m==0?t>v.bottom&&(!c||c.bottom<v.bottom)?(l=f,c=v):t<v.top&&(!u||u.top>v.top)&&(a=f,u=v):c&&vS(c,v)?c=mB(c,v.bottom):u&&vS(u,v)&&(u=gB(u,v.top))}}if(c&&c.bottom>=t?(i=l,r=c):u&&u.top<=t&&(i=a,r=u),!i)return{node:n,offset:0};let h=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return vB(i,h,t);if(!o&&i.contentEditable=="true")return TE(i,h,t);let d=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:d}}function vB(n,e,t){let i=n.nodeValue.length,r=-1,o=1e9,s=0;for(let l=0;l<i;l++){let a=ap(n,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let h=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<o){let d=e>=(u.left+u.right)/2,f=d;if((dt.chrome||dt.gecko)&&ap(n,l).getBoundingClientRect().left==u.right&&(f=!d),h<=0)return{node:n,offset:l+(f?1:0)};r=l+(f?1:0),o=h}}}return{node:n,offset:r>-1?r:s>0?n.nodeValue.length:0}}function o9(n,{x:e,y:t},i,r=-1){var o;let s=n.contentDOM.getBoundingClientRect(),l=s.top+n.viewState.paddingTop,a,{docHeight:c}=n.viewState,u=t-l;if(u<0)return 0;if(u>c)return n.state.doc.length;for(let m=n.defaultLineHeight/2,b=!1;a=n.elementAtHeight(u),a.type!=Si.Text;)for(;u=r>0?a.bottom+m:a.top-m,!(u>=0&&u<=c);){if(b)return i?null:0;b=!0,r=-r}t=l+u;let h=a.from;if(h<n.viewport.from)return n.viewport.from==0?0:i?null:yB(n,s,a,e,t);if(h>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:i?null:yB(n,s,a,e,t);let d=n.dom.ownerDocument,f=n.root.elementFromPoint?n.root:d,g=f.elementFromPoint(e,t);g&&!n.contentDOM.contains(g)&&(g=null),g||(e=Math.max(s.left+1,Math.min(s.right-1,e)),g=f.elementFromPoint(e,t),g&&!n.contentDOM.contains(g)&&(g=null));let y,v=-1;if(g&&((o=n.docView.nearest(g))===null||o===void 0?void 0:o.isEditable)!=!1){if(d.caretPositionFromPoint){let m=d.caretPositionFromPoint(e,t);m&&({offsetNode:y,offset:v}=m)}else if(d.caretRangeFromPoint){let m=d.caretRangeFromPoint(e,t);m&&({startContainer:y,startOffset:v}=m,dt.safari&&xye(y,v,e)&&(y=void 0))}}if(!y||!n.docView.dom.contains(y)){let m=vr.find(n.docView,h);if(!m)return u>a.top+a.height/2?a.to:a.from;({node:y,offset:v}=TE(m.dom,e,t))}return n.docView.posFromDOM(y,v)}function yB(n,e,t,i,r){let o=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let l=Math.floor((r-t.top)/n.defaultLineHeight);o+=l*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+pa(s,o,n.state.tabSize)}function xye(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return ap(n,i-1,i).getBoundingClientRect().left>t}function Cye(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=!i||!n.lineWrapping?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(o){let a=n.dom.getBoundingClientRect(),c=n.textDirectionAt(r.from),u=n.posAtCoords({x:t==(c==Gi.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(u!=null)return W.cursor(u,t?-1:1)}let s=vr.find(n.docView,e.head),l=s?t?s.posAtEnd:s.posAtStart:t?r.to:r.from;return W.cursor(l,t?-1:1)}function bB(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=n.bidiSpans(r),s=n.textDirectionAt(r.from);for(let l=e,a=null;;){let c=hye(r,o,s,l,t),u=t9;if(!c){if(r.number==(t?n.state.doc.lines:1))return l;u=`
`,r=n.state.doc.line(r.number+(t?1:-1)),o=n.bidiSpans(r),c=W.cursor(t?r.from:r.to)}if(a){if(!a(u))return l}else{if(!i)return c;a=i(u)}l=c}}function Eye(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return o=>{let s=i(o);return r==ci.Space&&(r=s),r==s}}function Mye(n,e,t,i){let r=e.head,o=t?1:-1;if(r==(t?n.state.doc.length:0))return W.cursor(r,e.assoc);let s=e.goalColumn,l,a=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(r),u=n.documentTop;if(c)s==null&&(s=c.left-a.left),l=o<0?c.top:c.bottom;else{let f=n.viewState.lineBlockAt(r);s==null&&(s=Math.min(a.right-a.left,n.defaultCharacterWidth*(r-f.from))),l=(o<0?f.top:f.bottom)+u}let h=a.left+s,d=i??n.defaultLineHeight>>1;for(let f=0;;f+=10){let g=l+(d+f)*o,y=o9(n,{x:h,y:g},!1,o);if(g<a.top||g>a.bottom||(o<0?y<r:y>r))return W.cursor(y,e.assoc,void 0,s)}}function yS(n,e,t){let i=n.state.facet(Qj).map(r=>r(n));for(;;){let r=!1;for(let o of i)o.between(t.from-1,t.from+1,(s,l,a)=>{t.from>s&&t.from<l&&(t=e.from>t.from?W.cursor(s,1):W.cursor(l,-1),r=!0)});if(!r)return t}}class $ye{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in Li){let i=Li[t];e.contentDOM.addEventListener(t,r=>{!SB(e,r)||this.ignoreDuringComposition(r)||t=="keydown"&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,r)?r.preventDefault():i(e,r))}),this.registeredEvents.push(t)}dt.chrome&&dt.chrome_version>=102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,dt.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var i;let r;this.customHandlers=[];for(let o of t)if(r=(i=o.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:r});for(let s in r)this.registeredEvents.indexOf(s)<0&&s!="scroll"&&(this.registeredEvents.push(s),e.contentDOM.addEventListener(s,l=>{SB(e,l)&&this.runCustomHandlers(s,e,l)&&l.preventDefault()}))}}runCustomHandlers(e,t,i){for(let r of this.customHandlers){let o=r.handlers[e];if(o)try{if(o.call(r.plugin,i,t)||i.defaultPrevented)return!0}catch(s){hl(t.state,s)}}return!1}runScrollHandlers(e,t){for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,t,e)}catch(o){hl(e.state,o)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(dt.android&&dt.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return dt.ios&&(i=s9.find(r=>r.keyCode==t.keyCode))&&!(t.ctrlKey||t.altKey||t.metaKey)&&!t.synthetic?(this.pendingIOSKey=i,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Gd(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:dt.safari&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229||e.type=="compositionend"&&!dt.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const s9=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],kye=[16,17,18,20,91,92,224,225];class Oye{constructor(e,t,i,r){this.view=e,this.style=i,this.mustSelect=r,this.lastEvent=t;let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(rt.allowMultipleSelections)&&Aye(e,t),this.dragMove=Rye(e,t),this.dragging=Dye(e,t)&&Lk(t)==1?null:!1,this.dragging===!1&&(t.preventDefault(),this.select(t))}move(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Aye(n,e){let t=n.state.facet(_j);return t.length?t[0](e):dt.mac?e.metaKey:e.ctrlKey}function Rye(n,e){let t=n.state.facet(jj);return t.length?t[0](e):dt.mac?!e.altKey:!e.ctrlKey}function Dye(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=kv(n.root);if(i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let s=r[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function SB(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=Qn.get(t))&&i.ignoreEvent(e))return!1;return!0}const Li=Object.create(null),l9=dt.ie&&dt.ie_version<15||dt.ios&&dt.webkit_version<604;function Tye(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),a9(n,t.value)},50)}function a9(n,e){let{state:t}=n,i,r=1,o=t.toText(e),s=o.lines==t.selection.ranges.length;if(PE!=null&&t.selection.ranges.every(a=>a.empty)&&PE==o.toString()){let a=-1;i=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==a)return{range:c};a=u.from;let h=t.toText((s?o.line(r++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:h},range:W.cursor(c.from+h.length)}})}else s?i=t.changeByRange(a=>{let c=o.line(r++);return{changes:{from:a.from,to:a.to,insert:c.text},range:W.cursor(a.from+c.length)}}):i=t.replaceSelection(o);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Li.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),e.keyCode==27?n.inputState.lastEscPress=Date.now():kye.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)};let c9=0;Li.touchstart=(n,e)=>{c9=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Li.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Li.mousedown=(n,e)=>{if(n.observer.flush(),c9>Date.now()-2e3&&Lk(e)==1)return;let t=null;for(let i of n.state.facet(Kj))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=Nye(n,e)),t){let i=n.root.activeElement!=n.contentDOM;i&&n.observer.ignore(()=>Rj(n.contentDOM)),n.inputState.startMouseSelection(new Oye(n,e,t,i))}};function wB(n,e,t,i){if(i==1)return W.cursor(e,t);if(i==2)return bye(n.state,e,t);{let r=vr.find(n.docView,e),o=n.state.doc.lineAt(r?r.posAtEnd:e),s=r?r.posAtStart:o.from,l=r?r.posAtEnd:o.to;return l<n.state.doc.length&&l==o.to&&l++,W.range(s,l)}}let u9=(n,e)=>n>=e.top&&n<=e.bottom,xB=(n,e,t)=>u9(e,t)&&n>=t.left&&n<=t.right;function Pye(n,e,t,i){let r=vr.find(n.docView,e);if(!r)return 1;let o=e-r.posAtStart;if(o==0)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&xB(t,i,s))return-1;let l=r.coordsAt(o,1);return l&&xB(t,i,l)?1:s&&u9(i,s)?-1:1}function CB(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Pye(n,t,e.clientX,e.clientY)}}const Iye=dt.ie&&dt.ie_version<=11;let EB=null,MB=0,$B=0;function Lk(n){if(!Iye)return n.detail;let e=EB,t=$B;return EB=n,$B=Date.now(),MB=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(MB+1)%3:1}function Nye(n,e){let t=CB(n,e),i=Lk(e),r=n.state.selection,o=t,s=e;return{update(l){l.docChanged&&(t&&(t.pos=l.changes.mapPos(t.pos)),r=r.map(l.changes),s=null)},get(l,a,c){let u;if(s&&l.clientX==s.clientX&&l.clientY==s.clientY?u=o:(u=o=CB(n,l),s=l),!u||!t)return r;let h=wB(n,u.pos,u.bias,i);if(t.pos!=u.pos&&!a){let d=wB(n,t.pos,t.bias,i),f=Math.min(d.from,h.from),g=Math.max(d.to,h.to);h=f<h.from?W.range(f,g):W.range(g,f)}return a?r.replaceRange(r.main.extend(h.from,h.to)):c?r.addRange(h):W.create([h])}}}Li.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function kB(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:o}=n.inputState,s=i&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,l={from:r,insert:t},a=n.state.changes(s?[s,l]:l);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(r,-1),head:a.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"})}Li.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),r=0,o=()=>{++r==t.length&&kB(n,e,i.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(i[s]=l.result),o()},l.readAsText(t[s])}}else kB(n,e,e.dataTransfer.getData("Text"),!0)};Li.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=l9?null:e.clipboardData;t?(a9(n,t.getData("text/plain")),e.preventDefault()):Tye(n)};function Bye(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function Lye(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>r&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),r=s.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let PE=null;Li.copy=Li.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=Lye(n.state);if(!t&&!r)return;PE=r?t:null;let o=l9?null:e.clipboardData;o?(e.preventDefault(),o.clearData(),o.setData("text/plain",t)):Bye(n,t),e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};function h9(n){setTimeout(()=>{n.hasFocus!=n.inputState.notifiedFocused&&n.update([])},10)}Li.focus=h9;Li.blur=n=>{n.observer.clearSelectionRange(),h9(n)};function d9(n,e){if(n.docView.compositionDeco.size){n.inputState.rapidCompositionStart=e;try{n.update([])}finally{n.inputState.rapidCompositionStart=!1}}}Li.compositionstart=Li.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0,n.docView.compositionDeco.size&&(n.observer.flush(),d9(n,!0)))};Li.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionFirstChange=null,setTimeout(()=>{n.inputState.composing<0&&d9(n,!1)},50)};Li.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Li.beforeinput=(n,e)=>{var t;let i;if(dt.chrome&&dt.android&&(i=s9.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const OB=["pre-wrap","normal","pre-line","break-spaces"];class Hye{constructor(){this.doc=Ve.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return OB.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,o){let s=OB.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=t,this.charWidth=i,this.lineLength=r,l){this.heightSamples={};for(let a=0;a<o.length;a++){let c=o[a];c<0?a++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class zye{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Jl{constructor(e,t,i,r,o){this.from=e,this.length=t,this.top=i,this.height=r,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Jl(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var wn=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(wn||(wn={}));const e0=.001;class Hr{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>e0&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return Hr.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let o=this;for(let s=r.length-1;s>=0;s--){let{fromA:l,toA:a,fromB:c,toB:u}=r[s],h=o.lineAt(l,wn.ByPosNoHeight,t,0,0),d=h.to>=a?h:o.lineAt(a,wn.ByPosNoHeight,t,0,0);for(u+=d.to-a,a=d.to;s>0&&h.from<=r[s-1].toA;)l=r[s-1].fromA,c=r[s-1].fromB,s--,l<h.from&&(h=o.lineAt(l,wn.ByPosNoHeight,t,0,0));c+=h.from-l,l=h.from;let f=Hk.build(i,e,c,u);o=o.replace(l,a,f)}return o.updateHeight(i,0)}static empty(){return new Gr(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,o=0;for(;;)if(t==i)if(r>o*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),i+=1+l.break,r-=l.size}else if(o>r*2){let l=e[i];l.break?e.splice(i,1,l.left,null,l.right):e.splice(i,1,l.left,l.right),i+=2+l.break,o-=l.size}else break;else if(r<o){let l=e[t++];l&&(r+=l.size)}else{let l=e[--i];l&&(o+=l.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,i++),new Vye(Hr.of(e.slice(0,t)),s,Hr.of(e.slice(i)))}}Hr.prototype.size=1;class f9 extends Hr{constructor(e,t,i){super(e,t),this.type=i}blockAt(e,t,i,r){return new Jl(r,this.length,i,this.height,this.type)}lineAt(e,t,i,r,o){return this.blockAt(0,i,r,o)}forEachLine(e,t,i,r,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,i,r,o))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Gr extends f9{constructor(e,t){super(e,t,Si.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof Gr||r instanceof Fi&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof Fi?r=new Gr(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Hr.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Fi extends Hr{constructor(e){super(e,0)}lines(e,t){let i=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:i,lastLine:r,lineHeight:this.height/(r-i+1)}}blockAt(e,t,i,r){let{firstLine:o,lastLine:s,lineHeight:l}=this.lines(t,r),a=Math.max(0,Math.min(s-o,Math.floor((e-i)/l))),{from:c,length:u}=t.line(o+a);return new Jl(c,u,i+l*a,l,Si.Text)}lineAt(e,t,i,r,o){if(t==wn.ByHeight)return this.blockAt(e,i,r,o);if(t==wn.ByPosNoHeight){let{from:h,to:d}=i.lineAt(e);return new Jl(h,d-h,0,0,Si.Text)}let{firstLine:s,lineHeight:l}=this.lines(i,o),{from:a,length:c,number:u}=i.lineAt(e);return new Jl(a,c,r+l*(u-s),l,Si.Text)}forEachLine(e,t,i,r,o,s){let{firstLine:l,lineHeight:a}=this.lines(i,o);for(let c=Math.max(e,o),u=Math.min(o+this.length,t);c<=u;){let h=i.lineAt(c);c==e&&(r+=a*(h.number-l)),s(new Jl(h.from,h.length,r,a,Si.Text)),r+=a,c=h.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let o=i[i.length-1];o instanceof Fi?i[i.length-1]=new Fi(o.length+r):i.push(null,new Fi(r-1))}if(e>0){let o=i[0];o instanceof Fi?i[0]=new Fi(e+o.length):i.unshift(new Fi(e-1),null)}return Hr.of(i)}decomposeLeft(e,t){t.push(new Fi(e-1),null)}decomposeRight(e,t){t.push(null,new Fi(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let s=[],l=Math.max(t,r.from),a=-1,c=e.heightChanged;for(r.from>t&&s.push(new Fi(r.from-t-1).updateHeight(e,t));l<=o&&r.more;){let h=e.doc.lineAt(l).length;s.length&&s.push(null);let d=r.heights[r.index++];a==-1?a=d:Math.abs(d-a)>=e0&&(a=-2);let f=new Gr(h,d);f.outdated=!1,s.push(f),l+=h+1}l<=o&&s.push(null,new Fi(o-l).updateHeight(e,l));let u=Hr.of(s);return e.heightChanged=c||a<0||Math.abs(u.height-this.height)>=e0||Math.abs(a-this.lines(e.doc,t).lineHeight)>=e0,u}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Vye extends Hr{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let o=i+this.left.height;return e<o?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,i,r,o){let s=r+this.left.height,l=o+this.left.length+this.break,a=t==wn.ByHeight?e<s:e<l,c=a?this.left.lineAt(e,t,i,r,o):this.right.lineAt(e,t,i,s,l);if(this.break||(a?c.to<l:c.from>l))return c;let u=t==wn.ByPosNoHeight?wn.ByPosNoHeight:wn.ByPos;return a?c.join(this.right.lineAt(l,u,i,s,l)):this.left.lineAt(l,u,i,r,o).join(c)}forEachLine(e,t,i,r,o,s){let l=r+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,i,r,o,s),t>=a&&this.right.forEachLine(e,t,i,l,a,s);else{let c=this.lineAt(a,wn.ByPos,i,r,o);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,o,s),c.to>=e&&c.from<=t&&s(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,l,a,s)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let l of i)o.push(l);if(e>0&&AB(o,s-1),t<this.length){let l=o.length;this.decomposeRight(t,o),AB(o,l)}return Hr.of(o)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Hr.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:o,right:s}=this,l=t+o.length+this.break,a=null;return r&&r.from<=t+o.length&&r.more?a=o=o.updateHeight(e,t,i,r):o.updateHeight(e,t,i),r&&r.from<=l+s.length&&r.more?a=s=s.updateHeight(e,l,i,r):s.updateHeight(e,l,i),a?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function AB(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof Fi&&(i=n[e+1])instanceof Fi&&n.splice(e-1,3,new Fi(t.length+1+i.length))}const Fye=5;class Hk{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Gr?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Gr(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new f9(o,r,i.type)):(o||r>=Fye)&&this.addLineDeco(r,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Gr(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new Fi(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Gr)return e;let t=new Gr(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==Si.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Si.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let i=this.ensureLine();i.length+=t,i.collapsed+=t,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Gr)&&!this.isCovered?this.nodes.push(new Gr(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof Gr&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let o=new Hk(i,e);return Be.spans(t,i,r,o,0),o.finish(i)}}function Wye(n,e,t){let i=new _ye;return Be.compare(n,e,t,i,0),i.changes}class _ye{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&OE(e,t,this.changes,5)}}function jye(n,e){let t=n.getBoundingClientRect(),i=Math.max(0,t.left),r=Math.min(innerWidth,t.right),o=Math.max(0,t.top),s=Math.min(innerHeight,t.bottom),l=n.ownerDocument.body;for(let a=n.parentNode;a&&a!=l;)if(a.nodeType==1){let c=a,u=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&u.overflow!="visible"){let h=c.getBoundingClientRect();i=Math.max(i,h.left),r=Math.min(r,h.right),o=Math.max(o,h.top),s=Math.min(s,h.bottom)}a=u.position=="absolute"||u.position=="fixed"?c.offsetParent:c.parentNode}else if(a.nodeType==11)a=a.host;else break;return{left:i-t.left,right:Math.max(i,r)-t.left,top:o-(t.top+e),bottom:Math.max(o,s)-(t.top+e)}}function Kye(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class bS{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e){return Rn.replace({widget:new qye(this.size,e)}).range(this.from,this.to)}}class qye extends Np{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class RB{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new Hye,this.scaler=PB,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Gi.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(cp).filter(t=>typeof t!="function"),this.heightMap=Hr.empty().applyChanges(this.stateDeco,Ve.empty,this.heightOracle.setDoc(e.doc),[new dl(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Rn.set(this.lineGaps.map(t=>t.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:o,to:s})=>r>=o&&r<=s)){let{from:o,to:s}=this.lineBlockAt(r);e.push(new Xg(o,s))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?PB:new Xye(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Sd(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(cp).filter(c=>typeof c!="function");let r=e.changedRanges,o=dl.extendWithRanges(r,Wye(i,this.stateDeco,e?e.changes:en.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(e.flags|=2);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let a=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,o=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Gi.RTL:Gi.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=s||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;let a=0,c=0,u=parseInt(i.paddingTop)||0,h=parseInt(i.paddingBottom)||0;(this.paddingTop!=u||this.paddingBottom!=h)&&(this.paddingTop=u,this.paddingBottom=h,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);let d=(this.printing?Kye:jye)(t,this.paddingTop),f=d.top-this.pixelViewport.top,g=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView)return 0;let v=t.clientWidth;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=v,this.editorHeight=e.scrollDOM.clientHeight,a|=8),l){let b=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(b)&&(s=!0),s||r.lineWrapping&&Math.abs(v-this.contentDOMWidth)>r.charWidth){let{lineHeight:S,charWidth:w}=e.docView.measureTextSize();s=r.refresh(o,S,w,v/w,b),s&&(e.docView.minWidth=0,a|=8)}f>0&&g>0?c=Math.max(f,g):f<0&&g<0&&(c=Math.min(f,g)),r.heightChanged=!1;for(let S of this.viewports){let w=S.from==this.viewport.from?b:e.docView.measureVisibleLineHeights(S);this.heightMap=this.heightMap.updateHeight(r,0,s,new zye(S.from,w))}r.heightChanged&&(a|=2)}let m=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(a&2||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.state.doc,{visibleTop:s,visibleBottom:l}=this,a=new Xg(r.lineAt(s-i*1e3,wn.ByHeight,o,0,0).from,r.lineAt(l+(1-i)*1e3,wn.ByHeight,o,0,0).to);if(t){let{head:c}=t.range;if(c<a.from||c>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=r.lineAt(c,wn.ByPos,o,0,0),d;t.y=="center"?d=(h.top+h.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<a.from?d=h.top:d=h.bottom-u,a=new Xg(r.lineAt(d-1e3/2,wn.ByHeight,o,0,0).from,r.lineAt(d+u+1e3/2,wn.ByHeight,o,0,0).to)}}return a}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Xg(this.heightMap.lineAt(i,wn.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,wn.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,wn.ByPos,this.state.doc,0,0),{bottom:o}=this.heightMap.lineAt(t,wn.ByPos,this.state.doc,0,0),{visibleTop:s,visibleBottom:l}=this;return(e==0||r<=s-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||o>=l+Math.max(10,Math.min(i,250)))&&r>s-2*1e3&&o<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new bS(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e){let t=[];if(this.defaultTextDirection!=Gi.LTR)return t;for(let i of this.viewportLines){if(i.length<4e3)continue;let r=Gye(i.from,i.to,this.stateDeco);if(r.total<4e3)continue;let o,s;if(this.heightOracle.lineWrapping){let c=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;o=Yg(r,(this.visibleTop-i.top-c)/i.height),s=Yg(r,(this.visibleBottom-i.top+c)/i.height)}else{let c=r.total*this.heightOracle.charWidth,u=2e3*this.heightOracle.charWidth;o=Yg(r,(this.pixelViewport.left-u)/c),s=Yg(r,(this.pixelViewport.right+u)/c)}let l=[];o>i.from&&l.push({from:i.from,to:o}),s<i.to&&l.push({from:s,to:i.to});let a=this.state.selection.main;a.from>=i.from&&a.from<=i.to&&TB(l,a.from-10,a.from+10),!a.empty&&a.to>=i.from&&a.to<=i.to&&TB(l,a.to-10,a.to+10);for(let{from:c,to:u}of l)u-c>1e3&&t.push(Uye(e,h=>h.from>=i.from&&h.to<=i.to&&Math.abs(h.from-c)<1e3&&Math.abs(h.to-u)<1e3)||new bS(c,u,this.gapSize(i,c,u,r)))}return t}gapSize(e,t,i,r){let o=DB(r,i)-DB(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){bS.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Rn.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Be.spans(e,this.viewport.from,this.viewport.to,{span(r,o){t.push({from:r,to:o})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,o)=>r.from!=t[o].from||r.to!=t[o].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Sd(this.heightMap.lineAt(e,wn.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return Sd(this.heightMap.lineAt(this.scaler.fromDOM(e),wn.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return Sd(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Xg{constructor(e,t){this.from=e,this.to=t}}function Gye(n,e,t){let i=[],r=n,o=0;return Be.spans(t,n,e,{span(){},point(s,l){s>r&&(i.push({from:r,to:s}),o+=s-r),r=l}},20),r<e&&(i.push({from:r,to:e}),o+=e-r),{total:o,ranges:i}}function Yg({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:o,to:s}=e[r],l=s-o;if(i<=l)return o+i;i-=l}}function DB(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function TB(n,e,t){for(let i=0;i<n.length;i++){let r=n[i];if(r.from<t&&r.to>e){let o=[];r.from<e&&o.push({from:r.from,to:e}),r.to>t&&o.push({from:t,to:r.to}),n.splice(i,1,...o),i+=o.length-1}}}function Uye(n,e){for(let t of n)if(e(t))return t}const PB={toDOM(n){return n},fromDOM(n){return n},scale:1};class Xye{constructor(e,t,i){let r=0,o=0,s=0;this.viewports=i.map(({from:l,to:a})=>{let c=t.lineAt(l,wn.ByPos,e,0,0).top,u=t.lineAt(a,wn.ByPos,e,0,0).bottom;return r+=u-c,{from:l,to:a,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let l of this.viewports)l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-i)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);i=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return i+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);i=o.bottom,r=o.domBottom}}}function Sd(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new Jl(n.from,n.length,t,i-t,Array.isArray(n.type)?n.type.map(r=>Sd(r,e)):n.type)}const Qg=ie.define({combine:n=>n.join(" ")}),IE=ie.define({combine:n=>n.indexOf(!0)>-1}),NE=It.newName(),p9=It.newName(),g9=It.newName(),m9={"&light":"."+p9,"&dark":"."+g9};function BE(n,e,t){return new It(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const Yye=BE("."+NE,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},m9),Qye={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},SS=dt.ie&&dt.ie_version<=11;class Jye{constructor(e,t,i){this.view=e,this.onChange=t,this.onScrollChanged=i,this.active=!1,this.selectionRange=new Zve,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let o of r)this.queue.push(o);(dt.ie&&dt.ie_version<=11||dt.ios&&e.composing)&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),SS&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,i=this.selectionRange;if(t.state.facet(Lp)?t.root.activeElement!=this.dom:!bE(t.dom,i))return;let r=i.anchorNode&&t.docView.nearest(i.anchorNode);r&&r.ignoreEvent(e)||((dt.ie&&dt.ie_version<=11||dt.android&&dt.chrome)&&!t.state.selection.main.empty&&i.focusNode&&Ov(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,t=kv(e),i=dt.safari&&e.nodeType==11&&Yve()==this.view.contentDOM&&Zye(this.view)||t;return this.selectionRange.eq(i)?!1:(this.selectionRange.setRange(i),this.selectionChanged=!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Qye),SS&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),SS&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame(()=>{let i=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||Gd(this.view.contentDOM,i.key,i.keyCode)}),(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let o of this.observer.takeRecords())e.push(o);e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(r=!0),t==-1?{from:t,to:i}=s:(t=Math.min(s.from,t),i=Math.max(s.to,i)))}return{from:t,to:i,typeOver:r}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:i,typeOver:r}=this.processRecords(),o=this.selectionChanged&&bE(this.dom,this.selectionRange);if(t<0&&!o)return;this.selectionChanged=!1;let s=this.view.state,l=this.onChange(t,i,r);return this.view.state==s&&this.view.update([]),l}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let i=IB(t,e.previousSibling||e.target.previousSibling,-1),r=IB(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resize)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function IB(n,e,t){for(;e;){let i=Qn.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function Zye(n){let e=null;function t(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),document.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return Ov(l.node,l.offset,o,s)&&([i,r,o,s]=[o,s,i,r]),{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:s}}function ebe(n,e,t,i){let r,o,s=n.state.selection.main;if(e>-1){let l=n.docView.domBoundsAround(e,t,0);if(!l||n.state.readOnly)return!1;let{from:a,to:c}=l,u=n.docView.impreciseHead||n.docView.impreciseAnchor?[]:nbe(n),h=new n9(u,n.state);h.readRange(l.startDOM,l.endDOM);let d=s.from,f=null;(n.inputState.lastKeyCode===8&&n.inputState.lastKeyTime>Date.now()-100||dt.android&&h.text.length<c-a)&&(d=s.to,f="end");let g=tbe(n.state.doc.sliceString(a,c,Ql),h.text,d-a,f);g&&(dt.chrome&&n.inputState.lastKeyCode==13&&g.toB==g.from+2&&h.text.slice(g.from,g.toB)==Ql+Ql&&g.toB--,r={from:a+g.from,to:a+g.toA,insert:Ve.of(h.text.slice(g.from,g.toB).split(Ql))}),o=ibe(u,a)}else if(n.hasFocus||!n.state.facet(Lp)){let l=n.observer.selectionRange,{impreciseHead:a,impreciseAnchor:c}=n.docView,u=a&&a.node==l.focusNode&&a.offset==l.focusOffset||!sh(n.contentDOM,l.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(l.focusNode,l.focusOffset),h=c&&c.node==l.anchorNode&&c.offset==l.anchorOffset||!sh(n.contentDOM,l.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(l.anchorNode,l.anchorOffset);(u!=s.head||h!=s.anchor)&&(o=W.single(h,u))}if(!r&&!o)return!1;if(!r&&i&&!s.empty&&o&&o.main.empty?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,s.to))}:(dt.mac||dt.android)&&r&&r.from==r.to&&r.from==s.head-1&&r.insert.toString()=="."&&(r={from:s.from,to:s.to,insert:Ve.of([" "])}),r){let l=n.state;if(dt.ios&&n.inputState.flushIOSKey(n)||dt.android&&(r.from==s.from&&r.to==s.to&&r.insert.length==1&&r.insert.lines==2&&Gd(n.contentDOM,"Enter",13)||r.from==s.from-1&&r.to==s.to&&r.insert.length==0&&Gd(n.contentDOM,"Backspace",8)||r.from==s.from&&r.to==s.to+1&&r.insert.length==0&&Gd(n.contentDOM,"Delete",46)))return!0;let a=r.insert.toString();if(n.state.facet(Gj).some(h=>h(n,r.from,r.to,a)))return!0;n.inputState.composing>=0&&n.inputState.composing++;let c;if(r.from>=s.from&&r.to<=s.to&&r.to-r.from>=(s.to-s.from)/3&&(!o||o.main.empty&&o.main.from==r.from+r.insert.length)&&n.inputState.composing<0){let h=s.from<r.from?l.sliceDoc(s.from,r.from):"",d=s.to>r.to?l.sliceDoc(r.to,s.to):"";c=l.replaceSelection(n.state.toText(h+r.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let h=l.changes(r),d=o&&!l.selection.main.eq(o.main)&&o.main.to<=h.newLength?o.main:void 0;if(l.selection.ranges.length>1&&n.inputState.composing>=0&&r.to<=s.to&&r.to>=s.to-10){let f=n.state.sliceDoc(r.from,r.to),g=i9(n)||n.state.doc.lineAt(s.head),y=s.to-r.to,v=s.to-s.from;c=l.changeByRange(m=>{if(m.from==s.from&&m.to==s.to)return{changes:h,range:d||m.map(h)};let b=m.to-y,S=b-f.length;if(m.to-m.from!=v||n.state.sliceDoc(S,b)!=f||g&&m.to>=g.from&&m.from<=g.to)return{range:m};let w=l.changes({from:S,to:b,insert:r.insert}),x=m.to-s.to;return{changes:w,range:d?W.range(Math.max(0,d.anchor+x),Math.max(0,d.head+x)):m.map(w)}})}else c={changes:h,selection:d&&l.selection.replaceRange(d)}}let u="input.type";return n.composing&&(u+=".compose",n.inputState.compositionFirstChange&&(u+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(c,{scrollIntoView:!0,userEvent:u}),!0}else if(o&&!o.main.eq(s)){let l=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(l=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:o,scrollIntoView:l,userEvent:a}),!0}else return!1}function tbe(n,e,t,i){let r=Math.min(n.length,e.length),o=0;for(;o<r&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==r&&n.length==e.length)return null;let s=n.length,l=e.length;for(;s>0&&l>0&&n.charCodeAt(s-1)==e.charCodeAt(l-1);)s--,l--;if(i=="end"){let a=Math.max(0,o-Math.min(s,l));t-=s+a-o}if(s<o&&n.length<e.length){let a=t<=o&&t>=s?o-t:0;o-=a,l=o+(l-s),s=o}else if(l<o){let a=t<=o&&t>=l?o-t:0;o-=a,s=o+(s-l),l=o}return{from:o,toA:s,toB:l}}function nbe(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new dB(t,i)),(r!=t||o!=i)&&e.push(new dB(r,o))),e}function ibe(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?W.single(t+e,i+e):null}class Mn{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this.root=e.root||eye(e.parent)||document,this.viewState=new RB(e.state||rt.create()),this.plugins=this.state.facet(yd).map(t=>new mS(t));for(let t of this.plugins)t.update(this);this.observer=new Jye(this,(t,i,r)=>ebe(this,t,i,r),t=>{this.inputState.runScrollHandlers(this,t),this.observer.intersecting&&this.measure()}),this.inputState=new $ye(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new fB(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Tn?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,o=this.state;for(let l of e){if(l.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=l.state}if(this.destroyed){this.viewState.state=o;return}if(this.observer.clear(),o.facet(rt.phrases)!=this.state.facet(rt.phrases))return this.setState(o);r=Dv.create(this,o,e);let s=this.viewState.scrollTarget;try{this.updateState=2;for(let l of e){if(s&&(s=s.map(l.changes)),l.scrollIntoView){let{main:a}=l.state.selection;s=new Rv(a.empty?a:W.cursor(a.head,a.head>a.anchor?-1:1))}for(let a of l.effects)a.is(uB)&&(s=a.value)}this.viewState.update(r,s),this.bidiCache=Tv.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(bd)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(l=>l.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Qg)!=r.state.facet(Qg)&&(this.viewState.mustMeasureContent=!0),(t||i||s||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let l of this.state.facet(AE))l(r)}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new RB(e),this.plugins=e.facet(yd).map(i=>new mS(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new fB(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(yd),i=e.state.facet(yd);if(t!=i){let r=[];for(let o of i){let s=t.indexOf(o);if(s<0)r.push(new mS(o));else{let l=this.plugins[s];l.mustUpdate=e,r.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.flush();let t=null;try{for(let i=0;;i++){this.updateState=1;let r=this.viewport,o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(i>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let s=[];o&4||([this.measureRequests,s]=[s,this.measureRequests]);let l=s.map(h=>{try{return h.read(this)}catch(d){return hl(this.state,d),NB}}),a=Dv.create(this,this.state,[]),c=!1,u=!1;a.flags|=o,t?t.flags|=o:t=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),c=this.docView.update(a));for(let h=0;h<s.length;h++)if(l[h]!=NB)try{let d=s[h];d.write&&d.write(l[h],this)}catch(d){hl(this.state,d)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=!0),c&&this.docView.updateSelection(!0),this.viewport.from==r.from&&this.viewport.to==r.to&&!u&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let i of this.state.facet(AE))i(t)}get themeClasses(){return NE+" "+(this.state.facet(IE)?g9:p9)+" "+this.state.facet(Qg)}updateAttrs(){let e=BB(this,Xj,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Lp)?"true":"false",class:"cm-content",style:`${dt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),BB(this,Yj,t);let i=this.observer.ignore(()=>{let r=kE(this.contentDOM,this.contentAttrs,t),o=kE(this.dom,this.editorAttrs,e);return r||o});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(Mn.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(bd),It.mount(this.root,this.styleModules.concat(Yye).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),e){if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return yS(this,e,bB(this,e,t,i))}moveByGroup(e,t){return yS(this,e,bB(this,e,t,i=>Eye(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return Cye(this,e,t,i)}moveVertically(e,t,i){return yS(this,e,Mye(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),o9(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r),s=o[Tu.find(o,e-r.from,-1,t)];return ib(i,s.dir==Gi.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Uj)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>rbe)return e9(e.length);let t=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t)return r.order;let i=uye(e.text,t);return this.bidiCache.push(new Tv(e.from,e.to,t,i)),i}get hasFocus(){var e;return(document.hasFocus()||dt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Rj(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return uB.of(new Rv(typeof e=="number"?W.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return ba.define(()=>({}),{eventHandlers:e})}static theme(e,t){let i=It.newName(),r=[Qg.of(i),bd.of(BE(`.${i}`,e))];return t&&t.dark&&r.push(IE.of(!0)),r}static baseTheme(e){return Xs.lowest(bd.of(BE("."+NE,e,m9)))}}Mn.styleModule=bd;Mn.inputHandler=Gj;Mn.perLineTextDirection=Uj;Mn.exceptionSink=qj;Mn.updateListener=AE;Mn.editable=Lp;Mn.mouseSelectionStyle=Kj;Mn.dragMovesSelection=jj;Mn.clickAddsSelectionRange=_j;Mn.decorations=cp;Mn.atomicRanges=Qj;Mn.scrollMargins=Jj;Mn.darkTheme=IE;Mn.contentAttributes=Yj;Mn.editorAttributes=Xj;Mn.lineWrapping=Mn.contentAttributes.of({class:"cm-lineWrapping"});Mn.announce=yt.define();const rbe=4096,NB={};class Tv{constructor(e,t,i,r){this.from=e,this.to=t,this.dir=i,this.order=r}static update(e,t){if(t.empty)return e;let i=[],r=e.length?e[e.length-1].dir:Gi.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==r&&!t.touchesRange(s.from,s.to)&&i.push(new Tv(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.order))}return i}}function BB(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let o=i[r],s=typeof o=="function"?o(n):o;s&&$E(s,t)}return t}const obe=!dt.ios,sbe={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};obe&&(sbe[".cm-line"].caretColor="transparent !important");const wS="-10000px";class v9{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(i)}update(e){let t=e.state.facet(this.facet),i=t.filter(o=>o);if(t===this.input){for(let o of this.tooltipViews)o.update&&o.update(e);return!1}let r=[];for(let o=0;o<i.length;o++){let s=i[o],l=-1;if(s){for(let a=0;a<this.tooltips.length;a++){let c=this.tooltips[a];c&&c.create==s.create&&(l=a)}if(l<0)r[o]=this.createTooltipView(s);else{let a=r[o]=this.tooltipViews[l];a.update&&a.update(e)}}}for(let o of this.tooltipViews)r.indexOf(o)<0&&o.dom.remove();return this.input=t,this.tooltips=i,this.tooltipViews=r,!0}}function lbe(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const xS=ie.define({combine:n=>{var e,t,i;return{position:dt.ios?"absolute":((e=n.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||lbe}}}),abe=ba.fromClass(class{constructor(n){var e;this.view=n,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let t=n.state.facet(xS);this.position=t.position,this.parent=t.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new v9(n,y9,i=>this.createTooltip(i)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(i=>{Date.now()>this.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),(e=n.dom.ownerDocument.defaultView)===null||e===void 0||e.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(xS);if(i.position!=this.position){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=wS,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;(n=this.view.dom.ownerDocument.defaultView)===null||n===void 0||n.removeEventListener("resize",this.measureSoon);for(let{dom:t}of this.manager.tooltipViews)t.remove();(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((e,t)=>{let i=this.manager.tooltipViews[t];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(xS).tooltipSpace(this.view)}}writeMeasure(n){let{editor:e,space:t}=n,i=[];for(let r=0;r<this.manager.tooltips.length;r++){let o=this.manager.tooltips[r],s=this.manager.tooltipViews[r],{dom:l}=s,a=n.pos[r],c=n.size[r];if(!a||a.bottom<=Math.max(e.top,t.top)||a.top>=Math.min(e.bottom,t.bottom)||a.right<Math.max(e.left,t.left)-.1||a.left>Math.min(e.right,t.right)+.1){l.style.top=wS;continue}let u=o.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,h=u?7:0,d=c.right-c.left,f=c.bottom-c.top,g=s.offset||ube,y=this.view.textDirection==Gi.LTR,v=c.width>t.right-t.left?y?t.left:t.right-c.width:y?Math.min(a.left-(u?14:0)+g.x,t.right-d):Math.max(t.left,a.left-d+(u?14:0)-g.x),m=!!o.above;!o.strictSide&&(m?a.top-(c.bottom-c.top)-g.y<t.top:a.bottom+(c.bottom-c.top)+g.y>t.bottom)&&m==t.bottom-a.bottom>a.top-t.top&&(m=!m);let b=m?a.top-f-h-g.y:a.bottom+h+g.y,S=v+d;if(s.overlap!==!0)for(let w of i)w.left<S&&w.right>v&&w.top<b+f&&w.bottom>b&&(b=m?w.top-f-2-h:w.bottom+h+2);this.position=="absolute"?(l.style.top=b-n.parent.top+"px",l.style.left=v-n.parent.left+"px"):(l.style.top=b+"px",l.style.left=v+"px"),u&&(u.style.left=`${a.left+(y?g.x:-g.x)-(v+14-7)}px`),s.overlap!==!0&&i.push({left:v,top:b,right:S,bottom:b+f}),l.classList.toggle("cm-tooltip-above",m),l.classList.toggle("cm-tooltip-below",!m),s.positioned&&s.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=wS}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),cbe=Mn.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),ube={x:0,y:0},y9=ie.define({enables:[abe,cbe]}),Pv=ie.define();class zk{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new v9(e,Pv,t=>this.createHostedView(t))}static create(e){return new zk(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned()}update(e){this.manager.update(e)}}const hbe=y9.compute([Pv],n=>{let e=n.facet(Pv).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:zk.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class dbe{constructor(e,t,i,r,o){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(t==null)return;let i=this.view.coordsAtPos(t);if(i==null||e.y<i.top||e.y>i.bottom||e.x<i.left-this.view.defaultCharacterWidth||e.x>i.right+this.view.defaultCharacterWidth)return;let r=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(l=>l.from<=t&&l.to>=t),o=r&&r.dir==Gi.RTL?-1:1,s=this.source(this.view,t,e.x<i.left?-o:o);if(s!=null&&s.then){let l=this.pending={pos:t};s.then(a=>{this.pending==l&&(this.pending=null,a&&this.view.dispatch({effects:this.setHover.of(a)}))},a=>hl(this.view.state,a,"hover tooltip"))}else s&&this.view.dispatch({effects:this.setHover.of(s)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!fbe(this.lastMove.target)||this.pending){let{pos:r}=i||this.pending,o=(t=i==null?void 0:i.end)!==null&&t!==void 0?t:r;(r==o?this.view.posAtCoords(this.lastMove)!=r:!pbe(this.view,r,o,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function fbe(n){for(let e=n;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function pbe(n,e,t,i,r,o){let s=document.createRange(),l=n.domAtPos(e),a=n.domAtPos(t);s.setEnd(a.node,a.offset),s.setStart(l.node,l.offset);let c=s.getClientRects();s.detach();for(let u=0;u<c.length;u++){let h=c[u];if(Math.max(h.top-r,r-h.bottom,h.left-i,i-h.right)<=o)return!0}return!1}function gbe(n,e={}){let t=yt.define(),i=Ji.define({create(){return null},update(r,o){if(r&&(e.hideOnChange&&(o.docChanged||o.selection)||e.hideOn&&e.hideOn(o,r)))return null;if(r&&o.docChanged){let s=o.changes.mapPos(r.pos,-1,At.TrackDel);if(s==null)return null;let l=Object.assign(Object.create(null),r);l.pos=s,r.end!=null&&(l.end=o.changes.mapPos(r.end)),r=l}for(let s of o.effects)s.is(t)&&(r=s.value),s.is(mbe)&&(r=null);return r},provide:r=>Pv.from(r)});return[i,ba.define(r=>new dbe(r,n,i,t,e.hoverTime||300)),hbe]}const mbe=yt.define(),LB=ie.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function vbe(n,e){let t=n.plugin(b9),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const b9=ba.fromClass(class{constructor(n){this.input=n.state.facet(LE),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(LB);this.top=new Jg(n,!0,e.topContainer),this.bottom=new Jg(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(LB);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Jg(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Jg(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(LE);if(t!=this.input){let i=t.filter(a=>a),r=[],o=[],s=[],l=[];for(let a of i){let c=this.specs.indexOf(a),u;c<0?(u=a(n.view),l.push(u)):(u=this.panels[c],u.update&&u.update(n)),r.push(u),(u.top?o:s).push(u)}this.specs=i,this.panels=r,this.top.sync(o),this.bottom.sync(s);for(let a of l)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>Mn.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Jg{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=HB(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=HB(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function HB(n){let e=n.nextSibling;return n.remove(),e}const LE=ie.define({enables:b9});class ah extends Qi{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ah.prototype.elementClass="";ah.prototype.toDOM=void 0;ah.prototype.mapMode=At.TrackBefore;ah.prototype.startSide=ah.prototype.endSide=-1;ah.prototype.point=!0;class ybe{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Da{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=e,o=i.facet(cu).markerFilter;o&&(r=o(r));let s=Rn.set(r.map(l=>l.from==l.to||l.from==l.to-1&&i.doc.lineAt(l.from).to==l.from?Rn.widget({widget:new Obe(l),diagnostic:l}).range(l.from):Rn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+l.severity},diagnostic:l}).range(l.from,l.to)),!0);return new Da(s,t,ch(s))}}function ch(n,e=null,t=0){let i=null;return n.between(t,1e9,(r,o,{spec:s})=>{if(!(e&&s.diagnostic!=e))return i=new ybe(r,o,s.diagnostic),!1}),i}function bbe(n,e){return!!(n.effects.some(t=>t.is(Vk))||n.changes.touchesRange(e.pos))}function S9(n,e){return n.field(io,!1)?e:e.concat(yt.appendConfig.of([io,Mn.decorations.compute([io],t=>{let{selected:i,panel:r}=t.field(io);return!i||!r||i.from==i.to?Rn.none:Rn.set([wbe.range(i.from,i.to)])}),gbe(xbe,{hideOn:bbe}),Rbe]))}function Sbe(n,e){return{effects:S9(n,[Vk.of(e)])}}const Vk=yt.define(),Fk=yt.define(),w9=yt.define(),io=Ji.define({create(){return new Da(Rn.none,null,null)},update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),i=null;if(n.selected){let r=e.changes.mapPos(n.selected.from,1);i=ch(t,n.selected.diagnostic,r)||ch(t,null,r)}n=new Da(t,n.panel,i)}for(let t of e.effects)t.is(Vk)?n=Da.init(t.value,n.panel,e.state):t.is(Fk)?n=new Da(n.diagnostics,t.value?sb.open:null,n.selected):t.is(w9)&&(n=new Da(n.diagnostics,n.panel,t.value));return n},provide:n=>[LE.from(n,e=>e.panel),Mn.decorations.from(n,e=>e.diagnostics)]}),wbe=Rn.mark({class:"cm-lintRange cm-lintRange-active"});function xbe(n,e,t){let{diagnostics:i}=n.state.field(io),r=[],o=2e8,s=0;i.between(e-(t<0?1:0),e+(t>0?1:0),(a,c,{spec:u})=>{e>=a&&e<=c&&(a==c||(e>a||t>0)&&(e<c||t<0))&&(r.push(u.diagnostic),o=Math.min(a,o),s=Math.max(c,s))});let l=n.state.facet(cu).tooltipFilter;return l&&(r=l(r)),r.length?{pos:o,end:s,above:n.state.doc.lineAt(o).to<s,create(){return{dom:Cbe(n,r)}}}:null}function Cbe(n,e){return kn("ul",{class:"cm-tooltip-lint"},e.map(t=>C9(n,t,!1)))}const Ebe=n=>{let e=n.state.field(io,!1);(!e||!e.panel)&&n.dispatch({effects:S9(n.state,[Fk.of(!0)])});let t=vbe(n,sb.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},zB=n=>{let e=n.state.field(io,!1);return!e||!e.panel?!1:(n.dispatch({effects:Fk.of(!1)}),!0)},Mbe=n=>{let e=n.state.field(io,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},$be=[{key:"Mod-Shift-m",run:Ebe},{key:"F8",run:Mbe}],kbe=ba.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(cu);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let n=Date.now();if(n<this.lintTime-10)setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(cu);Promise.all(t.map(i=>Promise.resolve(i(this.view)))).then(i=>{let r=i.reduce((o,s)=>o.concat(s));this.view.state.doc==e.doc&&this.view.dispatch(Sbe(this.view.state,r))},i=>{hl(this.view.state,i)})}}update(n){let e=n.state.facet(cu);(n.docChanged||e!=n.startState.facet(cu))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),cu=ie.define({combine(n){return Object.assign({sources:n.map(e=>e.source)},xl(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:kbe});function x9(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let r=t[i];if(/[a-zA-Z]/.test(r)&&!e.some(o=>o.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function C9(n,e,t){var i;let r=t?x9(e.actions):[];return kn("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},kn("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(i=e.actions)===null||i===void 0?void 0:i.map((o,s)=>{let l=h=>{h.preventDefault();let d=ch(n.state.field(io).diagnostics,e);d&&o.apply(n,d.from,d.to)},{name:a}=o,c=r[s]?a.indexOf(r[s]):-1,u=c<0?a:[a.slice(0,c),kn("u",a.slice(c,c+1)),a.slice(c+1)];return kn("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${a}${c<0?"":` (access key "${r[s]})"`}.`},u)}),e.source&&kn("div",{class:"cm-diagnosticSource"},e.source))}class Obe extends Np{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return kn("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class VB{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=C9(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class sb{constructor(e){this.view=e,this.items=[];let t=r=>{if(r.keyCode==27)zB(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=x9(o.actions);for(let l=0;l<s.length;l++)if(s[l].toUpperCase().charCodeAt(0)==r.keyCode){let a=ch(this.view.state.field(io).diagnostics,o);a&&o.actions[l].apply(e,a.from,a.to)}}else return;r.preventDefault()},i=r=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(r.target)&&this.moveSelection(o)};this.list=kn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=kn("div",{class:"cm-panel-lint"},this.list,kn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>zB(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(io).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(io),i=0,r=!1,o=null;for(e.between(0,this.view.state.doc.length,(s,l,{spec:a})=>{let c=-1,u;for(let h=i;h<this.items.length;h++)if(this.items[h].diagnostic==a.diagnostic){c=h;break}c<0?(u=new VB(this.view,a.diagnostic),this.items.splice(i,0,u),r=!0):(u=this.items[c],c>i&&(this.items.splice(i,c-i),r=!0)),t&&u.diagnostic==t.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),o=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new VB(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:l})=>{s.top<l.top?this.list.scrollTop-=l.top-s.top:s.bottom>l.bottom&&(this.list.scrollTop+=s.bottom-l.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(io),i=ch(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:w9.of(i)})}static open(e){return new sb(e)}}function Abe(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function CS(n){return Abe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Rbe=Mn.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:CS("#d11")},".cm-lintRange-warning":{backgroundImage:CS("orange")},".cm-lintRange-info":{backgroundImage:CS("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),Dbe=[sue(),cue(),Hce(),ope(),vde(),$ce(),Tce(),rt.allowMultipleSelections.of(!0),nde(),bde(xde,{fallback:!0}),Ade(),Lve(),Uve(),Yce(),Zce(),jce(),xme(),iF.of([...Fve,...Qpe,...zme,...ppe,...dde,...Oj,...$be])],Tbe="/assets/AppSourceCode-DdO18Dc1.txt",Pbe=()=>{const n=p.useRef(null),[e,t]=p.useState("");return p.useEffect(()=>{(async()=>{try{const o=await(await fetch(Tbe)).text();t(o)}catch(r){console.error("Error fetching source code:",r)}})()},[]),p.useEffect(()=>{if(n.current&&e){const i=rt.create({doc:e,extensions:[Dbe]}),r=new Pn({state:i,parent:n.current});return()=>{r.destroy()}}},[e]),fi.jsx("div",{ref:n})},Ibe=()=>{var y,v;const[n,e]=p.useState([]),[t,i]=p.useState(!0),[r,o]=p.useState("usd"),[s,l]=p.useState("desc"),[a,c]=p.useState({pagination:{current:1,pageSize:10,total:1e4}}),u=[{title:"Name",dataIndex:"name",key:"name",render:(m,b)=>fi.jsxs("div",{className:"flex items-center",children:[fi.jsx("img",{src:b==null?void 0:b.image,alt:`${m} icon`,className:"w-6 h-6 mr-2"}),fi.jsx("span",{children:m})]})},{title:"Current Price",dataIndex:"current_price",key:"current_price"},{title:"Circulating Supply",dataIndex:"circulating_supply",key:"circulating_supply"}],h=m=>{var b;c({pagination:m}),m.pageSize!==((b=a.pagination)==null?void 0:b.pageSize)&&e([])},d=m=>{o(m)},f=m=>{l(m)},g=async()=>{var m,b;i(!0);try{const S=`https://api.coingecko.com/api/v3/coins/markets?vs_currency=${r}&order=market_cap_${s}&per_page=${(m=a.pagination)==null?void 0:m.pageSize}&page=${(b=a.pagination)==null?void 0:b.current}&sparkline=false`,w=await fetch(S);if(!w.ok)throw new Error(`Can't get market coin data, error: ${w.status}`);const x=await w.json();e(x),i(!1),console.log("currency",r),console.log("order",s)}catch(S){throw i(!0),new Error(`Can't fecth the data, error: ${S}`)}};return p.useEffect(()=>{g()},[(y=a.pagination)==null?void 0:y.current,(v=a.pagination)==null?void 0:v.pageSize,r,s]),fi.jsx(fi.Fragment,{children:fi.jsxs("div",{className:"min-h-screen w-full flex flex-col justify-center items-center",children:[fi.jsx("h1",{className:"text-white text-[40px] pt-12",children:" Coins & Markets "}),fi.jsxs(O$,{wrap:!0,className:"pt-4",children:[fi.jsx(rs,{defaultValue:"usd",style:{width:200},onChange:d,options:[{value:"usd",label:"USD"},{value:"eur",label:"EUR"}]}),fi.jsx(rs,{defaultValue:"desc",style:{width:200},onChange:f,options:[{value:"desc",label:"Market cap descending"},{value:"asc",label:"Market cap ascending"}]})]}),fi.jsx("div",{className:"w-11/12 py-8",children:fi.jsx(wl,{dataSource:n.map(m=>({...m,key:m.id})),columns:u,pagination:a.pagination,onChange:h,loading:t})}),fi.jsx("p",{className:"text-white text-[36px] pt-4",children:" App source code "}),fi.jsx("p",{className:"text-white text-[16px] py-4",children:" (Sorry I wasn't able to make it work with code mirror's javascript styling) "}),fi.jsx("div",{className:"w-11/12",children:fi.jsx(Pbe,{})})]})})};ES.createRoot(document.getElementById("root")).render(fi.jsx(oe.StrictMode,{children:fi.jsx(Ibe,{})}));
